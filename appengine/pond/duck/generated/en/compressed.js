// Automatically generated file.  Do not edit!
'use strict';var c,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(a,b){if(b){var d=ba;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&aa(d,a,{configurable:!0,writable:!0,value:b})}}
ca("String.prototype.startsWith",function(a){return a?a:function(b,d){var e=b;if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");e=this+"";b+="";var f=e.length,h=b.length;d=Math.max(0,Math.min(d|0,e.length));for(var k=0;k<h&&d<f;)if(e[d++]!=b[k++])return!1;return k>=h}});
function da(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ea(){ea=function(){};ba.Symbol||(ba.Symbol=fa)}function ha(a,b){this.lx=a;aa(this,"description",{configurable:!0,writable:!0,value:b})}ha.prototype.toString=function(){return this.lx};var fa=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ha("jscomp_symbol_"+(d||"")+"_"+b++,d)}var b=0;return a}();
function ia(){ea();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ja(da(this))}});ia=function(){}}function ja(a){ia();a={next:a};a[ba.Symbol.iterator]=function(){return this};return a}
function ka(a,b){ia();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var f=d++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}ca("Array.prototype.keys",function(a){return a?a:function(){return ka(this,function(b){return b})}});
ca("Array.prototype.fill",function(a){return a?a:function(b,d,e){var f=this.length||0;0>d&&(d=Math.max(0,f+d));if(null==e||e>f)e=f;e=Number(e);0>e&&(e=Math.max(0,f+e));for(d=Number(d||0);d<e;d++)this[d]=b;return this}});var la=this||self;function ma(a){return void 0!==a}function g(a){return"string"==typeof a}function na(a){return"number"==typeof a}
function oa(a,b){a=a.split(".");var d=la;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&ma(b)?d[e]=b:d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}}function pa(){}function qa(a){a.Uq=void 0;a.yf=function(){return a.Uq?a.Uq:a.Uq=new a}}
function ra(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function sa(a){return"array"==ra(a)}function ta(a){var b=ra(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ua(a){return"function"==ra(a)}function va(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function wa(a){return a[xa]||(a[xa]=++ya)}var xa="closure_uid_"+(1E9*Math.random()>>>0),ya=0;function za(a,b,d){return a.call.apply(a.bind,arguments)}
function Aa(a,b,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}}function Ba(a,b,d){Ba=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?za:Aa;return Ba.apply(null,arguments)}
function Ca(a,b){var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice();e.push.apply(e,arguments);return a.apply(this,e)}}function Da(a,b){for(var d in b)a[d]=b[d]}function u(a,b){function d(){}d.prototype=b.prototype;a.w=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.oz=function(e,f,h){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return b.prototype[f].apply(e,k)}};
var v={g:{}};v.g.H={};v.g.H.Ia=function(a,b){return" "+a+","+b+" "};v.g.H.curve=function(a,b){return" "+a+b.join("")};v.g.H.moveTo=function(a,b){return" M "+a+","+b+" "};v.g.H.moveBy=function(a,b){return" m "+a+","+b+" "};v.g.H.lineTo=function(a,b){return" l "+a+","+b+" "};v.g.H.line=function(a){return" l"+a.join("")};v.g.H.dc=function(a,b){return" "+a+" "+b+" "};v.g.H.arc=function(a,b,d,e){return a+" "+d+" "+d+" "+b+e};v.s={};v.s.A={};v.s.A.Mg=0;v.s.A.Jy=3;v.s.A.Yh=5;v.s.A.bt=8;v.s.A.ud=10;v.s.A.Uy=v.s.A.Yh;v.s.A.De=1;v.s.A.Lm=15;v.s.A.Fk=5;v.s.A.WD=2.5;v.s.A.Mm=8;v.s.A.Yo=15;v.s.A.yy=4;v.s.A.qy=12;v.s.A.Ex=16;v.s.A.ha=8;v.s.A.mj=v.s.A.Yo;v.s.A.et=v.s.A.mj-v.s.A.ha;v.s.A.Qy=5;v.s.A.Ry=20;v.s.A.nx=4;v.s.A.py=66.5;v.s.A.My=15;v.s.A.Ny=100;v.s.A.Ly=15;v.s.A.Gm=24;v.s.A.Gx=v.s.A.Mm+14.5;v.s.A.Fx=v.s.A.Lm+11;v.s.A.Jx=10;v.s.A.Hx=v.s.A.Gm;v.s.A.Ix=32;v.s.A.Cy=25;v.s.A.fp=v.g.H.moveBy(0,0);v.s.A.Wy="m 0,"+v.s.A.ha;
v.s.A.$x=12;v.s.A.ay=6;var Ea=v.s.A,Fa=v.s.A.$x,Ga=v.s.A.ay,Ha=v.g.H.line([v.g.H.Ia(6,3),v.g.H.Ia(-12,6),v.g.H.Ia(6,3)]);Ea.gj={height:Fa,width:Ga,path:Ha};var Ia=v.s.A,Ja=v.s.A.My,Ka=v.s.A.Ny,La=v.g.H.curve("c",[v.g.H.Ia(30,-Ja),v.g.H.Ia(70,-Ja),v.g.H.Ia(Ka,0)]);Ia.Km={height:Ja,width:Ka,path:La};
v.s.A.ie=function(){function a(h){h=h?-1:1;var k=-h,l=d/2,m=v.g.H.Ia(b,h*l);return v.g.H.curve("c",[v.g.H.Ia(0,h*(l+2.5)),v.g.H.Ia(-b,k*(l+.5)),v.g.H.Ia(-b,h*l)])+v.g.H.curve("s",[v.g.H.Ia(b,2.5*k),m])}var b=v.s.A.Mm,d=v.s.A.Lm,e=a(!0),f=a(!1);return{width:b,height:d,Bh:f,Hr:e}}();v.s.A.sc=function(){function a(k){return v.g.H.line([v.g.H.Ia(k*e,d),v.g.H.Ia(3*k,0),v.g.H.Ia(k*e,-d)])}var b=v.s.A.Yo,d=v.s.A.yy,e=(b-3)/2,f=a(1),h=a(-1);return{width:b,height:d,Ji:f,Zv:h}}();
var Ma=v.s.A,Na=v.s.A.ha,Oa=v.g.H.arc("a","0 0,0",Na,v.g.H.Ia(-Na,Na)),Pa=v.g.H.arc("a","0 0,0",Na,v.g.H.Ia(Na,Na));Ma.To={height:Na,Gr:Oa,jo:Pa};var Qa=v.s.A,Ra=v.s.A.ha,Sa=v.g.H.arc("A","0 0,1",Ra,v.g.H.Ia(Ra,0)),Ta=v.g.H.arc("a","0 0,1",Ra,v.g.H.Ia(-Ra,-Ra));Qa.it={ys:Sa,tp:Ta};function Ua(){this.Sd=!1;this.height=this.width=0;this.type=null;this.bi=this.Tf=0}function Va(a){return"field"==a.type}Ua.prototype.Df=function(){return"between-row spacer"==this.type||"in-row spacer"==this.type};function Wa(a){return"external value input"==a.type}function Xa(a){return"inline input"==a.type}function Ya(a){return"statement input"==a.type}function Za(a){return"previous connection"==a.type}function $a(a){return"next connection"==a.type}
function ab(a){ab.w.constructor.call(this);this.Sd=!0;this.input=a;this.align=a.align;if(this.xj=a.connection&&w(a.connection)?w(a.connection):null){var b=this.xj.vb();this.Cp=b.width;this.cn=b.height}else this.cn=this.Cp=0;this.connection=a.connection;this.kf=0}u(ab,Ua);function bb(a){bb.w.constructor.call(this);this.icon=a;this.isVisible=a.isVisible();this.type="icon";a=new cb(db.prototype.Ck,db.prototype.Ck-2);this.height=a.height;this.width=a.width}u(bb,Ua);
function eb(){eb.w.constructor.call(this);this.type="jagged edge";this.height=v.s.A.gj.height;this.width=v.s.A.gj.width}u(eb,Ua);function fb(a,b){fb.w.constructor.call(this);this.Iu=a;this.Sc=gb(a);this.xA=a instanceof hb&&a.Ju;this.type="field";a=this.Iu.ng();this.height=a.height;this.width=a.width;this.qC=b}u(fb,Ua);
function ib(a){ib.w.constructor.call(this,a);this.type="inline input";this.xj?(this.width=this.Cp+v.s.A.Mm+v.s.A.De,this.height=this.cn+v.s.A.De):(this.height=v.s.A.Fx,this.width=v.s.A.Gx);this.kf=v.s.A.Fk;this.Qk=v.s.A.ie.height;this.yj=v.s.A.ie.width}u(ib,ab);function jb(a){jb.w.constructor.call(this,a);this.type="statement input";this.xj?(this.width=v.s.A.Cy,this.height=this.cn+v.s.A.Qy,this.xj.R&&(this.height-=v.s.A.sc.height)):(this.height=v.s.A.Hx,this.width=v.s.A.Ix)}u(jb,ab);
function kb(a){kb.w.constructor.call(this,a);this.type="external value input";this.height=this.xj?this.cn-2*v.s.A.Fk:v.s.A.Lm;this.width=v.s.A.Jx;this.kf=v.s.A.Fk;this.Qk=v.s.A.ie.height;this.yj=v.s.A.ie.width}u(kb,ab);function mb(){mb.w.constructor.call(this);this.type="output connection";this.height=v.s.A.ie.height;this.width=v.s.A.ie.width;this.kf=v.s.A.Fk}u(mb,Ua);function nb(){nb.w.constructor.call(this);this.type="previous connection";this.height=v.s.A.sc.height;this.width=v.s.A.sc.width}
u(nb,Ua);function ob(){ob.w.constructor.call(this);this.type="next connection";this.height=v.s.A.sc.height;this.width=v.s.A.sc.width}u(ob,Ua);function pb(){pb.w.constructor.call(this);this.type="hat";this.height=v.s.A.Mg;this.width=v.s.A.Km.width}u(pb,Ua);function qb(){qb.w.constructor.call(this);this.type="square corner";this.height=v.s.A.sc.height;this.width=v.s.A.Mg}u(qb,Ua);function rb(){rb.w.constructor.call(this);this.type="round corner";this.width=v.s.A.ha;this.height=v.s.A.sc.height}
u(rb,Ua);v.s.qj=function(){this.type="row";this.dj=0;this.elements=[];this.height=this.width=0;this.fv=this.dv=this.Gq=this.Pd=this.rl=!1};v.s.qj.prototype.Df=function(){return!1};v.s.qj.prototype.measure=function(){for(var a=0,b=0;b<this.elements.length;b++){var d=this.elements[b];this.width+=d.width;!d.Sd||"statement input"!=d.type&&"external value input"!=d.type||(a+=d.Cp);d.Df()||(this.height=Math.max(this.height,d.height))}this.jD=this.width+a};
function sb(a){for(var b=a.elements.length-1;0<=b;b--){var d=a.elements[b];if(!d.Df()){if(d.Sd)return d;if(Va(d))return d.qC}}return null}v.s.Ks=function(a,b){this.type="between-row spacer";this.width=b;this.height=a;this.Mu=!1};u(v.s.Ks,Ua);v.s.Vo=function(a){this.type="in-row spacer";this.width=a;this.height=v.s.A.Ly};u(v.s.Vo,Ua);
v.s.jp=function(a){v.s.jp.w.constructor.call(this);this.elements=[];this.type="top row";this.eB=!!a.U;this.connection=a.U;a.O.length&&a.O[0].type==v.Ea&&!a.isCollapsed()?this.height=v.s.A.ud:this.height=v.s.A.Yh};u(v.s.jp,v.s.qj);v.s.Po=function(a){v.s.Po.w.constructor.call(this);this.type="bottom row";this.Hq=!!a.R;this.connection=a.R;var b=a.O.length&&a.O[a.O.length-1].type==v.Ea;this.ev=b&&tb(a);this.height=b?v.s.A.ud:v.s.A.sc.height};u(v.s.Po,v.s.qj);function ub(a){this.S=a;this.M=a.M?new mb:null;this.tv=tb(a)&&!a.isCollapsed();this.isCollapsed=a.isCollapsed();this.Cf=a.Cf();this.B=a.B;this.Yd=this.width=this.ix=this.height=0;this.rows=[];this.Iq=[];this.le=this.df=null;a=this.S.pg?"cap"===this.S.pg:!1;var b=!!this.S.U;var d=this.S;d=d.U&&w(d.U);d=!!this.S.M||a||d&&x(d)==this.S;this.df=new v.s.jp(this.S);d?this.df.elements.push(new qb):this.df.elements.push(new rb);a?this.df.elements.push(new pb):b&&this.df.elements.push(new nb);this.rows.push(this.df);
a=new v.s.qj;d=vb(this.S);if(d.length)for(b=0;b<d.length;b++){var e=d[b],f=new bb(e);this.isCollapsed&&e.zp?this.Iq.push(f):a.elements.push(f)}e=void 0;for(b=0;b<this.S.O.length;b++)if(d=this.S.O[b],d.isVisible()){!e||d.type!=v.Ea&&(d.type!=v.ya&&d.type!=v.Ee||this.tv)||(this.rows.push(a),a=new v.s.qj);for(e=0;e<d.oa.length;e++)a.elements.push(new fb(d.oa[e],d));e=d;f=a;this.tv&&e.type==v.ya?(f.elements.push(new ib(e)),f.Gq=!0):e.type==v.Ea?(f.elements.push(new jb(e)),f.Pd=!0):e.type==v.ya?(f.elements.push(new kb(e)),
f.rl=!0):e.type==v.Ee&&(f.dv=!0);e=d}this.isCollapsed&&(a.fv=!0,a.elements.push(new eb));a.elements.length&&this.rows.push(a);a=!!this.S.M||!!x(this.S);this.le=new v.s.Po(this.S);a?this.le.elements.push(new qb):this.le.elements.push(new rb);this.le.Hq&&this.le.elements.push(new ob);this.rows.push(this.le);for(a=0;a<this.rows.length;a++)for(b=this.rows[a],d=b.elements,b.elements=[],"top row"!=b.type&&"bottom row"!=b.type&&b.elements.push(new v.s.Vo(wb(this,null,d[0]))),e=0;e<d.length;e++)b.elements.push(d[e]),
b.elements.push(new v.s.Vo(wb(this,d[e],d[e+1])));for(e=d=b=a=0;e<this.rows.length;e++)f=this.rows[e],f.measure(),f.Pd||(b=Math.max(b,f.width)),f.Pd&&(a=Math.max(a,f.width-sb(f).width)),d=Math.max(d,f.jD);this.width=(this.Yd=a)?Math.max(b,a+2*v.s.A.sc.width):b;for(e=0;e<this.rows.length;e++)f=this.rows[e],f.Pd&&(f.Yd=this.Yd);this.ix=Math.max(b,d);for(a=0;a<this.rows.length;a++)if(b=this.rows[a],!b.Pd&&!b.Gq&&(d=b.width,e=this.width,"bottom row"===b.type&&b.ev&&(e=v.s.A.py),d=e-d))if(e=b.elements,
f=sb(b)){var h=b.elements[0],k=b.elements[b.elements.length-1];b.rl&&(k=e[e.length-3]);f.align==v.fj?k.width+=d:f.align==v.sk?(h.width+=d/2,k.width+=d/2):f.align==v.Jg&&(h.width+=d);b.width+=d}else if("top row"===b.type||"bottom row"===b.type)b.elements[b.elements.length-1].width+=d,b.width+=d;a=this.rows;this.rows=[];for(b=0;b<a.length;b++)this.rows.push(a[b]),b!==a.length-1&&this.rows.push(xb(this,a[b],a[b+1]));for(b=a=0;b<this.rows.length;b++)if(d=this.rows[b],d.dj=a,a+=d.height,d==this.le&&a<
v.s.A.Gm&&(this.le.height+=v.s.A.Gm-a,a=v.s.A.Gm),!d.Df())for(f=e=0;f<d.elements.length;f++){h=d.elements[f];h.Tf=e;k=d.dj;if(Va(h)){if(k+=h.height/2,d.Gq||d.Pd)k+=v.s.A.Uy}else k=Xa(h)?k+h.height/2:$a(h)?k+(d.height+h.height/2):k+d.height/2;h.bi=k;e+=h.width}this.height=a}
function wb(a,b,d){if(!b)return Va(d)&&d.Sc?v.s.A.Yh:d.Sd&&Xa(d)?v.s.A.bt:Ya(d)?v.s.A.Ry:v.s.A.ud;if(!b.Sd&&!d)return Va(b)&&b.Sc?v.s.A.Yh:"icon"==b.type?2*v.s.A.ud+1:"hat"==b.type?v.s.A.Mg:Za(b)||$a(b)?v.s.A.ud:"round corner"==b.type?v.s.A.qy:"jagged edge"==b.type?v.s.A.Mg:v.s.A.ud;if(b.Sd&&!d){if(Wa(b))return v.s.A.Mg;if(Xa(b))return v.s.A.ud;if(Ya(b))return v.s.A.Mg}if(!b.Sd&&d.Sd){if(b.Sc){if(Xa(d)||Wa(d))return v.s.A.Jy}else{if(Xa(d)||Wa(d))return v.s.A.bt;if(Ya(d))return v.s.A.ud}return v.s.A.ud-
1}if("icon"==b.type&&!d.Sd)return v.s.A.ud;if(Xa(b)&&!d.Sd)return d.Sc?v.s.A.Yh:v.s.A.ud;if("square corner"==b.type){if("hat"==d.type)return v.s.A.Mg;if(Za(d))return v.s.A.mj;if($a(d))return a=(a.B?1:-1)*v.s.A.De/2,v.s.A.mj+a}if("round corner"==b.type){if(Za(d))return v.s.A.et;if($a(d))return a=(a.B?1:-1)*v.s.A.De/2,v.s.A.et+a}return!b.Sd&&!d.Sd&&b.Sc==d.Sc||"jagged edge"==d.type?v.s.A.ud:v.s.A.Yh}
function xb(a,b,d){a=new v.s.Ks("top row"===b.type&&"bottom row"===d.type?v.s.A.Ex:"top row"===b.type||"bottom row"===d.type?v.s.A.Mg:b.rl&&d.rl?v.s.A.ud:!b.Pd&&d.Pd?v.s.A.nx:b.Pd&&d.Pd||d.dv?v.s.A.ud:v.s.A.Yh,"bottom row"===d.type&&d.ev?d.width:a.width);b.Pd&&(a.Mu=!0);return a};v.s.Gb={};v.s.Gb.nj=.5;v.s.Gb.fp=v.g.H.moveBy(v.s.Gb.nj,v.s.Gb.nj);v.s.Gb.Xx=function(){var a=v.s.A.ha,b=v.s.Gb.nj,d=(1-Math.SQRT1_2)*(a+b)-b,e=v.g.H.moveBy(d,d)+v.g.H.arc("a","0 0,0",a,v.g.H.Ia(-d-b,a-d)),f=v.g.H.arc("a","0 0,0",a+b,v.g.H.Ia(a+b,a+b)),h=v.g.H.moveBy(d,-d)+v.g.H.arc("a","0 0,0",a+b,v.g.H.Ia(a-d,d+b));return{height:a,Gr:function(k){return k?e:""},jo:function(k){return k?f:h}}}();
v.s.Gb.By=function(){var a=v.s.A.ha,b=v.s.Gb.nj,d=(1-Math.SQRT1_2)*(a-b)+b,e=v.g.H.moveBy(d,d),f=v.g.H.moveBy(b,a-b),h=v.g.H.arc("A","0 0,1",a-b,v.g.H.Ia(a,b));return{height:a,ys:function(k){return(k?e:f)+h},tp:function(k){return v.g.H.moveTo(d+b,k-d)+v.g.H.arc("A","0 0,1",a-b,v.g.H.Ia(b,k-a))}}}();
v.s.Gb.ie=function(){var a=v.s.A.Mm,b=v.s.A.Lm,d=v.g.H.moveTo(-.25*a,8.4)+v.g.H.lineTo(-.45*a,-2.1),e=v.g.H.dc("v",2.5)+v.g.H.moveBy(.97*-a,2.5)+v.g.H.curve("q",[v.g.H.Ia(.05*-a,10),v.g.H.Ia(.3*a,9.5)])+v.g.H.moveBy(.67*a,-1.9)+v.g.H.dc("v",2.5),f=v.g.H.dc("V",b+v.s.A.Fk-1.5)+v.g.H.moveBy(-.92*a,-.5)+v.g.H.curve("q",[v.g.H.Ia(-.19*a,-5.5),v.g.H.Ia(0,-11)])+v.g.H.moveBy(.92*a,1)+v.g.H.dc("V",.5)+v.g.H.dc("H",1),h=v.g.H.moveBy(-5,b-.7)+v.g.H.lineTo(.46*a,-2.1);return{width:a,height:b,Hr:function(k){return k?
d:f},Bh:function(k){return k?e:h}}}();v.s.Gb.sc={Ji:v.g.H.dc("h",v.s.Gb.nj)+v.s.A.sc.Ji};v.s.Gb.gj={Ji:v.g.H.lineTo(5.1,2.6)+v.g.H.moveBy(-10.2,6.8)+v.g.H.lineTo(5.1,2.6)};v.s.Gb.Km=function(){var a=v.g.H.moveBy(25,-8.7)+v.g.H.curve("c",[v.g.H.Ia(29.7,-6.2),v.g.H.Ia(57.2,-.5),v.g.H.Ia(75,8.7)]),b=v.g.H.curve("c",[v.g.H.Ia(17.8,-9.2),v.g.H.Ia(45.3,-14.9),v.g.H.Ia(75,-8.7)])+v.g.H.moveTo(100.5,.5);return{path:function(d){return d?a:b}}}();v.s.Ys=function(a,b){this.Fa=a;this.Ki=b;this.ga=this.Ki.ve;this.qg=this.Ki.Lq;this.Jc=this.Fa.B;this.Re=v.s.Gb.nj;this.Cr=v.s.Gb.By;this.Pn=v.s.Gb.Xx;this.Tl=v.s.Gb.ie;this.VB=v.s.Gb.sc;this.MC=v.s.Gb.Km;this.uv=v.s.Gb.gj};v.s.Ys.prototype.Yp=function(a){this.Fa.B&&(this.ga.push("H",a.width-this.Re),this.ga.push(this.uv.Ji),this.ga.push(v.g.H.dc("v",a.height-this.uv.height-this.Re)))};function yb(a,b){b.Mu&&a.ga.push("H",b.width);a.Jc&&(a.ga.push("H",b.width-a.Re),a.ga.push("v",b.height))};v.s.Dx=function(){this.ei=[];this.jk=null};function zb(a,b){if(b.type==v.ya){var d=4;var e="magenta";var f="none"}else b.type==v.ge?(d=2,f=e="magenta"):b.type==v.Ea?(d=4,e="goldenrod",f="none"):b.type==v.he&&(d=2,f=e="goldenrod");a.ei.push(v.g.m.F("circle",{"class":"blockRenderDebug",cx:b.sg.x,cy:b.sg.y,r:d,fill:f,stroke:e},a.jk))};v.s.Vs=function(a,b){this.S=a;this.Fa=b;a.wa();this.Ki=new Ab;this.ga=this.Ki.af;this.qg=this.Ki.Tq;this.Ac=new v.s.Ys(this.Fa,this.Ki)};v.s.Vs.prototype.Yp=function(a){this.Ac&&this.Ac.Yp(a);this.ga.push(v.s.A.gj.path);this.ga.push("v",a.height-v.s.A.gj.height)};v.s.ia=function(a){a.nw||(a.nw=new v.s.Dx);var b=new ub(a);a=new v.s.Vs(a,b);for(b=0;b<a.Fa.Iq.length;b++)a.Fa.Iq[b].icon.Bc.setAttribute("display","none");b=a.Fa.df;var d=b.elements;if(a.Ac){for(var e=a.Ac,f=0,h;h=b.elements[f];f++)"square corner"===h.type?e.ga.push(v.s.Gb.fp):"round corner"===h.type?e.ga.push(e.Cr.ys(e.Jc)):"previous connection"===h.type?e.ga.push(e.VB.Ji):"hat"===h.type?e.ga.push(e.MC.path(e.Jc)):h.Df()&&e.ga.push("H",h.Tf+h.width-e.Re);e.ga.push("H",b.width-e.Re);yb(a.Ac,b)}a.Fa.df.eB&&
(e=v.s.A.mj,Bb(a.Fa.df.connection,a.Fa.B?-e:e,0));for(e=0;f=d[e];e++)"square corner"===f.type?a.ga.push(v.s.A.fp):"round corner"===f.type?a.ga.push(v.s.A.Wy,v.s.A.it.ys):"previous connection"===f.type?a.ga.push(v.s.A.sc.Ji):"hat"===f.type?a.ga.push(v.s.A.Km.path):f.Df()&&a.ga.push("h",f.width);a.ga.push("v",b.height);for(b=1;b<a.Fa.rows.length-1;b++)if(e=a.Fa.rows[b],e.fv)a.Yp(e);else if(e.Pd){d=a;if(d.Ac){f=d.Ac;h=e;if(f.Jc){var k=h.height-2*f.Pn.height;h=v.g.H.moveTo(h.Yd,h.dj)+f.Pn.Gr(f.Jc)+v.g.H.dc("v",
k)+f.Pn.jo(f.Jc)}else h=v.g.H.moveTo(h.Yd,h.dj+h.height)+f.Pn.jo(f.Jc);f.ga.push(h)}d.ga.push("H",e.Yd+v.s.A.mj+v.s.A.sc.width);d.ga.push(v.s.A.sc.Zv+" h -"+(v.s.A.Yo-v.s.A.ha)+v.s.A.To.Gr);d.ga.push("v",e.height-2*v.s.A.To.height);d.ga.push(v.s.A.To.jo);f=sb(e);f.connection&&(h=e.Yd+v.s.A.mj,d.Fa.B&&(h*=-1),Bb(f.connection,h+.5,e.dj+v.s.A.De))}else if(e.rl){d=a;f=sb(e);if(d.Ac){h=d.Ac;k=e;var l=sb(k);h.Jc?(k=k.height-l.Qk+h.Re,k=v.g.H.dc("v",-h.Re)+h.Tl.Bh(h.Jc)+v.g.H.dc("v",k)):k=v.g.H.moveTo(k.width,
k.dj)+h.Tl.Bh(h.Jc);h.ga.push(k)}d.ga.push("H",e.width);d.ga.push(v.s.A.ie.Bh);d.ga.push("v",e.height-f.Qk);f=sb(e);f.connection&&(h=e.width+v.s.A.De,d.Fa.B&&(h*=-1),Bb(f.connection,h,e.dj))}else d=a,d.Ac&&yb(d.Ac,e),d.ga.push("H",e.width),d.ga.push("v",e.height);d=a.Fa.le;b=d.elements;a.Ac&&(e=a.Ac,f=e.Fa.height,e.Jc?e.ga.push("V",f):(h=e.Fa.le.elements[0],"square corner"===h.type?e.ga.push(v.g.H.moveTo(e.Re,f-e.Re)):"round corner"===h.type&&e.ga.push(e.Cr.tp(f))));e=a.Fa.le;e.Hq&&(f=(e.Hq?e.elements[2]:
null).Tf,Bb(e.connection,(a.Fa.B?-f:f)+.5,a.Fa.height+v.s.A.De));a.ga.push("v",d.height);for(d=b.length-1;0<=d;d--)e=b[d],"next connection"===e.type?a.ga.push(v.s.A.sc.Zv):"square corner"===e.type?a.ga.push("H 0"):"round corner"===e.type?a.ga.push(v.s.A.it.tp):e.Df()&&a.ga.push("h",-1*e.width);a.Ac&&(b=a.Ac,b.Fa.M&&b.ga.push(b.Tl.Hr(b.Jc)),b.Jc||("square corner"==b.Fa.df.elements[0].type?b.ga.push("V",b.Re):b.ga.push("V",b.Cr.height)));(b=a.Fa.M)&&Bb(a.S.M,0,a.Fa.M.kf);b&&(a.ga.push("V",b.kf+b.height),
a.ga.push(v.s.A.ie.Hr));a.ga.push("z");for(b=0;b<a.Fa.rows.length;b++)if(d=a.Fa.rows[b],!d.Df())for(e=0;e<d.elements.length;e++)if(h=d.elements[e],Xa(h)){f=a;if(f.Ac){k=f.Ac;var m=h;l=k.Re;var n=m.Tf+m.yj,q=m.bi-m.height/2,r=m.width-m.yj,t=q+l;k.Jc?(q=m.kf-l,m=m.height-(m.kf+m.Qk)+l,l=v.g.H.moveTo(n-l,t)+v.g.H.dc("v",q)+k.Tl.Bh(k.Jc)+v.g.H.dc("v",m)+v.g.H.dc("h",r)):l=v.g.H.moveTo(m.Tf+m.width+l,t)+v.g.H.dc("v",m.height)+v.g.H.dc("h",-r)+v.g.H.moveTo(n,q+m.kf)+k.Tl.Bh(k.Jc);k.qg.push(l)}k=h.width;
l=h.height;n=h.kf;r=h.Qk+n;f.qg.push("M",h.Tf+h.yj+","+(h.bi-l/2));f.qg.push("v ",n);f.qg.push(v.s.A.ie.Bh);f.qg.push("v",l-r);f.qg.push("h",k-h.yj);f.qg.push("v",-l);f.qg.push("z");k=h.bi-h.height/2;h.connection&&(l=h.Tf+h.yj+v.s.A.De,f.Fa.B&&(l*=-1),Bb(h.connection,l,k+h.kf+v.s.A.De))}else if("icon"==h.type||Va(h)){f=a;if("field"==h.type)var p=h.Iu.Z();else"icon"==h.type&&(p=h.icon.Bc);k=h.bi-h.height/2;l=h.Tf;n="";f.Fa.B&&(l=-(l+h.width),h.xA&&(l+=h.width,n="scale(-1 1)"));"icon"==h.type?(p.setAttribute("display",
"block"),p.setAttribute("transform","translate("+l+","+k+")"),Cb(h.icon)):p.setAttribute("transform","translate("+l+","+k+")"+n);f.Fa.Cf&&p.setAttribute("display","none")}Db(a.S,a.Ki);p=a.S.nw;b=a.S;d=a.Fa;for(e=0;f=p.ei[e];e++)v.g.m.removeNode(f);p.ei=[];p.jk=b.Z();for(f=e=0;f<d.rows.length;f++){h=d.rows[f];if(h.Df())p.ei.push(v.g.m.F("rect",{"class":"rowSpacerRect blockRenderDebug",x:d.B?-h.width:0,y:e,width:h.width,height:h.height},p.jk));else{k=p;l=h;n=e;r=d.B;for(t=0;t<l.elements.length;t++)if(m=
l.elements[t],m.Df()){q=m.Tf;r&&(q=-(q+m.width));var z=Math.min(m.height,l.height);k.ei.push(v.g.m.F("rect",{"class":"elemSpacerRect blockRenderDebug",x:q,y:m.bi-z/2,width:m.width,height:z},k.jk))}else q=k,z=m.Tf,r&&(z=-(z+m.width)),q.ei.push(v.g.m.F("rect",{"class":"rowRenderingRect blockRenderDebug",x:z,y:m.bi-m.height/2,width:m.width,height:m.height},q.jk)),m.Sd&&zb(q,m.connection);k.ei.push(v.g.m.F("rect",{"class":"elemRenderingRect blockRenderDebug",x:r?-l.width:0,y:n,width:l.width,height:l.height},
k.jk))}e+=h.height}b.U&&zb(p,b.U);b.R&&zb(p,b.R);b.M&&zb(p,b.M);a.S.height=a.Fa.height+v.s.A.De;a.S.width=a.Fa.ix+v.s.A.De;a.S.Fo=a.Fa.df.uE};
v.J=Object.create(null);v.h={};v.g.oz={};v.g.global=this||self;function y(a,b){this.x=a;this.y=b}function Eb(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function Fb(a,b){var d=a.x-b.x;a=a.y-b.y;return Math.sqrt(d*d+a*a)}function Gb(a,b){return new y(a.x-b.x,a.y-b.y)}function Hb(a,b){return new y(a.x+b.x,a.y+b.y)}y.prototype.scale=function(a){this.x*=a;this.y*=a;return this};y.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};v.g.Pa={};v.g.Pa.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};v.g.Pa.os=function(a){return a.length?a.reduce(function(b,d){return b.length<d.length?b:d}).length:0};v.g.Pa.Nz=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||v.g.Pa.os(a);for(var e=0;e<b;e++){for(var f=a[0][e],h=1;h<a.length;h++)if(f!=a[h][e])return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h][e])&&" "!=f)return d;return b};
v.g.Pa.Oz=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||v.g.Pa.os(a);for(var e=0;e<b;e++){for(var f=a[0].substr(-e-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-e-1))&&" "!=f)return d;return b};v.g.Pa.jx=function(a,b){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=v.g.Pa.mD(a[d],b);return a.join("\n")};
v.g.Pa.mD=function(a,b){if(a.length<=b)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>b&&(b=d[e].length);e=-Infinity;var f=1;do{var h=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=v.g.Pa.kx(d,a,b);e=v.g.Pa.Fs(d,a,b);a=v.g.Pa.nD(d,a);f++}while(e>h);return k};
v.g.Pa.Fs=function(a,b,d){for(var e=[0],f=[],h=0;h<a.length;h++)e[e.length-1]+=a[h].length,!0===b[h]?(e.push(0),f.push(a[h].charAt(a[h].length-1))):!1===b[h]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(h=b=0;h<e.length;h++)b-=2*Math.pow(Math.abs(d-e[h]),1.5),b-=Math.pow(a-e[h],1.5),-1!=".?!".indexOf(f[h])?b+=d/3:-1!=",;)]}".indexOf(f[h])&&(b+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(b+=.5);return b};
v.g.Pa.kx=function(a,b,d){for(var e=v.g.Pa.Fs(a,b,d),f,h=0;h<b.length-1;h++)if(b[h]!=b[h+1]){var k=[].concat(b);k[h]=!k[h];k[h+1]=!k[h+1];var l=v.g.Pa.Fs(a,k,d);l>e&&(e=l,f=k)}return f?v.g.Pa.kx(a,f,d):b};v.g.Pa.nD=function(a,b){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==b[e]&&d.push(b[e]?"\n":" ");return d.join("")};v.g.userAgent={};
(function(a){function b(e){return-1!=d.indexOf(e.toUpperCase())}v.g.userAgent.raw=a;var d=v.g.userAgent.raw.toUpperCase();v.g.userAgent.Lg=b("Trident")||b("MSIE");v.g.userAgent.Cm=b("Edge");v.g.userAgent.by=b("JavaFX");v.g.userAgent.st=b("WebKit")&&!v.g.userAgent.Cm;v.g.userAgent.Ws=b("Gecko")&&!v.g.userAgent.st&&!v.g.userAgent.Lg&&!v.g.userAgent.Cm;v.g.userAgent.Vh=b("Android");v.g.userAgent.Uf=b("iPad");v.g.userAgent.Zs=b("iPod");v.g.userAgent.Uo=b("iPhone")&&!v.g.userAgent.Uf&&!v.g.userAgent.Zs;
v.g.userAgent.oy=b("Macintosh");v.g.userAgent.Ty=v.g.userAgent.Uf||v.g.userAgent.Vh&&!b("Mobile")||b("Silk");v.g.userAgent.dt=!v.g.userAgent.Ty&&(v.g.userAgent.Zs||v.g.userAgent.Uo||v.g.userAgent.Vh||b("IEMobile"))})(v.g.global.navigator&&v.g.global.navigator.userAgent||"");function cb(a,b){this.width=a;this.height=b};v.g.style={};v.g.style.ng=function(a){if("none"!=v.g.style.IA(a)){var b=a.offsetWidth;a=a.offsetHeight;return new cb(b,a)}var d=a.style,e=d.display,f=d.visibility,h=d.position;d.visibility="hidden";d.position="absolute";d.display="inline";b=a.offsetWidth;a=a.offsetHeight;d.display=e;d.position=h;d.visibility=f;return new cb(b,a)};v.g.style.IA=function(a){return v.g.style.getComputedStyle(a,"display")||v.g.style.CA(a)||a.style&&a.style.display};
v.g.style.getComputedStyle=function(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""};v.g.style.CA=function(a){return a.currentStyle?a.currentStyle.display:null};v.g.style.HA=function(a){var b=new y(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new y(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);b.x=a.left+d.x;b.y=a.top+d.y;return b};
v.g.style.Xu=function(){var a=document.body,b=document.documentElement;return new y(a.scrollLeft||b.scrollLeft,a.scrollTop||b.scrollTop)};
v.g.UB=function(a){a.preventDefault();a.stopPropagation()};v.g.Vn=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
v.g.Nd=function(a){var b=new y(0,0),d=a.getAttribute("x");d&&(b.x=parseInt(d,10));if(d=a.getAttribute("y"))b.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(v.g.Nd.$y))b.x+=Number(d[1]),d[3]&&(b.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(v.g.Nd.az))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b};
v.g.fl=function(a){for(var b=0,d=0;a;){var e=v.g.Nd(a);b+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new y(b,d)};v.g.Nd.$y=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;v.g.Nd.az=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;v.g.rh=function(a){return a.ctrlKey&&v.g.userAgent.oy?!0:2==a.button};
v.g.Ll=function(a,b,d){var e=b.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=b.getScreenCTM().inverse());return e.matrixTransform(d)};v.g.uq=function(a){switch(a.deltaMode){case 0:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*v.$s,y:a.deltaY*v.$s};case 2:return{x:a.deltaX*v.jt,y:a.deltaY*v.jt}}};v.g.VC=function(a){return v.g.ws(a,!0)};v.g.fc=function(a){if("string"!=typeof a)return a;a=v.g.ws(a,!1);return a.length?a[0]:""};
v.g.Ht=function(a){for(var b=v.h,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==b[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
v.g.ws=function(a,b){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var h=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):b&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(d.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=v.g.Pa.startsWith(l,"BKY_")?
l.substring(4):null)&&l in v.h?(f=v.h[l],"string"==typeof f?Array.prototype.push.apply(d,v.g.ws(f,b)):b?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);b=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&b.push(l),a.length=0,b.push(d[k]));(l=a.join(""))&&b.push(l);a.length=0;return b};v.g.uf=function(){for(var a=v.g.uf.Bw.length,b=[],d=0;20>d;d++)b[d]=v.g.uf.Bw.charAt(Math.random()*a);return b.join("")};
v.g.uf.Bw="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
v.g.nh=function(){if(void 0!==v.g.nh.wp)return v.g.nh.wp;if(!v.g.global.getComputedStyle)return!1;var a=document.createElement("p"),b="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";b=v.g.global.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(d[e])}document.body.removeChild(a);
v.g.nh.wp="none"!==b;return v.g.nh.wp};v.g.rw=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)};v.g.Wu=function(){var a=v.g.style.Xu();return{right:document.documentElement.clientWidth+a.x,bottom:document.documentElement.clientHeight+a.y,top:a.y,left:a.x}};
v.g.Ik=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};v.g.rq=function(){var a=document.documentElement,b=window;return v.g.userAgent.Lg&&b.pageYOffset!=a.scrollTop?new y(a.scrollLeft,a.scrollTop):new y(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)};v.g.nq=function(a,b){var d=Object.create(null),e=Ib(a,!0);b&&(a=x(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;b=e[a];a++)d[b.type]?d[b.type]++:d[b.type]=1;return d};
v.g.BC=function(a,b){var d=b.x;b=b.y;var e=Jb(a).getBoundingClientRect();d=new y(d-e.left,b-e.top);b=v.g.fl(a.Sa);return Gb(d,b).scale(1/a.scale)};
v.Touch={};v.Touch.ip="ontouchstart"in v.g.global||!!(v.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!v.g.global.navigator||!v.g.global.navigator.maxTouchPoints&&!v.g.global.navigator.msMaxTouchPoints);v.Touch.lm=null;v.Touch.gf={};
v.g.global.PointerEvent?v.Touch.gf={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:v.Touch.ip&&(v.Touch.gf={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});v.Zn=0;
v.FB=function(a,b){v.uh();a.changedTouches&&1!=a.changedTouches.length||(v.Zn=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&Kb(b,a)},v.ly))};v.uh=function(){v.Zn&&(clearTimeout(v.Zn),v.Zn=0)};v.Touch.bg=function(){v.Touch.lm=null};v.Touch.ps=function(a){return!v.Touch.xB(a)||v.Touch.Gz(a)};
v.Touch.Jn=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};v.Touch.Gz=function(a){var b=v.Touch.Jn(a);return void 0!==v.Touch.lm&&null!==v.Touch.lm?v.Touch.lm==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(v.Touch.lm=b,!0):!1};
v.Touch.EC=function(a){if(v.g.Pa.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};v.Touch.xB=function(a){return v.g.Pa.startsWith(a.type,"touch")||v.g.Pa.startsWith(a.type,"mouse")||v.g.Pa.startsWith(a.type,"pointer")};v.Touch.Wn=function(a){return v.g.Pa.startsWith(a.type,"touch")||v.g.Pa.startsWith(a.type,"pointer")};
v.Touch.IC=function(a){var b=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)b[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};v.g.m={};v.g.m.Ek="http://www.w3.org/2000/svg";v.g.m.ff="http://www.w3.org/1999/xhtml";v.g.m.ke="http://www.w3.org/1999/xlink";v.g.m.F=function(a,b,d){a=document.createElementNS(v.g.m.Ek,a);for(var e in b)a.setAttribute(e,b[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};v.g.m.Va=function(a,b){var d=a.getAttribute("class")||"";if(-1!=(" "+d+" ").indexOf(" "+b+" "))return!1;d&&(d+=" ");a.setAttribute("class",d+b);return!0};
v.g.m.Hb=function(a,b){var d=a.getAttribute("class");if(-1==(" "+d+" ").indexOf(" "+b+" "))return!1;d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=b||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class");return!0};v.g.m.cv=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};v.g.m.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};
v.g.m.wi=function(a,b){var d=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");d?b.insertBefore(a,d):b.appendChild(a)};v.g.m.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&16)};v.g.m.Yl=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};v.g.qb={};v.g.qb.Qh=function(a){return a*Math.PI/180};v.g.qb.Qw=function(a){return 180*a/Math.PI};v.g.qb.Tg=function(a,b,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(b,d))};function Lb(a){this.ub=null;this.Pj=!!a}c=Lb.prototype;c.types={xD:"field",pD:"block",yD:"input",RD:"output",zD:"next",SD:"previous",VD:"stack",XD:"workspace"};c.oc=function(a){this.ub=a;this.Xw()};c.Xw=function(){};c.next=function(){var a=this.ub;if(!a)return null;(a=a.next())&&a.Zc===Mb&&(a=a.next()||a);a&&this.oc(a);return a};c.vl=function(){var a=this.ub;if(!a)return null;(a=a.vl())&&a.Zc===Nb&&(a=a.next()||a);a&&this.oc(a);return a};
c.bk=function(){var a=this.ub;if(!a)return null;(a=a.bk())&&a.Zc===Mb&&(a=a.bk()||a);a&&this.oc(a);return a};c.Ql=function(){var a=this.ub;if(!a)return null;(a=a.Ql())&&this.oc(a);return a};v.j={};v.j.ll="";v.j.mc=!0;v.j.Pp=0;v.j.Am="create";v.j.tk=v.j.Am;v.j.Ro="delete";v.j.tm=v.j.Ro;v.j.Wh="change";v.j.qD=v.j.Wh;v.j.xk="move";v.j.Js=v.j.xk;v.j.pt="var_create";v.j.qt="var_delete";v.j.rt="var_rename";v.j.Nm="ui";v.j.xm="comment_create";v.j.Ns="comment_delete";v.j.Ms="comment_change";v.j.ym="comment_move";v.j.Kx="finished_loading";v.j.px=[v.j.tk,v.j.Js,v.j.xm,v.j.ym];v.j.vk=[];v.j.fa=function(a){v.j.isEnabled()&&(v.j.vk.length||setTimeout(v.j.wA,0),v.j.vk.push(a))};
v.j.wA=function(){for(var a=v.j.filter(v.j.vk,!0),b=v.j.vk.length=0,d;d=a[b];b++){var e=Ob[d.Yb]||null;if(e){var f=d;if(f.mc)for(e.Yi.push(f),e.Ul.length=0;e.Yi.length>e.at&&0<=e.at;)e.Yi.shift();for(var h=0;d=e.qd[h];h++)d(f)}}};
v.j.filter=function(a,b){a=a.slice();b||a.reverse();for(var d=[],e=Object.create(null),f=0,h;h=a[f];f++)if(!h.Qj()){var k=[h.type,h.Zb,h.Yb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:h,index:f},d.push(h);else if(h.type==v.j.xk&&l.index==f-1)m.Gi=h.Gi,m.Fi=h.Fi,m.yh=h.yh,l.index=f;else if(h.type==v.j.Wh&&h.element==m.element&&h.name==m.name)m.newValue=h.newValue;else if(h.type!=v.j.Nm||"click"!=h.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:h,
index:1},d.push(h)}a=d.filter(function(n){return!n.Qj()});b||a.reverse();for(f=1;h=a[f];f++)h.type==v.j.Wh&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};v.j.Iz=function(){for(var a=0,b;b=v.j.vk[a];a++)b.mc=!1};v.j.disable=function(){v.j.Pp++};v.j.enable=function(){v.j.Pp--};v.j.isEnabled=function(){return 0==v.j.Pp};v.j.Rb=function(){return v.j.ll};v.j.W=function(a){v.j.ll="boolean"==typeof a?a?v.g.uf():"":a};
v.j.Su=function(a){var b=[];a=Ib(a,!1);for(var d=0,e;e=a[d];d++)b[d]=e.id;return b};
v.j.na=function(a){switch(a.type){case v.j.Am:var b=new Pb(null);break;case v.j.Ro:b=new Qb(null);break;case v.j.Wh:b=new Rb(null,"","","","");break;case v.j.xk:b=new Sb(null);break;case v.j.pt:b=new Tb(null);break;case v.j.qt:b=new Ub(null);break;case v.j.rt:b=new Vb(null,"");break;case v.j.Nm:b=new Wb(null);break;case v.j.xm:b=new Xb(null);break;case v.j.Ms:b=new Yb(null);break;case v.j.ym:b=new Zb(null);break;case v.j.Ns:b=new $b(null);break;default:throw Error("Unknown event type.");}b.na(a);
b.Yb=(void 0).id;return b};v.j.jA=function(a){if(a.type==v.j.xk||a.type==v.j.Am){var b=Ob[a.Yb]||null;if(a=ac(b,a.Zb)){var d=a.getParent();if(d&&d.isEnabled())for(b=Ib(a,!1),a=0;d=b[a];a++)d.ob(!0);else if((a.M||a.U)&&!b.Tb()){do a.ob(!1),a=x(a);while(a)}}}};
v.Pg={};v.Pg.Xh={};v.Pg.Xh.$z={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
v.Pg.Xh.zz={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};v.Pg.Xh=new function(){var a=v.Pg.Xh.zz;this.vz=v.Pg.Xh.$z;this.Az=a};function bc(){this.Yb=void 0;this.group=v.j.ll;this.mc=v.j.mc}bc.prototype.Ka=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};bc.prototype.na=function(a){this.group=a.group};bc.prototype.Qj=function(){return!1};bc.prototype.run=function(){};function cc(a){a=Ob[a.Yb]||null;if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};function dc(a){dc.w.constructor.call(this);this.Th=a.ja();this.Yb=a.u.id}u(dc,bc);dc.prototype.Ka=function(){var a=dc.w.Ka.call(this);a.varId=this.Th;return a};dc.prototype.na=function(a){dc.w.Ka.call(this);this.Th=a.varId};function Tb(a){a&&(Tb.w.constructor.call(this,a),this.aj=a.type,this.$i=a.name)}u(Tb,dc);Tb.prototype.type=v.j.pt;Tb.prototype.Ka=function(){var a=Tb.w.Ka.call(this);a.varType=this.aj;a.varName=this.$i;return a};
Tb.prototype.na=function(a){Tb.w.na.call(this,a);this.aj=a.varType;this.$i=a.varName};Tb.prototype.run=function(a){var b=cc(this);a?b.hd(this.$i,this.aj,this.Th):b.lf(this.Th)};function Ub(a){a&&(Ub.w.constructor.call(this,a),this.aj=a.type,this.$i=a.name)}u(Ub,dc);Ub.prototype.type=v.j.qt;Ub.prototype.Ka=function(){var a=Ub.w.Ka.call(this);a.varType=this.aj;a.varName=this.$i;return a};Ub.prototype.na=function(a){Ub.w.na.call(this,a);this.aj=a.varType;this.$i=a.varName};
Ub.prototype.run=function(a){var b=cc(this);a?b.lf(this.Th):b.hd(this.$i,this.aj,this.Th)};function Vb(a,b){a&&(Vb.w.constructor.call(this,a),this.vr=a.name,this.rr=b)}u(Vb,dc);Vb.prototype.type=v.j.rt;Vb.prototype.Ka=function(){var a=Vb.w.Ka.call(this);a.oldName=this.vr;a.newName=this.rr;return a};Vb.prototype.na=function(a){Vb.w.na.call(this,a);this.vr=a.oldName;this.rr=a.newName};Vb.prototype.run=function(a){var b=cc(this);a?b.Fh(this.Th,this.rr):b.Fh(this.Th,this.vr)};
function ec(a){this.Da=Object.create(null);this.u=a}c=ec.prototype;c.clear=function(){this.Da=Object.create(null)};c.to=function(a,b){var d=this.zc(b,a.type),e=A(this.u,!1);v.j.W(!0);try{if(d&&d.ja()!=a.ja()){var f=a.type;b!=d.name&&fc(d,b,e);for(b=0;b<e.length;b++)e[b].so(a.ja(),d.ja());v.j.fa(new Ub(a));this.Da[f].splice(this.kl(f).indexOf(a),1)}else fc(a,b,e)}finally{v.j.W(!1)}};
c.Fh=function(a,b){var d=this.Pe(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.to(d,b)};function fc(a,b,d){v.j.fa(new Vb(a,b));a.name=b;for(b=0;b<d.length;b++)d[b].Io(a)}
c.hd=function(a,b,d){var e=this.zc(a,b);if(e){if(d&&e.ja()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.ja()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Pe(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||v.g.uf();b=b||"";e=new gc(this.u,a,b,e);a=this.Da[b]||[];a.push(e);delete this.Da[b];this.Da[b]=a;return e};
c.lf=function(a){var b=this.Pe(a);if(b){var d=b.name,e=this.yq(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=B(f,"NAME");d=v.h.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);v.alert(d);return}var h=this;1<e.length?(d=v.h.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),v.confirm(d,function(k){k&&h.jn(b,e)})):h.jn(b,e)}else console.warn("Can't delete non-existent variable: "+a)};
c.jn=function(a,b){var d=v.j.Rb();d||v.j.W(!0);try{for(var e=0;e<b.length;e++)b[e].G(!0,!1);var f=this.Da[a.type];b=0;for(var h;h=f[b];b++)if(h.ja()==a.ja()){f.splice(b,1);v.j.fa(new Ub(a));break}}finally{d||v.j.W(!1)}};c.zc=function(a,b){if(b=this.Da[b||""])for(var d=0,e;e=b[d];d++)if(hc(e.name,a))return e;return null};c.Pe=function(a){for(var b=Object.keys(this.Da),d=0;d<b.length;d++)for(var e=b[d],f=0,h;h=this.Da[e][f];f++)if(h.ja()==a)return h;return null};
c.kl=function(a){return(a=this.Da[a||""])?a.slice():[]};c.xq=function(a){var b=[];a&&a.Ch&&(b=Object.keys(a.Ch.Da));a=Object.keys(this.Da).concat(b);b=!1;for(var d=0;d<a.length;d++)""==a[d]&&(b=!0);b||a.push("");return a};c.wf=function(){var a=[],b;for(b in this.Da)a=a.concat(this.Da[b]);return a};c.yq=function(a){for(var b=[],d=A(this.u,!1),e=0;e<d.length;e++){var f=d[e].og();if(f)for(var h=0;h<f.length;h++)f[h].ja()==a&&b.push(d[e])}return b};v.g.xml={};v.g.xml.xy="https://developers.google.com/blockly/xml";v.g.xml.createElement=function(a){return document.createElementNS(v.g.xml.xy,a)};v.g.xml.createTextNode=function(a){return document.createTextNode(a)};v.g.xml.SC=function(a){return(new DOMParser).parseFromString(a,"text/xml")};v.g.xml.ld=function(a){return(new XMLSerializer).serializeToString(a)};function ic(a){ic.w.constructor.call(this);this.Zb=a.id;this.Yb=a.u.id}u(ic,bc);ic.prototype.Ka=function(){var a=ic.w.Ka.call(this);a.blockId=this.Zb;return a};ic.prototype.na=function(a){ic.w.Ka.call(this);this.Zb=a.blockId};function Rb(a,b,d,e,f){a&&(Rb.w.constructor.call(this,a),this.element=b,this.name=d,this.oldValue=e,this.newValue=f)}u(Rb,ic);v.j.ef=Rb;c=Rb.prototype;c.type=v.j.Wh;
c.Ka=function(){var a=Rb.w.Ka.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};c.na=function(a){Rb.w.na.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};c.Qj=function(){return this.oldValue==this.newValue};
c.run=function(a){var b=ac(cc(this),this.Zb);if(b)switch(b.Uc&&b.Uc.Ba(!1),a=a?this.newValue:this.oldValue,this.element){case "field":if(b=C(b,this.name)){var d=a,e=d;null!==e&&(void 0!==e&&(d=e),(e=b.wq())&&e.call(b,d));b.setValue(a)}else console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.zg(a||null);break;case "collapsed":b.yg(a);break;case "disabled":b.ob(!a);break;case "inline":b.Fc(a);break;case "mutation":d="";b.Oa&&(d=(d=b.Oa())&&v.N.ld(d));b.eb&&(e=v.N.Qf(a||"<mutation/>"),
b.eb(e));v.j.fa(new Rb(b,"mutation",null,d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Zb)};function Pb(a){a&&(Pb.w.constructor.call(this,a),this.xml=a.u.Y?v.N.sp(a):v.N.Sg(a),this.ih=v.j.Su(a))}u(Pb,ic);v.j.wm=Pb;Pb.prototype.type=v.j.Am;Pb.prototype.Ka=function(){var a=Pb.w.Ka.call(this);a.xml=v.N.ld(this.xml);a.ids=this.ih;return a};
Pb.prototype.na=function(a){Pb.w.na.call(this,a);this.xml=v.N.Qf(a.xml);this.ih=a.ids};Pb.prototype.run=function(a){var b=cc(this);if(a)a=v.g.xml.createElement("xml"),a.appendChild(this.xml),v.N.nf(a,b);else{a=0;for(var d;d=this.ih[a];a++){var e=ac(b,d);e?e.G(!1,!1):d==this.Zb&&console.warn("Can't uncreate non-existent block: "+d)}}};
function Qb(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");Qb.w.constructor.call(this,a);this.wr=a.u.Y?v.N.sp(a):v.N.Sg(a);this.ih=v.j.Su(a)}}u(Qb,ic);v.j.Ls=Qb;Qb.prototype.type=v.j.Ro;Qb.prototype.Ka=function(){var a=Qb.w.Ka.call(this);a.ids=this.ih;return a};Qb.prototype.na=function(a){Qb.w.na.call(this,a);this.ih=a.ids};
Qb.prototype.run=function(a){var b=cc(this);if(a){a=0;for(var d;d=this.ih[a];a++){var e=ac(b,d);e?e.G(!1,!1):d==this.Zb&&console.warn("Can't delete non-existent block: "+d)}}else a=v.g.xml.createElement("xml"),a.appendChild(this.wr),v.N.nf(a,b)};function Sb(a){a&&(Sb.w.constructor.call(this,a),a=jc(this),this.Nv=a.Xv,this.Mv=a.nv,this.tr=a.Zt)}u(Sb,ic);v.j.uk=Sb;c=Sb.prototype;c.type=v.j.xk;
c.Ka=function(){var a=Sb.w.Ka.call(this);this.Gi&&(a.newParentId=this.Gi);this.Fi&&(a.newInputName=this.Fi);this.yh&&(a.newCoordinate=Math.round(this.yh.x)+","+Math.round(this.yh.y));return a};c.na=function(a){Sb.w.na.call(this,a);this.Gi=a.newParentId;this.Fi=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.yh=new y(Number(a[0]),Number(a[1])))};c.vg=function(){var a=jc(this);this.Gi=a.Xv;this.Fi=a.nv;this.yh=a.Zt};
function jc(a){var b=ac(Ob[a.Yb]||null,a.Zb);a={};var d=b.getParent();if(d){a.Xv=d.id;a:{for(var e=0,f;f=d.O[e];e++)if(f.connection&&w(f.connection)==b){b=f;break a}b=null}b&&(a.nv=b.name)}else a.Zt=b.wa();return a}c.Qj=function(){return this.Nv==this.Gi&&this.Mv==this.Fi&&Eb(this.tr,this.yh)};
c.run=function(a){var b=cc(this),d=ac(b,this.Zb);if(d){var e=a?this.Gi:this.Nv,f=a?this.Fi:this.Mv;a=a?this.yh:this.tr;var h=null;if(e&&(h=ac(b,e),!h)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&D(d);if(a)f=d.wa(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.M||d.U;if(f){if(b=E(h,f))var k=b.connection}else d.type==v.he&&(k=h.R);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Zb)};function kc(a){this.Yb=a.id;this.group=v.j.ll;this.mc=!1}u(kc,bc);kc.prototype.type=v.j.Kx;kc.prototype.Ka=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Yb&&(a.workspaceId=this.Yb);return a};kc.prototype.na=function(a){this.Yb=a.workspaceId;this.group=a.group};v.N={};v.N.Es=function(a,b){var d=v.g.xml.createElement("xml"),e=v.N.hD(v.K.vt(a));e.hasChildNodes()&&d.appendChild(e);var f=lc(a,!0);e=0;for(var h;h=f[e];e++)d.appendChild(h.jm(b));a=F(a,!0);for(e=0;f=a[e];e++)d.appendChild(v.N.sp(f,b));return d};v.N.hD=function(a){for(var b=v.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=v.g.xml.createElement("variable");f.appendChild(v.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.ja();b.appendChild(f)}return b};
v.N.sp=function(a,b){var d;a.u.B&&(d=a.u.Rc());b=v.N.Sg(a,b);var e=a.wa();b.setAttribute("x",Math.round(a.u.B?d-e.x:e.x));b.setAttribute("y",Math.round(e.y));return b};v.N.tA=function(a){var b=!1;a.name&&(a.Wf?b=!0:a.Kg&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),b=!0));return b?(b=v.g.xml.createElement("field"),b.setAttribute("name",a.name),a.im(b)):null};
v.N.gz=function(a,b){for(var d=0,e;e=a.O[d];d++)for(var f=0,h;h=e.oa[f];f++)(h=v.N.tA(h))&&b.appendChild(h)};
v.N.Sg=function(a,b){var d=v.g.xml.createElement(a.Ja?"shadow":"block");d.setAttribute("type",a.type);b||(d.id=a.id);if(a.Oa){var e=a.Oa();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}v.N.gz(a,d);var f=a.zn();f&&(e=v.g.xml.createElement("comment"),e.appendChild(v.g.xml.createTextNode(f)),"object"==typeof a.cb&&(e.setAttribute("pinned",a.cb.isVisible()),f=a.cb.mi(),e.setAttribute("h",f.height),e.setAttribute("w",f.width)),d.appendChild(e));a.data&&(e=v.g.xml.createElement("data"),e.appendChild(v.g.xml.createTextNode(a.data)),
d.appendChild(e));f=0;for(var h;h=a.O[f];f++){var k,l=!0;if(h.type!=v.Ee){var m=w(h.connection);h.type==v.ya?k=v.g.xml.createElement("value"):h.type==v.Ea&&(k=v.g.xml.createElement("statement"));e=h.connection.Ze;!e||m&&m.Ja||k.appendChild(v.N.Mt(e,b));m&&(k.appendChild(v.N.Sg(m,b)),l=!1);k.setAttribute("name",h.name);l||d.appendChild(k)}}void 0!=a.rg&&a.rg!=a.tB&&d.setAttribute("inline",a.rg);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Cc()||a.Ja||
d.setAttribute("deletable",!1);a.Ub()||a.Ja||d.setAttribute("movable",!1);a.Sc()||d.setAttribute("editable",!1);if(f=x(a))k=v.g.xml.createElement("next"),k.appendChild(v.N.Sg(f,b)),d.appendChild(k);e=a.R&&a.R.Ze;!e||f&&f.Ja||k.appendChild(v.N.Mt(e,b));return d};
v.N.Mt=function(a,b){for(var d=a=a.cloneNode(!0),e;d;)if(b&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,3==e.nodeType&&""==e.data.trim()&&d.firstChild!=e&&v.g.m.removeNode(e);d&&(e=d,d=d.nextSibling,3==e.nodeType&&""==e.data.trim()&&v.g.m.removeNode(e))}return a};v.N.ld=function(a){return v.g.xml.ld(a)};
v.N.fE=function(a){a=v.N.ld(a).split("<");for(var b="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(b=b.substring(2));a[d]=b+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};v.N.Qf=function(a){var b=v.g.xml.SC(a);if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement};
v.N.bE=function(a,b){b.pc(!1);b.clear();a=v.N.nf(a,b);b.pc(!0);return a};
v.N.nf=function(a,b){if(a instanceof mc){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;b.B&&(e=b.Rc());d=[];nc();var f=a.childNodes.length,h=v.j.Rb();h||v.j.W(!0);b.pc&&b.pc(!1);var k=!0;try{for(var l=0;l<f;l++){var m=a.childNodes[l],n=m.nodeName.toLowerCase();if("block"==n||"shadow"==n&&!v.j.mc){var q=v.N.hi(m,b);d.push(q.id);var r=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,t=m.hasAttribute("y")?parseInt(m.getAttribute("y"),
10):10;isNaN(r)||isNaN(t)||q.moveBy(b.B?e-r:r,t);k=!1}else{if("shadow"==n)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==n)if(b.Y)oc(m,b,e);else{var p=m,z=b,H=pc(p),M=new qc(z,H.content,H.$u,H.bx,H.id),W=parseInt(p.getAttribute("x"),10),lb=parseInt(p.getAttribute("y"),10);isNaN(W)||isNaN(lb)||M.moveBy(W,lb);rc(M)}else if("variables"==n){if(k)v.N.pA(m,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
k=!1}}}}finally{h||v.j.W(!1),sc()}b.pc&&b.pc(!0);v.j.fa(new kc(b));return d};v.N.$D=function(a,b){if(b.hasOwnProperty("scale")){var d=G;try{G=0;var e=tc(b)}finally{G=d}}a=v.N.nf(a,b);if(e&&e.top!=e.bottom){d=e.bottom;var f=e.left;var h=Infinity,k=Infinity;for(e=0;e<a.length;e++){var l=ac(b,a[e]).wa();l.y<k&&(k=l.y);l.x<h&&(h=l.x)}d=d-k+10;f-=h;var m;b.B&&(m=b.Rc());for(e=0;e<a.length;e++)ac(b,a[e]).moveBy(b.B?m-f:f,d)}return a};
v.N.hi=function(a,b){if(a instanceof mc){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}v.j.disable();d=b.wf();try{var e=v.N.Vp(a,b),f=Ib(e,!1);if(b.Y){uc(e,!0);for(var h=f.length-1;0<=h;h--)f[h].Cd();for(h=f.length-1;0<=h;h--)f[h].ia(!1);setTimeout(function(){e.u&&uc(e,!1)},1);vc(e);wc(b)}else for(h=f.length-1;0<=h;h--)f[h].vi()}finally{v.j.enable()}if(v.j.isEnabled()){a=v.K.Ru(b,d);for(h=0;h<a.length;h++)v.j.fa(new Tb(a[h]));v.j.fa(new v.j.wm(e))}return e};
v.N.pA=function(a,b){for(var d=0,e;e=a.childNodes[d];d++)if(1==e.nodeType){var f=e.getAttribute("type"),h=e.getAttribute("id");b.hd(e.textContent,f,h)}};
v.N.Vp=function(a,b){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=b.xh(e,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(3!=k.nodeType){for(var l=h=null,m=0,n;n=k.childNodes[m];m++)1==n.nodeType&&("block"==n.nodeName.toLowerCase()?h=n:"shadow"==n.nodeName.toLowerCase()&&(l=n));!h&&l&&(h=l);m=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":d.eb&&(d.eb(k),d.Cd&&d.Cd());break;case "comment":d.zg(k.textContent);
var q=k.getAttribute("pinned");q&&!d.xb&&setTimeout(function(){d.cb&&d.cb.Ba&&d.cb.Ba("true"==q)},1);h=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(h)&&!isNaN(k)&&d.cb&&d.cb.Ba&&d.cb.Jh(h,k);break;case "data":d.data=k.textContent;break;case "title":case "field":v.N.oA(d,m,k);break;case "value":case "statement":k=E(d,m);if(!k){console.warn("Ignoring non-existent input "+m+" in block "+e);break}l&&(k.connection.Ze=l);if(h)if(h=v.N.Vp(h,b),h.M)k.connection.connect(h.M);
else if(h.U)k.connection.connect(h.U);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.R&&(d.R.Ze=l);if(h){if(!d.R)throw TypeError("Next statement does not exist.");if(d.R.isConnected())throw TypeError("Next statement is already connected.");h=v.N.Vp(h,b);if(!h.U)throw TypeError("Next block does not have previous statement.");d.R.connect(h.U)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.Fc("true"==
f);(f=a.getAttribute("disabled"))&&d.ob("true"!=f&&"disabled"!=f);(f=a.getAttribute("deletable"))&&d.es("true"==f);(f=a.getAttribute("movable"))&&d.Pi("true"==f);(f=a.getAttribute("editable"))&&d.fs("true"==f);(f=a.getAttribute("collapsed"))&&d.yg("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.kg(!1);for(f=0;b=a[f];f++)if(!b.Ja)throw TypeError("Shadow block not allowed non-shadow child.");if(d.og().length)throw TypeError("Shadow blocks cannot have variable references.");d.ls(!0)}return d};
v.N.oA=function(a,b,d){var e=C(a,b);e?e.Ou(d):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};v.N.gA=function(a){for(var b=0,d;d=a.childNodes[b];b++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};v.g.global.Blockly||(v.g.global.Blockly={});v.g.global.Blockly.Xml||(v.g.global.Blockly.Xml={});v.g.global.Blockly.Xml.domToText=v.N.ld;v.g.global.Blockly.Xml.domToWorkspace=v.N.nf;v.g.global.Blockly.Xml.textToDom=v.N.Qf;v.g.global.Blockly.Xml.workspaceToDom=v.N.Es;function xc(a){this.jf=a.id;this.Yb=a.u.id;this.group=v.j.ll;this.mc=v.j.mc}u(xc,bc);xc.prototype.Ka=function(){var a={type:this.type};this.group&&(a.group=this.group);this.jf&&(a.commentId=this.jf);return a};xc.prototype.na=function(a){this.jf=a.commentId;this.group=a.group};function Yb(a,b,d){a&&(Yb.w.constructor.call(this,a),this.Lv=b,this.ho=d)}u(Yb,xc);c=Yb.prototype;c.type=v.j.Ms;c.Ka=function(){var a=Yb.w.Ka.call(this);a.newContents=this.ho;return a};
c.na=function(a){Yb.w.na.call(this,a);this.ho=a.newValue};c.Qj=function(){return this.Lv==this.ho};c.run=function(a){var b=yc(cc(this),this.jf);b?b.Kf(a?this.ho:this.Lv):console.warn("Can't change non-existent comment: "+this.jf)};function Xb(a){a&&(Xb.w.constructor.call(this,a),this.xml=a.jm())}u(Xb,xc);Xb.prototype.type=v.j.xm;Xb.prototype.Ka=function(){var a=Xb.w.Ka.call(this);a.xml=v.N.ld(this.xml);return a};Xb.prototype.na=function(a){Xb.w.na.call(this,a);this.xml=v.N.Qf(a.xml)};
Xb.prototype.run=function(a){v.j.Rs(this,a)};v.j.Rs=function(a,b){var d=cc(a);b?(b=v.g.xml.createElement("xml"),b.appendChild(a.xml),v.N.nf(b,d)):(d=yc(d,a.jf))?d.G(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.jf)};function $b(a){a&&($b.w.constructor.call(this,a),this.xml=a.jm())}u($b,xc);$b.prototype.type=v.j.Ns;$b.prototype.Ka=function(){return $b.w.Ka.call(this)};$b.prototype.na=function(a){$b.w.na.call(this,a)};$b.prototype.run=function(a){v.j.Rs(this,!a)};
function Zb(a){a&&(Zb.w.constructor.call(this,a),this.Bp=a,this.ur=zc(a),this.Ei=null)}u(Zb,xc);c=Zb.prototype;c.vg=function(){if(!this.Bp)throw Error("Tried to record the new position of a comment on the same event twice.");this.Ei=zc(this.Bp);this.Bp=null};c.type=v.j.ym;c.Ka=function(){var a=Zb.w.Ka.call(this);this.Ei&&(a.newCoordinate=Math.round(this.Ei.x)+","+Math.round(this.Ei.y));return a};
c.na=function(a){Zb.w.na.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.Ei=new y(Number(a[0]),Number(a[1])))};c.Qj=function(){return Eb(this.ur,this.Ei)};c.run=function(a){var b=yc(cc(this),this.jf);if(b){a=a?this.Ei:this.ur;var d=zc(b);b.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.jf)};function qc(a,b,d,e,f){this.id=f&&!yc(a,f)?f:v.g.uf();a.lk.push(this);a.an[this.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+this.id+'"');a.an[this.id]=this;this.Ce=new y(0,0);this.Ga=d;this.ra=e;this.u=a;this.B=a.B;this.Ml=this.Xk=!0;this.Nc=b;this.Xq=!0;rc(this)}c=qc.prototype;
c.G=function(){if(this.u){v.j.isEnabled()&&v.j.fa(new $b(this));var a=this.u;if(!v.g.Ik(a.lk,this))throw Error("Comment not present in workspace's list of top-most comments.");delete a.an[this.id];this.u=null}};c.Hj=function(){return this.Ga};c.Rc=function(){return this.ra};function zc(a){return new y(a.Ce.x,a.Ce.y)}c.moveBy=function(a,b){var d=new Zb(this);this.Ce.translate(a,b);d.vg();v.j.fa(d)};c.Cc=function(){return this.Xk&&!(this.u&&this.u.options.readOnly)};c.es=function(a){this.Xk=a};
c.Ub=function(){return this.Ml&&!(this.u&&this.u.options.readOnly)};c.Pi=function(a){this.Ml=a};c.bh=function(){return this.Nc};c.Kf=function(a){this.Nc!=a&&(v.j.fa(new Yb(this,this.Nc,a)),this.Nc=a)};c.jm=function(a){a=this.im(a);a.setAttribute("x",Math.round(this.Ce.x));a.setAttribute("y",Math.round(this.Ce.y));a.setAttribute("h",this.Ga);a.setAttribute("w",this.ra);return a};c.im=function(a){var b=v.g.xml.createElement("comment");a||(b.id=this.id);b.textContent=this.bh();return b};
function rc(a){if(v.j.isEnabled()){var b=v.j.Rb();b||v.j.W(!0);try{v.j.fa(new Xb(a))}finally{b||v.j.W(!1)}}}function pc(a){var b=a.getAttribute("h"),d=a.getAttribute("w");return{id:a.getAttribute("id"),$u:b?parseInt(b,10):100,bx:d?parseInt(d,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};function mc(a){this.id=v.g.uf();Ob[this.id]=this;this.options=a||{};this.B=!!this.options.B;this.Ad=!!this.options.Ad;this.qa=this.options.qa;this.kk=[];this.lk=[];this.an=Object.create(null);this.qd=[];this.Yi=[];this.Ul=[];this.rp=Object.create(null);this.Gg=Object.create(null);this.Da=new ec(this);this.Ch=null;this.cursor=this.$t();this.$n=this.au();v.In()||v.yw(v.Pg.Xh)}c=mc.prototype;c.Y=!1;c.Wq=!1;c.at=1024;c.Pk=null;c.$t=function(){return new Lb};c.au=function(){return new Lb(!0)};
c.G=function(){this.qd.length=0;this.clear();delete Ob[this.id]};c.Nf=function(a,b){a=a.wa();b=b.wa();return a.y+mc.prototype.Nf.offset*a.x-(b.y+mc.prototype.Nf.offset*b.x)};function Ac(a,b){if(!v.g.Ik(a.kk,b))throw Error("Block not present in workspace's list of top-most blocks.");}function F(a,b){var d=[].concat(a.kk);b&&1<d.length&&(a.Nf.offset=Math.sin(v.g.qb.Qh(3)),a.B&&(a.Nf.offset*=-1),d.sort(a.Nf));return d}
function lc(a,b){var d=[].concat(a.lk);b&&1<d.length&&(a.Nf.offset=Math.sin(v.g.qb.Qh(3)),a.B&&(a.Nf.offset*=-1),d.sort(a.Nf));return d}function A(a,b){if(b){a=F(a,!0);b=[];for(var d=0;d<a.length;d++)b.push.apply(b,Ib(a[d],!0))}else for(b=F(a,!1),d=0;d<b.length;d++)b.push.apply(b,b[d].kg(!1));return b.filter(function(e){return!e.Cf()})}
c.clear=function(){this.Wq=!0;try{var a=v.j.Rb();for(a||v.j.W(!0);this.kk.length;)this.kk[0].G();for(;this.lk.length;)this.lk[this.lk.length-1].G();a||v.j.W(!1);this.Da.clear();this.Ch&&this.Ch.clear()}finally{this.Wq=!1}};c.Fh=function(a,b){this.Da.Fh(a,b)};c.hd=function(a,b,d){return this.Da.hd(a,b,d)};c.yq=function(a){return this.Da.yq(a)};c.lf=function(a){this.Da.lf(a)};c.jn=function(a,b){this.Da.jn(a,b)};c.zc=function(a,b){return this.Da.zc(a,b)};c.Pe=function(a){return this.Da.Pe(a)};c.kl=function(a){return this.Da.kl(a)};
c.xq=function(){return this.Da.xq(this)};c.wf=function(){return this.Da.wf()};c.Rc=function(){return 0};c.xh=function(a,b){return new Bc(this,a,b)};function Cc(a){return isNaN(a.options.mr)?Infinity:a.options.mr-A(a).length}function Dc(a,b){if(!Ec(a))return!0;var d=0,e;for(e in b){var f=b[e];if(a.options.nr){var h=a.options.nr[e]||Infinity;var k=a.Gg[e]?a.Gg[e].slice(0):[];h-=k.length}else h=Infinity;if(f>h)return!1;d+=b[e]}return d>Cc(a)?!1:!0}
function Ec(a){return Infinity!=a.options.mr||!!a.options.nr}c.zs=function(a){var b=a?this.Ul:this.Yi,d=a?this.Yi:this.Ul,e=b.pop();if(e){for(var f=[e];b.length&&e.group&&e.group==b[b.length-1].group;)f.push(b.pop());for(b=0;e=f[b];b++)d.push(e);f=v.j.filter(f,a);v.j.mc=!1;try{for(b=0;e=f[b];b++)e.run(a)}finally{v.j.mc=!0}}};c.xp=function(){this.Yi.length=0;this.Ul.length=0;v.j.Iz()};c.Id=function(a){this.qd.push(a);return a};c.Mi=function(a){v.g.Ik(this.qd,a)};
function ac(a,b){return a.rp[b]||null}function yc(a,b){return a.an[b]||null}var Ob=Object.create(null);function Fc(){var a=[],b;for(b in Ob)a.push(Ob[b]);return a}mc.prototype.clear=mc.prototype.clear;mc.prototype.clearUndo=mc.prototype.xp;mc.prototype.addChangeListener=mc.prototype.Id;mc.prototype.removeChangeListener=mc.prototype.Mi;function Gc(a,b,d,e,f,h){this.o=a;this.Nc=b;this.zw=d;d=Hc;this.o.B&&(d=-d);this.kz=v.g.qb.Qh(d);a.$d.appendChild(this.Tk(b,!(!f||!h)));this.Db=e;this.Hh&&Ic(this);f&&h||(b=this.Nc.getBBox(),f=b.width+2*Jc,h=b.height+2*Jc);this.Jh(f,h);Ic(this);Kc(this);this.Hh=!0;a.options.readOnly||(v.aa(this.Kk,"mousedown",this,this.wz),this.gc&&v.aa(this.gc,"mousedown",this,this.Ur))}var Jc=6,Hc=20,Lc=null,Mc=null;c=Gc.prototype;c.Tr=null;function Nc(){Lc&&(v.Wa(Lc),Lc=null);Mc&&(v.Wa(Mc),Mc=null)}
function Oc(){v.Touch.bg();Nc()}c.Hh=!1;c.Db=null;c.wg=0;c.Eh=0;c.ra=0;c.Ga=0;c.Qm=!0;
c.Tk=function(a,b){this.Kd=v.g.m.F("g",{},null);var d={filter:"url(#"+this.o.options.Gu+")"};v.g.userAgent.by&&(d={});d=v.g.m.F("g",d,this.Kd);this.up=v.g.m.F("path",{},d);this.Kk=v.g.m.F("rect",{"class":"blocklyDraggable",x:0,y:0,rx:Jc,ry:Jc},d);b?(this.gc=v.g.m.F("g",{"class":this.o.B?"blocklyResizeSW":"blocklyResizeSE"},this.Kd),b=2*Jc,v.g.m.F("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.gc),v.g.m.F("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.gc),v.g.m.F("line",
{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.gc)):this.gc=null;this.Kd.appendChild(a);return this.Kd};c.Z=function(){return this.Kd};function Pc(a,b){a.Kd.dataset&&(a.Kd.dataset.Zb=b)}c.wz=function(a){var b=this.o.xf(a);b&&Qc(b,a,this)};c.hk=function(){};c.Cc=function(){return!1};c.Ur=function(a){Rc(this);Nc();v.g.rh(a)||(this.o.Eo(a,new y(this.o.B?-this.ra:this.ra,this.Ga)),Lc=v.aa(document,"mouseup",this,Oc),Mc=v.aa(document,"mousemove",this,this.Vr),v.cc());a.stopPropagation()};
c.Vr=function(a){this.Qm=!1;a=Sc(this.o,a);this.Jh(this.o.B?-a.x:a.x,a.y);this.o.B&&Ic(this)};function Rc(a){var b=a.Kd.parentNode;return b.lastChild!==a.Kd?(b.appendChild(a.Kd),!0):!1}function Tc(a,b,d){var e=a.o.B?a.Db.x-b.x-a.ra:b.x+a.Db.x;b=b.y+a.Db.y;return Math.max(0,Math.min(1,(Math.min(e+a.ra,d.rb+d.La)-Math.max(e,d.rb))*(Math.min(b+a.Ga,d.Lb+d.Ta)-Math.max(b,d.Lb))/(a.ra*a.Ga)))}function Ic(a){var b=a.Db.x;b=a.o.B?b-(a.wg+a.ra):b+a.wg;a.moveTo(b,a.Eh+a.Db.y)}
c.moveTo=function(a,b){this.Kd.setAttribute("transform","translate("+a+","+b+")")};c.mi=function(){return{width:this.ra,height:this.Ga}};
c.Jh=function(a,b){var d=2*Jc;a=Math.max(a,d+45);b=Math.max(b,d+20);this.ra=a;this.Ga=b;this.Kk.setAttribute("width",a);this.Kk.setAttribute("height",b);this.gc&&(this.o.B?this.gc.setAttribute("transform","translate("+2*Jc+","+(b-d)+") scale(-1 1)"):this.gc.setAttribute("transform","translate("+(a-d)+","+(b-d)+")"));if(this.Hh){if(this.Qm){a=this.o.wb();a.rb/=this.o.scale;a.La/=this.o.scale;a.Lb/=this.o.scale;a.Ta/=this.o.scale;b=-this.ra/4;if(!(this.ra>a.La)){if(this.o.B){d=this.Db.x-b;var e=d-this.ra;
var f=a.rb+a.La,h=a.rb+I/this.o.scale}else e=b+this.Db.x,d=e+this.ra,h=a.rb,f=a.rb+a.La-I/this.o.scale;this.o.B?e<h?b=-(h-this.Db.x+this.ra):d>f&&(b=-(f-this.Db.x)):e<h?b=h-this.Db.x:d>f&&(b=f-this.Db.x-this.ra)}e=b;b=-this.Ga/4;if(!(this.Ga>a.Ta)){d=this.Db.y+b;f=d+this.Ga;h=a.Lb;var k=a.Lb+a.Ta-I/this.o.scale,l=this.Db.y;d<h?b=h-l:f>k&&(b=k-l-this.Ga)}h=b;f=this.zw.getBBox();b={x:e,y:-this.Ga-25};d={x:-this.ra-30,y:h};h={x:f.width,y:h};k={x:e,y:f.height};e=f.width<f.height?h:k;f=f.width<f.height?
k:h;h=Tc(this,b,a);k=Tc(this,d,a);l=Tc(this,e,a);a=Math.max(h,k,l,Tc(this,f,a));h==a?(this.wg=b.x,this.Eh=b.y):k==a?(this.wg=d.x,this.Eh=d.y):l==a?(this.wg=e.x,this.Eh=e.y):(this.wg=f.x,this.Eh=f.y)}Ic(this);Kc(this)}this.Tr&&this.Tr()};
function Kc(a){var b=[],d=a.ra/2,e=a.Ga/2,f=-a.wg,h=-a.Eh;if(d==f&&e==h)b.push("M "+d+","+e);else{h-=e;f-=d;a.o.B&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),r=a.mi();m=(r.width+r.height)/5;m=Math.min(m,r.width,r.height)/4;r=1-8/k;f=d+r*f;h=e+r*h;r=d+m*q;var t=e+m*n;d-=m*q;e-=m*n;n=l+a.kz;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/4;k=Math.cos(n)*k/4;b.push("M"+r+","+t);b.push("C"+(r+k)+","+
(t+l)+" "+f+","+h+" "+f+","+h);b.push("C"+f+","+h+" "+(d+k)+","+(e+l)+" "+d+","+e)}b.push("z");a.up.setAttribute("d",b.join(" "))}c.Xc=function(a){this.Kk.setAttribute("fill",a);this.up.setAttribute("fill",a)};c.G=function(){Nc();v.g.m.removeNode(this.Kd);this.zw=this.Nc=this.o=this.gc=this.Kk=this.up=this.Kd=null};c.eo=function(a,b){a?a.Eg(b.x,b.y):this.moveTo(b.x,b.y);this.wg=this.o.B?this.Db.x-b.x-this.ra:b.x-this.Db.x;this.Eh=b.y-this.Db.y;Kc(this)};
c.wa=function(){return new y(this.Db.x+this.wg,this.Db.y+this.Eh)};c.tw=function(a){this.Qm=a};function Wb(a,b,d,e){Wb.w.constructor.call(this);this.Zb=a?a.id:null;this.Yb=a?a.u.id:null;this.element=b;this.oldValue=d;this.newValue=e;this.mc=!1}u(Wb,bc);Wb.prototype.type=v.j.Nm;Wb.prototype.Ka=function(){var a=Wb.w.Ka.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Zb&&(a.blockId=this.Zb);return a};Wb.prototype.na=function(a){Wb.w.na.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Zb=a.blockId};function db(a){this.S=a}c=db.prototype;c.zp=!0;c.Ck=17;c.gb=null;c.ui=null;function Uc(a){a.Bc||(a.Bc=v.g.m.F("g",{"class":"blocklyIconGroup"},null),a.S.xb&&v.g.m.Va(a.Bc,"blocklyIconGroupReadonly"),a.Xp(a.Bc),a.S.Z().appendChild(a.Bc),v.aa(a.Bc,"mouseup",a,a.Nq),a.Hg())}c.G=function(){v.g.m.removeNode(this.Bc);this.Bc=null;this.Ba(!1);this.S=null};c.Hg=function(){};c.isVisible=function(){return!!this.gb};c.Nq=function(a){this.S.u.Tb()||this.S.xb||v.g.rh(a)||this.Ba(!this.isVisible())};
c.Be=function(){this.isVisible()&&this.gb.Xc(this.S.Ug)};function Cb(a){var b=a.S.wa(),d=v.g.Nd(a.Bc);b=new y(b.x+d.x+a.Ck/2,b.y+d.y+a.Ck/2);Eb(a.ui,b)||(a.ui=b,a.isVisible()&&(a=a.gb,a.Db=b,a.Hh&&Ic(a)))};
function Vc(a){Vc.w.constructor.call(this,a);Uc(this)}u(Vc,db);c=Vc.prototype;c.ua="";c.ra=160;c.Ga=80;c.Xp=function(a){v.g.m.F("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);v.g.m.F("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);v.g.m.F("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
c.Uk=function(){this.Ld=v.g.m.F("foreignObject",{x:Jc,y:Jc},null);var a=document.createElementNS(v.g.m.ff,"body");a.setAttribute("xmlns",v.g.m.ff);a.className="blocklyMinimalBody";var b=document.createElementNS(v.g.m.ff,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.S.B?"RTL":"LTR");a.appendChild(b);this.Kb=b;this.Ld.appendChild(a);v.aa(b,"mouseup",this,this.TC,!0,!0);v.aa(b,"wheel",this,function(d){d.stopPropagation()});v.aa(b,"change",this,function(){this.ua!=b.value&&
(v.j.fa(new v.j.ef(this.S,"comment",null,this.ua,b.value)),this.ua=b.value)});setTimeout(function(){b.focus()},0);return this.Ld};c.Hg=function(){this.isVisible()&&(this.Ba(!1),this.Ba(!0));db.prototype.Hg.call(this)};c.vo=function(){if(this.isVisible()){var a=this.gb.mi(),b=2*Jc;this.Ld.setAttribute("width",a.width-b);this.Ld.setAttribute("height",a.height-b);this.Kb.style.width=a.width-b-4+"px";this.Kb.style.height=a.height-b-4+"px"}};
c.Ba=function(a){if(a!=this.isVisible())if(v.j.fa(new Wb(this.S,"commentOpen",!a,a)),!this.S.Sc()&&!this.Kb||v.g.userAgent.Lg)Wc.prototype.Ba.call(this,a);else{var b=this.Sb(),d=this.mi();a?(this.gb=new Gc(this.S.u,this.Uk(),this.S.Yc,this.ui,this.ra,this.Ga),Pc(this.gb,this.S.id),a=this.vo.bind(this),this.gb.Tr=a,this.Be()):(this.gb.G(),this.Ld=this.Kb=this.gb=null);this.Ye(b);this.Jh(d.width,d.height)}};c.TC=function(){Rc(this.gb)&&this.Kb.focus()};
c.mi=function(){return this.isVisible()?this.gb.mi():{width:this.ra,height:this.Ga}};c.Jh=function(a,b){this.Kb?this.gb.Jh(a,b):(this.ra=a,this.Ga=b)};c.Sb=function(){return this.Kb?this.Kb.value:this.ua};c.Ye=function(a){this.ua!=a&&(v.j.fa(new v.j.ef(this.S,"comment",null,this.ua,a)),this.ua=a);this.Kb&&(this.Kb.value=a)};c.G=function(){v.j.isEnabled()&&this.Ye("");this.S.cb=null;db.prototype.G.call(this)};function Xc(a,b){this.C=a;this.type=b;a.u.Pk&&(this.Ke=a.u.Pk[b],this.Jp=a.u.Pk[v.oj[b]],this.Jq=!this.Ke)}c=Xc.prototype;c.$=null;c.He=null;c.Ze=null;c.Ab=0;c.Ma=0;c.kh=!1;c.Ke=null;c.Jp=null;c.Jq=null;
c.bn=function(a){var b=this,d=b.C,e=a.C;a.isConnected()&&a.disconnect();if(b.isConnected()){var f=w(b),h=b.Ze;b.Ze=null;if(f.Ja)h=v.N.Sg(f),f.G(),f=null;else if(b.type==v.ya){if(!f.M)throw Error("Orphan block does not have an output connection.");var k=Yc(e,f);k&&(f.M.connect(k),f=null)}else if(b.type==v.Ea){if(!f.U)throw Error("Orphan block does not have a previous connection.");for(k=e;k.R;){var l=x(k);if(l&&!l.Ja)k=l;else{Zc(f.U,k.R)&&(k.R.connect(f.U),f=null);break}}}if(f&&(b.disconnect(),v.j.mc)){var m=
v.j.Rb();setTimeout(function(){f.u&&!f.getParent()&&(v.j.W(m),f.M?$c(f.M,b):f.U&&$c(f.U,b),v.j.W(!1))},v.vm)}b.Ze=h}var n;v.j.isEnabled()&&(n=new v.j.uk(e));ad(b,a);e.Qi(d);n&&(n.vg(),v.j.fa(n))};c.G=function(){if(this.isConnected()){this.Ze=null;var a=w(this);a.Ja?a.G():D(a)}this.kh&&bd(this.Ke,this)};function cd(a){return a.type==v.ya||a.type==v.Ea}c.isConnected=function(){return!!this.$};
function dd(a,b){if(!b)return 3;if(cd(a))var d=a.C,e=b.C;else e=a.C,d=b.C;return d&&d==e?1:b.type!=v.oj[a.type]?2:d&&e&&d.u!==e.u?5:Zc(a,b)?d.Ja&&!e.Ja?6:0:4}
c.Rn=function(a){if(a.C.Cf()||0!=dd(this,a))return!1;switch(a.type){case v.he:return this.$||-1!=v.Yk.indexOf(a)?a=!1:a.$?(a=w(a),a=a.Cf()?!(a.U&&w(a.U)):!1):a=!0,a;case v.ge:if(a.isConnected()&&!w(a).Cf()||this.isConnected())return!1;break;case v.ya:if(a.isConnected()&&!w(a).Ub()&&!w(a).Ja)return!1;break;case v.Ea:if(a.isConnected()&&!this.C.R&&!w(a).Ja&&w(a).R)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=v.Yk.indexOf(a)?!1:!0};
c.connect=function(a){if(this.$!=a){switch(dd(this,a)){case 0:break;case 1:throw Error("Attempted to connect a block to itself.");case 5:throw Error("Blocks not on same workspace.");case 2:throw Error("Attempt to connect incompatible types.");case 3:throw Error("Target connection is null.");case 4:throw Error("Connection checks failed. "+(this+" expected "+this.He+", found "+a.He));case 6:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}var b=v.j.Rb();b||v.j.W(!0);cd(this)?this.bn(a):a.bn(this);b||v.j.W(!1)}};function ad(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.$=b;b.$=a}function ed(a,b){for(var d=!1,e=0;e<a.O.length;e++){var f=a.O[e].connection;if(f&&f.type==v.ya&&Zc(b.M,f)){if(d)return null;d=f}}return d}function Yc(a,b){for(var d;d=ed(a,b);)if(a=w(d),!a||a.Ja)return d;return null}
c.disconnect=function(){var a=this.$;if(!a)throw Error("Source connection not connected.");if(a.$!=this)throw Error("Target connection not connected to source connection.");if(cd(this)){var b=this.C;var d=a.C;a=this}else b=a.C,d=this.C;var e=v.j.Rb();e||v.j.W(!0);this.Qp(b,d);a.Xr();e||v.j.W(!1)};c.Qp=function(a,b){var d;v.j.isEnabled()&&(d=new v.j.uk(b));this.$=this.$.$=null;b.Qi(null);d&&(d.vg(),v.j.fa(d))};
c.Xr=function(){var a=this.C,b=this.Ze;if(a.u&&b&&v.j.mc)if(a=v.N.hi(b,a.u),a.M)this.connect(a.M);else if(a.U)this.connect(a.U);else throw Error("Child block does not have output or previous statement.");};function w(a){return a.isConnected()?a.$.C:null}function Zc(a,b){if(!a.He||!b.He)return!0;for(var d=0;d<a.He.length;d++)if(-1!=b.He.indexOf(a.He[d]))return!0;return!1}c.Pv=function(){this.isConnected()&&!Zc(this,this.$)&&D(cd(this)?w(this):this.C)};
c.Za=function(a){a?(Array.isArray(a)||(a=[a]),this.He=a,this.Pv()):this.He=null;return this};c.Kv=function(){return[]};c.zf=function(){for(var a=null,b=this.C,d=b.O,e=0;e<b.O.length;e++)if(d[e].connection===this){a=d[e];break}return a};
c.toString=function(){var a=this.C;if(a)if(a.M==this)var b="Output Connection of ";else if(a.U==this)b="Previous Connection of ";else if(a.R==this)b="Next Connection of ";else{b=null;for(var d=0,e;e=a.O[d];d++)if(e.connection==this){b=e;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return b+d};function fd(){this.Nb=[]}function gd(a,b){if(b.kh)throw Error("Connection already in database.");b.C.xb||(a.Nb.splice(hd(a,b),0,b),b.kh=!0)}function id(a,b){if(!a.Nb.length)return-1;var d=hd(a,b);if(d>=a.Nb.length)return-1;for(var e=b.Ma,f=d;0<=f&&a.Nb[f].Ma==e;){if(a.Nb[f]==b)return f;f--}for(;d<a.Nb.length&&a.Nb[d].Ma==e;){if(a.Nb[d]==b)return d;d++}return-1}
function hd(a,b){if(!a.Nb.length)return 0;for(var d=0,e=a.Nb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Nb[f].Ma<b.Ma)d=f+1;else if(a.Nb[f].Ma>b.Ma)e=f;else{d=f;break}}return d}function bd(a,b){if(!b.kh)throw Error("Connection not in database.");var d=id(a,b);if(-1==d)throw Error("Unable to find connection in connectionDB.");b.kh=!1;a.Nb.splice(d,1)}
function jd(a,b,d){function e(n){var q=h-f[n].Ab,r=k-f[n].Ma;Math.sqrt(q*q+r*r)<=d&&m.push(f[n]);return r<d}var f=a.Nb,h=b.Ab,k=b.Ma;a=0;for(var l=b=f.length-2;a<l;)f[l].Ma<k?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(f.length){for(;0<=a&&e(a);)a--;do b++;while(b<f.length&&e(b))}return m};v.A={};v.$s=40;v.jt=125;v.zx=5;v.Lx=10;v.dd=28;v.ux=v.dd;v.vx=8;v.Wx="#000000";v.vm=250;v.Oo=10;v.qx=30;v.ly=750;v.Ky=100;v.Ax=!0;v.Ux=.45;v.Vx=.65;v.ed={width:96,height:124,url:"sprites.png"};v.ya=1;v.ge=2;v.Ea=3;v.he=4;v.Ee=5;v.fj=-1;v.sk=0;v.Jg=1;v.uD=0;v.vD=1;v.sD=1;v.tD=2;v.oj=[];v.oj[v.ya]=v.ge;v.oj[v.ge]=v.ya;v.oj[v.Ea]=v.he;v.oj[v.he]=v.Ea;v.fd=0;v.Og=1;v.wd=2;v.Xf=3;v.Ss=null;v.So=1;v.Ts=2;v.ot="VARIABLE";v.Yy="VARIABLE_DYNAMIC";v.kt="PROCEDURE";v.lt="RENAME_VARIABLE_ID";v.Us="DELETE_VARIABLE_ID";function kd(a,b){kd.w.constructor.call(this,b);this.o=a}u(kd,Lb);c=kd.prototype;c.Dc=null;c.Vg=null;c.Z=function(){return this.D};
c.ea=function(){this.D=v.g.m.F("g",{"class":"blocklyCursor"},null);var a=this.Pj?"#4286f4":"#cc0a0a";this.Ip=v.g.m.F("g",{width:100,height:5},this.D);this.Wg=v.g.m.F("rect",{x:"0",y:"0",fill:a,width:100,height:5,style:"display: none;"},this.Ip);this.Xg=v.g.m.F("rect",{"class":"blocklyVerticalCursor",x:"0",y:"0",rx:"10",ry:"10",style:"display: none;",stroke:a},this.Ip);this.hn=v.g.m.F("path",{width:100,height:5,d:"m 0,0 "+ld+" v 5",transform:"",style:"display: none;",fill:a},this.Ip);this.Pj||(v.g.m.F("animate",
{attributeType:"XML",attributeName:"fill",dur:"1s",values:"#cc0a0a;transparent;transparent;",repeatCount:"indefinite"},this.Wg),v.g.m.F("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:"#cc0a0a;transparent;transparent;",repeatCount:"indefinite"},this.hn));return this.D};function md(a,b){var d=a.Dc;if(b!=d){var e=a.Z();b?b.appendChild(e):d&&a.o.Sa.appendChild(e);a.Dc=b}}function nd(a,b,d,e){a.Wg.setAttribute("x",b);a.Wg.setAttribute("y",d);a.Wg.setAttribute("width",e)}
function od(a,b,d,e,f){a.Xg.setAttribute("x",b);a.Xg.setAttribute("y",d);a.Xg.setAttribute("width",e);a.Xg.setAttribute("height",f)}function pd(a){a.Ha();a.Vg.style.display=""}c.Ha=function(){this.Wg.style.display="none";this.Xg.style.display="none";this.hn.style.display="none"};
c.Xw=function(){if(this.ub){var a=this.ub;if(a.Zc===qd)a=this.ub.ka,this.Vg=this.Xg,md(this,a.Z()),od(this,0,0,a.width,a.height),pd(this);else if(a.ka.type===v.ya||a.Zc===Nb)a=this.ub.ka,this.Vg=this.hn,md(this,a.C.Z()),this.hn.setAttribute("transform","translate("+a.sg.x+","+a.sg.y+")"+(a.C.B?" scale(-1 1)":"")),pd(this);else if(a.ka.type===v.Ea){a=this.ub.ka;var b=a.sg.y,d=a.C.vb().width;this.Vg=this.Wg;md(this,a.C.Z());nd(this,0,b,d);pd(this)}else if(a.Zc===rd)a=this.ub.ka,b=a.C.vb().width,this.Vg=
this.Wg,md(this,a.C.Z()),nd(this,0,0,b),pd(this);else if(a.Zc===sd)a=this.ub.ka,b=a.Jd.width.baseVal.value,d=a.Jd.height.baseVal.value,this.Vg=this.Xg,md(this,a.Z()),od(this,0,0,b,d),pd(this);else if(a.Zc===td)a=this.ub.rk,this.Vg=this.Wg,md(this,this.o.Sa),nd(this,a.x,a.y,100),pd(this);else if(a.Zc===ud){a=this.ub.ka;d=a.vb();b=d.width+10;d=d.height+10;var e=-5;a.M&&(e-=G);this.Vg=this.Xg;md(this,a.Z());od(this,e,-5,b,d);pd(this)}}};c.next=function(){return this.Pj?null:kd.w.next.call(this)};
c.vl=function(){return this.Pj?null:kd.w.vl.call(this)};c.bk=function(){return this.Pj?null:kd.w.bk.call(this)};c.Ql=function(){return this.Pj?null:kd.w.Ql.call(this)};c.G=function(){this.D&&v.g.m.removeNode(this.D)};v.Ua={};v.Ua.Rp=0;v.Ua.mn=null;v.Ua.mA=function(a){var b=a.u,d=a.Z();b.Qg.play("delete");a=vd(b,d);d=d.cloneNode(!0);d.ZC=a.x;d.$C=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");J(b).appendChild(d);d.zt=d.getBBox();v.Ua.Au(d,b.B,new Date,b.scale)};v.Ua.Au=function(a,b,d,e){var f=(new Date-d)/150;1<f?v.g.m.removeNode(a):(a.setAttribute("transform","translate("+(a.ZC+(b?-1:1)*a.zt.width*e/2*f)+","+(a.$C+a.zt.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(v.Ua.Au,10,a,b,d,e))};
v.Ua.Pz=function(a){var b=a.u,d=b.scale;b.Qg.play("click");if(!(1>d)){var e=vd(b,a.Z());a.M?(e.x+=(a.B?3:-3)*d,e.y+=13*d):a.U&&(e.x+=(a.B?-23:23)*d,e.y+=3*d);a=v.g.m.F("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},J(b));v.Ua.Vt(a,new Date,d)}};v.Ua.Vt=function(a,b,d){var e=(new Date-b)/150;1<e?v.g.m.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,v.Ua.Rp=setTimeout(v.Ua.Vt,10,a,b,d))};
v.Ua.lA=function(a){a.u.Qg.play("disconnect");if(!(1>a.u.scale)){var b=a.vb().height;b=Math.atan(10/b)/Math.PI*180;a.B||(b*=-1);v.Ua.zu(a.Z(),b,new Date)}};v.Ua.zu=function(a,b,d){var e=(new Date-d)/200;1<e?a.Ri="":(a.Ri="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*b)+")",v.Ua.mn=a,v.Ua.Rp=setTimeout(v.Ua.zu,10,a,b,d));a.setAttribute("transform",a.Fg+a.Ri)};v.Ua.Sp=function(){if(v.Ua.mn){clearTimeout(v.Ua.Rp);var a=v.Ua.mn;a.Ri="";a.setAttribute("transform",a.Fg);v.Ua.mn=null}};function wd(a,b){wd.w.constructor.call(this,a,b);this.sg=new y(0,0)}u(wd,Xc);function xd(a,b){var d=a.Ab-b.Ab;a=a.Ma-b.Ma;return Math.sqrt(d*d+a*a)}function $c(a,b){if(!a.C.u.Tb()){var d=yd(a.C);if(!d.xb){var e=!1;if(!d.Ub()){d=yd(b.C);if(!d.Ub())return;b=a;e=!0}var f=v.selected==d;f||d.sj();var h=b.Ab+v.dd+Math.floor(Math.random()*v.Oo)-a.Ab,k=b.Ma+v.dd+Math.floor(Math.random()*v.Oo)-a.Ma;e&&(k=-k);d.B&&(h=b.Ab-v.dd-Math.floor(Math.random()*v.Oo)-a.Ab);d.moveBy(h,k);f||d.Ni()}}}c=wd.prototype;
c.moveTo=function(a,b){this.kh&&bd(this.Ke,this);this.Ab=a;this.Ma=b;this.Jq||gd(this.Ke,this)};c.moveBy=function(a,b){this.moveTo(this.Ab+a,this.Ma+b)};function zd(a,b){a.moveTo(b.x+a.sg.x,b.y+a.sg.y)}function Bb(a,b,d){a.sg.x=b;a.sg.y=d}function Ad(a){var b=a.$.Ab-a.Ab,d=a.$.Ma-a.Ma;if(0!=b||0!=d){a=w(a);var e=a.Z();if(!e)throw Error("block is not rendered.");e=v.g.Nd(e);a.Z().setAttribute("transform","translate("+(e.x-b)+","+(e.y-d)+")");Bd(a,-b,-d)}}
c.closest=function(a,b){var d=this.Jp;if(d.Nb.length){var e=this.Ma,f=this.Ab;this.Ab=f+b.x;this.Ma=e+b.y;var h=hd(d,this);b=null;for(var k=a,l,m=h-1;0<=m&&Math.abs(d.Nb[m].Ma-this.Ma)<=a;)l=d.Nb[m],this.Rn(l,k)&&(b=l,k=xd(l,this)),m--;for(;h<d.Nb.length&&Math.abs(d.Nb[h].Ma-this.Ma)<=a;)l=d.Nb[h],this.Rn(l,k)&&(b=l,k=xd(l,this)),h++;this.Ab=f;this.Ma=e;a={connection:b,oo:k}}else a={connection:null,oo:a};return a};
c.jv=function(){var a=this.type==v.ya||this.type==v.ge?v.g.H.moveBy(0,-5)+v.g.H.dc("v",5)+v.s.A.ie.Bh+v.g.H.dc("v",5):v.g.H.moveBy(-5,0)+v.g.H.dc("h",5)+v.s.A.sc.Ji+v.g.H.dc("h",5);var b=this.C.wa();Xc.kv=v.g.m.F("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.Ab-b.x)+","+(this.Ma-b.y)+")"+(this.C.B?" scale(-1 1)":"")},this.C.Z())};
function Cd(a){Dd(a,!1);var b=[];if(a.type!=v.ya&&a.type!=v.Ea)return b;if(a=w(a)){if(a.isCollapsed()){var d=[];a.M&&d.push(a.M);a.R&&d.push(a.R);a.U&&d.push(a.U)}else d=a.re(!0);for(var e=0;e<d.length;e++)b.push.apply(b,Cd(d[e]));b.length||(b[0]=a)}return b}function Dd(a,b){(a.Jq=b)&&a.kh?bd(a.Ke,a):b||a.kh||gd(a.Ke,a)}c.Rn=function(a,b){return xd(this,a)>b?!1:wd.w.Rn.call(this,a)};c.Qp=function(a,b){wd.w.Qp.call(this,a,b);a.Y&&a.ia();b.Y&&(vc(b),b.ia())};
c.Xr=function(){var a=this.C,b=this.Ze;if(a.u&&b&&v.j.mc){wd.w.Xr.call(this);b=w(this);if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.Cd();b.ia(!1);a.Y&&a.ia()}};c.Kv=function(a){return jd(this.Jp,this,a)};c.bn=function(a){wd.w.bn.call(this,a);var b=this.C;a=a.C;b.Y&&vc(b);a.Y&&vc(a);b.Y&&a.Y&&(this.type==v.Ea||this.type==v.he?a.ia():b.ia())};c.Pv=function(){this.isConnected()&&!Zc(this,this.$)&&(D(cd(this)?w(this):this.C),this.C.pb())};function Ed(a){this.cf=v.selected=a;this.o=a.u;this.Bi=this.cr=null;this.Dj=Fd(this,this.cf);this.jc=this.hb=null;this.Sf=!1;this.Ci=null;this.Mq=!1;this.Oj=null;a=this.cf.re(!1);var b;a:{for(b=this.cf.R;b;){var d=w(b);if(!d)break a;b=d.R}b=null}b&&b!=this.cf.R&&(a.push(b),this.cr=b,this.Bi=Fd(this,b.C));this.pp=a}
Ed.prototype.G=function(){this.o=this.cf=null;this.pp.length=0;this.jc=this.hb=null;v.j.disable();try{this.Dj&&(this.Dj.G(),this.Dj=null),this.Bi&&(this.Bi.G(),this.Bi=null)}finally{v.j.enable()}this.Oj=null};
Ed.prototype.update=function(a,b){var d=this.hb&&this.jc?v.ux:v.dd;for(var e=null,f=null,h=0;h<this.pp.length;h++){var k=this.pp[h],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.oo)}e=(d={closest:e,local:f,oo:d},!!d.closest)&&b!=v.Ts;if((this.Sf=!!b&&!this.cf.getParent()&&this.cf.Cc()&&!e)||Gd(this,d,a)){v.j.disable();d.closest?(a=this.hb!=d.closest,b=this.jc!=d.local,this.hb&&this.jc&&(a||b||this.Sf)&&Hd(this)):Hd(this);this.jc=this.hb=this.Ci=null;if(!this.Sf&&(a=d.closest,b=d.local,a))if(a==
this.hb||a.C.Cf())console.log("trying to connect to an insertion marker");else{this.hb=a;this.jc=b;a=this.hb;b=this.jc;if(b.type==v.ge)a=a.isConnected()&&!Yc(this.cf,a.$.C);else{a:{for(d=0;e=b.C.O[d];d++)if(e.connection&&e.connection.type==v.Ea){d=e.connection;break a}d=null}a=b==d?0:!this.cf.R&&b.type==v.he&&a.isConnected()}if(a)a=this.hb,b=this.jc,w(a)?(this.Oj=w(a),Id(w(a),!0)):b.type==v.ge&&(this.Oj=a.C,a.C.iB(a,!0)),this.Mq=!0;else{d=this.jc;a=this.hb;b=this.cr&&d==this.cr?this.Bi:this.Dj;a:{f=
d.C;e=b.re(!0);f=f.re(!0);if(e.length!=f.length)throw Error("Connection lists did not match in length.");for(h=0;h<f.length;h++)if(f[h]==d){d=e[h];break a}d=null}if(d==this.Ci)throw Error("Made it to connectMarker_ even though the marker isn't changing");b.ia();b.Y=!0;b.Z().setAttribute("visibility","visible");d.type!=v.Ea&&d.type!=v.ya||b.moveBy(a.Ab-d.Ab,a.Ma-d.Ma);d.connect(a);this.Ci=d}this.hb&&this.hb.jv()}v.j.enable()}};
function Fd(a,b){var d=b.type;v.j.disable();try{var e=a.o.xh(d);e.ww(!0);e.yg(b.isCollapsed());if(b.Oa){var f=b.Oa();f&&e.eb(f)}for(a=0;a<b.O.length;a++){var h=b.O[a];for(d=0;d<h.oa.length;d++){var k=h.oa[d];Jd(e,k.getValue(),k.name)}}e.Cd();e.Z().setAttribute("visibility","hidden")}finally{v.j.enable()}return e}
function Gd(a,b,d){var e=b.local,f=b.closest;b=b.oo;if(e&&f){if(a.jc&&a.hb){if(a.hb==f&&a.jc==e)return!1;e=a.jc.Ab+d.x-a.hb.Ab;a=a.jc.Ma+d.y-a.hb.Ma;a=Math.sqrt(e*e+a*a);return!(f&&b>a-v.vx)}if(a.jc||a.hb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.jc||!a.hb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function Hd(a){a.hb&&(v.g.m.removeNode(Xc.kv),delete Xc.kv);if(a.Mq){var b=a.hb;b.type!=v.ya||b.isConnected()?Id(a.Oj,!1):a.Oj.iB(b,!1);a.Oj=null;a.Mq=!1}else if(a.Ci)if(a.Ci){b=a.Ci;var d=b.C,e=d.R,f=d.U,h=d.M;h=b.type==v.ya&&!(h&&h.$);!(b!=e||f&&f.$)||h?D(w(b),!1):b.type==v.Ea&&b!=e?(e=b.$,D(e.C,!1),f=f?f.$:null,D(d,!0),f&&f.connect(e)):D(d,!0);if(b.$)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Ci=null;d.Z().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
Ed.prototype.Ij=function(){var a=[];this.Dj&&a.push(this.Dj);this.Bi&&a.push(this.Bi);return a};function Kd(a,b){this.kb=a;this.o=b;this.pf=new Ed(this.kb);this.gi=null;this.Sf=!1;this.Of=this.kb.wa();b=[];a=Ib(a,!1);for(var d=0,e;e=a[d];d++){e=vb(e);for(var f=0;f<e.length;f++)b.push({location:e[f].ui,icon:e[f]})}this.qn=b}Kd.prototype.G=function(){this.hc=this.o=this.kb=null;this.qn.length=0;this.pf&&(this.pf.G(),this.pf=null)};
function Ld(a,b,d){d=a.$j(d);a.kb.eo(Hb(a.Of,d));for(var e=0;e<a.qn.length;e++){var f=a.qn[e],h=f.icon;f=Hb(f.location,d);h.ui=f;h.isVisible()&&(h=h.gb,h.Db=f,h.Hh&&Ic(h))}a.gi=Md(a.o,b);a.pf.update(d,a.gi);a.Sf=a.pf.Sf;b=a.o.Gc;a.Sf?(a.kb.Zl(!0),a.gi==v.So&&b&&Nd(b,!0)):(a.kb.Zl(!1),b&&Nd(b,!1))}
function Od(a,b,d){Ld(a,b,d);a.qn=[];sc();v.Ua.Sp();b=a.$j(d);a.kb.Jv(Hb(a.Of,b));d=a.o.Gc;a.Sf?(d&&setTimeout(d.close.bind(d),100),a.bl(),a.kb.G(!1,!0)):d&&d.close();a.Sf||(Bd(a.kb,b.x,b.y),a.kb.Kh(!1),a.bl(),a.pf.hb?(b=a.pf,b.hb&&(v.j.disable(),Hd(b),v.j.enable(),b.jc.connect(b.hb),b.cf.Y&&(v.Ua.Pz((cd(b.jc)?b.hb:b.jc).C),Pd(yd(b.cf))))):a.kb.ia(),Qd(a.kb));a.o.pc(!0);(b=a.o.ca)&&v.g.m.Hb(b.ad,a.kb.Cc()?"blocklyToolboxDelete":"blocklyToolboxGrab");v.j.W(!1)}
Kd.prototype.bl=function(){var a=new v.j.uk(this.kb);a.tr=this.Of;a.vg();v.j.fa(a)};Kd.prototype.$j=function(a){a=new y(a.x/this.o.scale,a.y/this.o.scale);this.o.zi&&a.scale(1/this.o.options.Vb.scale);return a};Kd.prototype.Ij=function(){return this.pf&&this.pf.Ij?this.pf.Ij():[]};function Rd(a,b,d,e){this.top=a;this.bottom=b;this.left=d;this.right=e}Rd.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};function Sd(a,b,d,e,f){this.D=v.g.m.F("g",{"class":"blocklyComment"},null);this.D.Fg="";this.gm=v.g.m.F("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:3,ry:3});this.D.appendChild(this.gm);this.Hh=!1;this.Rf=v.g.nh()&&!!a.Mb;Sd.w.constructor.call(this,a,b,d,e,f);this.ia()}u(Sd,qc);c=Sd.prototype;
c.G=function(){if(this.u){if(v.selected==this){this.Sh();var a=this.u;a.Pb&&a.Pb.cancel()}v.j.isEnabled()&&v.j.fa(new $b(this));v.g.m.removeNode(this.D);this.Vi=this.Ph=this.Ld=this.Kb=this.gm=this.D=null;this.ig=!0;v.j.disable();Sd.w.G.call(this);v.j.enable()}};c.Cd=function(){if(!this.u.Y)throw TypeError("Workspace is headless.");this.u.options.readOnly||this.bq||(v.aa(this.Ph,"mousedown",this,this.Yv),v.aa(this.Vi,"mousedown",this,this.Yv));this.bq=!0;Td(this);this.Z().parentNode||this.u.$d.appendChild(this.Z())};
c.Yv=function(a){var b=this.u.xf(a);b&&Qc(b,a,this)};c.hk=function(a){if(!this.u.options.readOnly){var b=[];this.Cc()&&this.Ub()&&(b.push(v.la.Mz(this)),b.push(v.la.Lz(this)));v.la.show(a,b,this.B)}};c.select=function(){if(v.selected!=this){var a=null;if(v.selected){a=v.selected.id;v.j.disable();try{v.selected.Sh()}finally{v.j.enable()}}a=new Wb(null,"selected",a,this.id);a.Yb=this.u.id;v.j.fa(a);v.selected=this;this.sj()}};
c.Sh=function(){if(v.selected==this){var a=new Wb(null,"selected",this.id,null);a.Yb=this.u.id;v.j.fa(a);v.selected=null;this.Ni();Ud(this)}};c.sj=function(){v.g.m.Va(this.D,"blocklySelected");this.gs()};c.Ni=function(){v.g.m.Hb(this.D,"blocklySelected");Ud(this)};
c.wa=function(){var a=0,b=0,d=this.Rf?this.u.Mb.Rb():null,e=this.Z();if(e){do{var f=v.g.Nd(e);a+=f.x;b+=f.y;this.Rf&&this.u.Mb.oe.firstChild==e&&(f=this.u.Mb.Hn(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.u.$d&&e!=d)}return this.Ce=new y(a,b)};c.moveBy=function(a,b){var d=new Zb(this),e=this.wa();this.translate(e.x+a,e.y+b);this.Ce=new y(e.x+a,e.y+b);d.vg();v.j.fa(d);wc(this.u)};c.translate=function(a,b){this.Ce=new y(a,b);this.Z().setAttribute("transform","translate("+a+","+b+")")};
c.fo=function(){if(this.Rf){var a=this.wa();this.Z().removeAttribute("transform");this.u.Mb.Eg(a.x,a.y);Vd(this.u.Mb,this.Z())}};c.Jv=function(a){this.Rf&&(this.translate(a.x,a.y),this.u.Mb.Mk(this.u.Sa))};c.eo=function(a,b){a?a.Eg(b.x,b.y):(this.D.Fg="translate("+b.x+","+b.y+")",this.D.setAttribute("transform",this.D.Fg+this.D.Ri))};c.moveTo=function(a,b){this.translate(a,b)};
c.wn=function(){var a=this.wa(),b=this.vb(),d=a.y,e=a.y+b.height;if(this.B){var f=a.x-b.width;a=a.x}else f=a.x,a=a.x+b.width;return new Rd(d,e,f,a)};function Td(a){a.Ub()?v.g.m.Va(a.D,"blocklyDraggable"):v.g.m.Hb(a.D,"blocklyDraggable")}c.Pi=function(a){Sd.w.Pi.call(this,a);Td(this)};c.Kh=function(a){a?(a=this.Z(),a.Fg="",a.Ri="",v.g.m.Va(this.D,"blocklyDragging")):v.g.m.Hb(this.D,"blocklyDragging")};c.Z=function(){return this.D};c.bh=function(){return this.Kb?this.Kb.value:this.Nc};
c.Kf=function(a){Sd.w.Kf.call(this,a);this.Kb&&(this.Kb.value=a)};c.Zl=function(a){a?v.g.m.Va(this.D,"blocklyDraggingDelete"):v.g.m.Hb(this.D,"blocklyDraggingDelete")};c.tw=function(){};function oc(a,b,d){v.j.disable();try{var e=pc(a),f=new Sd(b,e.content,e.$u,e.bx,e.id);b.Y&&(f.Cd(),f.ia(!1));if(!isNaN(e.x)&&!isNaN(e.y))if(b.B){var h=d||b.Rc();f.moveBy(h-e.x,e.y)}else f.moveBy(e.x,e.y)}finally{v.j.enable()}rc(f);return f}
c.jm=function(a){var b;this.u.B&&(b=this.u.Rc());a=this.im(a);var d=this.wa();a.setAttribute("x",Math.round(this.u.B?b-d.x:d.x));a.setAttribute("y",Math.round(d.y));a.setAttribute("h",this.Hj());a.setAttribute("w",this.Rc());return a};function Wd(a,b){this.bc=a;this.o=b;this.gi=null;this.Ko=!1;this.Of=this.bc.wa();this.ji=v.g.nh()&&b.Mb?b.Mb:null}Wd.prototype.G=function(){this.ji=this.o=this.bc=null};function Xd(a,b,d){d=a.$j(d);a.bc.eo(a.ji,Hb(a.Of,d));a.bc.Cc()&&(a.gi=Md(a.o,b),a.Ko=a.gi!=v.Ss,b=a.o.Gc,a.Ko?(a.bc.Zl(!0),a.gi==v.So&&b&&Nd(b,!0)):(a.bc.Zl(!1),b&&Nd(b,!1)))}
function Yd(a,b,d){Xd(a,b,d);b=a.$j(d);b=Hb(a.Of,b);a.bc.moveTo(b.x,b.y);b=a.o.Gc;a.Ko?(b&&setTimeout(b.close.bind(b),100),a.bl(),a.bc.G(!1,!0)):b&&b.close();a.Ko||(a.ji&&a.ji.Mk(a.o.$d),a.bc.Kh&&a.bc.Kh(!1),a.bl());a.o.pc(!0);a.o.ca&&v.g.m.Hb(a.o.ca.ad,a.bc.Cc()?"blocklyToolboxDelete":"blocklyToolboxGrab");v.j.W(!1)}Wd.prototype.bl=function(){if(this.bc.Xq){var a=new Zb(this.bc);a.ur=this.Of;a.vg();v.j.fa(a)}};
Wd.prototype.$j=function(a){a=new y(a.x/this.o.scale,a.y/this.o.scale);this.o.zi&&a.scale(1/this.o.options.Vb.scale);return a};Wd.prototype.fo=function(){this.bc.moveTo(0,0);this.ji.Eg(this.Of.x,this.Of.y);Vd(this.ji,this.bc.Z())};function Zd(a){this.o=a;this.Gw=new y(a.scrollX,a.scrollY)}Zd.prototype.G=function(){this.o=null};Zd.prototype.Eo=function(){v.selected&&v.selected.Sh();$d(this.o)};Zd.prototype.$g=function(a){a=Hb(this.Gw,a);this.o.scroll(a.x,a.y)};function ae(a){ae.w.constructor.call(this,a.dh());this.Wb=a.Wb;this.Se=a.Se}u(ae,Zd);ae.prototype.$g=function(a){a=Hb(this.Gw,a);this.Se?this.Wb.set(-a.x):this.Wb.set(-a.y)};v.I={};v.I.visible=!1;v.I.wj=!1;v.I.ey=50;v.I.Iv=0;v.I.am=0;v.I.er=0;v.I.fr=0;v.I.da=null;v.I.ko=null;v.I.ft=0;v.I.gt=10;v.I.Dy=10;v.I.Tx=750;v.I.Wo=5;v.I.sa=null;v.I.ea=function(){v.I.sa||(v.I.sa=document.createElement("div"),v.I.sa.className="blocklyTooltipDiv",document.body.appendChild(v.I.sa))};v.I.vj=function(a){v.wc(a,"mouseover",null,v.I.jC);v.wc(a,"mouseout",null,v.I.iC);a.addEventListener("mousemove",v.I.hC,!1)};
v.I.jC=function(a){if(!v.I.wj){for(a=a.currentTarget;"string"!=typeof a.bf&&"function"!=typeof a.bf;)a=a.bf;v.I.da!=a&&(v.I.Ha(),v.I.ko=null,v.I.da=a);clearTimeout(v.I.Iv)}};v.I.iC=function(){v.I.wj||(v.I.Iv=setTimeout(function(){v.I.da=null;v.I.ko=null;v.I.Ha()},1),clearTimeout(v.I.am))};
v.I.hC=function(a){if(v.I.da&&v.I.da.bf&&!v.I.wj)if(v.I.visible){var b=v.I.er-a.pageX;a=v.I.fr-a.pageY;Math.sqrt(b*b+a*a)>v.I.Dy&&v.I.Ha()}else v.I.ko!=v.I.da&&(clearTimeout(v.I.am),v.I.er=a.pageX,v.I.fr=a.pageY,v.I.am=setTimeout(v.I.GC,v.I.Tx))};v.I.Ha=function(){v.I.visible&&(v.I.visible=!1,v.I.sa&&(v.I.sa.style.display="none"));v.I.am&&clearTimeout(v.I.am)};v.I.block=function(){v.I.Ha();v.I.wj=!0};v.I.aD=function(){v.I.wj=!1};
v.I.GC=function(){if(!v.I.wj&&(v.I.ko=v.I.da,v.I.sa)){v.I.sa.innerHTML="";for(var a=v.I.da.bf;"function"==typeof a;)a=a();a=v.g.Pa.jx(a,v.I.ey);a=a.split("\n");for(var b=0;b<a.length;b++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[b]));v.I.sa.appendChild(d)}a=v.I.da.B;b=document.documentElement.clientWidth;d=document.documentElement.clientHeight;v.I.sa.style.direction=a?"rtl":"ltr";v.I.sa.style.display="block";v.I.visible=!0;var e=v.I.er;e=a?e-(v.I.ft+v.I.sa.offsetWidth):
e+v.I.ft;var f=v.I.fr+v.I.gt;f+v.I.sa.offsetHeight>d+window.scrollY&&(f-=v.I.sa.offsetHeight+2*v.I.gt);a?e=Math.max(v.I.Wo-window.scrollX,e):e+v.I.sa.offsetWidth>b+window.scrollX-2*v.I.Wo&&(e=b-v.I.sa.offsetWidth-2*v.I.Wo);v.I.sa.style.top=f+"px";v.I.sa.style.left=e+"px"}};function be(a,b){this.hc=this.qc=this.Si=this.Ti=this.Xd=this.kd=this.Hv=null;this.bu=b;this.yl=this.yi=this.zl=this.pi=!1;this.Ue=a;this.L=this.Uh=this.Ge=this.Yf=this.Yj=this.io=null;this.Tn=this.ri=this.Et=!1;this.hv=!v.Ax}c=be.prototype;c.G=function(){v.Touch.bg();v.I.aD();this.bu.Pb=null;this.io&&v.Wa(this.io);this.Yj&&v.Wa(this.Yj);this.L=this.hc=this.qc=this.Si=this.Ti=null;this.Ge&&(this.Ge.G(),this.Ge=null);this.Uh&&(this.Uh.G(),this.Uh=null);this.Yf&&(this.Yf.G(),this.Yf=null)};
function ce(a,b){a.kd=Gb(new y(b.clientX,b.clientY),a.Hv);if(a.pi)var d=!1;else d=a.kd,a.pi=Math.sqrt(d.x*d.x+d.y*d.y)>(a.L?v.Lx:v.zx),d=a.pi;if(d){if(a.Et)throw Error("updateIsDragging_ should only be called once per gesture.");a.Et=!0;if(a.Xd){a.yl=!0;a.Yf=new Wd(a.Xd,a.hc);d=a.Yf;v.j.Rb()||v.j.W(!0);d.o.pc(!1);d.bc.tw(!1);d.ji&&d.fo();d.bc.Kh&&d.bc.Kh(!0);var e=d.o.ca;e&&v.g.m.Va(e.ad,d.bc.Cc()?"blocklyToolboxDelete":"blocklyToolboxGrab");Xd(a.Yf,a.Ue,a.kd);d=!0}else d=!1;if(!d){if(a.qc)if(a.L?
(a.L.qv(a.qc)?!de(a.L)||a.L.rv(a.kd)?(a.hc=a.L.Ca,ee(a.hc),v.j.Rb()||v.j.W(!0),a.Si=null,a.qc=fe(a.L,a.qc),a.qc.select(),d=!0):d=!1:d=!1,a.yi=d):a.qc.Ub()&&(a.yi=!0),a.yi){a.Ge=new Kd(a.qc,a.hc);d=a.Ge;e=a.kd;var f=a.hv;v.j.Rb()||v.j.W(!0);d.o.zi&&Pd(d.kb);nc();d.o.pc(!1);v.Ua.Sp();if(d.kb.getParent()||f&&d.kb.R&&w(d.kb.R))D(d.kb,f),e=d.$j(e),e=Hb(d.Of,e),d.kb.translate(e.x,e.y),v.Ua.lA(d.kb);d.kb.Kh(!0);d.kb.fo();(e=d.o.ca)&&v.g.m.Va(e.ad,d.kb.Cc()?"blocklyToolboxDelete":"blocklyToolboxGrab");Ld(a.Ge,
a.Ue,a.kd);d=!0}else d=!1;else d=!1;if(d=!d)if(a.L)d=de(a.L);else if(d=a.hc)d=a.hc,d=d.options.kc&&d.options.kc.$g;d&&(a.Uh=a.L?new ae(a.L):new Zd(a.hc),a.zl=!0,a.Uh.Eo())}v.uh()}a.Ue=b}
c.Tp=function(a){v.g.Vn(a)?this.cancel():(this.ri=!0,v.Ua.Sp(),ee(this.hc),this.hc.zi&&this.hc.resize(),ge(this.hc),this.Ue=a,v.cc(!!this.L),v.I.block(),this.qc&&(this.qc.select(),!this.qc.xb&&a.shiftKey&&v.v.un()),v.g.rh(a)?Kb(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||v.FB(a,this),this.Hv=new y(a.clientX,a.clientY),this.hv=a.altKey||a.ctrlKey||a.metaKey,this.vj(a)))};
c.vj=function(a){this.io=v.aa(document,"mousemove",null,this.pl.bind(this));this.Yj=v.aa(document,"mouseup",null,this.Kn.bind(this));a.preventDefault();a.stopPropagation()};c.pl=function(a){ce(this,a);this.zl?this.Uh.$g(this.kd):this.yi?Ld(this.Ge,this.Ue,this.kd):this.yl&&Xd(this.Yf,this.Ue,this.kd);a.preventDefault();a.stopPropagation()};
c.Kn=function(a){ce(this,a);v.uh();if(this.Tn)console.log("Trying to end a gesture recursively.");else{this.Tn=!0;if(this.yl)Yd(this.Yf,a,this.kd);else if(this.yi)Od(this.Ge,a,this.kd);else if(this.zl){var b=this.Uh;b.$g(this.kd);he(b.o)}else if(this.Xd&&!this.pi)this.Xd.gs&&this.Xd.gs(),this.Xd.select&&this.Xd.select();else if(ie(this))this.Ti.Wd(),je(this);else if(this.Si&&!this.pi&&!ie(this))this.L&&this.L.uj?this.qc.isEnabled()&&(v.j.Rb()||v.j.W(!0),Qd(fe(this.L,this.qc))):v.j.fa(new Wb(this.Si,
"click",void 0,void 0)),je(this),v.j.W(!1);else if(!(this.Si||this.Xd||this.Ti||this.pi))if(v.Ai=!1,b=this.bu,b.cursor.Ha(),a.shiftKey){var d=v.g.BC(b,new y(a.clientX,a.clientY));d=ke(b,d);b.cursor.oc(d);v.Ai=!0}else v.selected&&v.selected.Sh();a.preventDefault();a.stopPropagation();this.G()}};c.cancel=function(){if(!this.Tn){v.uh();if(this.yl)Yd(this.Yf,this.Ue,this.kd);else if(this.yi)Od(this.Ge,this.Ue,this.kd);else if(this.zl){var a=this.Uh;a.$g(this.kd);he(a.o)}this.G()}};
function Kb(a,b){a.qc?(je(a),v.cc(a.L),a.qc.hk(b)):a.Xd?a.Xd.hk(b):a.hc&&!a.L&&(v.cc(),a.hc.hk(b));b.preventDefault();b.stopPropagation();a.G()}function le(a,b,d){if(a.ri)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.hc||(a.hc=d);a.Ue=b;a.Tp(b)}function me(a,b,d){if(a.ri)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.L||(a.L=d);le(a,b,d.dh())}
function Qc(a,b,d){if(a.ri)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");a.Xd||(a.Xd=d);a.Ue=b}function je(a){a.qc&&!a.L&&Pd(a.qc)}function ne(a,b){a.Si||a.Xd||(a.Si=b,b.xb&&b!=yd(b)?oe(a,yd(b)):oe(a,b))}function oe(a,b){b.Ja?oe(a,b.getParent()):a.qc=b}function ie(a){if(a.Ti){var b=a.Ti;b=!!b.C&&b.C.Sc()&&!!b.Wd&&"function"===typeof b.Wd}else b=!1;return b&&!a.pi&&(!a.L||!a.L.uj)}c.Tb=function(){return this.zl||this.yi||this.yl};
c.Ij=function(){return this.Ge?this.Ge.Ij():[]};function pe(){for(var a=Fc(),b=0,d;d=a[b];b++)if(d.Pb)return!0;return!1};function qe(a,b){this.Jj=a;this.ss=b.spacing;this.yv=b.length;this.AB=(this.ir=a.firstChild)&&this.ir.nextSibling;this.HC=b.snap}qe.prototype.Ih=1;qe.prototype.G=function(){this.Jj=null};qe.prototype.update=function(a){this.Ih=a;var b=this.ss*a||100;this.Jj.setAttribute("width",b);this.Jj.setAttribute("height",b);b=Math.floor(this.ss/2)+.5;var d=b-this.yv/2,e=b+this.yv/2;b*=a;d*=a;e*=a;re(this.ir,a,d,e,b,b);re(this.AB,a,b,b,d,e)};
function re(a,b,d,e,f,h){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",h))}qe.prototype.moveTo=function(a,b){this.Jj.setAttribute("x",a);this.Jj.setAttribute("y",b);(v.g.userAgent.Lg||v.g.userAgent.Cm)&&this.update(this.Ih)};function se(a){var b=!!a.readOnly;if(b)var d=null,e=!1,f=!1,h=!1,k=!1,l=!1,m=!1;else{d=te(a.toolbox||null);e=!(!d||!d.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;h=a.collapse;void 0===h&&(h=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var q=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var t=a.toolboxPosition;t="end"===t?!1:!0;t=r?t?v.fd:v.Og:t==q?v.Xf:v.wd;var p=a.css;
void 0===p&&(p=!0);var z="https://blockly-demo.appspot.com/static/media/";a.media?z=a.media:a.path&&(z=a.path+"media/");var H=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,M=a.theme||v.Pg.Xh;this.B=q;this.xe=H;this.collapse=h;this.Ok=k;this.disable=l;this.readOnly=b;this.mr=a.maxBlocks||Infinity;this.nr=a.maxInstances;this.We=z;this.bv=e;b=a.move||{};h={};h.scrollbars=void 0===b.scrollbars&&void 0===a.scrollbars?e:!!b.scrollbars||!!a.scrollbars;h.bj=h.scrollbars&&void 0!==b.wheel?!!b.wheel:!1;h.$g=
h.scrollbars?void 0===b.drag?!0:!!b.drag:!1;this.kc=h;this.gv=f;this.Wj=n;this.fB=m;this.dB=p;this.Ad=r;this.Ff=d;d=a.grid||{};e={};e.spacing=Number(d.spacing)||0;e.ib=d.colour||"#888";e.length=Number(d.length)||1;e.tE=0<e.spacing&&!!d.snap;this.Yu=e;a=a.zoom||{};d={};d.controls=void 0===a.controls?!1:!!a.controls;d.bj=void 0===a.wheel?!1:!!a.wheel;d.Fw=void 0===a.startScale?1:Number(a.startScale);d.Il=void 0===a.maxScale?3:Number(a.maxScale);d.Kl=void 0===a.minScale?.3:Number(a.minScale);d.AC=void 0===
a.scaleSpeed?1.2:Number(a.scaleSpeed);this.fb=d;this.qa=t;this.UC=M}se.prototype.Vb=null;se.prototype.Ag=null;se.prototype.wb=null;function te(a){if(a){if("string"!=typeof a&&(v.g.userAgent.Lg&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=v.N.Qf(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};function ue(a){this.o=a;this.Od=new ve(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.ce=new ve(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.Sk=v.g.m.F("rect",{height:I,width:I,"class":"blocklyScrollbarBackground"},null);v.g.m.wi(this.Sk,a.$d)}ue.prototype.nb=null;ue.prototype.G=function(){v.g.m.removeNode(this.Sk);this.nb=this.o=this.Sk=null;this.Od.G();this.Od=null;this.ce.G();this.ce=null};
ue.prototype.resize=function(){var a=this.o.wb();if(a){var b=!1,d=!1;this.nb&&this.nb.La==a.La&&this.nb.Ta==a.Ta&&this.nb.Cb==a.Cb&&this.nb.Bb==a.Bb?(this.nb&&this.nb.xd==a.xd&&this.nb.rb==a.rb&&this.nb.ac==a.ac||(b=!0),this.nb&&this.nb.gd==a.gd&&this.nb.Lb==a.Lb&&this.nb.Ob==a.Ob||(d=!0)):d=b=!0;b&&this.Od.resize(a);d&&this.ce.resize(a);this.nb&&this.nb.La==a.La&&this.nb.Bb==a.Bb||this.Sk.setAttribute("x",this.ce.Vc.x);this.nb&&this.nb.Ta==a.Ta&&this.nb.Cb==a.Cb||this.Sk.setAttribute("y",this.Od.Vc.y);
this.nb=a}};ue.prototype.set=function(a,b){var d={};a*=this.Od.lc;b*=this.ce.lc;var e=this.ce.ye,f=a/this.Od.ye;d.x=isNaN(f)?0:f;e=b/e;d.y=isNaN(e)?0:e;this.o.Ag(d);we(this.Od,a);we(this.ce,b)};
function ve(a,b,d,e){this.o=a;this.Zj=d||!1;this.ti=b;this.nb=null;this.Tk(e);this.Vc=new y(0,0);a=I;b?(this.Zd.setAttribute("height",a),this.Gf.setAttribute("height",a),this.Pf.setAttribute("height",a-5),this.Pf.setAttribute("y",2.5),this.El="width",this.aw="x"):(this.Zd.setAttribute("width",a),this.Gf.setAttribute("width",a),this.Pf.setAttribute("width",a-5),this.Pf.setAttribute("x",2.5),this.El="height",this.aw="y");this.Tv=v.aa(this.Zd,"mousedown",this,this.eC);this.Uv=v.aa(this.Pf,"mousedown",
this,this.fC)}var xe,ye;c=ve.prototype;c.Br=new y(0,0);c.Dw=0;c.ye=0;c.fh=0;c.ql=0;c.sh=!0;c.ci=!0;var I=15;v.Touch.ip&&(I=25);ve.prototype.G=function(){ze();v.Wa(this.Tv);this.Tv=null;v.Wa(this.Uv);this.Uv=null;v.g.m.removeNode(this.Gf);this.o=this.Pf=this.Zd=this.D=this.Gf=null};function we(a,b){a.ql=b;a.Pf.setAttribute(a.aw,a.ql)}function Ae(a,b){a.ye=b;a.Gf.setAttribute(a.El,a.ye);a.Zd.setAttribute(a.El,a.ye)}ue.prototype.Oi=function(a){this.Od.Oi(a);this.ce.Oi(a)};
function Be(a,b,d){a.Vc.x=b;a.Vc.y=d;v.g.m.Yl(a.Gf,"translate("+(a.Vc.x+a.Br.x)+"px,"+(a.Vc.y+a.Br.y)+"px)")}c=ve.prototype;c.resize=function(a){if(!a&&(a=this.o.wb(),!a))return;var b=this.nb;a&&b&&a.La==b.La&&a.Ta==b.Ta&&a.rb==b.rb&&a.Lb==b.Lb&&a.Cb==b.Cb&&a.Bb==b.Bb&&a.xd==b.xd&&a.gd==b.gd&&a.ac==b.ac&&a.Ob==b.Ob||(this.nb=a,this.ti?Ce(this,a):De(this,a),Ee(this))};function Ce(a,b){var d=b.La-1;a.Zj&&(d-=I);Ae(a,Math.max(0,d));d=b.Bb+.5;a.Zj&&a.o.B&&(d+=I);Be(a,d,b.Cb+b.Ta-I-.5);Fe(a,b)}
function Fe(a,b){a.Zj||a.Ba(a.ye<b.xd);a.lc=a.ye/b.xd;if(-Infinity==a.lc||Infinity==a.lc||isNaN(a.lc))a.lc=0;a.fh=Math.max(0,b.La*a.lc);a.Pf.setAttribute(a.El,a.fh);we(a,Ge(a,(b.rb-b.ac)*a.lc))}function De(a,b){var d=b.Ta-1;a.Zj&&(d-=I);Ae(a,Math.max(0,d));d=b.Bb+.5;a.o.B||(d+=b.La-I-1);Be(a,d,b.Cb+.5);He(a,b)}
function He(a,b){a.Zj||a.Ba(a.ye<b.gd);a.lc=a.ye/b.gd;if(-Infinity==a.lc||Infinity==a.lc||isNaN(a.lc))a.lc=0;a.fh=Math.max(0,b.Ta*a.lc);a.Pf.setAttribute(a.El,a.fh);we(a,Ge(a,(b.Lb-b.Ob)*a.lc))}
c.Tk=function(a){var b="blocklyScrollbar"+(this.ti?"Horizontal":"Vertical");a&&(b+=" "+a);this.Gf=v.g.m.F("svg",{"class":b},null);this.D=v.g.m.F("g",{},this.Gf);this.Zd=v.g.m.F("rect",{"class":"blocklyScrollbarBackground"},this.D);a=Math.floor((I-5)/2);this.Pf=v.g.m.F("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.D);v.g.m.wi(this.Gf,J(this.o))};c.isVisible=function(){return this.sh};c.Oi=function(a){var b=a!=this.ci;this.ci=a;b&&this.om()};
c.Ba=function(a){var b=a!=this.isVisible();if(this.Zj)throw Error("Unable to toggle visibility of paired scrollbars.");this.sh=a;b&&this.om()};c.om=function(){this.ci&&this.isVisible()?this.Gf.setAttribute("display","block"):this.Gf.setAttribute("display","none")};
c.eC=function(a){ge(this.o);v.Touch.bg();ze();if(v.g.rh(a))a.stopPropagation();else{var b=v.g.Ll(a,J(this.o),Ie(this.o));b=this.ti?b.x:b.y;var d=v.g.fl(this.Pf);d=this.ti?d.x:d.y;var e=this.ql,f=.95*this.fh;b<=d?e-=f:b>=d+this.fh&&(e+=f);we(this,Ge(this,e));Ee(this);a.stopPropagation();a.preventDefault()}};
c.fC=function(a){ge(this.o);ze();v.g.rh(a)?a.stopPropagation():(this.LC=this.ql,$d(this.o),this.Dw=this.ti?a.clientX:a.clientY,xe=v.aa(document,"mouseup",this,this.kC),ye=v.aa(document,"mousemove",this,this.gC),a.stopPropagation(),a.preventDefault())};c.gC=function(a){we(this,Ge(this,this.LC+((this.ti?a.clientX:a.clientY)-this.Dw)));Ee(this)};c.kC=function(){he(this.o);v.Touch.bg();ze()};function ze(){v.cc(!0);xe&&(v.Wa(xe),xe=null);ye&&(v.Wa(ye),ye=null)}
function Ge(a,b){return b=0>=b||isNaN(b)||a.ye<a.fh?0:Math.min(b,a.ye-a.fh)}function Ee(a){var b=a.ql/a.ye;isNaN(b)&&(b=0);var d={};a.ti?d.x=b:d.y=b;a.o.Ag(d)}c.set=function(a){we(this,Ge(this,a*this.lc));Ee(this)};function Je(a,b){Je.w.constructor.call(this,a,b);this.Un=!1;this.me={};this.Cw=this.Sl=0;this.Ar=null}u(Je,be);c=Je.prototype;c.Tp=function(a){Je.w.Tp.call(this,a);!this.Tn&&v.Touch.Wn(a)&&Ke(this,a)};c.vj=function(a){this.Ar=v.aa(document,"mousedown",null,this.XA.bind(this),!0);this.io=v.aa(document,"mousemove",null,this.pl.bind(this),!0);this.Yj=v.aa(document,"mouseup",null,this.Kn.bind(this),!0);a.preventDefault();a.stopPropagation()};
c.XA=function(a){!this.Tb()&&v.Touch.Wn(a)&&(Ke(this,a),this.Un&&v.uh())};c.pl=function(a){if(this.Tb())v.Touch.ps(a)&&Je.w.pl.call(this,a);else if(this.Un){if(v.Touch.Wn(a)){this.me[v.Touch.Jn(a)]=Le(this,a);var b=Object.keys(this.me);if(2==b.length){b=Fb(this.me[b[0]],this.me[b[1]])/this.Cw;if(0<this.Sl&&Infinity>this.Sl){var d=b-this.Sl;d=0<d?5*d:6*d;var e=this.hc,f=v.g.Ll(a,J(e),Ie(e));e.zoom(f.x,f.y,d)}this.Sl=b;a.preventDefault()}}v.uh()}else Je.w.pl.call(this,a)};
c.Kn=function(a){if(v.Touch.Wn(a)&&!this.Tb()){var b=v.Touch.Jn(a);this.me[b]&&delete this.me[b];2>Object.keys(this.me).length&&(this.me={},this.Sl=0)}!this.Un||this.Tb()?v.Touch.ps(a)&&Je.w.Kn.call(this,a):(a.preventDefault(),a.stopPropagation(),this.G())};c.G=function(){Je.w.G.call(this);this.Ar&&v.Wa(this.Ar)};function Ke(a,b){a.me[v.Touch.Jn(b)]=Le(a,b);var d=Object.keys(a.me);2==d.length&&(a.Cw=Fb(a.me[d[0]],a.me[d[1]]),a.Un=!0,b.preventDefault())}
function Le(a,b){return a.hc?new y(b.pageX?b.pageX:b.changedTouches[0].pageX,b.pageY?b.pageY:b.changedTouches[0].pageY):null};function Me(a){this.o=a;this.Eq=!1;this.zj=[];0>=this.o.options.Wj||(a={scrollbars:!0,hg:this.o.options.hg,Vb:this.o,B:this.o.B,xe:this.o.options.xe},this.o.Ad?(a.qa=this.o.qa==v.fd?v.Og:v.fd,this.L=new Ne(a)):(a.qa=this.o.qa==v.Xf?v.wd:v.Xf,this.L=new Oe(a)),this.o.Id(Pe(this)))}c=Me.prototype;c.ai=47;c.um=44;c.hj=16;c.Xo=20;c.wk=20;c.Fm=10;c.cp=0;c.ep=32;c.Sx=.1;c.Rj=!1;c.co=0;c.D=null;c.Go=null;c.gr=0;c.th=0;c.Dl=0;c.mk=0;
c.ea=function(){this.D=v.g.m.F("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=v.g.m.F("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.D);v.g.m.F("rect",{width:this.ai,height:this.um,y:this.hj},b);var d=v.g.m.F("image",{width:v.ed.width,x:-this.cp,height:v.ed.height,y:-this.ep,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.D);d.setAttributeNS(v.g.m.ke,"xlink:href",this.o.options.We+v.ed.url);b=v.g.m.F("clipPath",{id:"blocklyTrashLidClipPath"+a},this.D);
v.g.m.F("rect",{width:this.ai,height:this.hj},b);this.Go=v.g.m.F("image",{width:v.ed.width,x:-this.cp,height:v.ed.height,y:-this.ep,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.D);this.Go.setAttributeNS(v.g.m.ke,"xlink:href",this.o.options.We+v.ed.url);v.aa(this.D,"mouseup",this,this.click);v.wc(d,"mouseover",this,this.LB);v.wc(d,"mouseout",this,this.KB);this.mp();return this.D};
c.T=function(a){0<this.o.options.Wj&&(v.g.m.wi(this.L.ea("svg"),J(this.o)),this.L.T(this.o),this.L.qv=function(){return!0});this.Ig=this.Xo+a;Nd(this,!1);return this.Ig+this.um+this.hj};c.G=function(){this.D&&(v.g.m.removeNode(this.D),this.D=null);this.o=this.Go=null;clearTimeout(this.gr)};
c.position=function(){if(this.Ig){var a=this.o.wb();a&&(this.Dl=a.qa==v.wd||this.o.Ad&&!this.o.B?a.La+a.Bb-this.ai-this.wk-I:this.wk+I,this.mk=a.qa==v.Og?this.Ig:a.Ta+a.Cb-(this.um+this.hj)-this.Ig,this.D.setAttribute("transform","translate("+this.Dl+","+this.mk+")"))}};c.Fj=function(){if(!this.D)return null;var a=this.D.getBoundingClientRect(),b=a.top+this.ep-this.Fm;a=a.left+this.cp-this.Fm;return new Rd(b,b+this.hj+this.um+2*this.Fm,a,a+this.ai+2*this.Fm)};
function Nd(a,b){a.Rj!=b&&(clearTimeout(a.gr),a.Rj=b,a.mp())}c.mp=function(){this.th+=this.Rj?.2:-.2;this.th=Math.min(Math.max(this.th,this.co),1);Qe(this,45*this.th);this.D.style.opacity=.4+.4*this.th;this.th>this.co&&1>this.th&&(this.gr=setTimeout(this.mp.bind(this),20))};function Qe(a,b){var d=a.o.qa==v.Xf||a.o.Ad&&a.o.B;a.Go.setAttribute("transform","rotate("+(d?-b:b)+","+(d?4:a.ai-4)+","+(a.hj-2)+")")}c.close=function(){Nd(this,!1)};
c.click=function(){if(this.Eq){for(var a=[],b=0,d;d=this.zj[b];b++)a[b]=v.N.Qf(d);this.L.show(a)}};c.LB=function(){this.Eq&&Nd(this,!0)};c.KB=function(){Nd(this,!1)};
function Pe(a){return function(b){if(!(0>=a.o.options.Wj)&&b.type==v.j.tm&&"shadow"!=b.wr.tagName.toLowerCase()){for(var d=b=b.wr.cloneNode(!0);d;){d.removeAttribute&&(d.removeAttribute("x"),d.removeAttribute("y"),d.removeAttribute("id"));var e=d.firstChild||d.nextSibling;if(!e)for(e=d.parentNode;e;){if(e.nextSibling){e=e.nextSibling;break}e=e.parentNode}d=e}b=v.N.ld(b);-1==a.zj.indexOf(b)&&(a.zj.unshift(b),a.zj.length>a.o.options.Wj&&a.zj.splice(a.o.options.Wj,a.zj.length-a.o.options.Wj),a.Eq=!0,
a.co=a.Sx,Qe(a,45*a.co))}}};function gc(a,b,d,e){this.u=a;this.name=b;this.type=d||"";this.hh=e||v.g.uf();v.j.fa(new Tb(this))}gc.prototype.ja=function(){return this.hh};function Re(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};v.K={};v.K.ab=v.ot;v.K.vt=function(a){var b=A(a,!1);a=Object.create(null);for(var d=0;d<b.length;d++){var e=b[d].og();if(e)for(var f=0;f<e.length;f++){var h=e[f],k=h.ja();k&&(a[k]=h)}}b=[];for(k in a)b.push(a[k]);return b};v.K.ZD=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};v.K.Is={};
v.K.fz=function(a){a=A(a,!1);for(var b=Object.create(null),d=0,e;e=a[d];d++){var f=e.jE;!f&&e.DA&&(f=e.DA,v.K.Is[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),v.K.Is[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)b[e[f]]=!0}return Object.keys(b)};
v.K.ah=function(a){var b=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Se(a,"CREATE_VARIABLE",function(e){v.K.Aj(e.Ca)});b.push(d);a=v.K.iq(a);return b=b.concat(a)};
v.K.iq=function(a){a=a.kl("");var b=[];if(0<a.length){var d=a[a.length-1];if(v.J.variables_set){var e=v.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",v.J.math_change?8:24);e.appendChild(v.K.li(d));b.push(e)}v.J.math_change&&(e=v.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",v.J.variables_get?20:8),e.appendChild(v.K.li(d)),d=v.N.Qf('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),b.push(e));if(v.J.variables_get){a.sort(Re);d=0;for(var f;f=a[d];d++)e=v.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(v.K.li(f)),b.push(e)}}return b};
v.K.Qu=function(a){a=a.wf();var b="";if(a.length)for(var d=1,e=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(e);!b;){for(var h=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){h=!0;break}h?(e++,25==e&&(e=0,d++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(e),1<d&&(f+=d)):b=f}else b="i";return b};
v.K.Aj=function(a,b,d){function e(h){v.K.iw(v.h.NEW_VARIABLE_TITLE,h,function(k){if(k){var l=v.K.PB(k,a);if(l){var m=k.toLowerCase();if(l.type==f)var n=v.h.VARIABLE_ALREADY_EXISTS.replace("%1",m);else n=v.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,n=n.replace("%1",m).replace("%2",l.type);v.alert(n,function(){e(k)})}else a.hd(k,f),b&&b(k)}else b&&b(null)})}var f=d||"";e("")};oa("Blockly.Variables.createVariableButtonHandler",v.K.Aj);v.K.hd=v.K.Aj;oa("Blockly.Variables.createVariable",v.K.hd);
v.K.to=function(a,b){function d(e){var f=v.h.RENAME_VARIABLE_TITLE.replace("%1",b.name);v.K.iw(f,e,function(h){if(h){var k=v.K.QB(h,b.type,a);k?(k=v.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.toLowerCase()).replace("%2",k.type),v.alert(k,function(){d(h)})):a.Fh(b.ja(),h)}})}d("")};v.K.iw=function(a,b,d){v.prompt(a,b,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==v.h.RENAME_VARIABLE||e==v.h.NEW_VARIABLE)&&(e=null);d(e)})};
v.K.QB=function(a,b,d){d=d.Da.wf();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=b)return f;return null};v.K.PB=function(a,b){b=b.Da.wf();a=a.toLowerCase();for(var d=0,e;e=b[d];d++)if(e.name.toLowerCase()==a)return e;return null};v.K.li=function(a){var b=v.g.xml.createElement("field");b.setAttribute("name","VAR");b.setAttribute("id",a.ja());b.setAttribute("variabletype",a.type);b.appendChild(v.g.xml.createTextNode(a.name));return b};
v.K.En=function(a,b,d,e){var f=v.K.zc(a,b,d,e);f||(f=v.K.Rz(a,b,d,e));return f};v.K.zc=function(a,b,d,e){var f=a.Ch;if(b){var h=a.Pe(b);!h&&f&&(h=f.Pe(b));if(h)return h}if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");h=a.zc(d,e);!h&&f&&(h=f.zc(d,e))}return h};v.K.Rz=function(a,b,d,e){var f=a.Ch;d||(d=v.K.Qu(a.Rd?a.Xi:a));return f?f.hd(d,e,b):a.hd(d,e,b)};
v.K.Ru=function(a,b){a=a.wf();var d=[];if(b.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==b.indexOf(f)&&d.push(f)}return d};v.je={};v.je.ZB=function(a){v.K.Aj(a.Ca,null,"String")};v.je.YB=function(a){v.K.Aj(a.Ca,null,"Number")};v.je.XB=function(a){v.K.Aj(a.Ca,null,"Colour")};
v.je.ah=function(a){var b=[],d=document.createElement("button");d.setAttribute("text",v.h.NEW_STRING_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(d);d=document.createElement("button");d.setAttribute("text",v.h.NEW_NUMBER_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(d);d=document.createElement("button");d.setAttribute("text",v.h.NEW_COLOUR_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");b.push(d);Se(a,"CREATE_VARIABLE_STRING",v.je.ZB);
Se(a,"CREATE_VARIABLE_NUMBER",v.je.YB);Se(a,"CREATE_VARIABLE_COLOUR",v.je.XB);a=v.je.iq(a);return b=b.concat(a)};
v.je.iq=function(a){a=a.wf();var b=[];if(0<a.length){if(v.J.variables_set_dynamic){var d=a[a.length-1],e=v.g.xml.createElement("block");e.setAttribute("type","variables_set_dynamic");e.setAttribute("gap",24);e.appendChild(v.K.li(d));b.push(e)}if(v.J.variables_get_dynamic){a.sort(Re);d=0;for(var f;f=a[d];d++)e=v.g.xml.createElement("block"),e.setAttribute("type","variables_get_dynamic"),e.setAttribute("gap",8),e.appendChild(v.K.li(f)),b.push(e)}}return b};function Te(a){this.Fr=a;this.Dk=Object.create(null)}c=Te.prototype;c.dr=null;c.G=function(){this.Dk=this.Fr=null};c.load=function(a,b){if(a.length){try{var d=new v.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new v.g.global.Audio(h);break}}e&&e.play&&(this.Dk[b]=e)}};
c.preload=function(){for(var a in this.Dk){var b=this.Dk[a];b.volume=.01;var d=b.play();void 0!==d?d.then(b.pause).catch(function(){}):b.pause();if(v.g.userAgent.Uf||v.g.userAgent.Uo)break}};c.play=function(a,b){var d=this.Dk[a];d?(a=new Date,null!=this.dr&&a-this.dr<v.Ky||(this.dr=a,d=v.g.userAgent.Uf||v.g.userAgent.Vh?d:d.cloneNode(),d.volume=void 0===b?1:b,d.play())):this.Fr&&this.Fr.Qg.play(a,b)};c=Sd.prototype;c.vb=function(){return{width:this.Rc(),height:this.Hj()}};
c.ia=function(){if(!this.Hh){var a=this.vb();this.Uk();this.D.appendChild(this.Ld);this.Vi=v.g.m.F("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.D.appendChild(this.Vi);this.Ph=v.g.m.F("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:3,ry:3});this.D.appendChild(this.Ph);this.gc=v.g.m.F("g",{"class":this.B?"blocklyResizeSW":"blocklyResizeSE"},this.D);v.g.m.F("polygon",{points:"0,x x,x x,0".replace(/x/g,(8).toString())},this.gc);v.g.m.F("line",{"class":"blocklyResizeLine",x1:8/3,y1:7,
x2:7,y2:8/3},this.gc);v.g.m.F("line",{"class":"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.gc);this.Cc()&&(this.Yg=v.g.m.F("g",{"class":"blocklyCommentDeleteIcon"},this.D),this.tu=v.g.m.F("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.Yg),v.g.m.F("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.Yg),v.g.m.F("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.Yg));Ue(this,a.width,a.height);this.Kb.value=this.Nc;this.Hh=
!0;this.gc&&v.aa(this.gc,"mousedown",this,this.Ur);this.Cc()&&(v.aa(this.Yg,"mousedown",this,this.dA),v.aa(this.Yg,"mouseout",this,this.eA),v.aa(this.Yg,"mouseup",this,this.fA))}};
c.Uk=function(){this.Ld=v.g.m.F("foreignObject",{x:0,y:10,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(v.g.m.ff,"body");a.setAttribute("xmlns",v.g.m.ff);a.className="blocklyMinimalBody";var b=document.createElementNS(v.g.m.ff,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.B?"RTL":"LTR");a.appendChild(b);this.Kb=b;this.Ld.appendChild(a);v.aa(b,"wheel",this,function(d){d.stopPropagation()});v.aa(b,"change",this,function(){this.Kf(b.value)});
return this.Ld};c.Ur=function(a){Ve(this);v.g.rh(a)||(this.u.Eo(a,new y(this.u.B?-this.ra:this.ra,this.Ga)),this.Ii=v.aa(document,"mouseup",this,this.yC),this.zr=v.aa(document,"mousemove",this,this.Vr),v.cc());a.stopPropagation()};c.dA=function(a){v.g.m.Va(this.tu,"blocklyDeleteIconHighlighted");a.stopPropagation()};c.eA=function(){v.g.m.Hb(this.tu,"blocklyDeleteIconHighlighted")};c.fA=function(a){this.G(!0,!0);a.stopPropagation()};
function Ve(a){a.Ii&&(v.Wa(a.Ii),a.Ii=null);a.zr&&(v.Wa(a.zr),a.zr=null)}c.yC=function(){v.Touch.bg();Ve(this)};c.Vr=function(a){this.Qm=!1;a=Sc(this.u,a);Ue(this,this.B?-a.x:a.x,a.y)};
function Ue(a,b,d){b=Math.max(b,45);d=Math.max(d,30);a.ra=b;a.Ga=d;a.gm.setAttribute("width",b);a.gm.setAttribute("height",d);a.Ph.setAttribute("width",b);a.Ph.setAttribute("height",d);a.Vi.setAttribute("width",b);a.Vi.setAttribute("height",10);a.B&&(a.gm.setAttribute("transform","scale(-1 1)"),a.Ph.setAttribute("transform","scale(-1 1)"));a.gc&&(a.B?(a.gc.setAttribute("transform","translate("+(-b+8)+","+(d-8)+") scale(-1 1)"),a.Yg.setAttribute("transform","translate("+(-b+8)+",-8) scale(-1 1)")):
(a.gc.setAttribute("transform","translate("+(b-8)+","+(d-8)+")"),a.Yg.setAttribute("transform","translate("+(b-8)+",-8)")));b=a.vb();a.Ld.setAttribute("width",b.width);a.Ld.setAttribute("height",b.height-10);a.B&&a.Ld.setAttribute("x",-b.width);a.Kb.style.width=b.width-4+"px";a.Kb.style.height=b.height-4-10+"px"}
c.gs=function(){var a=this;this.cl=!0;setTimeout(function(){a.ig||(a.Kb.focus(),v.g.m.Va(a.D,"blocklyFocused"),v.g.m.Va(a.Ph,"blocklyCommentTargetFocused"),v.g.m.Va(a.Vi,"blocklyCommentHandleTargetFocused"))},0)};function Ud(a){a.cl=!1;setTimeout(function(){a.ig||(a.Kb.blur(),v.g.m.Hb(a.D,"blocklyFocused"),v.g.m.Hb(a.Ph,"blocklyCommentTargetFocused"),v.g.m.Hb(a.Vi,"blocklyCommentHandleTargetFocused"))},0)};function We(a){this.Rk=a;this.ea()}c=We.prototype;c.Xa=null;c.oe=null;c.Rk=null;c.ea=function(){this.Xa||(this.Xa=v.g.m.F("svg",{xmlns:v.g.m.Ek,"xmlns:html":v.g.m.ff,"xmlns:xlink":v.g.m.ke,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Rk.appendChild(this.Xa))};c.Eg=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.Xa.style.display="block";v.g.m.Yl(this.Xa,"translate3d("+a+"px, "+b+"px, 0px)")};c.Hn=function(){return v.g.Nd(this.Xa)};
c.Mk=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.Xa.childNodes[0],d=this.Xa.childNodes[1];if(!(b&&d&&v.g.m.cv(b,"blocklyBlockCanvas")&&v.g.m.cv(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Xe?v.g.m.wi(b,this.Xe):a.insertBefore(b,a.firstChild);v.g.m.wi(d,b);this.Xa.style.display="none";if(this.Xa.childNodes.length)throw Error("Drag surface was not cleared.");v.g.m.Yl(this.Xa,
"");this.Xe=null};
function Xe(a){this.o=a}c=Xe.prototype;c.ai=32;c.Xs=110;c.Xo=20;c.wk=20;c.D=null;c.Dl=0;c.mk=0;c.ea=function(){this.D=v.g.m.F("g",{},null);var a=String(Math.random()).substring(2);Ye(this,a);Ze(this,a);this.o.Ub()&&$e(this,a);return this.D};c.T=function(a){this.Ig=this.Xo+a;return this.Ig+this.Xs};c.G=function(){this.D&&(v.g.m.removeNode(this.D),this.D=null);this.o=null};
c.position=function(){if(this.Ig){var a=this.o.wb();a&&(this.Dl=a.qa==v.wd||this.o.Ad&&!this.o.B?a.La+a.Bb-this.ai-this.wk-I:this.wk+I,a.qa==v.Og?(this.mk=this.Ig,this.Lo.setAttribute("transform","translate(0, 34)"),this.Mo&&this.Mo.setAttribute("transform","translate(0, 77)")):(this.mk=a.Ta+a.Cb-this.Xs-this.Ig,this.Lo.setAttribute("transform","translate(0, 43)"),this.Gs.setAttribute("transform","translate(0, 77)")),this.D.setAttribute("transform","translate("+this.Dl+","+this.mk+")"))}};
function Ye(a,b){var d=a.o;a.Gs=v.g.m.F("g",{"class":"blocklyZoom"},a.D);var e=v.g.m.F("clipPath",{id:"blocklyZoomoutClipPath"+b},a.Gs);v.g.m.F("rect",{width:32,height:32},e);a=v.g.m.F("image",{width:v.ed.width,height:v.ed.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},a.Gs);a.setAttributeNS(v.g.m.ke,"xlink:href",d.options.We+v.ed.url);v.aa(a,"mousedown",null,function(f){ge(d);af(d,-1);v.Touch.bg();f.stopPropagation();f.preventDefault()})}
function Ze(a,b){var d=a.o;a.Lo=v.g.m.F("g",{"class":"blocklyZoom"},a.D);var e=v.g.m.F("clipPath",{id:"blocklyZoominClipPath"+b},a.Lo);v.g.m.F("rect",{width:32,height:32},e);a=v.g.m.F("image",{width:v.ed.width,height:v.ed.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+b+")"},a.Lo);a.setAttributeNS(v.g.m.ke,"xlink:href",d.options.We+v.ed.url);v.aa(a,"mousedown",null,function(f){ge(d);af(d,1);v.Touch.bg();f.stopPropagation();f.preventDefault()})}
function $e(a,b){var d=a.o;a.Mo=v.g.m.F("g",{"class":"blocklyZoom"},a.D);var e=v.g.m.F("clipPath",{id:"blocklyZoomresetClipPath"+b},a.Mo);v.g.m.F("rect",{width:32,height:32},e);a=v.g.m.F("image",{width:v.ed.width,height:v.ed.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},a.Mo);a.setAttributeNS(v.g.m.ke,"xlink:href",d.options.We+v.ed.url);v.aa(a,"mousedown",null,function(f){ge(d);d.setScale(d.options.fb.Fw);bf(d);cf(d);setTimeout(function(){v.g.m.Hb(d.Sa,"blocklyCanvasTransitioning");
v.g.m.Hb(d.$d,"blocklyCanvasTransitioning")},500);v.Touch.bg();f.stopPropagation();f.preventDefault()})};
function df(a,b,d){df.w.constructor.call(this,a);this.wb=a.wb||ef;this.Ag=a.Ag||ff;var e=[];e[v.ya]=new fd;e[v.ge]=new fd;e[v.Ea]=new fd;e[v.he]=new fd;this.Pk=e;b&&(this.Mb=b);d&&(this.cj=d);this.Jo=this.cj&&v.g.nh();this.sl=[];this.Qg=new Te(a.Vb);this.ue=this.options.Zu?new qe(a.Zu,a.Yu):null;v.K&&v.K.ah&&gf(this,v.ot,v.K.ah);v.je&&v.je.ah&&gf(this,v.Yy,v.je.ah);v.va&&v.va.ah&&gf(this,v.kt,v.va.ah)}u(df,mc);c=df.prototype;c.wo=null;c.Y=!0;c.sh=!0;c.Rd=!1;c.zi=!1;c.Wr=!0;c.scrollX=0;c.scrollY=0;
c.Du=null;c.scale=1;c.Gc=null;c.yb=null;c.L=null;c.ca=null;c.Pb=null;c.Mb=null;c.cj=null;c.Jo=!1;c.Sn=!1;c.Sq=null;c.wv=null;c.hq={};c.xs={};c.Tt=null;c.Xi=null;c.pv=null;c.Vq=!0;c.$t=function(){return new kd(this)};c.au=function(){return new kd(this,!0)};function Ie(a){if(a.Vq){var b=J(a).getScreenCTM();b&&(a.pv=b.inverse(),a.Vq=!1)}return a.pv}c.pm=function(){this.Vq=!0};c.isVisible=function(){return this.sh};
function vd(a,b){var d=0,e=0,f=1;if(v.g.m.containsNode(a.Sa,b)||v.g.m.containsNode(a.$d,b))f=a.scale;do{var h=v.g.Nd(b);if(b==a.Sa||b==a.$d)f=1;d+=h.x*f;e+=h.y*f;b=b.parentNode}while(b&&b!=J(a));return new y(d,e)}function Jb(a){if(!a.Sq)for(var b=a.D;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Sq=b;break}b=b.parentNode}return a.Sq}
c.ea=function(a){this.D=v.g.m.F("g",{"class":"blocklyWorkspace"},null);a&&(this.Zd=v.g.m.F("rect",{height:"100%",width:"100%","class":a},this.D),"blocklyMainBackground"==a&&this.ue&&(this.Zd.style.fill="url(#"+this.ue.Jj.id+")"));this.Sa=v.g.m.F("g",{"class":"blocklyBlockCanvas"},this.D);this.$d=v.g.m.F("g",{"class":"blocklyBubbleCanvas"},this.D);this.Rd||(v.aa(this.D,"mousedown",this,this.zh,!1,!0),v.aa(this.D,"wheel",this,this.mC));this.options.bv&&(this.ca=new hf(this));this.ue&&this.ue.update(this.scale);
jf(this);a=this.cursor.ea();this.D.appendChild(a);a=this.$n.ea();this.D.appendChild(a);return this.D};
c.G=function(){this.Y=!1;this.Pb&&this.Pb.cancel();df.w.G.call(this);this.D&&(v.g.m.removeNode(this.D),this.D=null);this.$d=this.Sa=null;this.ca&&(this.ca.G(),this.ca=null);this.L&&(this.L.G(),this.L=null);this.Gc&&(this.Gc.G(),this.Gc=null);this.yb&&(this.yb.G(),this.yb=null);this.ej&&(this.ej.G(),this.ej=null);this.$n&&this.$n.G();this.cursor&&this.cursor.G();this.Qg&&(this.Qg.G(),this.Qg=null);this.ue&&(this.ue.G(),this.ue=null);this.hq=this.xs=this.Pk=null;if(!this.options.Vb){var a=J(this).parentNode;
a&&v.g.m.removeNode(a)}this.wo&&(v.Wa(this.wo),this.wo=null)};c.xh=function(a,b){return new K(this,a,b)};function kf(a){a.Gc=new Me(a);var b=a.Gc.ea();a.D.insertBefore(b,a.Sa)}function lf(a){a.ej=new Xe(a);var b=a.ej.ea();a.D.appendChild(b)}function mf(a,b){var d={hg:a.options.hg,Vb:a,B:a.B,xe:a.options.xe,Ad:a.Ad,qa:a.options.qa};a.L=a.Ad?new Ne(d):new Oe(d);a.L.uj=!1;return a.L.ea(b)}function nf(a){return a.L?a.L:a.ca?a.ca.L:null}
function wc(a){if(a.Wr&&a.Y){if(a.yb){var b=a.wb();Fe(a.yb.Od,b);He(a.yb.ce,b)}a.pm()}}c.resize=function(){this.ca&&this.ca.position();this.L&&this.L.position();this.Gc&&this.Gc.position();this.ej&&this.ej.position();this.yb&&this.yb.resize();this.pm();jf(this)};function ee(a){var b=v.g.rq();Eb(a.wv,b)||(a.wv=b,a.pm(),jf(a))}function J(a){if(a.Bt)return a.Bt;for(var b=a.D;b;){if("svg"==b.tagName)return a.Bt=b;b=b.parentNode}return null}
c.translate=function(a,b){if(this.Jo&&this.Sn)this.cj.Eg(a,b);else{var d="translate("+a+","+b+") scale("+this.scale+")";this.Sa.setAttribute("transform",d);this.$d.setAttribute("transform",d)}if(this.Mb){d=this.Mb;var e=this.scale;d.Ih=e;d.oe.setAttribute("transform","translate("+a.toFixed(0)+","+b.toFixed(0)+") scale("+e+")")}this.ue&&this.ue.moveTo(a,b)};
function he(a){if(a.Jo){a.Sn=!1;var b=a.cj.Hn();a.cj.Mk(a.D);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.Sa.setAttribute("transform",b);a.$d.setAttribute("transform",b)}}
function $d(a){if(a.Jo&&!a.Sn){a.Sn=!0;var b=a.Sa.previousSibling,d=parseInt(J(a).getAttribute("width"),10),e=parseInt(J(a).getAttribute("height"),10),f=v.g.Nd(a.Sa),h=a.cj,k=a.Sa,l=a.$d,m=a.scale;if(h.Xa.childNodes.length)throw Error("Already dragging a block.");h.Xe=b;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");h.Xa.setAttribute("width",d);h.Xa.setAttribute("height",e);h.Xa.appendChild(k);h.Xa.appendChild(l);h.Xa.style.display=
"block";a.cj.Eg(f.x,f.y)}}c.Rc=function(){var a=this.wb();return a?a.La/this.scale:0};c.Ba=function(a){this.yb&&this.yb.Oi(a);nf(this)&&nf(this).Oi(a);J(this).style.display=a?"block":"none";this.ca&&(this.ca.ad.style.display=a?"block":"none");a?(this.ia(),this.ca&&this.ca.position()):v.cc(!0);this.sh=a};c.ia=function(){for(var a=A(this,!1),b=a.length-1;0<=b;b--)a[b].ia(!1);if(this.Pb)for(a=this.Pb.Ij(),b=0;b<a.length;b++)a[b].ia(!1)};
function of(a){var b=v.Nk;if(a.Y&&!(b.getElementsByTagName("block").length>=Cc(a)))if(a.Pb&&a.Pb.cancel(),"comment"==b.tagName.toLowerCase()){v.j.disable();try{var d=oc(b,a),e=parseInt(b.getAttribute("x"),10),f=parseInt(b.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.B&&(e=-e),d.moveBy(e+50,f+50))}finally{v.j.enable()}d.select()}else a:{v.j.disable();try{var h=v.N.hi(b,a),k=v.v.vh.ub;if(v.Ai&&k){v.v.ov(h,k.ka);break a}var l=parseInt(b.getAttribute("x"),10),m=parseInt(b.getAttribute("y"),10);if(!isNaN(l)&&
!isNaN(m)){a.B&&(l=-l);do{b=!1;var n=A(a,!1);d=0;for(var q;q=n[d];d++){var r=q.wa();if(1>=Math.abs(l-r.x)&&1>=Math.abs(m-r.y)){b=!0;break}}if(!b){var t=h.re(!1);d=0;for(var p;p=t[d];d++)if(p.closest(v.dd,new y(l,m)).connection){b=!0;break}}b&&(l=a.B?l-v.dd:l+v.dd,m+=2*v.dd)}while(b);h.moveBy(l,m)}}finally{v.j.enable()}v.j.isEnabled()&&!h.Ja&&v.j.fa(new v.j.wm(h));h.select()}}function pf(a){if((a=a.Rd?a.Xi:a)&&!a.Pb&&a.ca&&a.ca.L){a=a.ca;var b=a.Hc.Wc;b&&b.hf&&a.L.show(b.hf)}}
c.Fh=function(a,b){df.w.Fh.call(this,a,b);pf(this)};c.lf=function(a){df.w.lf.call(this,a);pf(this)};c.hd=function(a,b,d){a=df.w.hd.call(this,a,b,d);pf(this);return a};function jf(a){a.su=a.Gc&&a.D.parentNode?a.Gc.Fj():null;a.ru=a.L?a.L.Fj():a.ca?a.ca.Fj():null}function Md(a,b){return a.su&&a.su.contains(b.clientX,b.clientY)?v.So:a.ru&&a.ru.contains(b.clientX,b.clientY)?v.Ts:v.Ss}c.zh=function(a){var b=this.xf(a);b&&le(b,a,this)};
c.Eo=function(a,b){a=v.g.Ll(a,J(this),Ie(this));a.x/=this.scale;a.y/=this.scale;this.Du=Gb(b,a)};function Sc(a,b){b=v.g.Ll(b,J(a),Ie(a));b.x/=a.scale;b.y/=a.scale;return Hb(a.Du,b)}c.Tb=function(){return null!=this.Pb&&this.Pb.Tb()};function qf(a){return a.options.kc&&a.options.kc.scrollbars||a.options.kc&&a.options.kc.bj||a.options.kc&&a.options.kc.$g||a.options.fb&&a.options.fb.controls||a.options.fb&&a.options.fb.bj}
c.Ub=function(){return this.options.kc&&this.options.kc.scrollbars||this.options.kc&&this.options.kc.bj||this.options.kc&&this.options.kc.$g||this.options.fb&&this.options.fb.bj};
c.mC=function(a){if(pe())a.preventDefault(),a.stopPropagation();else{var b=this.options.fb&&this.options.fb.bj,d=this.options.kc&&this.options.kc.bj;if(b||d){var e=v.g.uq(a);!b||!a.ctrlKey&&d?(b=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(b=this.scrollX-e.y,d=this.scrollY),this.scroll(b,d)):(e=-e.y/50,b=v.g.Ll(a,J(this),Ie(this)),this.zoom(b.x,b.y,e));a.preventDefault()}}};
function tc(a){var b=F(a,!1);a=lc(a,!1);b=b.concat(a);if(!b.length)return new Rd(0,0,0,0);a=b[0].wn();for(var d=1;d<b.length;d++){var e=b[d].wn();e.top<a.top&&(a.top=e.top);e.bottom>a.bottom&&(a.bottom=e.bottom);e.left<a.left&&(a.left=e.left);e.right>a.right&&(a.right=e.right)}return a}c.Hz=function(){this.pc(!1);v.j.W(!0);for(var a=F(this,!0),b=0,d=0,e;e=a[d];d++)if(e.Ub()){var f=e.wa();e.moveBy(-f.x,b-f.y);rf(e);b=e.wa().y+e.vb().height+25}v.j.W(!1);this.pc(!0)};
c.hk=function(a){function b(p){if(p.Cc())t=t.concat(Ib(p,!1));else{p=p.kg(!1);for(var z=0;z<p.length;z++)b(p[z])}}function d(){v.j.W(h);var p=t.shift();p&&(p.u?(p.G(!1,!0),setTimeout(d,10)):d());v.j.W(!1)}if(!this.options.readOnly&&!this.Rd){var e=[],f=F(this,!0),h=v.g.uf(),k=this,l={};l.text=v.h.UNDO;l.enabled=0<this.Yi.length;l.bb=this.zs.bind(this,!1);e.push(l);l={};l.text=v.h.REDO;l.enabled=0<this.Ul.length;l.bb=this.zs.bind(this,!0);e.push(l);this.Ub()&&(l={},l.text=v.h.CLEAN_UP,l.enabled=1<
f.length,l.bb=this.Hz.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,n=0;n<f.length;n++)for(var q=f[n];q;)q.isCollapsed()?l=!0:m=!0,q=x(q);var r=function(p){for(var z=0,H=0;H<f.length;H++)for(var M=f[H];M;)setTimeout(M.yg.bind(M,p),z),M=x(M),z+=10};m={enabled:m};m.text=v.h.COLLAPSE_ALL;m.bb=function(){r(!0)};e.push(m);l={enabled:l};l.text=v.h.EXPAND_ALL;l.bb=function(){r(!1)};e.push(l)}var t=[];for(n=0;n<f.length;n++)b(f[n]);l={text:1==t.length?v.h.DELETE_BLOCK:v.h.DELETE_X_BLOCKS.replace("%1",
String(t.length)),enabled:0<t.length,bb:function(){k.Pb&&k.Pb.cancel();2>t.length?d():v.confirm(v.h.DELETE_ALL_BLOCKS.replace("%1",t.length),function(p){p&&d()})}};e.push(l);this.Tt&&this.Tt(e);v.la.show(a,e,this.B)}};
c.Ww=function(a){if(a=te(a)){if(!this.options.Ff)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.ca)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.Ff=a;a=this.ca.lo(a);sf(this.ca);this.ca.position();this.ca.Hc.Lf(a)}else{if(!this.L)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.Ff=a;this.L.show(a.childNodes)}}else if(this.options.Ff)throw Error("Can't nullify an existing toolbox.");
};function ge(a){if(a.options.Vb)ge(a.options.Vb);else{v.Fl=a;document.activeElement&&document.activeElement.blur();try{J(a).focus()}catch(b){try{J(a).parentNode.setActive()}catch(d){J(a).parentNode.focus()}}}}
c.zoom=function(a,b,d){if(!this.Rd&&!this.zi){d=Math.pow(this.options.fb.AC,d);var e=this.scale*d;if(this.scale!=e){e>this.options.fb.Il?d=this.options.fb.Il/this.scale:e<this.options.fb.Kl&&(d=this.options.fb.Kl/this.scale);var f=this.Sa.getCTM(),h=J(this).createSVGPoint();h.x=a;h.y=b;h=h.matrixTransform(f.inverse());a=h.x;b=h.y;f=f.translate(a*(1-d),b*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}}};
function af(a,b){var d=a.wb();if(a.L){var e=d.RC/2;d=d.QC/2}else e=d.La/2+d.Bb,d=d.Ta/2+d.Cb;a.zoom(e,d,b)}function bf(a){v.g.m.Va(a.Sa,"blocklyCanvasTransitioning");v.g.m.Va(a.$d,"blocklyCanvasTransitioning")}function cf(a){if(a.Ub()){var b=a.wb(),d=(b.xd-b.La)/2,e=(b.gd-b.Ta)/2;d=-d-b.ac;e=-e-b.Ob;a.scroll(d,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}
c.setScale=function(a){this.options.fb.Il&&a>this.options.fb.Il?a=this.options.fb.Il:this.options.fb.Kl&&a<this.options.fb.Kl&&(a=this.options.fb.Kl);this.scale=a;v.cc(!1);this.L&&(this.L.Rr(),jf(this));this.ue&&this.ue.update(this.scale);a=this.wb();this.scrollX-=a.Bb;this.scrollY-=a.Cb;a.rb+=a.Bb;a.Lb+=a.Cb;this.scroll(this.scrollX,this.scrollY);this.yb&&(this.L?(Ce(this.yb.Od,a),De(this.yb.ce,a)):(Fe(this.yb.Od,a),He(this.yb.ce,a)))};
c.scroll=function(a,b){v.cc(!0);var d=this.wb(),e=d.xd+d.ac-d.La,f=d.gd+d.Ob-d.Ta;a=Math.min(a,-d.ac);b=Math.min(b,-d.Ob);a=Math.max(a,-e);b=Math.max(b,-f);this.scrollX=a;this.scrollY=b;this.yb&&(we(this.yb.Od,-(a+d.ac)*this.yb.Od.lc),we(this.yb.ce,-(b+d.Ob)*this.yb.ce.lc));a+=d.Bb;b+=d.Cb;this.translate(a,b)};function tf(a){var b=0,d=0;a&&(b=a.Rc(),d=a.Hj());return{width:b,height:d}}
function uf(a){var b=tc(a),d=a.scale;a=b.top*d;var e=b.bottom*d,f=b.left*d;b=b.right*d;return{top:a,bottom:e,left:f,right:b,width:b-f,height:e-a}}
function ef(){var a=tf(this.ca),b=tf(this.L),d=v.Kw(J(this)),e=d.height,f=d.width;if(this.ca)if(this.qa==v.fd||this.qa==v.Og)e-=a.height;else{if(this.qa==v.wd||this.qa==v.Xf)f-=a.width}else if(this.L)if(this.qa==v.fd||this.qa==v.Og)e-=b.height;else if(this.qa==v.wd||this.qa==v.Xf)f-=b.width;if(qf(this)){var h=uf(this);var k=f,l=e,m=k/2,n=l/2,q=Math.min(h.left-m,h.right-k),r=Math.min(h.top-n,h.bottom-l);h={left:q,top:r,height:Math.max(h.bottom+n,h.top+l)-r,width:Math.max(h.right+m,h.left+k)-q}}else h=
uf(this);k=0;this.ca&&this.qa==v.wd?k=a.width:this.L&&this.qa==v.wd&&(k=b.width);l=0;this.ca&&this.qa==v.fd?l=a.height:this.L&&this.qa==v.fd&&(l=b.height);return{gd:h.height,xd:h.width,Ob:h.top,ac:h.left,Ta:e,La:f,Lb:-this.scrollY,rb:-this.scrollX,Cb:l,Bb:k,QC:d.height,RC:d.width,Sw:a.width,Rw:a.height,iE:b.width,hE:b.height,qa:this.qa}}
function ff(a){var b=this.wb();"number"==typeof a.x&&(this.scrollX=-b.xd*a.x-b.ac);"number"==typeof a.y&&(this.scrollY=-b.gd*a.y-b.Ob);this.translate(this.scrollX+b.Bb,this.scrollY+b.Cb)}c.pc=function(a){var b=!this.Wr&&a;this.Wr=a;b&&wc(this)};c.clear=function(){this.pc(!1);df.w.clear.call(this);this.pc(!0)};function Se(a,b,d){if("function"!=typeof d)throw TypeError("Button callbacks must be functions.");a.hq[b]=d}function vf(a,b){return(a=a.hq[b])?a:null}
function gf(a,b,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.xs[b]=d}c.xf=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Pb;return d?b&&d.ri?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:b?this.Pb=new Je(a,this):null};df.prototype.setVisible=df.prototype.Ba;function wf(a){wf.w.constructor.call(this,null);this.jw=a}u(wf,db);c=wf.prototype;c.qk=0;c.sm=0;
c.Xp=function(a){v.g.m.F("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);v.g.m.F("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
v.g.m.F("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};c.Nq=function(a){this.S.Sc()&&db.prototype.Nq.call(this,a)};
c.Uk=function(){this.fm=v.g.m.F("svg",{x:Jc,y:Jc},null);if(this.jw.length)for(var a=v.g.xml.createElement("xml"),b=0,d;d=this.jw[b];b++){var e=v.g.xml.createElement("block");e.setAttribute("type",d);a.appendChild(e)}else a=null;a={disable:!1,hg:this.S.u.options.hg,Ff:a,Vb:this.S.u,We:this.S.u.options.We,B:this.S.B,qa:this.S.B?v.Xf:v.wd,Ad:!1,wb:this.EA.bind(this),Ag:null};this.o=new df(a);this.o.zi=!0;this.o.Id(v.j.jA);a=mf(this.o,"g");b=this.o.ea("blocklyMutatorBackground");b.insertBefore(a,this.o.Sa);
this.fm.appendChild(b);return this.fm};c.Hg=function(){this.S.xb||(this.S.Sc()?this.Bc&&v.g.m.Hb(this.Bc,"blocklyIconGroupReadonly"):(this.Ba(!1),this.Bc&&v.g.m.Va(this.Bc,"blocklyIconGroupReadonly")));db.prototype.Hg.call(this)};
c.vo=function(){var a=2*Jc,b=this.o.Sa.getBBox();var d=this.S.B?-b.x:b.width+b.x;b=b.height+3*a;if(this.o.L){var e=this.o.L.lg();b=Math.max(b,e.gd+20)}d+=3*a;if(Math.abs(this.qk-d)>a||Math.abs(this.sm-b)>a)this.qk=d,this.sm=b,this.gb.Jh(d+a,b+a),this.fm.setAttribute("width",this.qk),this.fm.setAttribute("height",this.sm);this.S.B&&this.o.Sa.setAttribute("transform","translate("+this.qk+",0)");this.o.resize()};
c.Ba=function(a){if(a!=this.isVisible())if(v.j.fa(new Wb(this.S,"mutatorOpen",!a,a)),a){this.gb=new Gc(this.S.u,this.Uk(),this.S.Yc,this.ui,null,null);Pc(this.gb,this.S.id);if(a=this.o.options.Ff)this.o.L.T(this.o),this.o.L.show(a.childNodes);this.xg=this.S.fg(this.o);a=Ib(this.xg,!1);for(var b=0,d;d=a[b];b++)d.ia();this.xg.Pi(!1);this.xg.es(!1);this.o.L?(a=2*this.o.L.ha,b=nf(this.o).Rc()+a):b=a=16;this.S.B&&(b=-b);this.xg.moveBy(b,a);if(this.S.xo){var e=this;this.S.xo(this.xg);this.Co=function(){e.S.xo(e.xg)};
this.S.u.Id(this.Co)}this.vo();this.o.Id(this.kD.bind(this));this.Be()}else this.fm=null,this.o.G(),this.xg=this.o=null,this.gb.G(),this.gb=null,this.sm=this.qk=0,this.Co&&(this.S.u.Mi(this.Co),this.Co=null)};
c.kD=function(a){if(a.type!=v.j.Nm&&(a.type!=v.j.Wh||"disabled"!=a.element)){if(!this.o.Tb()){a=F(this.o,!1);for(var b=0,d;d=a[b];b++){var e=d.wa(),f=d.vb();20>e.y+f.height&&d.moveBy(0,20-f.height-e.y)}}if(this.xg.u==this.o){v.j.W(!0);d=this.S;a=(a=d.Oa())&&v.N.ld(a);b=d.Y;d.Y=!1;d.dg(this.xg);d.Y=b;d.Cd();b=(b=d.Oa())&&v.N.ld(b);if(a!=b){v.j.fa(new v.j.ef(d,"mutation",null,a,b));var h=v.j.Rb();setTimeout(function(){v.j.W(h);d.pb();v.j.W(!1)},v.vm)}d.Y&&d.ia();this.o.Tb()||this.vo();v.j.W(!1)}}};
c.EA=function(){return{Ta:this.sm,La:this.qk-nf(this.o).Rc(),Cb:0,Bb:this.o.B?0:nf(this.o).Rc()}};c.G=function(){this.S.Uc=null;db.prototype.G.call(this)};function xf(a,b,d){if(!a||!a.C.u)return!1;d=E(b,d).connection;var e=w(a);return e&&e!=b||d.$==a?!1:(d.isConnected()&&d.disconnect(),d.connect(a),!0)}function yf(a){var b=null;if(a&&a.options){var d=a.options.Vb;a.Rd?d&&d.options&&(b=d.options.Vb):d&&(b=d)}return b}v.g.global.Blockly||(v.g.global.Blockly={});
v.g.global.Blockly.Mutator||(v.g.global.Blockly.Mutator={});v.g.global.Blockly.Mutator.reconnect=xf;v.X={};v.X.No={};v.X.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(v.X.No[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');v.X.No[a]=b};v.X.qo=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');v.X.register(a,function(){zf(this,b)})};
v.X.Sr=function(a,b,d,e){var f='Error when registering mutator "'+a+'": ';v.X.Gt(f,b.eb,"domToMutation");v.X.Gt(f,b.Oa,"mutationToDom");var h=v.X.It(b,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');v.X.register(a,function(){h&&this.Mh(new wf(e));zf(this,b);d&&d.apply(this)})};
v.X.apply=function(a,b,d){var e=v.X.No[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)v.X.Fz(a,b);else var f=v.X.tq(b);e.apply(b);if(d)v.X.Dz('Error after applying mutator "'+a+'": ',b);else if(!v.X.OB(f,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
v.X.Gt=function(a,b,d){if(!b)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof b)throw Error(a+'" required property "'+d+'" must be a function');};v.X.Fz=function(a,b){if(v.X.tq(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
v.X.It=function(a,b){var d=void 0!==a.dg,e=void 0!==a.fg;if(d&&e){if("function"!=typeof a.dg)throw Error(b+"compose must be a function.");if("function"!=typeof a.fg)throw Error(b+"decompose must be a function.");return!0}if(d||e)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
v.X.Dz=function(a,b){if("function"!=typeof b.eb)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.Oa)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');v.X.It(b,a)};v.X.tq=function(a){var b=[];void 0!==a.eb&&b.push(a.eb);void 0!==a.Oa&&b.push(a.Oa);void 0!==a.dg&&b.push(a.dg);void 0!==a.fg&&b.push(a.fg);return b};v.X.OB=function(a,b){b=v.X.tq(b);if(b.length!=a.length)return!1;for(var d=0;d<b.length;d++)if(a[d]!=b[d])return!1;return!0};
v.X.Rm=function(a,b){var d=[];"object"==typeof document&&v.g.rw(function(){for(var e in b)v.g.Ht(b[e])});return function(){this.type&&-1===d.indexOf(this.type)&&(v.X.Ez(this,a,b),d.push(this.type));this.ta(function(){var e=B(this,a),f=b[e];null==f?-1===d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=v.g.fc(f);return f}.bind(this))}};
v.X.Ez=function(a,b,d){var e=C(a,b);if("function"!=typeof e.Di){e=e.getOptions();for(var f=0;f<e.length;++f){var h=e[f][1];null==d[h]&&console.warn("No tooltip mapping for value "+h+" of field "+b+" of block type "+a.type)}}};v.X.vp=function(a){"object"==typeof document&&v.g.rw(function(){v.g.Ht(a)});return function(){this.ta(function(){var b=C(this,"VAR");return v.g.fc(a).replace("%1",b?b.Sb():"")}.bind(this))}};
v.X.sA=function(){this.YC=this.bf;this.ta(function(){var a=this.getParent();return a&&tb(a)&&a.bf||this.YC}.bind(this))};v.X.register("parent_tooltip_when_inline",v.X.sA);function Af(a,b){this.zb=new cb(0,0);this.setValue(a);b&&(this.Zi=b)}var Bf={};function Cf(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'"');if(!b||"function"!=typeof b.na)throw Error('Field "'+b+'" must have a fromJson function');Bf[a]=b}var Df=null,Ef=0;c=Af.prototype;c.name=void 0;c.Dv=50;c.xa=null;c.ua="";c.km=null;c.C=null;c.Te=!0;c.sb=!0;c.Zi=null;c.Ym=null;c.Kg=!0;c.Wf=!1;c.ms=function(a){if(this.C)throw Error("Field already bound to a block.");this.C=a};
c.T=function(){this.sf||(this.sf=v.g.m.F("g",{},null),this.isVisible()||(this.sf.style.display="none"),this.C.Z().appendChild(this.sf),this.Bf(),this.Hg(),this.ta(this.km),v.I.vj(this.Ym||this.Z()),this.Gv=v.aa(this.Ym||this.Z(),"mousedown",this,this.zh),this.vi())};c.Bf=function(){Ff(this);Gf(this)};function Ff(a){a.zb.height=Math.max(a.zb.height,16);a.zb.width=Math.max(a.zb.width,10);a.Jd=v.g.m.F("rect",{rx:4,ry:4,x:0,y:0,height:a.zb.height,width:a.zb.width},a.sf)}
function Gf(a){a.Jb=v.g.m.F("text",{"class":"blocklyText",y:12.5,x:a.Jd?5:0},a.sf);a.hm=document.createTextNode("");a.Jb.appendChild(a.hm)}c.vi=function(){};c.Ou=function(a){this.setValue(a.textContent)};c.im=function(a){a.textContent=this.getValue();return a};c.G=function(){Hf===this&&If();v.V.Kq(this);this.Gv&&v.Wa(this.Gv);v.g.m.removeNode(this.sf)};
c.Hg=function(){var a=this.Ym||this.Z();this.Kg&&a&&(this.C.Sc()?(v.g.m.Va(a,"blocklyEditableText"),v.g.m.Hb(a,"blocklyNonEditableText"),a.style.cursor=this.Bm):(v.g.m.Va(a,"blocklyNonEditableText"),v.g.m.Hb(a,"blocklyEditableText"),a.style.cursor=""))};function gb(a){return a.Kg&&!!a.C&&a.C.Sc()}c.isVisible=function(){return this.sb};c.Ba=function(a){if(this.sb!=a){this.sb=a;var b=this.Z();b&&(b.style.display=a?"block":"none")}};function Jf(a,b){a.Zi=b}c.wq=function(){return this.Zi};c.Z=function(){return this.sf};
c.Be=function(){};c.Jf=function(){this.hm.nodeValue=Kf(this);var a=Lf(this.Jb);this.Jd&&(a+=10,this.Jd.setAttribute("width",a));this.zb.width=a};function Lf(a){var b=a.textContent+"\n"+a.className.baseVal,d;if(Df&&(d=Df[b]))return d;try{d=v.g.userAgent.Lg||v.g.userAgent.Cm?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}Df&&(Df[b]=d);return d}function nc(){Ef++;Df||(Df={})}function sc(){Ef--;Ef||(Df=null)}
c.ng=function(){if(!this.isVisible())return new cb(0,0);this.Te?(this.Jf(),this.Te=!1):this.sb&&0==this.zb.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Jf());return this.zb};function Mf(a){var b=a.Jd.getBBox(),d=b.height*a.C.u.scale;b=b.width*a.C.u.scale;a=v.g.style.HA(a.Jd);return{top:a.y,bottom:a.y+d,left:a.x,right:a.x+b}}
function Kf(a){var b=a.ua;if(!b)return"\u00a0";b.length>a.Dv&&(b=b.substring(0,a.Dv-2)+"\u2026");b=b.replace(/\s/g,"\u00a0");a.C.B&&(b+="\u200f");return b}c.Sb=function(){return this.ua};c.Ye=function(a){null!==a&&(a=String(a),a!==this.ua&&(this.ua=a,Nf(this)))};function Nf(a){a.Te=!0;a.C&&a.C.Y&&(a.C.ia(),a.C.pb())}
c.setValue=function(a){if(null!==a){var b=this.Pc(a);a=Of(this,a,b);if(!(a instanceof Error)){if(b=this.wq())if(b=b.call(this,a),a=Of(this,a,b),a instanceof Error)return;b=this.getValue();b!==a&&(this.C&&v.j.isEnabled()&&v.j.fa(new v.j.ef(this.C,"field",this.name,b,a)),this.Zg(a),this.Te&&Nf(this))}}};function Of(a,b,d){if(null===d)return a.Bu(),a.Te&&Nf(a),Error();void 0!==d&&(b=d);return b}c.getValue=function(){return this.xa};c.Pc=function(a){return a};
c.Zg=function(a){this.xa=a;this.Te=!0;this.ua=String(a)};c.Bu=function(){};c.zh=function(a){if(this.C&&this.C.u&&(a=this.C.u.xf(a))){if(a.ri)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Ti||(a.Ti=this)}};c.ta=function(a){var b=this.Ym||this.Z();b?b.bf=a||""===a?a:this.C:this.km=a};c.Vl=function(){return!1};c.zf=function(){for(var a=null,b=this.C,d=b.O,e=0;e<b.O.length;e++)for(var f=d[e],h=f.oa,k=0;k<h.length;k++)if(h[k]===this){a=f;break}return a};function Pf(a,b){this.zb=new cb(0,12.5);this.Kt=b;a=this.Pc(a);null===a&&(a="");this.setValue(a)}u(Pf,Af);Pf.na=function(a){var b=v.g.fc(a.text);return new Pf(b,a["class"])};Pf.prototype.Kg=!1;Pf.prototype.Bf=function(){Gf(this);this.Jb.setAttribute("y",this.zb.height);this.Kt&&v.g.m.Va(this.Jb,this.Kt)};Pf.prototype.Pc=function(a){return null===a||void 0===a?null:String(a)};Cf("field_label",Pf);function Qf(a,b,d,e){if(a!=v.Ee&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.C=d;this.connection=e;this.oa=[]}c=Qf.prototype;c.align=v.fj;c.sb=!0;function L(a,b,d){Rf(a,a.oa.length,b,d);return a}
function Rf(a,b,d,e){if(0>b||b>a.oa.length)throw Error("index "+b+" out of bounds.");if(!d&&!e)return b;"string"==typeof d&&(d=new Pf(d));d.ms(a.C);a.C.Y&&d.T();d.name=e;d.Kr&&(b=Rf(a,b,d.Kr));a.oa.splice(b,0,d);++b;d.vs&&(b=Rf(a,b,d.vs));a.C.Y&&(a.C.ia(),a.C.pb());return b}function Sf(a,b){for(var d=0,e;e=a.oa[d];d++)if(e.name===b){e.G();a.oa.splice(d,1);a.C.Y&&(a.C.ia(),a.C.pb());return}throw Error('Field "%s" not found.',b);}c.isVisible=function(){return this.sb};
c.Ba=function(a){var b=[];if(this.sb==a)return b;for(var d=(this.sb=a)?"block":"none",e=0,f;f=this.oa[e];e++)f.Ba(a);if(this.connection){if(a)b=Cd(this.connection);else if(e=this.connection,Dd(e,!0),e.$)for(e=Ib(w(e),!1),f=0;f<e.length;f++){for(var h=e[f],k=h.re(!0),l=0;l<k.length;l++)Dd(k[l],!0);h=vb(h);for(l=0;l<h.length;l++)h[l].Ba(!1)}if(e=w(this.connection))e.Z().style.display=d,a||(e.Y=!1)}return b};
c.Za=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Za(a);return this};function Tf(a,b){a.align=b;a.C.Y&&a.C.ia();return a}c.T=function(){if(this.C.u.Y)for(var a=0;a<this.oa.length;a++)this.oa[a].T()};c.G=function(){for(var a=0,b;b=this.oa[a];a++)b.G();this.connection&&this.connection.G();this.C=null};function Wc(a){Wc.w.constructor.call(this,a);Uc(this);this.ua={}}u(Wc,db);c=Wc.prototype;c.zp=!1;c.Xp=function(a){v.g.m.F("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);v.g.m.F("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);v.g.m.F("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
c.Ba=function(a){if(a!=this.isVisible())if(v.j.fa(new Wb(this.S,"warningOpen",!a,a)),a){var b=this.Sb();a=v.g.m.F("text",{"class":"blocklyText blocklyBubbleText",y:Jc},null);b=b.split("\n");for(var d=0;d<b.length;d++)v.g.m.F("tspan",{dy:"1em",x:Jc},a).appendChild(document.createTextNode(b[d]));this.gb=new Gc(this.S.u,a,this.S.Yc,this.ui,null,null);Pc(this.gb,this.S.id);if(this.S.B){b=a.getBBox().width;d=0;for(var e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+Jc)}this.Be();
a=this.gb.mi();this.gb.Jh(a.width,a.height)}else this.gb.G(),this.gb=null};c.Ye=function(a,b){this.ua[b]!=a&&(a?this.ua[b]=a:delete this.ua[b],this.isVisible()&&(this.Ba(!1),this.Ba(!0)))};c.Sb=function(){var a=[],b;for(b in this.ua)a.push(this.ua[b]);return a.join("\n")};c.G=function(){this.S.Ic=null;db.prototype.G.call(this)};function Bc(a,b,d){if("undefined"!==typeof Uf.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=d&&!ac(a,d)?d:v.g.uf();a.rp[this.id]=this;this.U=this.R=this.M=null;this.O=[];this.rg=void 0;this.disabled=!1;this.bf="";this.contextMenu=!0;this.Hf=null;this.$f=[];this.Fu=this.Ml=this.Xk=!0;this.cg=this.Ja=!1;this.cb=null;this.Ce=new y(0,0);this.u=a;this.xb=a.Rd;this.B=a.B;this.Al=!1;this.pg=void 0;if(b){this.type=b;d=v.J[b];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+
b);Da(this,d)}a.kk.push(this);a.Gg[this.type]||(a.Gg[this.type]=[]);a.Gg[this.type].push(this);"function"==typeof this.T&&this.T();this.tB=this.rg;if(v.j.isEnabled()){(a=v.j.Rb())||v.j.W(!0);try{v.j.fa(new v.j.wm(this))}finally{a||v.j.W(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Pl&&this.u.Mi(this.Pl);if(this.onchange=a)this.Pl=a.bind(this),this.u.Id(this.Pl)}}c=Bc.prototype;c.data=null;c.Ug="#000000";
c.Pt=null;c.Qt=null;c.dm=null;
c.G=function(a){if(this.u){this.Pl&&this.u.Mi(this.Pl);D(this,a);v.j.isEnabled()&&v.j.fa(new v.j.Ls(this));v.j.disable();try{if(this.u){Ac(this.u,this);var b=this.u;b.Gg[this.type].splice(b.Gg[this.type].indexOf(this),1);b.Gg[this.type].length||delete b.Gg[this.type];delete this.u.rp[this.id];this.u=null}v.selected==this&&(v.selected=null);for(var d=this.$f.length-1;0<=d;d--)this.$f[d].G(!1);d=0;for(var e;e=this.O[d];d++)e.G();this.O.length=0;var f=this.re(!0);d=0;for(var h;h=f[d];d++)h.G()}finally{v.j.enable()}}};
c.vi=function(){for(var a=0,b;b=this.O[a];a++)for(var d=0,e;e=b.oa[d];d++)e.vi&&e.vi()};
function D(a,b){if(a.M){var d=null;a.M.isConnected()&&(d=a.M.$,a.M.disconnect());if(d&&b){a:{b=null;for(var e=0;e<a.O.length;e++){var f=a.O[e].connection;if(f&&f.type==v.ya&&f.$){if(b){a=null;break a}b=f}}a=b}a&&a.isConnected()&&!w(a).Ja&&(a=a.$,Zc(a,d)&&(a.disconnect(),d.connect(a)))}}else a.U&&(d=null,a.U.isConnected()&&(d=a.U.$,a.U.disconnect()),e=x(a),b&&e&&!e.Ja&&(a=a.R.$,a.disconnect(),d&&Zc(d,a)&&d.connect(a)))}
c.re=function(){var a=[];this.M&&a.push(this.M);this.U&&a.push(this.U);this.R&&a.push(this.R);for(var b=0,d;d=this.O[b];b++)d.connection&&a.push(d.connection);return a};c.pb=function(){console.warn("Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.")};c.getParent=function(){return this.Hf};function Vf(a){do{var b=a;a=a.getParent();if(!a)return null}while(x(a)==b);return a}function x(a){return a.R&&w(a.R)}
function yd(a){var b=a;do a=b,b=a.Hf;while(b);return a}c.kg=function(a){if(!a)return this.$f;a=[];for(var b=0,d;d=this.O[b];b++)d.connection&&(d=w(d.connection))&&a.push(d);(b=x(this))&&a.push(b);return a};c.Qi=function(a){if(a!=this.Hf){if(this.Hf){v.g.Ik(this.Hf.$f,this);if(this.U&&this.U.isConnected())throw Error("Still connected to previous block.");if(this.M&&this.M.isConnected())throw Error("Still connected to parent block.");this.Hf=null}else Ac(this.u,this);(this.Hf=a)?a.$f.push(this):this.u.kk.push(this)}};
function Ib(a,b){var d=[a];a=a.kg(b);for(var e,f=0;e=a[f];f++)d.push.apply(d,Ib(e,b));return d}c.Cc=function(){return this.Xk&&!this.Ja&&!(this.u&&this.u.options.readOnly)};c.es=function(a){this.Xk=a};c.Ub=function(){return this.Ml&&!this.Ja&&!(this.u&&this.u.options.readOnly)};c.Pi=function(a){this.Ml=a};c.ls=function(a){this.Ja=a};c.Cf=function(){return this.Al};c.ww=function(a){this.Al=a};c.Sc=function(){return this.Fu&&!(this.u&&this.u.options.readOnly)};
c.fs=function(a){this.Fu=a;a=0;for(var b;b=this.O[a];a++)for(var d=0,e;e=b.oa[d];d++)e.Hg()};function uc(a,b){if(!b&&a.isCollapsed()){if(a.M&&Dd(a.M,b),a.U&&Dd(a.U,b),a.R){Dd(a.R,b);var d=w(a.R);d&&uc(d,b)}}else{a=a.re(!0);for(var e=0;d=a[e];e++)Dd(d,b),cd(d)&&(d=w(d))&&uc(d,b)}}c.ta=function(a){this.bf=a};function Wf(a){var b=a.Pt;return b?b:v.g.ib.qp("white",a.Ug,.6)}
function Xf(a){var b=a.Qt;if(b)return{$m:b,Ap:null,Ot:null};a=a.Ug;return{$m:null,Ap:v.g.ib.qp("white",a,.3),Ot:v.g.ib.qp("black",a,.2)}}c.Xc=function(a){var b="string"==typeof a?v.g.fc(a):a,d=Number(b);if(!isNaN(d)&&0<=d&&360>=d)this.Ug=v.lv(d);else if(d=v.g.ib.parse(b))this.Ug=d;else throw d='Invalid colour: "'+b+'"',a!=b&&(d+=' (from "'+a+'")'),Error(d);};
function N(a,b){var d=v.In();if(!d)throw Error("Trying to set block style to "+b+" before theme was defined via Blockly.setTheme().");d=d.vz[b];a.dm=b;if(d)a.Pt=d.colourSecondary,a.Qt=d.colourTertiary,a.pg=d.pg,a.Xc(d.colourPrimary);else throw Error("Invalid style name: "+b);}function C(a,b){for(var d=0,e;e=a.O[d];d++)for(var f=0,h;h=e.oa[f];f++)if(h.name===b)return h;return null}c.zq=function(){for(var a=[],b=0,d;d=this.O[b];b++)for(var e=0,f;f=d.oa[e];e++)f.Vl()&&a.push(f.getValue());return a};
c.og=function(){for(var a=[],b=0,d;d=this.O[b];b++)for(var e=0,f;f=d.oa[e];e++)f.Vl()&&(f=this.u.Pe(f.getValue()))&&a.push(f);return a};c.Io=function(a){for(var b=0,d;d=this.O[b];b++)for(var e=0,f;f=d.oa[e];e++)f.Vl()&&a.ja()==f.getValue()&&(f.ua=f.$c.name,Nf(f))};c.so=function(a,b){for(var d=0,e;e=this.O[d];d++)for(var f=0,h;h=e.oa[f];f++)h.Vl()&&a==h.getValue()&&h.setValue(b)};function B(a,b){return(a=C(a,b))?a.getValue():null}
function Jd(a,b,d){a=C(a,d);if(!a)throw Error('Field "'+d+'" not found.');a.setValue(b)}c.Vd=function(a,b){if(a){void 0===b&&(b=null);if(!this.U){if(this.M)throw Error("Remove output connection prior to adding previous connection.");this.U=this.Gl(v.he)}this.U.Za(b)}else if(this.U){if(this.U.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.U.G();this.U=null}};
c.Ud=function(a,b){if(a)void 0===b&&(b=null),this.R||(this.R=this.Gl(v.Ea)),this.R.Za(b);else if(this.R){if(this.R.isConnected())throw Error("Must disconnect next statement before removing connection.");this.R.G();this.R=null}};
c.sd=function(a,b){if(a){void 0===b&&(b=null);if(!this.M){if(this.U)throw Error("Remove previous connection prior to adding output connection.");this.M=this.Gl(v.ge)}this.M.Za(b)}else if(this.M){if(this.M.isConnected())throw Error("Must disconnect output value before removing connection.");this.M.G();this.M=null}};c.Fc=function(a){this.rg!=a&&(v.j.fa(new v.j.ef(this,"inline",null,this.rg,a)),this.rg=a)};
function tb(a){if(void 0!=a.rg)return a.rg;for(var b=1;b<a.O.length;b++)if(a.O[b-1].type==v.Ee&&a.O[b].type==v.Ee)return!1;for(b=1;b<a.O.length;b++)if(a.O[b-1].type==v.ya&&a.O[b].type==v.Ee)return!0;return!1}c.isEnabled=function(){return!this.disabled};c.ob=function(a){this.isEnabled()!=a&&(v.j.fa(new v.j.ef(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Yf(a){for(a=Vf(a);a;){if(a.disabled)return!0;a=Vf(a)}return!1}c.isCollapsed=function(){return this.cg};
c.yg=function(a){this.cg!=a&&(v.j.fa(new v.j.ef(this,"collapsed",null,this.cg,a)),this.cg=a)};c.toString=function(a,b){var d=[],e=b||"?";if(this.cg)d.push(E(this,"_TEMP_COLLAPSED_INPUT").oa[0].ua);else for(var f=0,h;h=this.O[f];f++){for(var k=0,l;l=h.oa[k];k++)l instanceof O&&!l.getValue()?d.push(e):d.push(l.Sb());h.connection&&((h=w(h.connection))?d.push(h.toString(void 0,b)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};
function P(a,b){return a.Hk(v.ya,b)}function Zf(a,b){return a.Hk(v.Ea,b)}function Q(a,b){return a.Hk(v.Ee,b||"")}
function $f(a,b){var d=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");b.style&&b.style.pg&&(a.pg=b.style.pg,b.style=null);if(b.style&&b.colour)throw Error(d+"Must not have both a colour and a style.");if(b.style){var e=b.style;try{N(a,e)}catch(z){console.warn(d+"Style does not exist: ",e)}}else if("colour"in b)if(void 0===b.colour)console.warn(d+"Undefined colour value.");else{e=b.colour;try{a.Xc(e)}catch(z){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==b["message"+e];){for(var f=a,h=b["args"+e]||[],k=b["lastDummyAlign"+e],l=v.g.VC(b["message"+e]),m=[],n=0,q=[],r=0;r<l.length;r++){var t=l[r];if("number"==typeof t){if(0>=t||t>h.length)throw Error('Block "'+f.type+'": Message index %'+t+" out of range.");if(m[t])throw Error('Block "'+f.type+'": Message index %'+t+" duplicated.");m[t]=!0;n++;q.push(h[t-1])}else(t=t.trim())&&q.push(t)}if(n!=h.length)throw Error('Block "'+f.type+'": Message does not reference all '+
h.length+" arg(s).");q.length&&("string"==typeof q[q.length-1]||v.g.Pa.startsWith(q[q.length-1].type,"field_"))&&(r={type:"input_dummy"},k&&(r.align=k),q.push(r));k={LEFT:v.fj,RIGHT:v.Jg,CENTRE:v.sk};h=[];for(r=0;r<q.length;r++)if(m=q[r],"string"==typeof m)h.push([m,void 0]);else{l=t=null;do if(n=!1,"string"==typeof m)t=new Pf(m);else switch(m.type){case "input_value":l=P(f,m.name);break;case "input_statement":l=Zf(f,m.name);break;case "input_dummy":l=Q(f,m.name);break;default:t=m;var p=Bf[t.type];
p?(p=p.na(t),void 0!==t.tooltip&&(t=v.g.fc(t.tooltip),p.ta(t)),t=p):t=null;t||(m.alt?(m=m.alt,n=!0):console.warn("Blockly could not create a field of type "+m.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}while(n);if(t)h.push([t,m.name]);else if(l){m.check&&l.Za(m.check);m.align&&Tf(l,k[m.align]);for(m=0;m<h.length;m++)L(l,h[m][0],h[m][1]);h.length=0}}e++}void 0!==b.inputsInline&&a.Fc(b.inputsInline);void 0!==b.output&&a.sd(!0,b.output);void 0!==
b.previousStatement&&a.Vd(!0,b.previousStatement);void 0!==b.nextStatement&&a.Ud(!0,b.nextStatement);void 0!==b.tooltip&&(e=b.tooltip,e=v.g.fc(e),a.ta(e));void 0!==b.enableContextMenu&&(e=b.enableContextMenu,a.contextMenu=!!e);void 0!==b.helpUrl&&(e=b.helpUrl,e=v.g.fc(e),a.Ya=e);"string"==typeof b.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&v.X.apply(b.mutator,
a,!0);if(Array.isArray(b.extensions))for(b=b.extensions,d=0;d<b.length;++d)v.X.apply(b[d],a,!1)}function zf(a,b){var d=[],e;for(e in b)void 0!==a[e]&&d.push(e);if(d.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(d));Da(a,b)}c.Hk=function(a,b){var d=null;if(a==v.ya||a==v.Ea)d=this.Gl(a);a=new Qf(a,b,this,d);this.O.push(a);return a};
function ag(a,b,d){if(b!=d){for(var e=-1,f=d?-1:a.O.length,h=0,k;k=a.O[h];h++)if(k.name==b){if(e=h,-1!=f)break}else if(d&&k.name==d&&(f=h,-1!=e))break;if(-1==e)throw Error('Named input "'+b+'" not found.');if(-1==f)throw Error('Reference input "'+d+'" not found.');a.qr(e,f)}}
c.qr=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.O.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.O.length)throw RangeError("Reference input "+b+" out of bounds.");var d=this.O[a];this.O.splice(a,1);a<b&&b--;this.O.splice(b,0,d)};c.Ra=function(a,b){for(var d=0,e;e=this.O[d];d++)if(e.name==a){e.G();this.O.splice(d,1);return}if(!b)throw Error("Input not found: "+a);};function E(a,b){for(var d=0,e;e=a.O[d];d++)if(e.name==b)return e;return null}
function bg(a,b){return(a=E(a,b))&&a.connection&&w(a.connection)}c.zn=function(){return this.cb||""};c.zg=function(a){this.cb!=a&&(v.j.fa(new v.j.ef(this,"comment",null,this.cb,a||"")),this.cb=a)};c.Cg=function(){};c.Mh=function(){};c.wa=function(){return this.Ce};c.moveBy=function(a,b){if(this.Hf)throw Error("Block has parent.");var d=new v.j.uk(this);this.Ce.translate(a,b);d.vg();v.j.fa(d)};c.Gl=function(a){return new Xc(this,a)};v.g.nk={};v.g.nk.ng=function(a){a=a.P();var b=v.g.style.ng(a);b.height=a.scrollHeight;return b};v.g.nk.ut=function(a,b,d){b.left+=d.width;b.right+=d.width;a.left+=d.width;a.right+=d.width};function cg(a){if(Error.captureStackTrace)Error.captureStackTrace(this,cg);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}u(cg,Error);cg.prototype.name="CustomError";var dg;function eg(a,b){a=a.split("%s");for(var d="",e=a.length-1,f=0;f<e;f++)d+=a[f]+(f<b.length?b[f]:"%s");cg.call(this,d+a[e])}u(eg,cg);eg.prototype.name="AssertionError";var fg=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(g(a))return g(b)&&1==b.length?a.indexOf(b,0):-1;for(var d=0;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},gg=Array.prototype.forEach?function(a,b,d){Array.prototype.forEach.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=g(a)?a.split(""):a,h=0;h<e;h++)h in f&&b.call(d,f[h],h,a)},hg=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var d=
a.length,e=[],f=0,h=g(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(void 0,l,k,a)&&(e[f++]=l)}return e},ig=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var d=a.length,e=Array(d),f=g(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(void 0,f[h],h,a));return e},jg=Array.prototype.every?function(a,b){return Array.prototype.every.call(a,b,void 0)}:function(a,b){for(var d=a.length,e=g(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(void 0,
e[f],f,a))return!1;return!0};function kg(a,b){return 0<=fg(a,b)}function lg(a,b){b=fg(a,b);var d;(d=0<=b)&&Array.prototype.splice.call(a,b,1);return d}function mg(a){return Array.prototype.concat.apply([],arguments)}function ng(a){var b=a.length;if(0<b){for(var d=Array(b),e=0;e<b;e++)d[e]=a[e];return d}return[]}function og(a,b,d,e){Array.prototype.splice.apply(a,pg(arguments,1))}function pg(a,b,d){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,d)};var qg=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};
function rg(a,b){if(b)a=a.replace(sg,"&amp;").replace(tg,"&lt;").replace(ug,"&gt;").replace(vg,"&quot;").replace(wg,"&#39;").replace(xg,"&#0;");else{if(!yg.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(sg,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(tg,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ug,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(vg,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(wg,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(xg,"&#0;"))}return a}
var sg=/&/g,tg=/</g,ug=/>/g,vg=/"/g,wg=/'/g,xg=/\x00/g,yg=/[\x00&<>"']/;function zg(a,b){return-1!=a.indexOf(b)}function Ag(a,b){return a<b?-1:a>b?1:0};var Bg;a:{var Cg=la.navigator;if(Cg){var Dg=Cg.userAgent;if(Dg){Bg=Dg;break a}}Bg=""};function Eg(a,b,d){for(var e in a)b.call(d,a[e],e,a)}function Fg(a,b,d){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');a[b]=d}function Gg(a){var b={},d;for(d in a)b[a[d]]=d;return b}var Hg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ig(a,b){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var h=0;h<Hg.length;h++)d=Hg[h],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}}function Jg(a){var b=arguments.length;if(1==b&&sa(arguments[0]))return Jg.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var d={},e=0;e<b;e+=2)d[arguments[e]]=arguments[e+1];return d}
function Kg(a){var b=arguments.length;if(1==b&&sa(arguments[0]))return Kg.apply(null,arguments[0]);for(var d={},e=0;e<b;e++)d[arguments[e]]=!0;return d};var Lg={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function Mg(a,b){this.us=a===Ng&&b||"";this.Sy=Og}Mg.prototype.Af=!0;Mg.prototype.te=function(){return this.us};Mg.prototype.toString=function(){return"Const{"+this.us+"}"};function Pg(a){return a instanceof Mg&&a.constructor===Mg&&a.Sy===Og?a.us:"type_error:Const"}var Og={},Ng={};function Qg(){this.ew=""}Qg.prototype.Af=!0;Qg.prototype.te=function(){return this.ew.toString()};Qg.prototype.lh=function(a){this.ew=a;return this};(new Qg).lh("");function Rg(){this.gw="";this.Xy=Sg}Rg.prototype.Af=!0;Rg.prototype.te=function(){return this.gw.toString()};Rg.prototype.Oq=!0;Rg.prototype.ni=function(){return 1};var Sg={};function Tg(){this.Qr="";this.Iy=Ug}Tg.prototype.Af=!0;Tg.prototype.te=function(){return this.Qr.toString()};Tg.prototype.Oq=!0;Tg.prototype.ni=function(){return 1};function Vg(a){if(a instanceof Tg&&a.constructor===Tg&&a.Iy===Ug)return a.Qr;ra(a);return"type_error:SafeUrl"}var Wg=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Xg(a){if(a instanceof Tg)return a;a="object"==typeof a&&a.Af?a.te():String(a);Wg.test(a)||(a="about:invalid#zClosurez");return Yg(a)}var Ug={};
function Yg(a){var b=new Tg;b.Qr=a;return b}Yg("about:blank");function Zg(){this.Pr="";this.Hy=$g}Zg.prototype.Af=!0;var $g={};Zg.prototype.te=function(){return this.Pr};Zg.prototype.lh=function(a){this.Pr=a;return this};var ah=(new Zg).lh("");function bh(a){var b="",d;for(d in a){if(!/^[-_a-zA-Z0-9]+$/.test(d))throw Error("Name allows only [-_a-zA-Z0-9], got: "+d);var e=a[d];null!=e&&(e=sa(e)?ig(e,ch).join(" "):ch(e),b+=d+":"+e+";")}return b?(new Zg).lh(b):ah}
function ch(a){if(a instanceof Tg)return'url("'+Vg(a).toString().replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(a instanceof Mg)a=Pg(a);else{a=String(a);var b=a.replace(dh,"$1").replace(dh,"$1").replace(eh,"url");if(fh.test(b)){if(b=!gh.test(a)){for(var d=b=!0,e=0;e<a.length;e++){var f=a.charAt(e);"'"==f&&d?b=!b:'"'==f&&b&&(d=!d)}b=b&&d&&hh(a)}a=b?ih(a):"zClosurez"}else a="zClosurez"}if(/[{;}]/.test(a))throw new eg("Value does not allow [{;}], got: %s.",[a]);return a}
function hh(a){for(var b=!0,d=/^[-_a-zA-Z0-9]$/,e=0;e<a.length;e++){var f=a.charAt(e);if("]"==f){if(b)return!1;b=!0}else if("["==f){if(!b)return!1;b=!1}else if(!b&&!d.test(f))return!1}return b}var fh=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,eh=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,dh=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,gh=/\/\*/;
function ih(a){return a.replace(eh,function(b,d,e,f){var h="";e=e.replace(/^(['"])(.*)\1$/,function(k,l,m){h=l;return m});b=Xg(e).te();return d+h+b+h+f})};function jh(){this.fw=""}jh.prototype.Af=!0;jh.prototype.te=function(){return this.fw};jh.prototype.lh=function(a){this.fw=a;return this};(new jh).lh("");function kh(){this.Or="";this.Gy=lh;this.yu=null}kh.prototype.Oq=!0;kh.prototype.ni=function(){return this.yu};kh.prototype.Af=!0;kh.prototype.te=function(){return this.Or.toString()};function mh(a){if(a instanceof kh&&a.constructor===kh&&a.Gy===lh)return a.Or;ra(a);return"type_error:SafeHtml"}function nh(a){if(a instanceof kh)return a;var b="object"==typeof a,d=null;b&&a.Oq&&(d=a.ni());return oh(rg(b&&a.Af?a.te():String(a)),d)}
var ph=/^[a-zA-Z0-9-]+$/,qh={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},rh={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
function sh(a,b,d){var e=String(a);if(!ph.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in rh)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.");a=String(a);e=null;var f="<"+a,h="";if(b)for(n in b){if(!ph.test(n))throw Error('Invalid attribute name "'+n+'".');var k=b[n];if(null!=k){var l=a;var m=n;if(k instanceof Mg)k=Pg(k);else if("style"==m.toLowerCase()){if(!va(k))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof k+
" given: "+k);k instanceof Zg||(k=bh(k));k instanceof Zg&&k.constructor===Zg&&k.Hy===$g?k=k.Pr:(ra(k),k="type_error:SafeStyle")}else{if(/^on/i.test(m))throw Error('Attribute "'+m+'" requires goog.string.Const value, "'+k+'" given.');if(m.toLowerCase()in qh)if(k instanceof Rg)k instanceof Rg&&k.constructor===Rg&&k.Xy===Sg?k=k.gw:(ra(k),k="type_error:TrustedResourceUrl"),k=k.toString();else if(k instanceof Tg)k=Vg(k).toString();else if(g(k))k=Xg(k).te();else throw Error('Attribute "'+m+'" on tag "'+
l+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+k+'" given.');}k.Af&&(k=k.te());m=m+'="'+rg(String(k))+'"';h+=" "+m}}var n=f+h;null!=d?sa(d)||(d=[d]):d=[];!0===Lg[a.toLowerCase()]?n+=">":(d=th(d),n+=">"+mh(d).toString()+"</"+a+">",e=d.ni());(b=b&&b.dir)&&(e=/^(ltr|rtl|auto)$/i.test(b)?0:null);return oh(n,e)}
function uh(a){function b(h){sa(h)?gg(h,b):(h=nh(h),f.push(mh(h).toString()),h=h.ni(),0==e?e=h:0!=h&&e!=h&&(e=null))}var d=nh(vh),e=d.ni(),f=[];gg(a,b);return oh(f.join(mh(d).toString()),e)}function th(a){return uh(Array.prototype.slice.call(arguments))}var lh={};function oh(a,b){return(new kh).lh(a,b)}kh.prototype.lh=function(a,b){this.Or=a;this.yu=b;return this};oh("<!DOCTYPE html>",0);var vh=oh("",0),wh=oh("<br>",0);var xh=function(a){var b=!1,d;return function(){b||(d=a(),b=!0);return d}}(function(){var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);b=a.firstChild.firstChild;a.innerHTML=mh(vh);return!b.parentElement});function yh(a,b){if(xh())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=mh(b)}function zh(a,b){yh(a,b)};function Ah(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function Bh(a){return a=rg(a,void 0)}function Ch(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var d=la.document.createElement("div");return a.replace(Dh,function(e,f){var h=b[e];if(h)return h;"#"==f.charAt(0)&&(f=Number("0"+f.substr(1)),isNaN(f)||(h=String.fromCharCode(f)));h||(h=oh(e+" ",null),yh(d,h),h=d.firstChild.nodeValue.slice(0,-1));return b[e]=h})}
function Eh(a){return a.replace(/&([^;]+);/g,function(b,d){switch(d){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=d.charAt(0)||(d=Number("0"+d.substr(1)),isNaN(d))?b:String.fromCharCode(d)}})}var Dh=/&([^;\s<&]+);?/g;function Fh(a){Fh[" "](a);return a}Fh[" "]=pa;function Gh(a,b){var d=Hh;return Object.prototype.hasOwnProperty.call(d,a)?d[a]:d[a]=b(a)};var Ih=zg(Bg,"Opera"),R=zg(Bg,"Trident")||zg(Bg,"MSIE"),Jh=zg(Bg,"Edge"),Kh=zg(Bg,"Gecko")&&!(zg(Bg.toLowerCase(),"webkit")&&!zg(Bg,"Edge"))&&!(zg(Bg,"Trident")||zg(Bg,"MSIE"))&&!zg(Bg,"Edge"),Lh=zg(Bg.toLowerCase(),"webkit")&&!zg(Bg,"Edge"),Mh=zg(Bg,"Macintosh");function Nh(){var a=la.document;return a?a.documentMode:void 0}var Oh;
a:{var Ph="",Qh=function(){var a=Bg;if(Kh)return/rv:([^\);]+)(\)|;)/.exec(a);if(Jh)return/Edge\/([\d\.]+)/.exec(a);if(R)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Lh)return/WebKit\/(\S+)/.exec(a);if(Ih)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Qh&&(Ph=Qh?Qh[1]:"");if(R){var Rh=Nh();if(null!=Rh&&Rh>parseFloat(Ph)){Oh=String(Rh);break a}}Oh=Ph}var Hh={};
function Sh(a){return Gh(a,function(){for(var b=0,d=qg(String(Oh)).split("."),e=qg(String(a)).split("."),f=Math.max(d.length,e.length),h=0;0==b&&h<f;h++){var k=d[h]||"",l=e[h]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;b=Ag(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||Ag(0==k[2].length,0==l[2].length)||Ag(k[2],l[2]);k=k[3];l=l[3]}while(0==b)}return 0<=b})}var Th;
Th=la.document&&R?Nh():void 0;var Uh=!R||9<=Number(Th),Vh=!R||9<=Number(Th),Wh=R&&!Sh("9"),Xh="PointerEvent"in la,Yh="MSPointerEvent"in la&&!(!la.navigator||!la.navigator.msPointerEnabled),Zh=function(){if(!la.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{la.addEventListener("test",pa,b),la.removeEventListener("test",pa,b)}catch(d){}return a}();function $h(){0!=ai&&(bi[wa(this)]=this);this.ig=this.ig;this.tg=this.tg}var ai=0,bi={};$h.prototype.ig=!1;$h.prototype.G=function(){if(!this.ig&&(this.ig=!0,this.Fb(),0!=ai)){var a=wa(this);if(0!=ai&&this.tg&&0<this.tg.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete bi[a]}};
function ci(a,b){a.ig?ma(void 0)?b.call(void 0):b():(a.tg||(a.tg=[]),a.tg.push(ma(void 0)?Ba(b,void 0):b))}$h.prototype.Fb=function(){if(this.tg)for(;this.tg.length;)this.tg.shift()()};function di(a){a&&"function"==typeof a.G&&a.G()};function ei(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Li=!1;this.qw=!0}ei.prototype.stopPropagation=function(){this.Li=!0};ei.prototype.preventDefault=function(){this.defaultPrevented=!0;this.qw=!1};var fi={kj:Xh?"pointerdown":Yh?"MSPointerDown":"mousedown",lj:Xh?"pointerup":Yh?"MSPointerUp":"mouseup",jj:Xh?"pointercancel":Yh?"MSPointerCancel":"mousecancel",uy:Xh?"pointermove":Yh?"MSPointerMove":"mousemove",wy:Xh?"pointerover":Yh?"MSPointerOver":"mouseover",vy:Xh?"pointerout":Yh?"MSPointerOut":"mouseout",sy:Xh?"pointerenter":Yh?"MSPointerEnter":"mouseenter",ty:Xh?"pointerleave":Yh?"MSPointerLeave":"mouseleave"},gi={kj:"mousedown",lj:"mouseup",jj:"mousecancel",uy:"mousemove",wy:"mouseover",vy:"mouseout",
sy:"mouseenter",ty:"mouseleave"};function hi(a,b){ei.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Jr=!1;this.pointerId=0;this.pointerType="";this.rf=null;a&&this.T(a,b)}u(hi,ei);var ii=[1,4,2],ji={2:"touch",3:"pen",4:"mouse"};
hi.prototype.T=function(a,b){var d=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(Kh){a:{try{Fh(b.nodeName);var f=!0;break a}catch(h){}f=!1}f||(b=null)}}else"mouseover"==d?b=a.fromElement:"mouseout"==d&&(b=a.toElement);this.relatedTarget=b;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=
e.screenY||0):(this.offsetX=Lh||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Lh||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==d?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Jr=Mh?
a.metaKey:a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType=g(a.pointerType)?a.pointerType:ji[a.pointerType]||"";this.state=a.state;this.rf=a;a.defaultPrevented&&this.preventDefault()};function ki(a){return Uh?0==a.rf.button:"click"==a.type?!0:!!(a.rf.button&ii[0])}hi.prototype.stopPropagation=function(){hi.w.stopPropagation.call(this);this.rf.stopPropagation?this.rf.stopPropagation():this.rf.cancelBubble=!0};
hi.prototype.preventDefault=function(){hi.w.preventDefault.call(this);var a=this.rf;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Wh)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var li="closure_listenable_"+(1E6*Math.random()|0);function mi(a){return!(!a||!a[li])}var ni=0;function oi(a,b,d,e,f){this.listener=a;this.proxy=null;this.src=b;this.type=d;this.capture=!!e;this.Ln=f;this.key=++ni;this.dk=this.Sm=!1}function pi(a){a.dk=!0;a.listener=null;a.proxy=null;a.src=null;a.Ln=null};function qi(a){this.src=a;this.pd={};this.nm=0}qi.prototype.add=function(a,b,d,e,f){var h=a.toString();a=this.pd[h];a||(a=this.pd[h]=[],this.nm++);var k=ri(a,b,e,f);-1<k?(b=a[k],d||(b.Sm=!1)):(b=new oi(b,this.src,h,!!e,f),b.Sm=d,a.push(b));return b};qi.prototype.remove=function(a,b,d,e){a=a.toString();if(!(a in this.pd))return!1;var f=this.pd[a];b=ri(f,b,d,e);return-1<b?(pi(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete this.pd[a],this.nm--),!0):!1};
function si(a,b){var d=b.type;d in a.pd&&lg(a.pd[d],b)&&(pi(b),0==a.pd[d].length&&(delete a.pd[d],a.nm--))}qi.prototype.removeAll=function(a){a=a&&a.toString();var b=0,d;for(d in this.pd)if(!a||d==a){for(var e=this.pd[d],f=0;f<e.length;f++)++b,pi(e[f]);delete this.pd[d];this.nm--}return b};qi.prototype.gl=function(a,b,d,e){a=this.pd[a.toString()];var f=-1;a&&(f=ri(a,b,d,e));return-1<f?a[f]:null};
function ri(a,b,d,e){for(var f=0;f<a.length;++f){var h=a[f];if(!h.dk&&h.listener==b&&h.capture==!!d&&h.Ln==e)return f}return-1};var ti="closure_lm_"+(1E6*Math.random()|0),ui={},vi=0;function wi(a,b,d,e,f){if(e&&e.once)return xi(a,b,d,e,f);if(sa(b)){for(var h=0;h<b.length;h++)wi(a,b[h],d,e,f);return null}d=yi(d);return mi(a)?a.za(b,d,va(e)?!!e.capture:!!e,f):zi(a,b,d,!1,e,f)}
function zi(a,b,d,e,f,h){if(!b)throw Error("Invalid event type");var k=va(f)?!!f.capture:!!f,l=Ai(a);l||(a[ti]=l=new qi(a));d=l.add(b,d,e,k,h);if(d.proxy)return d;e=Bi();d.proxy=e;e.src=a;e.listener=d;if(a.addEventListener)Zh||(f=k),void 0===f&&(f=!1),a.addEventListener(b.toString(),e,f);else if(a.attachEvent)a.attachEvent(Ci(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");vi++;return d}
function Bi(){var a=Di,b=Vh?function(d){return a.call(b.src,b.listener,d)}:function(d){d=a.call(b.src,b.listener,d);if(!d)return d};return b}function xi(a,b,d,e,f){if(sa(b)){for(var h=0;h<b.length;h++)xi(a,b[h],d,e,f);return null}d=yi(d);return mi(a)?a.Av(b,d,va(e)?!!e.capture:!!e,f):zi(a,b,d,!0,e,f)}function Ei(a,b,d,e,f){if(sa(b))for(var h=0;h<b.length;h++)Ei(a,b[h],d,e,f);else e=va(e)?!!e.capture:!!e,d=yi(d),mi(a)?a.ae(b,d,e,f):a&&(a=Ai(a))&&(b=a.gl(b,d,e,f))&&Fi(b)}
function Fi(a){if(!na(a)&&a&&!a.dk){var b=a.src;if(mi(b))si(b.jg,a);else{var d=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(d,e,a.capture):b.detachEvent?b.detachEvent(Ci(d),e):b.addListener&&b.removeListener&&b.removeListener(e);vi--;(d=Ai(b))?(si(d,a),0==d.nm&&(d.src=null,b[ti]=null)):pi(a)}}}function Ci(a){return a in ui?ui[a]:ui[a]="on"+a}
function Gi(a,b,d,e){var f=!0;if(a=Ai(a))if(b=a.pd[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.capture==d&&!h.dk&&(h=Hi(h,e),f=f&&!1!==h)}return f}function Hi(a,b){var d=a.listener,e=a.Ln||a.src;a.Sm&&Fi(a);return d.call(e,b)}
function Di(a,b){if(a.dk)return!0;if(!Vh){if(!b)a:{b=["window","event"];for(var d=la,e=0;e<b.length;e++)if(d=d[b[e]],null==d){b=null;break a}b=d}e=b;b=new hi(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=b.currentTarget;f;f=f.parentNode)e.push(f);a=a.type;for(f=e.length-1;!b.Li&&0<=f;f--){b.currentTarget=e[f];var h=Gi(e[f],a,!0,b);d=d&&h}for(f=0;!b.Li&&f<e.length;f++)b.currentTarget=
e[f],h=Gi(e[f],a,!1,b),d=d&&h}return d}return Hi(a,new hi(b,this))}function Ai(a){a=a[ti];return a instanceof qi?a:null}var Ii="__closure_events_fn_"+(1E9*Math.random()>>>0);function yi(a){if(ua(a))return a;a[Ii]||(a[Ii]=function(b){return a.handleEvent(b)});return a[Ii]};function Ji(a){a%=360;return 0>360*a?a+360:a};function Ki(a,b){this.x=ma(a)?a:0;this.y=ma(b)?b:0}c=Ki.prototype;c.clone=function(){return new Ki(this.x,this.y)};c.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};c.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};c.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};c.translate=function(a,b){a instanceof Ki?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),na(b)&&(this.y+=b));return this};
c.scale=function(a,b){b=na(b)?b:a;this.x*=a;this.y*=b;return this};var Li=!R||9<=Number(Th),Mi=!Kh&&!R||R&&9<=Number(Th)||Kh&&Sh("1.9.1"),Ni=R&&!Sh("9");function Oi(a,b){this.width=a;this.height=b}c=Oi.prototype;c.clone=function(){return new Oi(this.width,this.height)};c.aspectRatio=function(){return this.width/this.height};c.sv=function(){return!(this.width*this.height)};c.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};c.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
c.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};c.scale=function(a,b){b=na(b)?b:a;this.width*=a;this.height*=b;return this};function Pi(a){return a?new Qi(Ri(a)):dg||(dg=new Qi)}function Si(a,b,d){a=d||a;if(a.querySelectorAll&&a.querySelector)return a.querySelectorAll("DIV"+(b?"."+b:""));if(b&&a.getElementsByClassName){a=a.getElementsByClassName(b);d={};for(var e=0,f=0,h;h=a[f];f++)"DIV"==h.nodeName&&(d[e++]=h);d.length=e;return d}a=a.getElementsByTagName("DIV");if(b){d={};for(f=e=0;h=a[f];f++){var k=h.className;"function"==typeof k.split&&kg(k.split(/\s+/),b)&&(d[e++]=h)}d.length=e;return d}return a}
function Ti(a,b){Eg(b,function(d,e){d&&"object"==typeof d&&d.Af&&(d=d.te());"style"==e?a.style.cssText=d:"class"==e?a.className=d:"for"==e?a.htmlFor=d:Ui.hasOwnProperty(e)?a.setAttribute(Ui[e],d):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,d):a[e]=d})}
var Ui={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Vi(a){return a.scrollingElement?a.scrollingElement:Lh||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}
function Wi(a,b,d,e){function f(k){k&&b.appendChild(g(k)?a.createTextNode(k):k)}for(;e<d.length;e++){var h=d[e];!ta(h)||va(h)&&0<h.nodeType?f(h):gg(Xi(h)?ng(h):h,f)}}function Yi(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Zi(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function $i(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Ri(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function aj(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else Yi(a),a.appendChild(Ri(a).createTextNode(String(b)))}var bj={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},cj={IMG:" ",BR:"\n"};function dj(a){return ej(a)&&fj(a)}function gj(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))}
function ej(a){return R&&!Sh("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")}function fj(a){a=a.tabIndex;return na(a)&&0<=a&&32768>a}function hj(a){var b=[];ij(a,b,!1);return b.join("")}function ij(a,b,d){if(!(a.nodeName in bj))if(3==a.nodeType)d?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in cj)b.push(cj[a.nodeName]);else for(a=a.firstChild;a;)ij(a,b,d),a=a.nextSibling}
function Xi(a){if(a&&"number"==typeof a.length){if(va(a))return"function"==typeof a.item||"string"==typeof a.item;if(ua(a))return"function"==typeof a.item}return!1}function Qi(a){this.ne=a||la.document||document}c=Qi.prototype;c.se=Pi;c.P=function(a){return g(a)?this.ne.getElementById(a):a};c.getElementsByTagName=function(a,b){return(b||this.ne).getElementsByTagName(String(a))};c.setProperties=Ti;
c.ea=function(a,b,d){var e=this.ne,f=arguments,h=String(f[0]),k=f[1];if(!Li&&k&&(k.name||k.type)){h=["<",h];k.name&&h.push(' name="',Bh(k.name),'"');if(k.type){h.push(' type="',Bh(k.type),'"');var l={};Ig(l,k);delete l.type;k=l}h.push(">");h=h.join("")}h=e.createElement(h);k&&(g(k)?h.className=k:sa(k)?h.className=k.join(" "):Ti(h,k));2<f.length&&Wi(e,h,f,2);return h};c.createElement=function(a){return this.ne.createElement(String(a))};c.createTextNode=function(a){return this.ne.createTextNode(String(a))};
c.rq=function(){var a=this.ne,b=Vi(a);a=a.parentWindow||a.defaultView;return R&&Sh("10")&&a.pageYOffset!=b.scrollTop?new Ki(b.scrollLeft,b.scrollTop):new Ki(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};c.appendChild=function(a,b){a.appendChild(b)};c.append=function(a,b){Wi(Ri(a),a,arguments,1)};c.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
c.mw=Yi;c.removeNode=Zi;c.kg=function(a){return Mi&&void 0!=a.children?a.children:hg(a.childNodes,function(b){return 1==b.nodeType})};c.contains=$i;
c.oh=function(a){var b;(b="A"==a.tagName&&a.hasAttribute("href")||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!ej(a)||fj(a)):dj(a))&&R?(a=!ua(a.getBoundingClientRect)||R&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a};function jj(a,b,d,e){this.top=a;this.right=b;this.bottom=d;this.left=e}c=jj.prototype;c.Rc=function(){return this.right-this.left};c.Hj=function(){return this.bottom-this.top};c.clone=function(){return new jj(this.top,this.right,this.bottom,this.left)};c.contains=function(a){return this&&a?a instanceof jj?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
c.expand=function(a,b,d,e){va(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(d),this.left-=Number(e));return this};c.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
c.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};c.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};c.translate=function(a,b){a instanceof Ki?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,na(b)&&(this.top+=b,this.bottom+=b));return this};
c.scale=function(a,b){b=na(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function kj(a,b){var d=Ri(a);return d.defaultView&&d.defaultView.getComputedStyle&&(a=d.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function lj(a){try{var b=a.getBoundingClientRect()}catch(d){return{left:0,top:0,right:0,bottom:0}}R&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function mj(a){var b=Ri(a),d=new Ki(0,0);var e=b?Ri(b):document;e=!R||9<=Number(Th)||"CSS1Compat"==Pi(e).ne.compatMode?e.documentElement:e.body;if(a==e)return d;a=lj(a);b=Pi(b).rq();d.x=a.left+b.x;d.y=a.top+b.y;return d}function nj(a){"number"==typeof a&&(a+="px");return a}function oj(a,b){a.style.display=b?"":"none"}var pj=Kh?"MozUserSelect":Lh||Jh?"WebkitUserSelect":null;
function qj(a,b,d){d=d?null:a.getElementsByTagName("*");if(pj){if(b=b?"none":"",a.style&&(a.style[pj]=b),d){a=0;for(var e;e=d[a];a++)e.style&&(e.style[pj]=b)}}else if(R||Ih)if(b=b?"on":"",a.setAttribute("unselectable",b),d)for(a=0;e=d[a];a++)e.setAttribute("unselectable",b)}var rj={thin:2,medium:4,thick:6};
function sj(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var d=a.currentStyle?a.currentStyle[b+"Width"]:null;if(d in rj)a=rj[d];else if(/^\d+px?$/.test(d))a=parseInt(d,10);else{b=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=d;d=a.style.pixelLeft;a.style.left=b;a.runtimeStyle.left=e;a=+d}return a};function tj(a){$h.call(this);this.Nj=a;this.Tj={}}u(tj,$h);var uj=[];c=tj.prototype;c.za=function(a,b,d,e){sa(b)||(b&&(uj[0]=b.toString()),b=uj);for(var f=0;f<b.length;f++){var h=wi(a,b[f],d||this.handleEvent,e||!1,this.Nj||this);if(!h)break;this.Tj[h.key]=h}return this};c.Av=function(a,b,d,e){return vj(this,a,b,d,e)};function vj(a,b,d,e,f,h){if(sa(d))for(var k=0;k<d.length;k++)vj(a,b,d[k],e,f,h);else{b=xi(b,d,e||a.handleEvent,f,h||a.Nj||a);if(!b)return a;a.Tj[b.key]=b}return a}
c.ae=function(a,b,d,e,f){if(sa(b))for(var h=0;h<b.length;h++)this.ae(a,b[h],d,e,f);else d=d||this.handleEvent,e=va(e)?!!e.capture:!!e,f=f||this.Nj||this,d=yi(d),e=!!e,b=mi(a)?a.gl(b,d,e,f):a?(a=Ai(a))?a.gl(b,d,e,f):null:null,b&&(Fi(b),delete this.Tj[b.key]);return this};c.removeAll=function(){Eg(this.Tj,function(a,b){this.Tj.hasOwnProperty(b)&&Fi(a)},this);this.Tj={}};c.Fb=function(){tj.w.Fb.call(this);this.removeAll()};
c.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function wj(){$h.call(this);this.jg=new qi(this);this.cz=this;this.Er=null}u(wj,$h);wj.prototype[li]=!0;c=wj.prototype;c.Fn=function(){return this.Er};c.js=function(a){this.Er=a};c.addEventListener=function(a,b,d,e){wi(this,a,b,d,e)};c.removeEventListener=function(a,b,d,e){Ei(this,a,b,d,e)};
c.dispatchEvent=function(a){var b,d=this.Fn();if(d)for(b=[];d;d=d.Fn())b.push(d);d=this.cz;var e=a.type||a;if(g(a))a=new ei(a,d);else if(a instanceof ei)a.target=a.target||d;else{var f=a;a=new ei(e,d);Ig(a,f)}f=!0;if(b)for(var h=b.length-1;!a.Li&&0<=h;h--){var k=a.currentTarget=b[h];f=xj(k,e,!0,a)&&f}a.Li||(k=a.currentTarget=d,f=xj(k,e,!0,a)&&f,a.Li||(f=xj(k,e,!1,a)&&f));if(b)for(h=0;!a.Li&&h<b.length;h++)k=a.currentTarget=b[h],f=xj(k,e,!1,a)&&f;return f};
c.Fb=function(){wj.w.Fb.call(this);this.removeAllListeners();this.Er=null};c.za=function(a,b,d,e){return this.jg.add(String(a),b,!1,d,e)};c.Av=function(a,b,d,e){return this.jg.add(String(a),b,!0,d,e)};c.ae=function(a,b,d,e){return this.jg.remove(String(a),b,d,e)};c.removeAllListeners=function(a){return this.jg?this.jg.removeAll(a):0};
function xj(a,b,d,e){b=a.jg.pd[String(b)];if(!b)return!0;b=b.concat();for(var f=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.dk&&k.capture==d){var l=k.listener,m=k.Ln||k.src;k.Sm&&si(a.jg,k);f=!1!==l.call(m,e)&&f}}return f&&0!=e.qw}c.gl=function(a,b,d,e){return this.jg.gl(String(a),b,d,e)};function yj(){}qa(yj);yj.prototype.TB=0;yj.prototype.mB="";function zj(a){wj.call(this);this.ii=a||Pi();this.ek=Aj;this.hh=null;this.Na=!1;this.da=null;this.eh=void 0;this.Ie=this.Mc=this.Dc=this.pr=null;this.ak=this.ex=!1}u(zj,wj);zj.prototype.lB=yj.yf();var Aj=null;
function Bj(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}c=zj.prototype;c.ja=function(){var a;(a=this.hh)||(a=this.lB,a=this.hh=a.mB+":"+(a.TB++).toString(36));return a};
function Cj(a,b){if(a.Dc&&a.Dc.Ie){var d=a.Dc.Ie,e=a.hh;e in d&&delete d[e];Fg(a.Dc.Ie,b,a)}a.hh=b}c.P=function(){return this.da};function Dj(a){a.eh||(a.eh=new tj(a));return a.eh}c.Qi=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.Dc&&this.hh&&Ej(this.Dc,this.hh)&&this.Dc!=a)throw Error("Unable to set parent component");this.Dc=a;zj.w.js.call(this,a)};c.getParent=function(){return this.Dc};
c.js=function(a){if(this.Dc&&this.Dc!=a)throw Error("Method not supported");zj.w.js.call(this,a)};c.se=function(){return this.ii};c.ea=function(){this.da=this.ii.createElement("DIV")};c.ia=function(a){this.Jf(a)};c.Jf=function(a,b){if(this.Na)throw Error("Component already rendered");this.da||this.ea();a?a.insertBefore(this.da,b||null):this.ii.ne.body.appendChild(this.da);this.Dc&&!this.Dc.Na||this.Qb()};
c.Me=function(a){if(this.Na)throw Error("Component already rendered");if(a&&this.Zf(a)){this.ex=!0;var b=Ri(a);this.ii&&this.ii.ne==b||(this.ii=Pi(a));this.Wk(a);this.Qb()}else throw Error("Invalid element to decorate");};c.Zf=function(){return!0};c.Wk=function(a){this.da=a};c.Qb=function(){this.Na=!0;Fj(this,function(a){!a.Na&&a.P()&&a.Qb()})};c.qe=function(){Fj(this,function(a){a.Na&&a.qe()});this.eh&&this.eh.removeAll();this.Na=!1};
c.Fb=function(){this.Na&&this.qe();this.eh&&(this.eh.G(),delete this.eh);Fj(this,function(a){a.G()});!this.ex&&this.da&&Zi(this.da);this.Dc=this.pr=this.da=this.Ie=this.Mc=null;zj.w.Fb.call(this)};c.Gk=function(a,b){this.rj(a,Gj(this),b)};
c.rj=function(a,b,d){if(a.Na&&(d||!this.Na))throw Error("Component already rendered");if(0>b||b>Gj(this))throw Error("Child component index out of bounds");this.Ie&&this.Mc||(this.Ie={},this.Mc=[]);if(a.getParent()==this){var e=a.ja();this.Ie[e]=a;lg(this.Mc,a)}else Fg(this.Ie,a.ja(),a);a.Qi(this);og(this.Mc,b,0,a);a.Na&&this.Na&&a.getParent()==this?(d=this.nd(),b=d.childNodes[b]||null,b!=a.P()&&d.insertBefore(a.P(),b)):d?(this.da||this.ea(),b=S(this,b+1),a.Jf(this.nd(),b?b.da:null)):this.Na&&!a.Na&&
a.da&&a.da.parentNode&&1==a.da.parentNode.nodeType&&a.Qb()};c.nd=function(){return this.da};function Hj(a){if(null==a.ek){var b=a.Na?a.da:a.ii.ne.body;b=kj(b,"direction")||(b.currentStyle?b.currentStyle.direction:null)||b.style&&b.style.direction;a.ek="rtl"==b}return a.ek}c.Bg=function(a){if(this.Na)throw Error("Component already rendered");this.ek=a};function Ij(a){return!!a.Mc&&0!=a.Mc.length}function Gj(a){return a.Mc?a.Mc.length:0}
function Ej(a,b){a.Ie&&b?(a=a.Ie,b=(null!==a&&b in a?a[b]:void 0)||null):b=null;return b}function S(a,b){return a.Mc?a.Mc[b]||null:null}function Fj(a,b,d){a.Mc&&gg(a.Mc,b,d)}function Jj(a,b){return a.Mc&&b?fg(a.Mc,b):-1}c.removeChild=function(a,b){if(a){var d=g(a)?a:a.ja();a=Ej(this,d);if(d&&a){var e=this.Ie;d in e&&delete e[d];lg(this.Mc,a);b&&(a.qe(),a.da&&Zi(a.da));a.Qi(null)}}if(!a)throw Error("Child is not in parent component");return a};
c.mw=function(a){for(var b=[];Ij(this);)b.push(this.removeChild(S(this,0),a));return b};var Kj;Kg("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));function Lj(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}
function Mj(a,b,d){sa(d)&&(d=d.join(" "));var e="aria-"+b;""===d||void 0==d?(Kj||(Kj={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),d=Kj,b in d?a.setAttribute(e,d[b]):a.removeAttribute(e)):a.setAttribute(e,d)};function Nj(a,b,d,e,f,h){if(Lh&&!Sh("525"))return!0;if(Mh&&f)return Oj(a);if(f&&!e)return!1;if(!Kh){na(b)&&(b=Pj(b));var k=17==b||18==b||Mh&&91==b;if((!d||Mh)&&k||Mh&&16==b&&(e||h))return!1}if((Lh||Jh)&&e&&d)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(R&&e&&b==a)return!1;switch(a){case 13:return Kh?h||f?!1:!(d&&e):!0;case 27:return!(Lh||Jh||Kh)}return Kh&&(e||f||h)?!1:Oj(a)}
function Oj(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(Lh||Jh)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Kh;default:return!1}}function Pj(a){if(Kh)a=Qj(a);else if(Mh&&Lh)switch(a){case 93:a=91}return a}
function Qj(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Rj(a,b){wj.call(this);a&&Sj(this,a,b)}u(Rj,wj);c=Rj.prototype;c.da=null;c.Xn=null;c.Zq=null;c.Yn=null;c.Dd=-1;c.Ef=-1;c.lp=!1;
var Tj={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Uj={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Vj=!Lh||Sh("525"),Wj=Mh&&Kh;c=Rj.prototype;
c.RA=function(a){if(Lh||Jh)if(17==this.Dd&&!a.ctrlKey||18==this.Dd&&!a.altKey||Mh&&91==this.Dd&&!a.metaKey)this.Ef=this.Dd=-1;-1==this.Dd&&(a.ctrlKey&&17!=a.keyCode?this.Dd=17:a.altKey&&18!=a.keyCode?this.Dd=18:a.metaKey&&91!=a.keyCode&&(this.Dd=91));Vj&&!Nj(a.keyCode,this.Dd,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.Ef=Pj(a.keyCode),Wj&&(this.lp=a.altKey))};c.SA=function(a){this.Ef=this.Dd=-1;this.lp=a.altKey};
c.handleEvent=function(a){var b=a.rf,d=b.altKey;if(R&&"keypress"==a.type){var e=this.Ef;var f=13!=e&&27!=e?b.keyCode:0}else(Lh||Jh)&&"keypress"==a.type?(e=this.Ef,f=0<=b.charCode&&63232>b.charCode&&Oj(e)?b.charCode:0):Ih&&!Lh?(e=this.Ef,f=Oj(e)?b.keyCode:0):("keypress"==a.type?(Wj&&(d=this.lp),b.keyCode==b.charCode?32>b.keyCode?(e=b.keyCode,f=0):(e=this.Ef,f=b.charCode):(e=b.keyCode||this.Ef,f=b.charCode||0)):(e=b.keyCode||this.Ef,f=b.charCode||0),Mh&&63==f&&224==e&&(e=191));var h=e=Pj(e);e?63232<=
e&&e in Tj?h=Tj[e]:25==e&&a.shiftKey&&(h=9):b.keyIdentifier&&b.keyIdentifier in Uj&&(h=Uj[b.keyIdentifier]);Kh&&Vj&&"keypress"==a.type&&!Nj(h,this.Dd,a.shiftKey,a.ctrlKey,d,a.metaKey)||(a=h==this.Dd,this.Dd=h,b=new Xj(h,f,a,b),b.altKey=d,this.dispatchEvent(b))};c.P=function(){return this.da};function Sj(a,b,d){a.Yn&&a.detach();a.da=b;a.Xn=wi(a.da,"keypress",a,d);a.Zq=wi(a.da,"keydown",a.RA,d,a);a.Yn=wi(a.da,"keyup",a.SA,d,a)}
c.detach=function(){this.Xn&&(Fi(this.Xn),Fi(this.Zq),Fi(this.Yn),this.Yn=this.Zq=this.Xn=null);this.da=null;this.Ef=this.Dd=-1};c.Fb=function(){Rj.w.Fb.call(this);this.detach()};function Xj(a,b,d,e){hi.call(this,e);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=d}u(Xj,hi);function Yj(a){if(a.classList)return a.classList;a=a.className;return g(a)&&a.match(/\S+/g)||[]}function Zj(a,b){a.className=b}function ak(a,b){return a.classList?a.classList.contains(b):kg(Yj(a),b)}function bk(a,b){a.classList?a.classList.add(b):ak(a,b)||(a.className+=0<a.className.length?" "+b:b)}
function ck(a,b){if(a.classList)gg(b,function(f){bk(a,f)});else{var d={};gg(Yj(a),function(f){d[f]=!0});gg(b,function(f){d[f]=!0});a.className="";for(var e in d)a.className+=0<a.className.length?" "+e:e}}function dk(a,b){a.classList?a.classList.remove(b):ak(a,b)&&(a.className=hg(Yj(a),function(d){return d!=b}).join(" "))}function ek(a,b){a.classList?gg(b,function(d){dk(a,d)}):a.className=hg(Yj(a),function(d){return!kg(b,d)}).join(" ")};function fk(a,b){if(!a)throw Error("Invalid class name "+a);if(!ua(b))throw Error("Invalid decorator function "+b);gk[a]=b}var hk={},gk={};function ik(a){this.np=a}qa(ik);c=ik.prototype;c.dl=function(){return this.np};function jk(a,b){a&&(a.tabIndex=b?0:-1)}c.ea=function(a){return a.se().ea("DIV",this.Ej(a).join(" "))};c.nd=function(a){return a};c.Zf=function(a){return"DIV"==a.tagName};c.Me=function(a,b){b.id&&Cj(a,b.id);var d=this.lb(),e=!1,f=Yj(b);f&&gg(f,function(h){h==d?e=!0:h&&this.ns(a,h,d)},this);e||bk(b,d);kk(this,a,this.nd(b));return b};
c.ns=function(a,b,d){b==d+"-disabled"?a.ob(!1):b==d+"-horizontal"?a.setOrientation(lk):b==d+"-vertical"&&a.setOrientation(mk)};function kk(a,b,d){if(d)for(var e=d.firstChild,f;e&&e.parentNode==d;){f=e.nextSibling;if(1==e.nodeType){var h=a.qq(e);h&&(h.da=e,b.isEnabled()||h.ob(!1),b.Gk(h),h.Me(e))}else e.nodeValue&&""!=qg(e.nodeValue)||d.removeChild(e);e=f}}c.qq=function(a){a:{a=Yj(a);for(var b=0,d=a.length;b<d;b++){var e=a[b];if(e=e in gk?gk[e]():null){a=e;break a}}a=null}return a};
c.wl=function(a){a=a.P();qj(a,!0,Kh);R&&(a.hideFocus=!0);var b=this.dl();b&&Lj(a,b)};c.ic=function(a){return a.P()};c.lb=function(){return"goog-container"};c.Ej=function(a){var b=this.lb(),d=[b,a.Ah==lk?b+"-horizontal":b+"-vertical"];a.isEnabled()||d.push(b+"-disabled");return d};function nk(){}var ok;qa(nk);var pk={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};c=nk.prototype;c.dl=function(){};c.ea=function(a){return a.se().ea("DIV",this.Ej(a).join(" "),a.bh())};c.nd=function(a){return a};c.Zk=function(a,b,d){if(a=a.P?a.P():a){var e=[b];R&&!Sh("7")&&(e=qk(Yj(a),b),e.push(b));(d?ck:ek)(a,e)}};c.Zf=function(){return!0};
c.Me=function(a,b){b.id&&Cj(a,b.id);var d=this.nd(b);d&&d.firstChild?rk(a,d.firstChild.nextSibling?ng(d.childNodes):d.firstChild):a.Nc=null;var e=0,f=this.lb(),h=this.lb(),k=!1,l=!1,m=!1,n=ng(Yj(b));gg(n,function(r){k||r!=f?l||r!=h?e|=this.Gn(r):l=!0:(k=!0,h==f&&(l=!0));1==this.Gn(r)&&dj(d)&&gj(d,!1)},this);a.Ib=e;k||(n.push(f),h==f&&(l=!0));l||n.push(h);(a=a.Ne)&&n.push.apply(n,a);if(R&&!Sh("7")){var q=qk(n);0<q.length&&(n.push.apply(n,q),m=!0)}k&&l&&!a&&!m||Zj(b,n.join(" "));return b};
c.wl=function(a){Hj(a)&&this.Bg(a.P(),!0);a.isEnabled()&&this.Lh(a,a.isVisible())};function sk(a,b,d){if(a=d||a.dl())d=b.getAttribute("role")||null,a!=d&&Lj(b,a)}function tk(a,b,d){var e=b.wt;null!=e&&a.cs(d,e);b.isVisible()||Mj(d,"hidden",!b.isVisible());b.isEnabled()||uk(d,1,!b.isEnabled());b.Xb&8&&uk(d,8,b.Bl());b.Xb&16&&uk(d,16,!!(b.Ib&16));b.Xb&64&&uk(d,64,b.Rj())}c.cs=function(a,b){Mj(a,"label",b)};c.zo=function(a,b){qj(a,!b,!R&&!Ih)};c.Bg=function(a,b){this.Zk(a,this.lb()+"-rtl",b)};
c.oh=function(a){var b;return a.Xb&32&&(b=a.ic())?dj(b):!1};c.Lh=function(a,b){var d;if(a.Xb&32&&(d=a.ic())){if(!b&&a.Ib&32){try{d.blur()}catch(e){}a.Ib&32&&a.ml(null)}dj(d)!=b&&gj(d,b)}};c.Ba=function(a,b){oj(a,b);a&&Mj(a,"hidden",!b)};c.Ae=function(a,b,d){var e=a.P();if(e){var f=this.yn(b);f&&this.Zk(a,f,d);uk(e,b,d)}};
function uk(a,b,d){ok||(ok={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=ok[b];var e=a.getAttribute("role")||null;e&&(e=pk[e]||b,b="checked"==b||"selected"==b?e:b);b&&Mj(a,b,d)}c.Kf=function(a,b){var d=this.nd(a);d&&(Yi(d),b&&(g(b)?aj(d,b):(a=function(e){if(e){var f=Ri(d);d.appendChild(g(e)?f.createTextNode(e):e)}},sa(b)?gg(b,a):!ta(b)||"nodeType"in b?a(b):gg(ng(b),a))))};c.ic=function(a){return a.P()};c.lb=function(){return"goog-control"};
c.Ej=function(a){var b=this.lb(),d=[b],e=this.lb();e!=b&&d.push(e);b=a.getState();for(e=[];b;){var f=b&-b;e.push(this.yn(f));b&=~f}d.push.apply(d,e);(a=a.Ne)&&d.push.apply(d,a);R&&!Sh("7")&&d.push.apply(d,qk(d));return d};function qk(a,b){var d=[];b&&(a=mg(a,[b]));gg([],function(e){!jg(e,Ca(kg,a))||b&&!kg(e,b)||d.push(e.join("_"))});return d}c.yn=function(a){this.Wm||vk(this);return this.Wm[a]};
c.Gn=function(a){this.Hw||(this.Wm||vk(this),this.Hw=Gg(this.Wm));a=parseInt(this.Hw[a],10);return isNaN(a)?0:a};function vk(a){var b=a.lb();b.replace(/\xa0|\s/g," ");a.Wm={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function T(a,b,d){zj.call(this,d);if(!b){b=this.constructor;for(var e;b;){e=wa(b);if(e=hk[e])break;b=b.w?b.w.constructor:null}b=e?ua(e.yf)?e.yf():new e:null}this.pa=b;this.Nc=ma(a)?a:null;this.wt=null}u(T,zj);c=T.prototype;c.Nc=null;c.Ib=0;c.Xb=39;c.mz=255;c.Ui=0;c.sb=!0;c.Ne=null;c.ol=!0;c.Pm=!1;c.sC=null;c.ic=function(){return this.pa.ic(this)};c.Cn=function(){return this.Tc||(this.Tc=new Rj)};
c.Zk=function(a,b){b?a&&(this.Ne?kg(this.Ne,a)||this.Ne.push(a):this.Ne=[a],this.pa.Zk(this,a,!0)):a&&this.Ne&&lg(this.Ne,a)&&(0==this.Ne.length&&(this.Ne=null),this.pa.Zk(this,a,!1))};c.ea=function(){var a=this.pa.ea(this);this.da=a;sk(this.pa,a,this.hl());this.Pm||this.pa.zo(a,!1);this.isVisible()||this.pa.Ba(a,!1)};c.hl=function(){return this.sC};c.cs=function(a){this.wt=a;var b=this.P();b&&this.pa.cs(b,a)};c.nd=function(){return this.pa.nd(this.P())};c.Zf=function(a){return this.pa.Zf(a)};
c.Wk=function(a){this.da=a=this.pa.Me(this,a);sk(this.pa,a,this.hl());this.Pm||this.pa.zo(a,!1);this.sb="none"!=a.style.display};c.Qb=function(){T.w.Qb.call(this);tk(this.pa,this,this.da);this.pa.wl(this);if(this.Xb&-2&&(this.ol&&wk(this,!0),this.Xb&32)){var a=this.ic();if(a){var b=this.Cn();Sj(b,a);Dj(this).za(b,"key",this.Qe).za(a,"focus",this.nl).za(a,"blur",this.ml)}}};
function wk(a,b){var d=a.ak?fi:gi,e=Dj(a),f=a.P();b?(e.za(f,d.kj,a.Lj).za(f,[d.lj,d.jj],a.Mj).za(f,"mouseover",a.Dq).za(f,"mouseout",a.Cq),a.ak&&e.za(f,"gotpointercapture",a.no),a.Kj!=pa&&e.za(f,"contextmenu",a.Kj),R&&(Sh(9)||e.za(f,"dblclick",a.av),a.ul||(a.ul=new xk(a),ci(a,Ca(di,a.ul))))):(e.ae(f,d.kj,a.Lj).ae(f,[d.lj,d.jj],a.Mj).ae(f,"mouseover",a.Dq).ae(f,"mouseout",a.Cq),a.ak&&e.ae(f,"gotpointercapture",a.no),a.Kj!=pa&&e.ae(f,"contextmenu",a.Kj),R&&(Sh(9)||e.ae(f,"dblclick",a.av),di(a.ul),a.ul=
null))}c.qe=function(){T.w.qe.call(this);this.Tc&&this.Tc.detach();this.isVisible()&&this.isEnabled()&&this.pa.Lh(this,!1)};c.Fb=function(){T.w.Fb.call(this);this.Tc&&(this.Tc.G(),delete this.Tc);delete this.pa;this.ul=this.Ne=this.Nc=null};c.bh=function(){return this.Nc};c.Kf=function(a){this.pa.Kf(this.P(),a);this.Nc=a};function rk(a,b){a.Nc=b}
c.oq=function(){var a=this.bh();if(!a)return"";if(!g(a))if(sa(a))a=ig(a,hj).join("");else{if(Ni&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];ij(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Ni||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}return Ah(a)};c.Bg=function(a){T.w.Bg.call(this,a);var b=this.P();b&&this.pa.Bg(b,a)};c.zo=function(a){this.Pm=a;var b=this.P();b&&this.pa.zo(b,a)};c.isVisible=function(){return this.sb};
c.Ba=function(a,b){return b||this.sb!=a&&this.dispatchEvent(a?"show":"hide")?((b=this.P())&&this.pa.Ba(b,a),this.isEnabled()&&this.pa.Lh(this,a),this.sb=a,!0):!1};c.isEnabled=function(){return!(this.Ib&1)};c.ob=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!yk(this,1,!a)||(a||(this.setActive(!1),this.rd(!1)),this.isVisible()&&this.pa.Lh(this,a),this.Ae(1,!a,!0))};c.rd=function(a){yk(this,2,a)&&this.Ae(2,a)};c.setActive=function(a){yk(this,4,a)&&this.Ae(4,a)};
c.Bl=function(){return!!(this.Ib&8)};function zk(a,b){yk(a,8,b)&&a.Ae(8,b)}function Ak(a,b){yk(a,16,b)&&a.Ae(16,b)}c.Rj=function(){return!!(this.Ib&64)};function Bk(a,b){yk(a,64,b)&&a.Ae(64,b)}c.getState=function(){return this.Ib};c.Ae=function(a,b,d){d||1!=a?this.Xb&a&&b!=!!(this.Ib&a)&&(this.pa.Ae(this,a,b),this.Ib=b?this.Ib|a:this.Ib&~a):this.ob(!b)};c.Ed=function(a,b){if(this.Na&&this.Ib&a&&!b)throw Error("Component already rendered");!b&&this.Ib&a&&this.Ae(a,!1);this.Xb=b?this.Xb|a:this.Xb&~a};
function Ck(a,b){return!!(a.mz&b)&&!!(a.Xb&b)}function yk(a,b,d){return!!(a.Xb&b)&&!!(a.Ib&b)!=d&&(!(a.Ui&b)||a.dispatchEvent(Bj(b,d)))&&!a.ig}c.Dq=function(a){!Dk(a,this.P())&&this.dispatchEvent("enter")&&this.isEnabled()&&Ck(this,2)&&this.rd(!0)};c.Cq=function(a){!Dk(a,this.P())&&this.dispatchEvent("leave")&&(Ck(this,4)&&this.setActive(!1),Ck(this,2)&&this.rd(!1))};c.no=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};c.Kj=pa;
function Dk(a,b){return!!a.relatedTarget&&$i(b,a.relatedTarget)}c.Lj=function(a){this.isEnabled()&&(Ck(this,2)&&this.rd(!0),!ki(a)||Lh&&Mh&&a.ctrlKey||(Ck(this,4)&&this.setActive(!0),this.pa&&this.pa.oh(this)&&this.ic().focus()));this.Pm||!ki(a)||Lh&&Mh&&a.ctrlKey||a.preventDefault()};c.Mj=function(a){this.isEnabled()&&(Ck(this,2)&&this.rd(!0),this.Ib&4&&Ek(this,a)&&Ck(this,4)&&this.setActive(!1))};c.av=function(a){this.isEnabled()&&Ek(this,a)};
function Ek(a,b){Ck(a,16)&&Ak(a,!(a.Ib&16));Ck(a,8)&&zk(a,!0);Ck(a,64)&&Bk(a,!a.Rj());var d=new ei("action",a);b&&(d.altKey=b.altKey,d.ctrlKey=b.ctrlKey,d.metaKey=b.metaKey,d.shiftKey=b.shiftKey,d.Jr=b.Jr);return a.dispatchEvent(d)}c.nl=function(){Ck(this,32)&&yk(this,32,!0)&&this.Ae(32,!0)};c.ml=function(){Ck(this,4)&&this.setActive(!1);Ck(this,32)&&yk(this,32,!1)&&this.Ae(32,!1)};c.Qe=function(a){return this.isVisible()&&this.isEnabled()&&this.oi(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
c.oi=function(a){return 13==a.keyCode&&Ek(this,a)};if(!ua(T))throw Error("Invalid component class "+T);if(!ua(nk))throw Error("Invalid renderer class "+nk);var Fk=wa(T);hk[Fk]=nk;fk("goog-control",function(){return new T(null)});function xk(a){$h.call(this);this.dn=a;this.Xm=!1;this.Nj=new tj(this);ci(this,Ca(di,this.Nj));a=this.dn.da;this.Nj.za(a,"mousedown",this.UA).za(a,"mouseup",this.VA).za(a,"click",this.LA)}u(xk,$h);var Gk=!R||9<=Number(Th);xk.prototype.UA=function(){this.Xm=!1};
xk.prototype.VA=function(){this.Xm=!0};function Hk(a,b){if(!Gk)return a.button=0,a.type=b,a;var d=document.createEvent("MouseEvents");d.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return d}
xk.prototype.LA=function(a){if(this.Xm)this.Xm=!1;else{var b=a.rf,d=b.button,e=b.type,f=Hk(b,"mousedown");this.dn.Lj(new hi(f,a.currentTarget));f=Hk(b,"mouseup");this.dn.Mj(new hi(f,a.currentTarget));Gk||(b.button=d,b.type=e)}};xk.prototype.Fb=function(){this.dn=null;xk.w.Fb.call(this)};function Ik(a,b,d){zj.call(this,d);this.pa=b||ik.yf();this.Ah=a||mk}u(Ik,zj);var lk="horizontal",mk="vertical";c=Ik.prototype;c.$q=null;c.Tc=null;c.pa=null;c.Ah=null;c.sb=!0;c.ki=!0;c.kq=!0;c.mb=-1;c.ec=null;c.Xj=!1;c.iz=!1;c.oC=!0;c.ag=null;c.ic=function(){return this.$q||this.pa.ic(this)};c.Cn=function(){return this.Tc||(this.Tc=new Rj(this.ic()))};c.ea=function(){this.da=this.pa.ea(this)};c.nd=function(){return this.pa.nd(this.P())};c.Zf=function(a){return this.pa.Zf(a)};
c.Wk=function(a){this.da=this.pa.Me(this,a);"none"==a.style.display&&(this.sb=!1)};
c.Qb=function(){Ik.w.Qb.call(this);Fj(this,function(d){d.Na&&Jk(this,d)},this);var a=this.P();this.pa.wl(this);this.Ba(this.sb,!0);var b=this.ak?fi:gi;Dj(this).za(this,"enter",this.Aq).za(this,"highlight",this.QA).za(this,"unhighlight",this.cB).za(this,"open",this.WA).za(this,"close",this.MA).za(a,b.kj,this.Lj).za(Ri(a),[b.lj,b.jj],this.NA).za(a,[b.kj,b.lj,b.jj,"mouseover","mouseout","contextmenu"],this.KA);this.ak&&Dj(this).za(a,"gotpointercapture",this.no);this.oh()&&Kk(this,!0)};
c.no=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};function Kk(a,b){var d=Dj(a),e=a.ic();b?d.za(e,"focus",a.nl).za(e,"blur",a.ml).za(a.Cn(),"key",a.Qe):d.ae(e,"focus",a.nl).ae(e,"blur",a.ml).ae(a.Cn(),"key",a.Qe)}c.qe=function(){this.fk(-1);this.ec&&Bk(this.ec,!1);this.Xj=!1;Ik.w.qe.call(this)};c.Fb=function(){Ik.w.Fb.call(this);this.Tc&&(this.Tc.G(),this.Tc=null);this.pa=this.ec=this.ag=this.$q=null};c.Aq=function(){return!0};
c.QA=function(a){var b=Jj(this,a.target);if(-1<b&&b!=this.mb){var d=S(this,this.mb);d&&d.rd(!1);this.mb=b;d=S(this,this.mb);this.Xj&&d.setActive(!0);this.oC&&this.ec&&d!=this.ec&&(d.Xb&64?Bk(d,!0):Bk(this.ec,!1))}b=this.P();null!=a.target.P()&&Mj(b,"activedescendant",a.target.P().id)};c.cB=function(a){a.target==S(this,this.mb)&&(this.mb=-1);this.P().removeAttribute("aria-activedescendant")};c.WA=function(a){(a=a.target)&&a!=this.ec&&a.getParent()==this&&(this.ec&&Bk(this.ec,!1),this.ec=a)};
c.MA=function(a){a.target==this.ec&&(this.ec=null);var b=this.P(),d=a.target.P();b&&a.target.Ib&2&&d&&(a="",d&&(a=d.id),Mj(b,"activedescendant",a))};c.Lj=function(a){this.ki&&(this.Xj=!0);var b=this.ic();b&&dj(b)?b.focus():a.preventDefault()};c.NA=function(){this.Xj=!1};
c.KA=function(a){var b=this.ak?fi:gi;a:{var d=a.target;if(this.ag)for(var e=this.P();d&&d!==e;){var f=d.id;if(f in this.ag){d=this.ag[f];break a}d=d.parentNode}d=null}if(d)switch(a.type){case b.kj:d.Lj(a);break;case b.lj:case b.jj:d.Mj(a);break;case "mouseover":d.Dq(a);break;case "mouseout":d.Cq(a);break;case "contextmenu":d.Kj(a)}};c.nl=function(){};c.ml=function(){this.fk(-1);this.Xj=!1;this.ec&&Bk(this.ec,!1)};
c.Qe=function(a){return this.isEnabled()&&this.isVisible()&&(0!=Gj(this)||this.$q)&&this.oi(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
c.oi=function(a){var b=S(this,this.mb);if(b&&"function"==typeof b.Qe&&b.Qe(a)||this.ec&&this.ec!=b&&"function"==typeof this.ec.Qe&&this.ec.Qe(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.oh())this.ic().blur();else return!1;break;case 36:Lk(this);break;case 35:Mk(this);break;case 38:if(this.Ah==mk)Nk(this);else return!1;break;case 37:if(this.Ah==lk)Hj(this)?Ok(this):Nk(this);else return!1;break;case 40:if(this.Ah==mk)Ok(this);else return!1;break;
case 39:if(this.Ah==lk)Hj(this)?Nk(this):Ok(this);else return!1;break;default:return!1}return!0};function Jk(a,b){var d=b.P();d=d.id||(d.id=b.ja());a.ag||(a.ag={});a.ag[d]=b}c.Gk=function(a,b){Ik.w.Gk.call(this,a,b)};
c.rj=function(a,b,d){a.Ui|=2;a.Ui|=64;!this.oh()&&this.iz||a.Ed(32,!1);a.Na&&0!=a.ol&&wk(a,!1);a.ol=!1;var e=a.getParent()==this?Jj(this,a):-1;Ik.w.rj.call(this,a,b,d);a.Na&&this.Na&&Jk(this,a);a=e;-1==a&&(a=Gj(this));a==this.mb?this.mb=Math.min(Gj(this)-1,b):a>this.mb&&b<=this.mb?this.mb++:a<this.mb&&b>this.mb&&this.mb--};
c.removeChild=function(a,b){if(a=g(a)?Ej(this,a):a){var d=Jj(this,a);-1!=d&&(d==this.mb?(a.rd(!1),this.mb=-1):d<this.mb&&this.mb--);var e=a.P();e&&e.id&&this.ag&&(d=this.ag,e=e.id,e in d&&delete d[e])}b=a=Ik.w.removeChild.call(this,a,b);b.Na&&1!=b.ol&&wk(b,!0);b.ol=!0;return a};c.setOrientation=function(a){if(this.P())throw Error("Component already rendered");this.Ah=a};c.isVisible=function(){return this.sb};
c.Ba=function(a,b){if(b||this.sb!=a&&this.dispatchEvent(a?"show":"hide")){this.sb=a;var d=this.P();d&&(oj(d,a),this.oh()&&jk(this.ic(),this.ki&&this.sb),b||this.dispatchEvent(this.sb?"aftershow":"afterhide"));return!0}return!1};c.isEnabled=function(){return this.ki};
c.ob=function(a){this.ki!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.ki=!0,Fj(this,function(b){b.gx?delete b.gx:b.ob(!0)})):(Fj(this,function(b){b.isEnabled()?b.ob(!1):b.gx=!0}),this.Xj=this.ki=!1),this.oh()&&jk(this.ic(),a&&this.sb))};c.oh=function(){return this.kq};c.Lh=function(a){a!=this.kq&&this.Na&&Kk(this,a);this.kq=a;this.ki&&this.sb&&jk(this.ic(),a)};c.fk=function(a){(a=S(this,a))?a.rd(!0):-1<this.mb&&S(this,this.mb).rd(!1)};c.rd=function(a){this.fk(Jj(this,a))};
function Lk(a){Pk(a,function(b,d){return(b+1)%d},Gj(a)-1)}function Mk(a){Pk(a,function(b,d){b--;return 0>b?d-1:b},0)}function Ok(a){Pk(a,function(b,d){return(b+1)%d},a.mb)}function Nk(a){Pk(a,function(b,d){b--;return 0>b?d-1:b},a.mb)}function Pk(a,b,d){d=0>d?Jj(a,a.ec):d;var e=Gj(a);d=b.call(a,d,e);for(var f=0;f<=e;){var h=S(a,d);if(h&&a.Ft(h)){a.hs(d);break}f++;d=b.call(a,d,e)}}c.Ft=function(a){return a.isVisible()&&a.isEnabled()&&!!(a.Xb&2)};c.hs=function(a){this.fk(a)};function Qk(){}u(Qk,nk);qa(Qk);Qk.prototype.lb=function(){return"goog-menuheader"};function Rk(a,b,d){T.call(this,a,d||Qk.yf(),b);this.Ed(1,!1);this.Ed(2,!1);this.Ed(4,!1);this.Ed(32,!1);this.Ib=1}u(Rk,T);fk("goog-menuheader",function(){return new Rk(null)});function Sk(){this.Jt=[]}u(Sk,nk);qa(Sk);function Tk(a,b){var d=a.Jt[b];if(!d){switch(b){case 0:d=a.lb()+"-highlight";break;case 1:d=a.lb()+"-checkbox";break;case 2:d=a.lb()+"-content"}a.Jt[b]=d}return d}c=Sk.prototype;c.dl=function(){return"menuitem"};c.ea=function(a){var b=a.se().ea("DIV",this.Ej(a).join(" "),Uk(this,a.bh(),a.se()));Vk(this,a,b,!!(a.Xb&8)||!!(a.Xb&16));return b};c.nd=function(a){return a&&a.firstChild};
c.Me=function(a,b){if(ma(b.firstElementChild))var d=b.firstElementChild;else for(d=b.firstChild;d&&1!=d.nodeType;)d=d.nextSibling;var e=Tk(this,2);d&&ak(d,e)||b.appendChild(Uk(this,b.childNodes,a.se()));ak(b,"goog-option")&&(a.Xl(!0),this.Xl(a,b,!0));return Sk.w.Me.call(this,a,b)};c.Kf=function(a,b){var d=this.nd(a),e=Xk(this,a)?d.firstChild:null;Sk.w.Kf.call(this,a,b);e&&!Xk(this,a)&&d.insertBefore(e,d.firstChild||null)};function Uk(a,b,d){a=Tk(a,2);return d.ea("DIV",a,b)}
c.xw=function(a,b,d){a&&b&&Vk(this,a,b,d)};c.Xl=function(a,b,d){a&&b&&Vk(this,a,b,d)};function Xk(a,b){return(b=a.nd(b))?(b=b.firstChild,a=Tk(a,1),!!b&&va(b)&&1==b.nodeType&&ak(b,a)):!1}function Vk(a,b,d,e){sk(a,d,b.hl());tk(a,b,d);e!=Xk(a,d)&&(e?bk(d,"goog-option"):dk(d,"goog-option"),d=a.nd(d),e?(a=Tk(a,1),d.insertBefore(b.se().ea("DIV",a),d.firstChild||null)):d.removeChild(d.firstChild))}
c.yn=function(a){switch(a){case 2:return Tk(this,0);case 16:case 8:return"goog-option-selected";default:return Sk.w.yn.call(this,a)}};c.Gn=function(a){var b=Tk(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Sk.w.Gn.call(this,a)}};c.lb=function(){return"goog-menuitem"};function Yk(a,b,d,e){T.call(this,a,e||Sk.yf(),d);this.setValue(b)}u(Yk,T);c=Yk.prototype;c.getValue=function(){var a=this.pr;return null!=a?a:this.oq()};c.setValue=function(a){this.pr=a};c.Ed=function(a,b){Yk.w.Ed.call(this,a,b);switch(a){case 8:this.Ib&16&&!b&&Ak(this,!1);(a=this.P())&&this.pa.xw(this,a,b);break;case 16:(a=this.P())&&this.pa.Xl(this,a,b)}};c.xw=function(a){this.Ed(8,a)};c.Xl=function(a){this.Ed(16,a)};
c.oq=function(){var a=this.bh();return sa(a)?(a=ig(a,function(b){return va(b)&&1==b.nodeType&&(ak(b,"goog-menuitem-accel")||ak(b,"goog-menuitem-mnemonic-separator"))?"":hj(b)}).join(""),Ah(a)):Yk.w.oq.call(this)};c.Mj=function(a){var b=this.getParent();if(b){var d=b.Wv;b.Wv=null;if(b=d&&na(a.clientX))b=new Ki(a.clientX,a.clientY),b=d==b?!0:d&&b?d.x==b.x&&d.y==b.y:!1;if(b)return}Yk.w.Mj.call(this,a)};c.oi=function(a){return a.keyCode==this.Fv&&Ek(this,a)?!0:Yk.w.oi.call(this,a)};c.GA=function(){return this.Fv};
fk("goog-menuitem",function(){return new Yk(null)});Yk.prototype.hl=function(){return this.Xb&16?"menuitemcheckbox":this.Xb&8?"menuitemradio":Yk.w.hl.call(this)};Yk.prototype.getParent=function(){return T.prototype.getParent.call(this)};Yk.prototype.Fn=function(){return T.prototype.Fn.call(this)};function Zk(){}u(Zk,nk);qa(Zk);Zk.prototype.ea=function(a){return a.se().ea("DIV",this.lb())};Zk.prototype.Me=function(a,b){b.id&&Cj(a,b.id);if("HR"==b.tagName){var d=b;b=this.ea(a);d.parentNode&&d.parentNode.insertBefore(b,d);Zi(d)}else bk(b,this.lb());return b};Zk.prototype.Kf=function(){};Zk.prototype.lb=function(){return"goog-menuseparator"};function $k(a,b){T.call(this,null,a||Zk.yf(),b);this.Ed(1,!1);this.Ed(2,!1);this.Ed(4,!1);this.Ed(32,!1);this.Ib=1}u($k,T);$k.prototype.Qb=function(){$k.w.Qb.call(this);var a=this.P();Lj(a,"separator")};fk("goog-menuseparator",function(){return new $k});function al(a){this.np=a||"menu"}u(al,ik);qa(al);al.prototype.Zf=function(a){return"UL"==a.tagName||al.w.Zf.call(this,a)};al.prototype.qq=function(a){return"HR"==a.tagName?new $k:al.w.qq.call(this,a)};al.prototype.lb=function(){return"goog-menu"};al.prototype.wl=function(a){al.w.wl.call(this,a);a=a.P();Mj(a,"haspopup","true")};fk("goog-menuseparator",function(){return new $k});function bl(a,b){Ik.call(this,mk,b||al.yf(),a);this.Lh(!1)}u(bl,Ik);c=bl.prototype;c.Om=!0;c.jz=!1;c.lb=function(){return this.pa.lb()};c.removeItem=function(a){(a=this.removeChild(a,!0))&&a.G()};c.setPosition=function(a,b){var d=this.isVisible();d||oj(this.P(),!0);var e=this.P(),f=a;a=mj(e);f instanceof Ki&&(b=f.y,f=f.x);var h=e.offsetLeft+(f-a.x);h instanceof Ki?(f=h.x,b=h.y):(f=h,b=e.offsetTop+(Number(b)-a.y));e.style.left=nj(f);e.style.top=nj(b);d||oj(this.P(),!1)};
c.Uu=function(){return this.isVisible()?mj(this.P()):null};c.Ba=function(a,b,d){(b=bl.w.Ba.call(this,a,b))&&a&&this.Na&&this.Om&&this.ic().focus();this.Wv=a&&d&&na(d.clientX)?new Ki(d.clientX,d.clientY):null;return b};c.Aq=function(a){this.Om&&this.ic().focus();return bl.w.Aq.call(this,a)};c.Ft=function(a){return(this.jz||a.isEnabled())&&a.isVisible()&&!!(a.Xb&2)};
c.Wk=function(a){var b=this.pa;var d=this.se();d=Si(d.ne,b.lb()+"-content",a);for(var e=d.length,f=0;f<e;f++)kk(b,this,d[f]);bl.w.Wk.call(this,a)};c.oi=function(a){var b=bl.w.oi.call(this,a);b||Fj(this,function(d){!b&&d.GA&&d.Fv==a.keyCode&&(this.isEnabled()&&this.rd(d),b=d.Qe(a))},this);return b};
c.fk=function(a){bl.w.fk.call(this,a);if(a=S(this,a)){var b=a.P();a=this.P()||Vi(document);var d=a||Vi(document);var e=mj(b),f=mj(d);if(!R||9<=Number(Th)){k=kj(d,"borderLeftWidth");var h=kj(d,"borderRightWidth");l=kj(d,"borderTopWidth");m=kj(d,"borderBottomWidth");h=new jj(parseFloat(l),parseFloat(h),parseFloat(m),parseFloat(k))}else{var k=sj(d,"borderLeft");h=sj(d,"borderRight");var l=sj(d,"borderTop"),m=sj(d,"borderBottom");h=new jj(l,h,m,k)}d==Vi(document)?(k=e.x-d.scrollLeft,e=e.y-d.scrollTop,
!R||10<=Number(Th)||(k+=h.left,e+=h.top)):(k=e.x-f.x-h.left,e=e.y-f.y-h.top);f=b.offsetWidth;h=b.offsetHeight;l=Lh&&!f&&!h;ma(f)&&!l||!b.getBoundingClientRect?b=new Oi(f,h):(b=lj(b),b=new Oi(b.right-b.left,b.bottom-b.top));f=d.clientHeight-b.height;h=d.scrollLeft;l=d.scrollTop;h+=Math.min(k,Math.max(k-(d.clientWidth-b.width),0));l+=Math.min(e,Math.max(e-f,0));d=new Ki(h,l);a.scrollLeft=d.x;a.scrollTop=d.y}};v.la={};v.la.fn=null;v.la.Hu=null;v.la.show=function(a,b,d){v.V.show(v.la,d,null);if(b.length){var e=v.la.lo(b,d);wi(e,"action",v.la.Ha);v.la.Vc(e,a,d);setTimeout(function(){e.P().focus()},1);v.la.fn=null}else v.la.Ha()};v.la.lo=function(a,b){var d=new bl;d.Bg(b);for(var e=0,f;f=a[e];e++){var h=new Yk(f.text);h.Bg(b);d.Gk(h,!0);h.ob(f.enabled);f.enabled&&(wi(h,"action",f.bb),h.Kj=function(){this.dispatchEvent("action")})}return d};
v.la.Vc=function(a,b,d){var e=v.g.Wu();b={top:b.clientY+e.top,bottom:b.clientY+e.top,left:b.clientX+e.left,right:b.clientX+e.left};v.la.Sz(a);var f=v.g.nk.ng(a);d&&v.g.nk.ut(e,b,f);v.V.cw(e,b,f,d);a.P().focus()};v.la.Sz=function(a){a.ia(v.V.sa);var b=a.P();v.g.m.Va(b,"blocklyContextMenu");v.aa(b,"contextmenu",null,v.g.UB);a.Om=!0;a.Lh(!0)};v.la.Ha=function(){v.V.Kq(v.la);v.la.fn=null;v.la.Hu&&v.Wa(v.la.Hu)};
v.la.Tm=function(a,b){return function(){v.j.disable();try{var d=v.N.hi(b,a.u),e=a.wa();e.x=a.B?e.x-v.dd:e.x+v.dd;e.y+=2*v.dd;d.moveBy(e.x,e.y)}finally{v.j.enable()}v.j.isEnabled()&&!d.Ja&&v.j.fa(new v.j.wm(d));d.select()}};v.la.rz=function(a){var b=Ib(a,!1).length,d=x(a);d&&(b-=Ib(d,!1).length);return{text:1==b?v.h.DELETE_BLOCK:v.h.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,bb:function(){v.j.W(!0);a.G(!0,!0);v.j.W(!1)}}};
v.la.uz=function(a){return{enabled:!("function"==typeof a.Ya?!a.Ya():!a.Ya),text:v.h.HELP,bb:function(){var b="function"==typeof a.Ya?a.Ya():a.Ya;b&&window.open(b)}}};v.la.sz=function(a){var b=Ec(a.u)?Dc(a.u,v.g.nq(a,!0)):!0;return{text:v.h.DUPLICATE_BLOCK,enabled:b,bb:function(){v.Eu(a)}}};v.la.qz=function(a){var b={enabled:!v.g.userAgent.Lg};a.cb?(b.text=v.h.REMOVE_COMMENT,b.bb=function(){a.zg(null)}):(b.text=v.h.ADD_COMMENT,b.bb=function(){a.zg("")});return b};
v.la.Lz=function(a){return{text:v.h.TD,enabled:!0,bb:function(){v.j.W(!0);a.G(!0,!0);v.j.W(!1)}}};v.la.Mz=function(a){return{text:v.h.wD,enabled:!0,bb:function(){v.Eu(a)}}};v.la.vE=function(a,b){var d={enabled:!v.g.userAgent.Lg};d.text=v.h.oD;d.bb=function(){var e=new Sd(a,v.h.YD,100,100),f=Jb(a).getBoundingClientRect();f=new y(b.clientX-f.left,b.clientY-f.top);var h=v.g.fl(a.Sa);f=Gb(f,h);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.Y&&(e.Cd(),e.ia(!1),e.select())};return d};function K(a,b,d){this.D=v.g.m.F("g",{},null);this.D.Fg="";this.Wi=v.g.m.F("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.D);this.Yc=v.g.m.F("path",{"class":"blocklyPath"},this.D);this.Dg=v.g.m.F("path",{"class":"blocklyPathLight"},this.D);this.Yc.bf=this;this.Y=!1;this.Rf=v.g.nh()&&!!a.Mb;v.I.vj(this.Yc);K.w.constructor.call(this,a,b,d);this.D.dataset&&(this.D.dataset.id=this.id)}u(K,Bc);c=K.prototype;c.height=0;c.width=0;c.Gd=null;
c.Cd=function(){if(!this.u.Y)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.O[a];a++)b.T();b=vb(this);for(a=0;a<b.length;a++)Uc(b[a]);this.Be();Td(this);this.u.options.readOnly||this.bq||v.aa(this.Z(),"mousedown",this,this.zh);this.bq=!0;this.Z().parentNode||this.u.Sa.appendChild(this.Z())};
c.select=function(){if(this.Ja&&this.getParent())this.getParent().select();else if(v.selected!=this){var a=null;if(v.selected){a=v.selected.id;v.j.disable();try{v.selected.Sh()}finally{v.j.enable()}}a=new Wb(null,"selected",a,this.id);a.Yb=this.u.id;v.j.fa(a);v.selected=this;this.sj()}};c.Sh=function(){if(v.selected==this){var a=new Wb(null,"selected",this.id,null);a.Yb=this.u.id;v.j.fa(a);v.selected=null;this.Ni()}};c.Uc=null;c.cb=null;c.Ic=null;
function vb(a){var b=[];a.Uc&&b.push(a.Uc);a.cb&&b.push(a.cb);a.Ic&&b.push(a.Ic);return b}c.Qi=function(a){var b=this.Hf;if(a!=b){nc();K.w.Qi.call(this,a);sc();var d=this.Z();if(!this.u.Wq&&d){var e=this.wa();a?(a.Z().appendChild(d),a=this.wa(),Bd(this,a.x-e.x,a.y-e.y)):b&&(this.u.Sa.appendChild(d),this.translate(e.x,e.y))}}};
c.wa=function(){var a=0,b=0,d=this.Rf?this.u.Mb.Rb():null,e=this.Z();if(e){do{var f=v.g.Nd(e);a+=f.x;b+=f.y;this.Rf&&this.u.Mb.oe.firstChild==e&&(f=this.u.Mb.Hn(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.u.Sa&&e!=d)}return new y(a,b)};c.moveBy=function(a,b){if(this.Hf)throw Error("Block has parent.");var d=v.j.isEnabled();if(d)var e=new v.j.uk(this);var f=this.wa();this.translate(f.x+a,f.y+b);Bd(this,a,b);d&&(e.vg(),v.j.fa(e));wc(this.u)};
c.translate=function(a,b){this.Z().setAttribute("transform","translate("+a+","+b+")")};c.fo=function(){if(this.Rf){var a=this.wa();this.Z().removeAttribute("transform");this.u.Mb.Eg(a.x,a.y);Vd(this.u.Mb,this.Z())}};c.moveTo=function(a){var b=this.wa();this.moveBy(a.x-b.x,a.y-b.y)};c.Jv=function(a){this.Rf&&(this.translate(a.x,a.y),this.u.Mb.Mk(this.u.Sa))};c.eo=function(a){this.Rf?this.u.Mb.Eg(a.x,a.y):(this.D.Fg="translate("+a.x+","+a.y+")",this.D.setAttribute("transform",this.D.Fg+this.D.Ri))};
function rf(a){if(a.u&&!a.u.Tb()&&!a.getParent()&&!a.xb){var b=a.u.ue;if(b&&b.HC){var d=b.ss,e=d/2,f=a.wa();b=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;b=Math.round(b);d=Math.round(d);0==b&&0==d||a.moveBy(b,d)}}}c.wn=function(){var a=this.wa(),b=this.M?G:0,d=this.vb(),e=a.y,f=a.y+d.height;if(this.B){var h=a.x-(d.width-b);a=a.x+b}else h=a.x-b,a=a.x+d.width-b;return new Rd(e,f,h,a)};
c.yg=function(a){if(this.cg!=a){for(var b=[],d=0,e;e=this.O[d];d++)b.push.apply(b,e.Ba(!a));if(a){e=vb(this);for(d=0;d<e.length;d++)e[d].Ba(!1);d=this.toString(v.qx);L(Q(this,"_TEMP_COLLAPSED_INPUT"),d).T();e=Ib(this,!0);if(d=x(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.Ic){this.Cg(v.h.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");break}}else this.Ra("_TEMP_COLLAPSED_INPUT"),this.Ic&&(this.Ic.Ye("","TEMP_COLLAPSED_WARNING_"),Object.keys(this.Ic.ua).length||this.Cg(null));
K.w.yg.call(this,a);b.length||(b[0]=this);if(this.Y)for(d=0;f=b[d];d++)f.ia()}};function cl(a,b,d){for(var e=[],f=0,h;h=a.O[f];f++){for(var k=0,l;l=h.oa[k];k++)l instanceof dl&&l.isVisible()&&e.push(l);h.connection&&(h=w(h.connection))&&e.push(h)}b=e.indexOf(b);-1==b&&(b=d?-1:e.length);(e=e[d?b+1:b-1])?e instanceof Af?e.Wd():cl(e,null,d):(e=a.getParent())&&cl(e,a,d)}
c.zh=function(a){var b=this.u&&this.u.xf(a);if(b){if(b.ri)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");ne(b,this);b.Ue=a}};
function el(a){if(a.u.options.readOnly||!a.contextMenu)return null;var b=[];if(!a.xb){a.Cc()&&a.Ub()&&b.push(v.la.sz(a));a.u.options.Ok&&!a.cg&&a.Sc()&&b.push(v.la.qz(a));if(a.Ub())if(a.cg)a.u.options.collapse&&(d={enabled:!0},d.text=v.h.EXPAND_BLOCK,d.bb=function(){a.yg(!1)},b.push(d));else{for(var d=1;d<a.O.length;d++)if(a.O[d-1].type!=v.Ea&&a.O[d].type!=v.Ea){d={enabled:!0};var e=tb(a);d.text=e?v.h.EXTERNAL_INPUTS:v.h.INLINE_INPUTS;d.bb=function(){a.Fc(!e)};b.push(d);break}a.u.options.collapse&&
(d={enabled:!0},d.text=v.h.COLLAPSE_BLOCK,d.bb=function(){a.yg(!0)},b.push(d))}a.u.options.disable&&a.Sc()&&(d={text:a.isEnabled()?v.h.DISABLE_BLOCK:v.h.ENABLE_BLOCK,enabled:!Yf(a),bb:function(){var f=v.j.Rb();f||v.j.W(!0);a.ob(!a.isEnabled());f||v.j.W(!1)}},b.push(d));a.Cc()&&b.push(v.la.rz(a))}b.push(v.la.uz(a));a.eg&&a.eg(b);return b}c.hk=function(a){var b=el(this);b&&b.length&&(v.la.show(a,b,this.B),v.la.fn=this)};
function Bd(a,b,d){if(a.Y){for(var e=a.re(!1),f=0;f<e.length;f++)e[f].moveBy(b,d);e=vb(a);for(f=0;f<e.length;f++)Cb(e[f]);for(f=0;f<a.$f.length;f++)Bd(a.$f[f],b,d)}}c.Kh=function(a){if(a){var b=this.Z();b.Fg="";b.Ri="";v.Yk=v.Yk.concat(this.re(!0));v.g.m.Va(this.D,"blocklyDragging")}else v.Yk=[],v.g.m.Hb(this.D,"blocklyDragging");for(b=0;b<this.$f.length;b++)this.$f[b].Kh(a)};c.Pi=function(a){K.w.Pi.call(this,a);Td(this)};c.fs=function(a){K.w.fs.call(this,a);a=vb(this);for(var b=0;b<a.length;b++)a[b].Hg()};
c.ls=function(a){K.w.ls.call(this,a);this.Be()};c.ww=function(a){this.Al!=a&&(this.Al=a)&&(this.Xc(v.Wx),v.g.m.Va(this.D,"blocklyInsertionMarker"))};c.Z=function(){return this.D};
c.G=function(a,b){if(this.u){v.I.Ha();nc();var d=this.u;if(v.selected==this){this.Sh();var e=this.u;e.Pb&&e.Pb.cancel()}v.la.fn==this&&v.la.Ha();b&&this.Y&&(D(this,a),v.Ua.mA(this));this.Y=!1;if(this.Gd){for(var f in this.Gd)clearTimeout(this.Gd[f]);this.Gd=null}D(this,a);var h;v.j.isEnabled()&&(h=new v.j.Ls(this));v.j.disable();try{var k=vb(this);for(b=0;b<k.length;b++)k[b].G();K.w.G.call(this,a)}finally{v.j.enable()}v.j.isEnabled()&&h&&v.j.fa(h);v.g.m.removeNode(this.D);wc(d);this.Wi=this.Dg=this.Yc=
this.D=null;sc()}};
c.Be=function(){if(this.isEnabled()){if(this.Ja){var a=Wf(this);this.Dg.style.display="none";this.Wi.setAttribute("fill",a);this.Yc.setAttribute("stroke","none");this.Yc.setAttribute("fill",a)}else a=Xf(this),a.$m?(this.Dg.style.display="none",this.Wi.style.display="none",this.Yc.setAttribute("stroke",a.$m)):(this.Dg.style.display="",this.Wi.style.display="",this.Yc.setAttribute("stroke","none"),this.Dg.setAttribute("stroke",a.Ap),this.Wi.setAttribute("fill",a.Ot)),this.Yc.setAttribute("fill",this.Ug);
a=vb(this);for(var b=0;b<a.length;b++)a[b].Be();for(a=0;b=this.O[a];a++)for(var d=0,e;e=b.oa[d];d++)e.Be()}};function vc(a){!a.isEnabled()||Yf(a)?v.g.m.Va(a.D,"blocklyDisabled")&&a.Yc.setAttribute("fill","url(#"+a.u.options.hg+")"):v.g.m.Hb(a.D,"blocklyDisabled")&&a.Be();a=a.kg(!1);for(var b=0,d;d=a[b];b++)vc(d)}c.zn=function(){return this.cb?this.cb.Sb().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};
c.zg=function(a){var b=!1;"string"==typeof a?(this.cb||(this.cb=new Vc(this),b=!0),this.cb.Ye(a)):this.cb&&(this.cb.G(),b=!0);b&&this.Y&&(this.ia(),this.pb())};
c.Cg=function(a,b){this.Gd||(this.Gd=Object.create(null));var d=b||"";if(d)this.Gd[d]&&(clearTimeout(this.Gd[d]),delete this.Gd[d]);else for(var e in this.Gd)clearTimeout(this.Gd[e]),delete this.Gd[e];if(this.u.Tb()){var f=this;this.Gd[d]=setTimeout(function(){f.u&&(delete f.Gd[d],f.Cg(a,d))},100)}else{this.xb&&(a=null);b=Vf(this);for(e=null;b;)b.isCollapsed()&&(e=b),b=Vf(b);e&&e.Cg(v.h.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");b=!1;"string"==typeof a?(this.Ic||(this.Ic=new Wc(this),b=
!0),this.Ic.Ye(a,d)):this.Ic&&!d?(this.Ic.G(),b=!0):this.Ic&&(b=this.Ic.Sb(),this.Ic.Ye("",d),(e=this.Ic.Sb())||this.Ic.G(),b=b!=e);b&&this.Y&&(this.ia(),this.pb())}};c.Mh=function(a){this.Uc&&this.Uc!==a&&this.Uc.G();a&&(a.S=this,this.Uc=a,Uc(a))};c.ob=function(a){this.isEnabled()!=a&&(K.w.ob.call(this,a),this.Y&&vc(this))};
c.rd=function(a){this.Y&&(a?(this.Yc.setAttribute("filter","url(#"+this.u.options.Gu+")"),this.Dg.style.display="none"):(this.Yc.setAttribute("filter","none"),this.Dg.style.display="inline"))};c.sj=function(){v.g.m.Va(this.D,"blocklySelected")};c.Ni=function(){v.g.m.Hb(this.D,"blocklySelected")};c.Zl=function(a){a?v.g.m.Va(this.D,"blocklyDraggingDelete"):v.g.m.Hb(this.D,"blocklyDraggingDelete")};c.Xc=function(a){K.w.Xc.call(this,a);this.Y&&this.Be()};
function Pd(a){do{var b=a.Z();b.parentNode.appendChild(b);a=a.getParent()}while(a)}c.Vd=function(a,b){K.w.Vd.call(this,a,b);this.Y&&(this.ia(),this.pb())};c.Ud=function(a,b){K.w.Ud.call(this,a,b);this.Y&&(this.ia(),this.pb())};c.sd=function(a,b){K.w.sd.call(this,a,b);this.Y&&(this.ia(),this.pb())};c.Fc=function(a){K.w.Fc.call(this,a);this.Y&&(this.ia(),this.pb())};c.Ra=function(a,b){K.w.Ra.call(this,a,b);this.Y&&(this.ia(),this.pb())};c.qr=function(a,b){K.w.qr.call(this,a,b);this.Y&&(this.ia(),this.pb())};
c.Hk=function(a,b){a=K.w.Hk.call(this,a,b);this.Y&&(this.ia(),this.pb());return a};c.re=function(a){var b=[];if(a||this.Y)if(this.M&&b.push(this.M),this.U&&b.push(this.U),this.R&&b.push(this.R),a||!this.cg){a=0;for(var d;d=this.O[a];a++)d.connection&&b.push(d.connection)}return b};c.Gl=function(a){return new wd(this,a)};
c.pb=function(){if(this.u&&!this.u.Tb()){var a=yd(this);if(!a.xb)for(var b=this.re(!1),d=0,e;e=b[d];d++){e.isConnected()&&cd(e)&&w(e).pb();for(var f=e.Kv(v.dd),h=0,k;k=f[h];h++)e.isConnected()&&k.isConnected()||yd(k.C)!=a&&(cd(e)?$c(k,e):$c(e,k))}}};function Qd(a){var b=v.j.Rb();setTimeout(function(){v.j.W(b);rf(a);v.j.W(!1)},v.vm/2);setTimeout(function(){v.j.W(b);a.pb();v.j.W(!1)},v.vm)}
c.ia=function(a){nc();this.Y=!0;if("compatibility"==v.qE)v.s.ia(this);else{var b=10;this.B&&(b=-b);for(var d=vb(this),e=0;e<d.length;e++){var f=d[e];if(f.zp&&f.S.isCollapsed()||f.S.Cf())f.Bc.setAttribute("display","none");else{f.Bc.setAttribute("display","block");var h=f.Ck;f.S.B&&(b-=h);f.Bc.setAttribute("transform","translate("+b+",5)");Cb(f);b=f.S.B?b-10:b+(h+10)}}var k=b+=this.B?10:-10,l=this.O;d=[];d.Ec=k+20;if(this.U||this.R)d.Ec=Math.max(d.Ec,40);f=e=0;for(var m=h=!1,n=!1,q=void 0,r=tb(this)&&
!this.isCollapsed(),t=0,p;p=l[t];t++)if(p.isVisible()){if(r&&q&&q!=v.Ea&&p.type!=v.Ea)var z=d[d.length-1];else q=p.type,z=[],z.type=r&&p.type!=v.Ea?-1:p.type,z.height=0,d.push(z);z.push(p);p.Gh=25;p.nc=r&&p.type==v.ya?G+12.5:0;if(p.connection&&p.connection.isConnected()){var H=w(p.connection).vb();p.Gh=Math.max(p.Gh,H.height);p.nc=Math.max(p.nc,H.width)}r||t!=l.length-1?!r&&p.type==v.ya&&l[t+1]&&l[t+1].type==v.Ea&&p.Gh--:p.Gh--;z.height=Math.max(z.height,p.Gh);p.Oe=0;1==d.length&&(p.Oe+=this.B?-k:
k);H=!1;for(var M=0,W;W=p.oa[M];M++){0!=M&&(p.Oe+=10);var lb=W.ng();W.nc=lb.width;W.uo=H&&W.Kg?10:0;p.Oe+=W.nc+W.uo;z.height=Math.max(z.height,lb.height);H=W.Kg}-1!=z.type&&(z.type==v.Ea?(m=!0,f=Math.max(f,p.Oe)):(z.type==v.ya?h=!0:z.type==v.Ee&&(n=!0),e=Math.max(e,p.Oe)))}for(k=0;z=d[k];k++)if(z.Nw=!1,-1==z.type)for(l=0;p=z[l];l++)if(p.type==v.ya){z.height+=10;z.Nw=!0;break}d.Yd=20+f;m&&(d.Ec=Math.max(d.Ec,d.Yd+30));h?d.Ec=Math.max(d.Ec,e+20+G):n&&(d.Ec=Math.max(d.Ec,e+20));d.gB=h;d.Pd=m;d.kE=n;
e=b;this.Fo=!1;this.height=0;this.M?this.ts=this.bm=!0:(b=this.pg?"cap"===this.pg:!1,this.ts=this.bm=!1,this.U?(b=w(this.U))&&x(b)==this&&(this.bm=!0):b&&(this.Fo=this.bm=!0,this.height+=15,d.Ec=Math.max(d.Ec,100)),x(this)&&(this.ts=!0));b=new Ab;f=d.Ec;h=b.af;m=b.ve;this.bm?(h.push("m 0,0"),m.push("m 0.5,0.5"),this.Fo&&(h.push("c 30,-15 70,-15 100,0"),m.push(this.B?"m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7":"c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5"))):(h.push("m 0,8"),m.push(this.B?fl:"m 0.5,7.5"),
h.push("A 8,8 0 0,1 8,0"),m.push("A 7.5,7.5 0 0,1 8,0.5"));this.U&&(h.push("H",15),m.push("H",15),h.push("l 6,4 3,0 6,-4"),m.push("l 6,4 3,0 6,-4"),Bb(this.U,this.B?-15:15,0));h.push("H",f);m.push("H",f-.5);this.width=f;f={x:0,y:0};h={x:0,y:0};for(m=0;n=d[m];m++){f.x=10;0==m&&(f.x+=this.B?-e:e);b.ve.push("M",d.Ec-.5+","+(f.y+.5));if(this.isCollapsed())k=n,p=b.af,z=b.ve,gl(this,k[0].oa,f.x,f.y),p.push("l 8,0 0,4 8,4 -16,8 8,4"),z.push("h 8"),k=k.height-20,p.push("v",k),this.B&&(z.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),
z.push("v",k-.7)),this.width+=15;else if(-1==n.type){z=n;k=f;l=h;q=d.Ec;r=b.Tq;t=b.Lq;H=b.af;M=b.ve;for(W=0;p=z[W];W++){lb=k.x;var Wk=k.y;z.Nw&&(Wk+=5);k.x=gl(this,p.oa,lb,Wk);p.type!=v.Ee&&(k.x+=p.nc+10);p.type==v.ya&&(r.push("M",k.x-10+","+(k.y+5)),r.push("h",G-2-p.nc),r.push(ld),r.push("v",p.Gh+1-20),r.push("h",p.nc+2-G),r.push("z"),this.B?(t.push("M",k.x-10-2.5+G-p.nc+","+(k.y+5+.5)),t.push(hl),t.push("v",p.Gh-20+2.5),t.push("h",p.nc-G+2)):(t.push("M",k.x-10+.5+","+(k.y+5+.5)),t.push("v",p.Gh+
1),t.push("h",G-2-p.nc),t.push("M",k.x-p.nc-10+.9+","+(k.y+5+20-.7)),t.push("l",.46*G+",-2.1")),l.x=this.B?-k.x-G+10+p.nc+1:k.x+G-10-p.nc-1,l.y=k.y+5+5+1,Bb(p.connection,l.x,l.y))}k.x=Math.max(k.x,q);this.width=Math.max(this.width,k.x);H.push("H",k.x);M.push("H",k.x-.5);H.push("v",z.height);this.B&&M.push("v",z.height-1)}else n.type==v.ya?(t=n,p=f,z=h,k=d.Ec,l=b.af,q=b.ve,r=t[0],H=p.x,M=p.y,r.align!=v.fj&&(W=k-r.Oe-G-20,r.align==v.Jg?H+=W:r.align==v.sk&&(H+=W/2)),gl(this,r.oa,H,M),l.push(ld),t=t.height-
20,l.push("v",t),this.B?(q.push(hl),q.push("v",t+.5)):(q.push("M",k-5+","+(p.y+20-.7)),q.push("l",.46*G+",-2.1")),z.x=this.B?-k-1:k+1,Bb(r.connection,z.x,p.y+5),r.connection.isConnected()&&(this.width=Math.max(this.width,k+w(r.connection).vb().width-G+1))):n.type==v.Ee?(p=n,z=b.af,k=b.ve,l=p[0],q=f.x,r=f.y,l.align!=v.fj&&(t=d.Ec-l.Oe-20,d.gB&&(t-=G),l.align==v.Jg?q+=t:l.align==v.sk&&(q+=t/2)),gl(this,l.oa,q,r),z.push("v",p.height),this.B&&k.push("v",p.height-1)):n.type==v.Ea&&(H=n,p=f,z=h,k=d,l=m,
q=b.af,r=b.ve,t=H[0],0==l&&(q.push("v",10),this.B&&r.push("v",9),p.y+=10),M=p.x,W=p.y,t.align!=v.fj&&(lb=k.Yd-t.Oe-20,t.align==v.Jg?M+=lb:t.align==v.sk&&(M+=lb/2)),gl(this,t.oa,M,W),p.x=k.Yd+30,q.push("H",p.x),q.push("l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8"),q.push("v",H.height-16),q.push("a 8,8 0 0,0 8,8"),q.push("H",k.Ec),this.B?(r.push("M",p.x-30+il+","+(p.y+il)),r.push(jl),r.push("v",H.height-16),r.push("a 8.5,8.5 0 0,0 8.5,8.5")):(r.push("M",p.x-30+il+","+(p.y+H.height-il)),r.push(kl)),r.push("H",
k.Ec-.5),H=k.Yd+15,z.x=this.B?-H:H+1,Bb(t.connection,z.x,p.y+1),t.connection.isConnected()&&(this.width=Math.max(this.width,k.Yd+w(t.connection).vb().width)),l==k.length-1||k[l+1].type==v.Ea)&&(q.push("v",10),this.B&&r.push("v",9),p.y+=10);f.y+=n.height}d.length||(f.y=25,b.af.push("V",f.y),this.B&&b.ve.push("V",f.y-1));d=f.y;e=b.af;f=b.ve;this.height+=d+1;this.R&&(e.push("H",30+(this.B?.5:-.5)+" l -6,4 -3,0 -6,-4"),Bb(this.R,this.B?-15:15,d+1),this.height+=4);this.ts?(e.push("H 0"),this.B||f.push("M",
"0.5,"+(d-.5))):(e.push("H",8),e.push("a","8,8 0 0,1 -8,-8"),this.B||(f.push("M",ll+","+(d-ll)),f.push("A","7.5,7.5 0 0,1 0.5,"+(d-8))));d=b.af;e=b.ve;this.M?(Bb(this.M,0,5),d.push("V",20),d.push("c 0,-10 -"+G+",8 -"+G+",-7.5 s "+G+",2.5 "+G+",-7.5"),this.B?(e.push("M",-.25*G+",8.4"),e.push("l",-.45*G+",-2.1")):(e.push("V",18.5),e.push("m",-.92*G+",-0.5 q "+-.19*G+",-5.5 0,-11"),e.push("m",.92*G+",1 V 0.5 H 1")),this.width+=G):this.B||(this.bm?e.push("V",.5):e.push("V",8));d.push("z");Db(this,b)}d=
this.wa();this.U&&zd(this.U,d);this.M&&zd(this.M,d);for(b=0;b<this.O.length;b++)if(e=this.O[b].connection)zd(e,d),e.isConnected()&&Ad(e);this.R&&(zd(this.R,d),this.R.isConnected()&&Ad(this.R));!1!==a&&((a=this.getParent())?a.ia(!0):wc(this.u));sc()};function Ab(){this.af=[];this.ve=[];this.Tq=[];this.Lq=[]}var G=8,ll=7.5*(1-Math.SQRT1_2)+.5,il=8.5*(1-Math.SQRT1_2)-.5,ld="v 5 c 0,10 -"+G+",-8 -"+G+",7.5 s "+G+",-2.5 "+G+",7.5",hl="v 6.5 m -"+.97*G+",3 q -"+.05*G+",10 "+.3*G+",9.5 m "+.67*G+",-1.9 v 1.4",fl="m "+ll+","+ll,jl="a 8,8 0 0,0 "+(-il-.5)+","+(8-il),kl="a 8.5,8.5 0 0,0 "+(8-il)+","+(il+.5);
K.prototype.vb=function(){var a=this.height,b=this.width,d=x(this);d?(d=d.vb(),a+=d.height-4,b=Math.max(b,d.width)):this.R||this.M||(a+=2);return{height:a,width:b}};
function gl(a,b,d,e){e+=5;a.B&&(d=-d);for(var f=0,h;h=b[f];f++){var k=h.Z();if(k){var l="";if(a.B){var m=d-=h.uo+h.nc;h.nc&&(d-=10)}else m=d+h.uo,h.nc&&(d+=h.uo+h.nc+10);a.B&&h instanceof hb&&h.Ju&&(l="scale(-1 1)",m+=h.nc);k.setAttribute("transform","translate("+m+","+e+")"+l);a.Cf()&&k.setAttribute("display","none")}}return a.B?-d:d}
function Db(a,b){var d=b.af.join(" ")+"\n"+b.Tq.join(" ");a.Yc.setAttribute("d",d);a.Wi.setAttribute("d",d);d=b.ve.join(" ")+"\n"+b.Lq.join(" ");a.Dg.setAttribute("d",d);a.B&&(a.Yc.setAttribute("transform","scale(-1 1)"),a.Dg.setAttribute("transform","scale(-1 1)"),a.Wi.setAttribute("transform","translate(1,1) scale(-1 1)"))}function Id(a,b){b?v.g.m.Va(a.D,"blocklyReplaceable"):v.g.m.Hb(a.D,"blocklyReplaceable")};
var ml,nl,ol=null,pl=null,Hf=null,ql=null,rl=0;function sl(){if(!ol){var a=document.createElement("div");a.className="blocklyDropDownDiv";document.body.appendChild(a);ol=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);ml=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);nl=b;ol.style.opacity=0;ol.style.transition="transform 0.25s, opacity 0.25s"}}
function tl(a,b){var d=a.sf.getBoundingClientRect(),e=d.left+d.width/2,f=d.bottom;d=d.top;pl=J(a.C.u).parentNode;Hf=a;rl=b;a=pl.getBoundingClientRect();b=v.g.style.ng(pl);a={left:a.left,right:a.left+b.width,top:a.top,bottom:a.top+b.height,width:b.width,height:b.height};b=v.g.style.ng(ol);f+b.height<a.bottom?e=ul(e,f,a,b):d-b.height>a.top?e=vl(e,d,a,b):f+b.height<document.documentElement.clientHeight?e=ul(e,f,a,b):d-b.height>document.documentElement.clientTop?e=vl(e,d,a,b):(e=wl(e,a.left,a.right,b.width),
e={Qq:e.Cj,Rq:0,eq:e.Cj,fq:0,op:!1});a=e;a.op?(nl.style.display="",nl.style.transform="translate("+a.Jk+"px,"+a.yt+"px) rotate(45deg)",nl.setAttribute("class",a.xt?"blocklyDropDownArrow arrowTop":"blocklyDropDownArrow arrowBottom")):nl.style.display="none";e=a.Qq;f=a.Rq;d=a.eq;a=a.fq;e=Math.floor(e);f=Math.floor(f);d=Math.floor(d);a=Math.floor(a);b=ol;b.style.left=e+"px";b.style.top=f+"px";b.style.display="block";b.style.opacity=1;b.style.transform="translate("+(d-e)+"px,"+(a-f)+"px)"}
function ul(a,b,d,e){a=wl(a,d.left,d.right,e.width);return{Qq:a.Cj,Rq:b,eq:a.Cj,fq:b+16,Jk:a.Jk,yt:-9,xt:!0,op:!0}}function vl(a,b,d,e){a=wl(a,d.left,d.right,e.width);return{Qq:a.Cj,Rq:b-e.height,eq:a.Cj,fq:b-e.height-16,Jk:a.Jk,yt:e.height-2-8,xt:!1,op:!0}}function wl(a,b,d,e){var f=a;a=v.g.qb.Tg(b,a-e/2,d-e);b=v.g.qb.Tg(12,f-8-a,e-12-16);return{Jk:b,Cj:a}}function If(){var a=ol;a.style.transform="translate(0px, 0px)";a.style.opacity=0;ql=setTimeout(function(){xl()},250);rl&&(rl(),rl=null)}
function xl(){if(Hf){ql&&clearTimeout(ql);var a=ol;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";ml.innerHTML="";ml.style.width="";Hf=null;rl&&(rl(),rl=null)}};function dl(a,b){a=this.Pc(a);null===a&&(a="");dl.w.constructor.call(this,a,b)}u(dl,Af);dl.na=function(a){var b=v.g.fc(a.text);b=new dl(b);"boolean"===typeof a.spellcheck&&(b.Do=a.spellcheck);return b};c=dl.prototype;c.Wf=!0;c.Bm="text";c.Do=!0;c.Pc=function(a){return null===a||void 0===a?null:String(a)};c.Bu=function(){if(this.Qn){this.Yq=!1;var a=this.xa;this.xa=this.we.bD;this.C&&v.j.isEnabled()&&v.j.fa(new v.j.ef(this.C,"field",this.name,a,this.xa))}};
c.Zg=function(a){this.Yq=!0;this.xa=a;this.Qn||(this.ua=String(a),this.Te=!0)};c.Jf=function(){dl.w.Jf.call(this);if(this.Qn){if(this.C.B){var a=this;setTimeout(function(){yl(a)},0)}else yl(this);this.Yq?v.g.m.Hb(this.we,"blocklyInvalidInput"):v.g.m.Va(this.we,"blocklyInvalidInput")}};c.Wd=function(a){this.o=this.C.u;a=a||!1;!a&&(v.g.userAgent.dt||v.g.userAgent.Vh||v.g.userAgent.Uf)?zl(this):(this.Qn=!0,v.V.show(this,this.C.B,this.Ds.bind(this)),this.we=this.Cs(),a||(this.we.focus(),this.we.select()))};
function zl(a){v.prompt(v.h.CHANGE_VALUE_TITLE,a.ua,function(b){a.setValue(b)})}c.Cs=function(){var a=v.V.sa,b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.Do);var d=11*this.o.scale+"pt";a.style.fontSize=d;b.style.fontSize=d;a.appendChild(b);b.value=b.defaultValue=this.xa;b.bD=this.xa;b.Ov=null;var e=this;setTimeout(function(){yl(e)},0);Al(this,b);return b};
c.Ds=function(){this.Qn=!1;this.xa!==this.ua&&(this.ua=String(this.xa),this.Yq=!0,Nf(this));this.xr&&this.xr(this.xa);v.Wa(this.bC);v.Wa(this.dC);var a=v.V.sa.style;a.width="auto";a.height="auto";a.fontSize=""};function Al(a,b){a.bC=v.aa(b,"keydown",a,a.aC);a.dC=v.aa(b,"input",a,a.$B)}c.aC=function(a){13==a.keyCode?v.V.Ha():27==a.keyCode?(this.we.value=this.we.defaultValue,v.V.Ha()):9==a.keyCode&&(v.V.Ha(),cl(this.C,this,!a.shiftKey),a.preventDefault())};
c.$B=function(){var a=this.we.value;a!==this.we.Ov&&(this.we.Ov=a,v.j.W(!0),this.setValue(a),this.ua=this.we.value,Nf(this),v.j.W(!1))};function yl(a){var b=v.V.sa,d=Mf(a);b.style.width=d.right-d.left+"px";b.style.height=d.bottom-d.top+"px";a=new y(a.C.B?d.right-b.offsetWidth:d.left,d.top);a.y+=1;v.g.userAgent.Ws&&v.V.sa.style.top&&(--a.x,--a.y);v.g.userAgent.st&&(a.y-=3);b.style.left=a.x+"px";b.style.top=a.y+"px"}Cf("field_input",dl);function Bl(a,b){a=this.Pc(a);null===a&&(a=0);Bl.w.constructor.call(this,a,b)}u(Bl,dl);Bl.na=function(a){return new Bl(a.angle)};c=Bl.prototype;c.Wf=!0;c.Bf=function(){Bl.w.Bf.call(this);this.Lw=v.g.m.F("tspan",{},null);this.Lw.appendChild(document.createTextNode("\u00b0"));this.Jb.appendChild(this.Lw)};c.Jf=function(){Bl.w.Jf.call(this);Cl(this)};
c.Wd=function(){Bl.w.Wd.call(this,v.g.userAgent.dt||v.g.userAgent.Vh||v.g.userAgent.Uf);var a=this.Zp();ml.appendChild(a);a=Xf(this.C);a=a.$m||a.Ap;ol.style.backgroundColor=this.C.Ug;ol.style.borderColor=a;tl(this,this.$p.bind(this));Cl(this)};
c.Zp=function(){var a=v.g.m.F("svg",{xmlns:v.g.m.Ek,"xmlns:html":v.g.m.ff,"xmlns:xlink":v.g.m.ke,version:"1.1",height:"100px",width:"100px"},null),b=v.g.m.F("circle",{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.vn=v.g.m.F("path",{"class":"blocklyAngleGauge"},a);this.zv=v.g.m.F("line",{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var d=0;360>d;d+=15)v.g.m.F("line",{x1:99,y1:50,x2:99-(0==d%45?10:5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+d+",50,50)"},a);this.Jz=v.wc(a,"click",
this,this.hB);this.MB=v.wc(b,"mousemove",this,this.Vv);this.NB=v.wc(this.vn,"mousemove",this,this.Vv);return a};c.$p=function(){v.Wa(this.Jz);v.Wa(this.MB);v.Wa(this.NB)};c.hB=function(){Hf===this&&If();v.V.Ha()};
c.Vv=function(a){var b=this.vn.ownerSVGElement.getBoundingClientRect(),d=a.clientX-b.left-50;b=a.clientY-b.top-50;a=Math.atan(-b/d);isNaN(a)||(a=v.g.qb.Qw(a),0>d?a+=180:0<b&&(a+=360),a=360-(0-a),360<a&&(a-=360),a=15*Math.round(a/15),360<a&&(a-=360),d=String(a),d!=this.ua&&(this.we.value=a,this.setValue(a),this.ua=d,Nf(this)))};
function Cl(a){if(a.vn){var b=Number(a.Sb())+0;b=v.g.qb.Qh(b%360);var d=["M ",50,",",50],e=50,f=50;if(!isNaN(b)){var h=v.g.qb.Qh(0),k=49*Math.cos(h),l=-49*Math.sin(h);e+=49*Math.cos(b);f-=49*Math.sin(b);d.push(" l ",k,",",l," A ",49,",",49," 0 ",Math.abs(Math.floor((b-h)/Math.PI)%2)," ",Number(!1)," ",e,",",f," z")}a.vn.setAttribute("d",d.join(""));a.zv.setAttribute("x2",e);a.zv.setAttribute("y2",f)}}c.Pc=function(a){a=Number(a)%360;if(isNaN(a))return null;0>a&&(a+=360);360<a&&(a-=360);return a};
Cf("field_angle",Bl);function Dl(a,b){a=this.Pc(a);null===a&&(a="FALSE");Dl.w.constructor.call(this,a,b);this.zb.width=15}u(Dl,Af);Dl.na=function(a){return new Dl(a.checked)};c=Dl.prototype;c.Wf=!0;c.Bm="default";c.Te=!1;c.Bf=function(){Dl.w.Bf.call(this);this.Jb.setAttribute("x",2);this.Jb.setAttribute("y",14);v.g.m.Va(this.Jb,"blocklyCheckbox");this.Jb.appendChild(document.createTextNode("\u2713"));this.Jb.style.display=this.xa?"block":"none"};c.Wd=function(){this.setValue(!this.xa)};
c.Pc=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};c.Zg=function(a){this.xa=El(a);this.Jb&&(this.Jb.style.display=this.xa?"block":"none")};c.getValue=function(){return this.xa?"TRUE":"FALSE"};c.Sb=function(){return String(El(this.xa))};function El(a){return"string"==typeof a?"TRUE"==a:!!a}Cf("field_checkbox",Dl);v.g.ib={};v.g.ib.parse=function(a){a=String(a).toLowerCase().trim();var b=v.g.ib.names[a];if(b)return b;b="#"==a[0]?a:"#"+a;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),b=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=b&&256>b&&0<=d&&256>d)?v.g.ib.Zr(a,b,d):null};
v.g.ib.Zr=function(a,b,d){b=a<<16|b<<8|d;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)};v.g.ib.iv=function(a){a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
v.g.ib.jB=function(a){var b=v.Ux,d=255*v.Vx,e=0,f=0,h=0;if(0==b)h=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-b);var m=d*(1-b*l);b=d*(1-b*(1-l));switch(k){case 1:e=m;f=d;h=a;break;case 2:e=a;f=d;h=b;break;case 3:e=a;f=m;h=d;break;case 4:e=b;f=a;h=d;break;case 5:e=d;f=a;h=m;break;case 6:case 0:e=d,f=b,h=a}}return v.g.ib.Zr(Math.floor(e),Math.floor(f),Math.floor(h))};
v.g.ib.qp=function(a,b,d){a=v.g.ib.iv(v.g.ib.parse(a));b=v.g.ib.iv(v.g.ib.parse(b));return v.g.ib.Zr(Math.round(b[0]+d*(a[0]-b[0])),Math.round(b[1]+d*(a[1]-b[1])),Math.round(b[2]+d*(a[2]-b[2])))};v.g.ib.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function Fl(a,b){a=this.Pc(a);null===a&&(a=Gl[0]);Fl.w.constructor.call(this,a,b)}u(Fl,Af);Fl.na=function(a){var b=new Fl(a.colour);if(a.colourOptions){var d=a.colourTitles;b.Rt=a.colourOptions;d&&(b.Pw=d)}a.columns&&b.setColumns(a.columns);return b};c=Fl.prototype;c.Wf=!0;c.Bm="default";c.Te=!1;c.Rt=null;c.Pw=null;c.St=0;c.Cx="silver";c.Bx="white";c.Bf=function(){this.zb=new cb(26,16);Ff(this);this.Jd.style.fillOpacity=1;this.Jd.style.fill=this.xa};
c.Pc=function(a){return"string"!=typeof a?null:v.g.ib.parse(a)};c.Zg=function(a){this.xa=a;this.Jd&&(this.Jd.style.fill=a)};c.Sb=function(){var a=this.xa;/^#(.)\1(.)\2(.)\3$/.test(a)&&(a="#"+a[1]+a[3]+a[5]);return a};
var Gl="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Hl=
[];c=Fl.prototype;c.setColumns=function(a){this.St=a;return this};c.Wd=function(){var a=this.Zp();ml.appendChild(a);a=this.Cx;ol.style.backgroundColor=this.Bx;ol.style.borderColor=a;tl(this,this.$p.bind(this))};c.Ol=function(a){(a=a.target)&&!a.label&&(a=a.parentNode);a=a&&a.label;null!==a&&(this.setValue(a),Hf===this&&If())};
c.Zp=function(){var a=this.St||7,b=this.Rt||Gl,d=this.Pw||Hl,e=this.getValue(),f=document.createElement("table");f.className="blocklyColourTable";for(var h,k=0;k<b.length;k++){0==k%a&&(h=document.createElement("tr"),f.appendChild(h));var l=document.createElement("td");h.appendChild(l);var m=document.createElement("div");l.appendChild(m);l.label=b[k];l.title=d[k]||b[k];m.style.backgroundColor=b[k];b[k]==e&&(m.className="blocklyColourSelected")}this.Yj=v.wc(f,"mouseup",this,this.Ol);return f};
c.$p=function(){v.Wa(this.Yj)};Cf("field_colour",Fl);function O(a,b){"function"!=typeof a&&Il(a);this.Di=a;this.vs=this.Kr=null;a=this.Di;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=v.g.fc(f):(null!=f.alt&&(a[e][0].alt=v.g.fc(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=v.g.Pa.os(f);e=v.g.Pa.Nz(f,h);d=v.g.Pa.Oz(f,h);if((e||d)&&!(h<=e+d)){e&&(this.Kr=f[0].substring(0,e-1));d&&(this.vs=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var k=a[h][0],l=a[h][1];k=k.substring(e,
k.length-d);f[h]=[k,l]}this.Di=f}}}a=this.getOptions()[0];O.w.constructor.call(this,a[1],b)}u(O,Af);O.na=function(a){return new O(a.options)};O.prototype.Wf=!0;var Jl=v.g.userAgent.Vh?"\u25bc":"\u25be";c=O.prototype;c.Bm="default";c.Bd=null;c.jh=null;c.Bf=function(){O.w.Bf.call(this);this.Bd=v.g.m.F("image",{y:5},this.sf);this.tj=v.g.m.F("tspan",{},this.Jb);this.tj.appendChild(document.createTextNode(this.C.B?Jl+" ":" "+Jl));this.C.B?this.Jb.insertBefore(this.tj,this.hm):this.Jb.appendChild(this.tj)};
c.Wd=function(){v.V.show(this,this.C.B,this.Ds.bind(this));this.Jl=this.Cs();this.Jl.ia(v.V.sa);v.g.m.Va(this.Jl.P(),"blocklyDropdownMenu");var a=this.Jl,b=v.g.Wu(),d=Mf(this);this.C.B?d.right+=25:d.left-=25;a=v.g.nk.ng(a);var e=.45*document.documentElement.clientHeight;a.height>e&&(a.height=e);this.C.B&&v.g.nk.ut(b,d,a);v.V.cw(b,d,a,this.C.B);b=this.Jl;b.Om=!0;b.Lh(!0);this.Jl.P().focus()};
c.Cs=function(){var a=new bl;a.Bg(this.C.B);for(var b=this.getOptions(),d=0;d<b.length;d++){var e=b[d][0],f=b[d][1];if("object"==typeof e){var h=new Image(e.width,e.height);h.src=e.src;h.alt=e.alt||"";e=h}e=new Yk(e);e.Bg(this.C.B);e.setValue(f);e.Xl(!0);a.Gk(e,!0);Ak(e,f==this.xa)}this.IB=wi(a,"action",this.TA,!1,this);return a};c.Ds=function(){Fi(this.IB)};c.TA=function(a){v.V.Kq(this);this.Rv(a.target)};c.Rv=function(a){this.setValue(a.getValue())};
c.getOptions=function(){if("function"==typeof this.Di){var a=this.Di.call(this);Il(a);return a}return this.Di};c.Pc=function(a){for(var b=!1,d=this.getOptions(),e=0,f;f=d[e];e++)if(f[1]==a){b=!0;break}return b?a:(this.C&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.C.type+", Field name: "+this.name+", Value: "+a),null)};
c.Zg=function(a){O.w.Zg.call(this,a);a=this.getOptions();for(var b=0,d;d=a[b];b++)d[1]==this.xa&&(d=d[0],"object"==typeof d?(this.jh=d,this.ua=d.alt):(this.jh=null,this.ua=d))};c.Be=function(){this.C&&this.tj&&(this.tj.style.fill=this.C.Ja?Wf(this.C):this.C.Ug)};
c.Jf=function(){this.hm.nodeValue="";this.Bd.style.display="none";if(this.jh){this.Bd.style.display="";this.Bd.setAttributeNS(v.g.m.ke,"xlink:href",this.jh.src);this.Bd.setAttribute("height",this.jh.height);this.Bd.setAttribute("width",this.jh.width);var a=Lf(this.tj),b=Number(this.jh.width);this.zb.height=Number(this.jh.height)+10;this.zb.width=b+a+10;this.C.B?(b=4,this.Bd.setAttribute("x",5+a),this.Jb.setAttribute("x",b)):(b=b+a+5+1,this.Jb.setAttribute("text-anchor","end"),this.Jb.setAttribute("x",
b),this.Bd.setAttribute("x",5))}else this.hm.nodeValue=Kf(this),this.Jb.setAttribute("text-anchor","start"),this.Jb.setAttribute("x",5),this.zb.height=16,this.zb.width=Lf(this.Jb)+10;this.Jd.setAttribute("height",this.zb.height);this.Jd.setAttribute("width",this.zb.width)};
function Il(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var b=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+e[0]+" in: ",e)):(b=!0,console.error("Invalid option["+
d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(b)throw TypeError("Found invalid FieldDropdown options.");}Cf("field_dropdown",O);function Kl(a,b){Kl.w.constructor.call(this,a,b)}u(Kl,Pf);Kl.na=function(a){var b=v.g.fc(a.text);return new Kl(b,a["class"])};Kl.prototype.Kg=!1;Kl.prototype.Wf=!0;Cf("field_label_serializable",Kl);function hb(a,b,d,e,f,h){this.C=null;if(!a)throw Error("Src value of an image field is required");if(isNaN(d)||isNaN(b))throw Error("Height and width values of an image field must cast to numbers.");d=Number(d);b=Number(b);if(0>=d||0>=b)throw Error("Height and width values of an image field must be greater than 0.");this.nB=d;this.zb=new cb(b,d+Ll);this.Ju=h;this.ua=e||"";this.setValue(a||"");"function"==typeof f&&(this.Lt=f)}u(hb,Af);
hb.na=function(a){var b=v.g.fc(a.src),d=Number(v.g.fc(a.width)),e=Number(v.g.fc(a.height)),f=v.g.fc(a.alt);return new hb(b,d,e,f,null,!!a.flipRtl)};var Ll=1;c=hb.prototype;c.Kg=!1;c.Te=!1;c.Bf=function(){this.Bd=v.g.m.F("image",{height:this.nB+"px",width:this.zb.width+"px",alt:this.ua},this.sf);this.Bd.setAttributeNS(v.g.m.ke,"xlink:href",this.xa)};c.Pc=function(a){return"string"!=typeof a?null:a};c.Zg=function(a){this.xa=a;this.Bd&&this.Bd.setAttributeNS(v.g.m.ke,"xlink:href",this.xa||"")};
c.Ye=function(a){null!==a&&(this.ua=a,this.Bd&&this.Bd.setAttribute("alt",a||""))};c.Wd=function(){this.Lt&&this.Lt(this)};Cf("field_image",hb);function Ml(a,b,d,e,f){e=Number(e);this.mo=isNaN(e)?0:e;e=this.mo.toString();var h=e.indexOf(".");this.Nu=-1==h?-1:e.length-(h+1);b=Number(b);this.JB=isNaN(b)?-Infinity:b;d=Number(d);this.HB=isNaN(d)?Infinity:d;this.setValue(this.getValue());a=this.Pc(a);null===a&&(a=0);Ml.w.constructor.call(this,a,f)}u(Ml,dl);Ml.na=function(a){return new Ml(a.value,a.min,a.max,a.precision)};Ml.prototype.Wf=!0;
Ml.prototype.Pc=function(a){if(null===a||void 0===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.JB),this.HB);this.mo&&isFinite(a)&&(a=Math.round(a/this.mo)*this.mo);return a=-1==this.Nu?a:Number(a.toFixed(this.Nu))};Cf("field_number",Ml);function Nl(a,b,d,e){this.Di=Ol;this.zb=new cb(0,25);b&&(this.Zi=b);this.bA=a||"";a=e||"";if(null==d||void 0==d)d=null;else if(Array.isArray(d)){b=!1;for(e=0;e<d.length;e++)d[e]==a&&(b=!0);if(!b)throw Error("Invalid default type '"+a+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.aA=a;this.fD=d;this.xa=null}u(Nl,O);Nl.na=function(a){var b=v.g.fc(a.variable);return new Nl(b,null,a.variableTypes,a.defaultType)};
c=Nl.prototype;c.o=null;c.Wf=!0;c.vi=function(){if(!this.$c){var a=v.K.En(this.o,null,this.bA,this.aA);v.j.disable();this.setValue(a.ja());v.j.enable()}};c.Ou=function(a){var b=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=v.K.En(this.o,b,d,e);if(null!=e&&e!==b.type)throw Error("Serialized variable type with id '"+b.ja()+"' had type "+b.type+", and does not match variable field that references it: "+v.N.ld(a)+".");this.setValue(b.ja())};
c.im=function(a){this.vi();a.id=this.$c.ja();a.textContent=this.$c.name;this.$c.type&&a.setAttribute("variabletype",this.$c.type);return a};c.ms=function(a){if(a.Ja)throw Error("Variable fields are not allowed to exist on shadow blocks.");Nl.w.ms.call(this,a);this.o=a.u};c.getValue=function(){return this.$c?this.$c.ja():null};c.Sb=function(){return this.$c?this.$c.name:""};c.zc=function(){return this.$c};c.wq=function(){return this.$c?this.Zi:null};
c.Pc=function(a){var b=v.K.zc(this.o,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;var d;a:if(d=Pl(this)){for(var e=0;e<d.length;e++)if(b==d[e]){d=!0;break a}d=!1}else d=!0;return d?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)};c.Zg=function(a){this.$c=v.K.zc(this.o,a);this.xa=a;this.ua=this.$c.name;this.Te=!0};
function Pl(a){var b=a.fD;if(null===b&&a.o)return a.o.xq();b=b||[""];if(0==b.length)throw a=a.Sb(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function Ol(){if(!this.$c)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.Sb(),b=[];if(this.o)for(var d=Pl(this),e=0;e<d.length;e++)b=b.concat(this.o.kl(d[e]));b.sort(Re);d=[];for(e=0;e<b.length;e++)d[e]=[b[e].name,b[e].ja()];d.push([v.h.RENAME_VARIABLE,v.lt]);v.h.DELETE_VARIABLE&&d.push([v.h.DELETE_VARIABLE.replace("%1",a),v.Us]);return d}
c.Rv=function(a){a=a.getValue();if(this.o){if(a==v.lt){v.K.to(this.o,this.$c);return}if(a==v.Us){this.o.lf(this.$c.ja());return}}this.setValue(a)};c.Vl=function(){return!0};Cf("field_variable",Nl);function Uf(){this.RB="JavaScript";this.Mx=new RegExp(this.de,"g")}c=Uf.prototype;c.Em=null;c.vd=null;c.vc=null;c.bd="  ";c.tx=60;c.Im=[];
function Ql(){var a=v.i,b=Rl;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=v.zd());var d=[];a.T(b);b=F(b,!0);for(var e=0,f;f=b[e];e++){var h=Sl(a,f);Array.isArray(h)&&(h=h[0]);h&&(f.M&&(h=a.sw(h),a.vd&&!f.Oh&&(h=Tl(a.vd,f)+h),a.vc&&!f.Oh&&(h+=Tl(a.vc,f))),d.push(h))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");return d=d.replace(/[ \t]+\n/g,"\n")}function Ul(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function Sl(a,b){if(!b)return"";if(!b.isEnabled())return Sl(a,x(b));var d=a[b.type];if("function"!=typeof d)throw Error('Language "'+a.RB+'" does not know how to generate  code for block type "'+b.type+'".');d=d.call(b,b);if(Array.isArray(d)){if(!b.M)throw TypeError("Expecting string from statement block: "+b.type);return[a.yo(b,d[0],void 0),d[1]]}if("string"==typeof d)return a.vd&&!b.Oh&&(d=Tl(a.vd,b)+d),a.vc&&!b.Oh&&(d+=Tl(a.vc,b)),a.yo(b,d,void 0);if(null===d)return"";throw SyntaxError("Invalid code generated: "+
d);}
function U(a,b,d){var e=v.i;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=bg(a,b);if(!f)return"";b=Sl(e,f);if(""===b)return"";if(!Array.isArray(b))throw TypeError("Expecting tuple from value block: "+f.type);a=b[0];b=b[1];if(isNaN(b))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var h=Math.floor(d),k=Math.floor(b);if(h<=k&&(h!=k||0!=h&&99!=h))for(f=!0,h=0;h<e.Im.length;h++)if(e.Im[h][0]==d&&e.Im[h][1]==b){f=!1;break}f&&(a="("+
a+")");return a}function Vl(a,b){var d=v.i;a=bg(a,b);b=Sl(d,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=Ul(b,d.bd));return b}function Wl(a,b){var d=v.i;d.Em&&(a=Ul(Tl(d.Em,b),d.bd)+a);d.vc&&!b.Oh&&(a=Ul(Tl(d.vc,b),d.bd)+a);d.vd&&!b.Oh&&(a+=Ul(Tl(d.vd,b),d.bd));return a}function Tl(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}c.bp="";function Xl(a){var b=v.i;b.bp+=a+","}c.de="{leCUI8hutHZI4480Dc}";
function Yl(a,b){var d=v.i;if(!d.fi[a]){var e=Zl(d.$a,a,v.va.ab);d.lq[a]=e;b=b.join("\n").replace(d.Mx,e);for(var f;f!=b;)f=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,d.bd);d.fi[a]=b}return d.lq[a]}c.T=function(){};c.yo=function(a,b){return b};c.finish=function(a){return a};c.sw=function(a){return a};function $l(a,b,d){if(!b)throw Error("Cannot create a node without a location.");this.Zc=a;a:{switch(a){case rd:case Mb:case "input":case Nb:a=!0;break a}a=!1}this.xl=a;this.ka=b;if(b=d||null)b.wsCoordinate?this.rk=b.wsCoordinate:b.input&&(this.rC=b.input)}var sd="field",qd="block",Nb="output",Mb="next",rd="previous",ud="stack",td="workspace";
function am(a){return a?a.type===v.ya||a.type===v.Ea&&a.zf()?bm(a.zf()):a.type===v.Ea?new $l(Mb,a):a.type===v.ge?new $l(Nb,a):a.type===v.he?new $l(rd,a):null:null}function bm(a){return a?new $l("input",a.connection,{input:a}):null}function cm(a){return new $l(qd,a)}function ke(a,b){return new $l(td,a,{wsCoordinate:b})}c=$l.prototype;c.zf=function(){return this.rC};
function dm(a,b){a=a.ka;a instanceof Bc||(a=a.C);if(!a)return null;var d=yd(a);a=F(d.u,!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return b=e+(b?1:-1),-1==b||b==a.length?null:new $l(ud,a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!?!?!");}function em(a){if(a.U)for(;a&&a.U&&a.U.$&&w(a.U).R==a.U.$;)a=w(a.U);var b=a.U||a.M;return b&&b.$&&b.$.zf()?bm(b.$.zf()):new $l(ud,a)}
c.next=function(){switch(this.Zc){case td:return ke(this.ka,new y(this.rk.x+10,this.rk.y));case ud:return dm(this,!0);case Nb:return cm(this.ka.C);case sd:a:{var a=this.ka;var b=a.zf();var d=a.C;a=b.oa.indexOf(a)+1;for(var e=d.O.indexOf(b);b=d.O[e];e++){for(var f=b.oa;a<f.length;){if(gb(f[a])){b=new $l(sd,f[a]);break a}a++}a=0;if(b.connection){b=bm(b);break a}}b=null}return b;case "input":a:{d=this.ka.zf();b=d.C;for(d=b.O.indexOf(d)+1;a=b.O[d];d++){e=a.oa;f=0;for(var h;h=e[f];f++)if(gb(h)){b=new $l(sd,
h);break a}if(a.connection){b=bm(a);break a}}b=null}return b;case qd:if(b=this.ka.R)return am(b);break;case rd:return cm(this.ka.C);case Mb:if(b=this.ka.$)return am(b)}return null};
c.vl=function(){switch(this.Zc){case td:var a=F(this.ka,!0);if(0<a.length)return new $l(ud,a[0]);break;case ud:a=this.ka;var b=a.U||a.M;return b?am(b):cm(a);case qd:a:{a=this.ka.O;b=0;for(var d;d=a[b];b++){for(var e=d.oa,f=0,h;h=e[f];f++)if(gb(h)){a=new $l(sd,h);break a}if(d.connection){a=bm(d);break a}}a=null}return a;case "input":if(a=this.ka.$)return am(a)}return null};
c.bk=function(){switch(this.Zc){case td:return ke(this.ka,new y(this.rk.x-10,this.rk.y));case ud:return dm(this,!1);case sd:a:{var a=this.ka;var b=a.zf();var d=a.C;a=b.oa.indexOf(a)-1;for(var e=d.O.indexOf(b),f;f=d.O[e];e--){if(f.connection&&f!==b){b=bm(f);break a}for(f=f.oa;-1<a;){if(gb(f[a])){b=new $l(sd,f[a]);break a}a--}0<=e-1&&(a=d.O[e-1].oa.length-1)}b=null}return b;case "input":a:{b=this.ka.zf();d=b.C;for(a=d.O.indexOf(b);e=d.O[a];a--){if(e.connection&&e!==b){b=bm(e);break a}e=e.oa;f=e.length-
1;for(var h;h=e[f];f--)if(gb(h)){b=new $l(sd,h);break a}}b=null}return b;case qd:b=this.ka.M;if(b=this.ka.U||b)return am(b);break;case rd:if(b=this.ka.$)return am(b);break;case Mb:return cm(this.ka.C)}return null};c.Ql=function(){switch(this.Zc){case ud:var a=this.ka.wa();return ke(this.ka.u,new y(a.x,a.y+-20));case Nb:return(a=this.ka.$)?am(a):new $l(ud,this.ka.C);case sd:return cm(this.ka.C);case "input":return cm(this.ka.C);case qd:return em(this.ka);case rd:return em(this.ka.C);case Mb:return em(this.ka.C)}return null};v.v={};v.v.xc=null;v.v.vh=null;v.v.jd=null;v.v.tf=null;v.v.Uj=null;v.v.mt=1;v.v.gp=2;v.v.nt=3;v.v.gn=v.v.gp;v.v.vw=function(a){v.v.xc=a};v.v.FC=function(a){v.v.vh=a};v.v.kr=function(){v.v.vh.oc(v.v.xc.ub)};v.v.xC=function(){v.v.vh.oc(null);v.v.vh.Ha()};v.v.Lu=function(){v.v.pw(!1);v.v.gn=v.v.nt;var a=v.zd(),b=a.ca;v.v.vh.ub||v.v.kr();a&&!v.v.jd&&(v.v.jd=b.Hc.gq);b.Hc.Lf(v.v.jd)};v.v.SB=function(){if(v.v.jd){var a=fm(v.v.jd);a&&(a.select(),v.v.jd=a)}};
v.v.tC=function(){if(v.v.jd){var a=gm(v.v.jd);a&&(a.select(),v.v.jd=a)}};v.v.qB=function(){if(v.v.jd){var a=v.v.jd;Ij(a)?a.yc()?(S(a,0).select(),v.v.jd=S(a,0)):a.Td(!0):v.v.Ku()}};v.v.pC=function(){if(v.v.jd){var a=v.v.jd;if(Ij(a)&&a.yc()&&a.Sj)a.Td(!1);else{var b=a.getParent();a=a.Qc();b&&(a.Nh||b!=a)&&(b.select(),v.v.jd=b)}}};v.v.Ku=function(){v.v.gn=v.v.mt;var a=v.zd();var b=a.ca,d=v.v.xc;a=b?b.L:nf(a);v.v.vh.ub||v.v.kr();a&&a.dh()&&(a=F(a.dh()),0<a.length&&(a=a[0],v.v.tf=a,a=cm(v.v.tf),d.oc(a)))};
v.v.CC=function(){if(v.v.tf){var a=v.v.Tu(),b=a.indexOf(v.v.tf),d=v.v.xc,e;-1<b&&a[++b]&&(e=a[b]);e&&(v.v.tf=e,a=cm(e),d.oc(a))}};v.v.DC=function(){if(v.v.tf){var a=v.v.Tu(),b=a.indexOf(v.v.tf),d=v.v.xc,e;-1<b&&a[--b]&&(e=a[b]);e&&(v.v.tf=e,a=cm(e),d.oc(a))}};v.v.Tu=function(){var a=v.zd(),b=a.ca,d=[];(a=b?b.L:nf(a))&&a.dh()&&(d=F(a.dh()));return d};
v.v.uB=function(){var a=nf(v.zd());if(a&&a.isVisible()){var b=fe(a,v.v.tf);b.ia();uc(b,!1);v.v.xc.oc(cm(b));v.v.modify()||v.v.warn("Something went wrong while inserting a block from the flyout.");v.v.un();a=b.U;b=b.M;a=am(a?a:b);v.v.xc.oc(a);v.v.xC()}else v.v.warn("Trying to insert from the flyout when the flyout does not  exist or is not visible")};v.v.pw=function(a){var b=v.v.xc;v.v.tf=null;b.Ha();a&&nf(b.o).Ha()};
v.v.modify=function(){var a=v.v.vh.ub,b=v.v.xc.ub;if(!a)return v.v.warn("Cannot insert with no marked node."),!1;if(!b)return v.v.warn("Cannot insert with no cursor node."),!1;var d=a.Zc,e=b.Zc;if(d==sd)return v.v.warn("Should not have been able to mark a field."),!1;if(d==qd)return v.v.warn("Should not have been able to mark a block."),!1;if(d==ud)return v.v.warn("Should not have been able to mark a stack."),!1;if(e==sd)return v.v.warn("Cannot attach a field to anything else."),!1;if(e==td)return v.v.warn("Cannot attach a workspace to anything else."),
!1;var f=b.ka,h=a.ka;if(a.xl){if(b.xl)return v.v.connect(f,h);if(e==qd||e==ud)return v.v.ov(f,h)}else if(d==td){if(b.xl){if("input"==e||e==Mb)return v.v.warn("Cannot move a next or input connection to the workspace."),!1;b=f.C}else if(e==qd||e==ud)b=f;else return!1;if(b.Ja)return v.v.warn("Cannot move a shadow block to the workspace."),!1;b.getParent()&&D(b,!1);b.moveTo(a.rk);return!0}v.v.warn("Unexpected state in Blockly.Navigation.modify.");return!1};
v.v.connect=function(a,b){if(a){var d=a.C;if(b.type==v.he||b.type==v.ge)a.type!=v.Ea&&a.type!=v.ya||d.moveBy(b.Ab-a.Ab,b.Ma-a.Ma);try{return b.connect(a),!0}catch(e){v.v.warn("Connection failed with error: "+e)}}return!1};v.v.uA=function(a,b){if(!a||!b)return null;if(b.type===v.he)return a.R;if(b.type===v.Ea)return a.U;if(b.type===v.ya)return a.M;if(b.type===v.ge)for(b=0;b<a.O.length;b++){var d=a.O[b].connection;if(d.type===v.ya)return d}return null};
v.v.ov=function(a,b){(a=v.v.uA(a,b))&&a.isConnected()&&!w(a).Ja?a.disconnect():a||v.v.warn("This block can not be inserted at the marked location.");return v.v.connect(a,b)};v.v.kA=function(){var a=v.v.xc.ub;if(a.xl){var b=a.ka;b.isConnected()?(a=cd(b)?b:b.$,b=cd(b)?b.$:b,b.C.Ja?v.v.log("Cannot disconnect a shadow block"):(a.disconnect(),$c(b,a),Pd(yd(a.C)),a=am(a),v.v.xc.oc(a))):v.v.log("Cannot disconnect unconnected connection")}else v.v.log("Cannot disconnect blocks when the cursor is not on a connection")};
v.v.un=function(){var a=v.v.xc;v.v.pw(v.zd().ca?!0:!1);v.v.gn=v.v.gp;v.v.qA();if(v.selected){var b=v.selected.U,d=v.selected.M;b=am(b?b:d);a.oc(b);v.selected.Sh()}else b=ke(a.o,new y(100,100)),a.oc(b)};v.v.OA=function(){var a=v.v.xc.ub,b=a.Zc;b===sd?a.ka.Wd():a.xl||b==td?v.v.kr():b==qd?v.v.warn("Cannot mark a block."):b==ud&&v.v.warn("Cannot mark a stack.")};
v.v.navigate=function(a){var b=v.v.gn;if(84===a.keyCode)return v.zd().ca?(v.v.Lu(),v.v.log("T: Focus Toolbox")):(v.v.Ku(),v.v.log("T: Focus Flyout")),!0;if(b===v.v.mt)return v.v.yA(a);if(b===v.v.gp)return v.v.lD(a);if(b===v.v.nt)return v.v.XC(a);v.v.log("Not a valid key ");return!1};
v.v.yA=function(a){return 87===a.keyCode?(v.v.DC(),v.v.log("W: Flyout : Previous"),!0):65===a.keyCode?(v.v.Lu(),v.v.log("A: Flyout : Go To Toolbox"),!0):83===a.keyCode?(v.v.CC(),v.v.log("S: Flyout : Next"),!0):13===a.keyCode?(v.v.uB(),v.v.log("Enter: Flyout : Select"),!0):69===a.keyCode||27===a.keyCode?(v.v.un(),v.v.log("E or ESC: Flyout: Exit"),!0):!1};
v.v.XC=function(a){return 87===a.keyCode?(v.v.tC(),v.v.log("W: Toolbox : Previous"),!0):65===a.keyCode?(v.v.pC(),v.v.log("A: Toolbox : Out"),!0):83===a.keyCode?(v.v.SB(),v.v.log("S: Toolbox : Next"),!0):68===a.keyCode?(v.v.qB(),v.v.log("D: Toolbox : Go to flyout"),!0):13===a.keyCode?!0:69===a.keyCode||27===a.keyCode?(v.v.log("E or ESC: Toolbox: Exit"),v.v.un(),!0):!1};
v.v.lD=function(a){return 87===a.keyCode?(v.v.xc.bk(),v.v.log("W: Workspace : Out"),!0):65===a.keyCode?(v.v.xc.Ql(),v.v.log("S: Workspace : Previous"),!0):83===a.keyCode?(v.v.xc.next(),v.v.log("S: Workspace : In"),!0):68===a.keyCode?(v.v.xc.vl(),v.v.log("S: Workspace : Next"),!0):73===a.keyCode?(v.v.modify(),v.v.log("I: Workspace : Insert/Connect Blocks"),!0):13===a.keyCode?(v.v.OA(),v.v.log("Enter: Workspace : Mark"),!0):88===a.keyCode?(v.v.log("X: Workspace: Disconnect Blocks"),v.v.kA(),!0):!1};
v.v.qA=function(){v.Ai=!0};v.v.eE=function(){v.Ai=!1};v.v.log=function(a){v.v.Uj?v.v.Uj("log",a):console.log(a)};v.v.warn=function(a){v.v.Uj?v.v.Uj("warn",a):console.warn(a)};v.v.error=function(a){v.v.Uj?v.v.Uj("error",a):console.error(a)};function hm(){var a=v.i.bp;this.Yw="";this.ow=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.ow[a[b]]=!0}this.reset()}hm.prototype.reset=function(){this.Ke=Object.create(null);this.qu=Object.create(null);this.Da=null};
hm.prototype.getName=function(a,b){if(b==v.K.ab){var d=a;this.Da?d=(d=this.Da.Pe(d))?d.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),d=null);d&&(a=d)}d=a.toLowerCase()+"_"+b;var e=b==v.K.ab||"DEVELOPER_VARIABLE"==b?this.Yw:"";if(d in this.Ke)return e+this.Ke[d];a=Zl(this,a,b);this.Ke[d]=
a.substr(e.length);return a};function Zl(a,b,d){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b=v.h.UNNAMED_KEY||"unnamed";for(var e="";a.qu[b+e]||b+e in a.ow;)e=e?e+1:2;b+=e;a.qu[b]=!0;return(d==v.K.ab||"DEVELOPER_VARIABLE"==d?a.Yw:"")+b}function hc(a,b){return a.toLowerCase()==b.toLowerCase()};v.va={};v.va.ab=v.kt;v.va.hz=function(a){a=A(a,!1);for(var b=[],d=[],e=0;e<a.length;e++)if(a[e].mg){var f=a[e].mg();f&&(f[2]?b.push(f):d.push(f))}d.sort(v.va.hw);b.sort(v.va.hw);return[d,b]};v.va.hw=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};v.va.vA=function(a,b){if(b.xb)return a;for(a=a||v.h.UNNAMED_KEY||"unnamed";!v.va.wB(a,b.u,b);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};v.va.wB=function(a,b,d){return!v.va.yB(a,b,d)};
v.va.yB=function(a,b,d){b=A(b,!1);for(var e=0;e<b.length;e++)if(b[e]!=d&&b[e].mg){var f=b[e].mg();if(hc(f[0],a))return!0}return!1};v.va.ro=function(a){a=a.trim();var b=v.va.vA(a,this.C),d=this.getValue();if(d!=a&&d!=b){a=A(this.C.u,!1);for(var e=0;e<a.length;e++)a[e].Wl&&a[e].Wl(d,b)}return b};
v.va.ah=function(a){function b(h,k){for(var l=0;l<h.length;l++){var m=h[l][0],n=h[l][1],q=v.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=v.g.xml.createElement("mutation");r.setAttribute("name",m);q.appendChild(r);for(m=0;m<n.length;m++){var t=v.g.xml.createElement("arg");t.setAttribute("name",n[m]);r.appendChild(t)}d.push(q)}}var d=[];if(v.J.procedures_defnoreturn){var e=v.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=v.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(v.g.xml.createTextNode(v.h.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}v.J.procedures_defreturn&&(e=v.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=v.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(v.g.xml.createTextNode(v.h.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));v.J.procedures_ifreturn&&(e=v.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=v.va.hz(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return d};v.va.BA=function(a,b){var d=[];b=A(b,!1);for(var e=0;e<b.length;e++)if(b[e].Md){var f=b[e].Md();f&&hc(f,a)&&d.push(b[e])}return d};
v.va.Nl=function(a){var b=v.j.mc,d=a.mg()[0],e=a.Oa(!0);a=v.va.BA(d,a.u);d=0;for(var f;f=a[d];d++){var h=f.Oa();h=h&&v.N.ld(h);f.eb(e);var k=f.Oa();k=k&&v.N.ld(k);h!=k&&(v.j.mc=!1,v.j.fa(new v.j.ef(f,"mutation",null,h,k)),v.j.mc=b)}};v.va.el=function(a,b){b=F(b,!1);for(var d=0;d<b.length;d++)if(b[d].mg){var e=b[d].mg();if(e&&hc(e[0],a))return b[d]}return null};function im(a,b,d,e){this.o=a;this.Ca=b;this.ua=d.getAttribute("text");this.Vc=new y(0,0);this.ph=e;this.Um=d.getAttribute("callbackKey")||d.getAttribute("callbackkey");this.eu=d.getAttribute("web-class")||null}c=im.prototype;c.width=0;c.height=0;c.Ii=null;
c.ea=function(){var a=this.ph?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.eu&&(a+=" "+this.eu);this.D=v.g.m.F("g",{"class":a},this.o.Sa);if(!this.ph)var b=v.g.m.F("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.D);a=v.g.m.F("rect",{"class":this.ph?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.D);var d=v.g.m.F("text",{"class":this.ph?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.D);d.textContent=v.g.fc(this.ua);
this.width=Lf(d);this.height=20;this.ph||(this.width+=10,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);d.setAttribute("x",this.width/2);d.setAttribute("y",this.height-5);jm(this);this.Ii=v.aa(this.D,"mouseup",this,this.lC);return this.D};c.show=function(){jm(this);this.D.setAttribute("display","block")};function jm(a){a.D.setAttribute("transform","translate("+a.Vc.x+","+a.Vc.y+")")}
c.moveTo=function(a,b){this.Vc.x=a;this.Vc.y=b;jm(this)};c.Uu=function(){return this.Vc};c.G=function(){this.Ii&&v.Wa(this.Ii);this.D&&(v.g.m.removeNode(this.D),this.D=null);this.Ca=this.o=null};c.lC=function(a){(a=this.Ca.xf(a))&&a.cancel();this.ph&&this.Um?console.warn("Labels should not have callbacks. Label text: "+this.ua):this.ph||this.Um&&vf(this.Ca,this.Um)?this.ph||vf(this.Ca,this.Um)(this):console.warn("Buttons should have callbacks. Button text: "+this.ua)};function km(a){a.wb=this.lg.bind(this);a.Ag=this.Ao.bind(this);this.o=new df(a);this.o.Rd=!0;this.B=!!a.B;this.Fd=a.qa;this.aq=[];this.bo=[];this.Lk=[];this.qd=[];this.Ir=[]}c=km.prototype;c.uj=!0;c.sh=!1;c.ci=!0;c.ha=8;c.fe=km.prototype.ha;c.Qx=3*km.prototype.fe;c.Rx=3*km.prototype.fe;c.$h=2;c.ra=0;c.Ga=0;c.Cu=70;
c.ea=function(a){this.D=v.g.m.F(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Zd=v.g.m.F("path",{"class":"blocklyFlyoutBackground"},this.D);this.D.appendChild(this.o.ea());return this.D};
c.T=function(a){this.Ca=a;this.o.Xi=a;this.Wb=new ve(this.o,this.Se,!1,"blocklyFlyoutScrollbar");this.Ha();Array.prototype.push.apply(this.aq,v.aa(this.D,"wheel",this,this.hx));this.uj||(this.sn=this.cq.bind(this),this.Ca.Id(this.sn));Array.prototype.push.apply(this.aq,v.aa(this.Zd,"mousedown",this,this.zh));this.o.xf=this.Ca.xf.bind(this.Ca);this.o.Da=this.Ca.Da;a=this.o;a.Ch=new ec(a)};
c.G=function(){this.Ha();v.Wa(this.aq);this.sn&&(this.Ca.Mi(this.sn),this.sn=null);this.Wb&&(this.Wb.G(),this.Wb=null);this.o&&(this.o.Xi=null,this.o.G(),this.o=null);this.D&&(v.g.m.removeNode(this.D),this.D=null);this.Ca=this.Zd=null};c.Rc=function(){return this.ra};c.Hj=function(){return this.Ga};c.dh=function(){return this.o};c.isVisible=function(){return this.sh};c.Ba=function(a){var b=a!=this.isVisible();this.sh=a;b&&this.om()};c.Oi=function(a){var b=a!=this.ci;this.ci=a;b&&this.om()};
c.om=function(){var a=this.ci?this.isVisible():!1;this.D.style.display=a?"block":"none";this.Wb.Oi(a)};function lm(a,b,d,e,f){a.D.setAttribute("width",b);a.D.setAttribute("height",d);"svg"==a.D.tagName?v.g.m.Yl(a.D,"translate("+e+"px,"+f+"px)"):a.D.setAttribute("transform","translate("+e+","+f+")");a.Wb&&(a.Wb.Br=new y(e,f),a.Wb.resize(),Be(a.Wb,a.Wb.Vc.x,a.Wb.Vc.y))}
c.Ha=function(){if(this.isVisible()){this.Ba(!1);for(var a=0,b;b=this.qd[a];a++)v.Wa(b);this.qd.length=0;this.Dh&&(this.o.Mi(this.Dh),this.Dh=null)}};
c.show=function(a){this.o.pc(!1);this.Ha();mm(this);if("string"==typeof a){a=this.o.Xi.xs[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.o.Xi);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.Ba(!0);var b=[],d=[];this.Ir.length=0;for(var e=this.Se?this.Qx:this.Rx,f=0,h;h=a[f];f++)if(h.tagName)switch(h.tagName.toUpperCase()){case "BLOCK":var k=v.N.hi(h,this.o);k.isEnabled()||
this.Ir.push(k);b.push({type:"block",block:k});h=parseInt(h.getAttribute("gap"),10);d.push(isNaN(h)?e:h);break;case "SEP":h=parseInt(h.getAttribute("gap"),10);!isNaN(h)&&0<d.length?d[d.length-1]=h:d.push(e);break;case "LABEL":case "BUTTON":h=new im(this.o,this.Ca,h,"LABEL"==h.tagName.toUpperCase()),b.push({type:"button",button:h}),d.push(e)}this.xv(b,d);this.qd.push(v.aa(this.Zd,"mouseover",this,function(){for(var l=F(this.o,!1),m=0,n;n=l[m];m++)n.Ni()}));this.Se?this.Ga=0:this.ra=0;this.o.pc(!0);
this.Rr();this.cq();this.position();this.Dh=this.Rr.bind(this);this.o.Id(this.Dh)};function mm(a){for(var b=F(a.o,!1),d=0,e;e=b[d];d++)e.u==a.o&&e.G(!1,!1);for(d=0;d<a.bo.length;d++)(b=a.bo[d])&&v.g.m.removeNode(b);for(d=a.bo.length=0;b=a.Lk[d];d++)b.G();a.Lk.length=0;a.o.Ch.clear()}
function nm(a,b,d,e){a.qd.push(v.aa(b,"mousedown",null,om(a,d)));a.qd.push(v.aa(e,"mousedown",null,om(a,d)));a.qd.push(v.wc(b,"mouseover",d,d.sj));a.qd.push(v.wc(b,"mouseout",d,d.Ni));a.qd.push(v.wc(e,"mouseover",d,d.sj));a.qd.push(v.wc(e,"mouseout",d,d.Ni))}function om(a,b){return function(d){var e=a.Ca.xf(d);e&&(ne(e,b),me(e,d,a))}}c.zh=function(a){var b=this.Ca.xf(a);b&&me(b,a,this)};c.qv=function(a){return a.isEnabled()};
function fe(a,b){var d=null;v.j.disable();var e=a.Ca.wf();a.Ca.pc(!1);try{var f=a.Ca;if(!b.Z())throw Error("oldBlock is not rendered.");var h=v.N.Sg(b,!0);f.pc(!1);var k=v.N.hi(h,f);if(!k.Z())throw Error("block is not rendered.");var l=v.g.fl(f.Sa),m=v.g.fl(a.o.Sa),n=b.wa();n.scale(a.o.scale);var q=Gb(Hb(m,n),l);q.scale(1/f.scale);k.moveBy(q.x,q.y);d=k;v.cc()}finally{v.j.enable()}b=v.K.Ru(a.Ca,e);if(v.j.isEnabled())for(v.j.W(!0),v.j.fa(new Pb(d)),e=0;e<b.length;e++)v.j.fa(new Tb(b[e]));a.uj?a.Ha():
a.cq();return d}function pm(a,b,d,e){var f=b.ea();b.moveTo(d,e);b.show();a.qd.push(v.aa(f,"mousedown",a,a.zh));a.Lk.push(b)}function qm(a,b,d,e,f,h){d=v.g.m.F("rect",{"fill-opacity":0,x:d,y:e,height:f.height,width:f.width},null);d.bf=b;v.I.vj(d);a.o.Sa.insertBefore(d,b.Z());b.tn=d;return a.bo[h]=d}
function rm(a,b,d){var e=d.vb();b.setAttribute("width",e.width);b.setAttribute("height",e.height);var f=d.Fo?15:0;f&&d.moveBy(0,f);f=d.M?G:0;d=d.wa();b.setAttribute("y",d.y);b.setAttribute("x",a.B?d.x-e.width+f:d.x-f)}c.cq=function(){for(var a=F(this.o,!1),b=0,d;d=a[b];b++)if(-1==this.Ir.indexOf(d))for(var e=Dc(this.Ca,v.g.nq(d));d;)d.ob(e),d=x(d)};c.Rr=function(){this.Dh&&this.o.Mi(this.Dh);this.lw();this.Dh&&this.o.Id(this.Dh)};function de(a){return a.Wb?a.Wb.isVisible():!1};function Ne(a){a.wb=this.lg.bind(this);a.Ag=this.Ao.bind(this);Ne.w.constructor.call(this,a);this.Se=!0}u(Ne,km);c=Ne.prototype;c.lg=function(){if(!this.isVisible())return null;try{var a=this.o.Sa.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.$h,d=this.$h;this.Fd==v.Og&&(b=0);var e=this.Ga;this.Fd==v.fd&&(e-=this.$h);return{Ta:e,La:this.ra-2*this.$h,gd:(a.height+2*this.fe)*this.o.scale,xd:(a.width+2*this.fe)*this.o.scale,Lb:-this.o.scrollY,rb:-this.o.scrollX,Ob:0,ac:0,Cb:b,Bb:d}};
c.Ao=function(a){var b=this.lg();b&&("number"==typeof a.x&&(this.o.scrollX=-b.xd*a.x),this.o.translate(this.o.scrollX+b.Bb,this.o.scrollY+b.Cb))};c.position=function(){if(this.isVisible()){var a=this.Ca.wb();a&&(this.ra=a.La,this.ds(a.La-2*this.ha,this.Ga-this.ha),lm(this,this.ra,this.Ga,0,this.Ca.qa==this.Fd?a.Rw?this.Fd==v.fd?a.Rw:a.Ta-this.Ga:this.Fd==v.fd?0:a.Ta:this.Fd==v.fd?0:a.Ta+a.Cb-this.Ga))}};
c.ds=function(a,b){var d=this.Fd==v.fd,e=["M 0,"+(d?0:this.ha)];d?(e.push("h",a+2*this.ha),e.push("v",b),e.push("a",this.ha,this.ha,0,0,1,-this.ha,this.ha),e.push("h",-1*a),e.push("a",this.ha,this.ha,0,0,1,-this.ha,-this.ha)):(e.push("a",this.ha,this.ha,0,0,1,this.ha,-this.ha),e.push("h",a),e.push("a",this.ha,this.ha,0,0,1,this.ha,this.ha),e.push("v",b),e.push("h",-a-2*this.ha));e.push("z");this.Zd.setAttribute("d",e.join(" "))};c.$r=function(){this.Wb.set(this.B?Infinity:0)};
c.hx=function(a){var b=v.g.uq(a),d=b.x||b.y;d&&(b=this.lg(),d=b.rb+d,d=Math.min(d,b.xd-b.La),d=Math.max(d,0),this.Wb.set(d),v.V.Ha());a.preventDefault();a.stopPropagation()};
c.xv=function(a,b){this.o.scale=this.Ca.scale;var d=this.fe,e=this.B?d:d+G;this.B&&(a=a.reverse());for(var f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=Ib(h,!1),l=0,m;m=k[l];l++)m.xb=!0;h.ia();k=h.Z();l=h.vb();m=h.M?G:0;m=this.B?e+l.width:e+m;h.moveBy(m,d);m=qm(this,h,m,d,l,f);e+=l.width+b[f];nm(this,k,h,m)}else"button"==h.type&&(pm(this,h.button,e,d),e+=h.button.width+b[f])};c.rv=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Cu;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};
c.Fj=function(){if(!this.D)return null;var a=this.D.getBoundingClientRect(),b=a.top;return this.Fd==v.fd?new Rd(-1E9,b+a.height,-1E9,1E9):new Rd(b,-1E9,-1E9,1E9)};c.lw=function(){this.o.scale=this.Ca.scale;for(var a=0,b=F(this.o,!1),d=0,e;e=b[d];d++)a=Math.max(a,e.vb().height);a+=1.5*this.fe;a*=this.o.scale;a+=I;if(this.Ga!=a){for(d=0;e=b[d];d++)e.tn&&rm(this,e.tn,e);this.Ga=a;this.position()}};function Oe(a){a.wb=this.lg.bind(this);a.Ag=this.Ao.bind(this);Oe.w.constructor.call(this,a);this.Se=!1}u(Oe,km);c=Oe.prototype;c.lg=function(){if(!this.isVisible())return null;try{var a=this.o.Sa.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.$h,d=this.Ga-2*this.$h,e=this.ra;this.B||(e-=this.$h);return{Ta:d,La:e,gd:a.height*this.o.scale+2*this.fe,xd:a.width*this.o.scale+2*this.fe,Lb:-this.o.scrollY+a.y,rb:-this.o.scrollX,Ob:a.y,ac:a.x,Cb:b,Bb:0}};
c.Ao=function(a){var b=this.lg();b&&("number"==typeof a.y&&(this.o.scrollY=-b.gd*a.y),this.o.translate(this.o.scrollX+b.Bb,this.o.scrollY+b.Cb))};c.position=function(){if(this.isVisible()){var a=this.Ca.wb();a&&(this.Ga=a.Ta,this.ds(this.ra-this.ha,a.Ta-2*this.ha),lm(this,this.ra,this.Ga,this.Ca.qa==this.Fd?a.Sw?this.Fd==v.wd?a.Sw:a.La-this.ra:this.Fd==v.wd?0:a.La:this.Fd==v.wd?0:a.La+a.Bb-this.ra,0))}};
c.ds=function(a,b){var d=this.Fd==v.Xf,e=a+this.ha;e=["M "+(d?e:0)+",0"];e.push("h",d?-a:a);e.push("a",this.ha,this.ha,0,0,d?0:1,d?-this.ha:this.ha,this.ha);e.push("v",Math.max(0,b));e.push("a",this.ha,this.ha,0,0,d?0:1,d?this.ha:-this.ha,this.ha);e.push("h",d?a:-a);e.push("z");this.Zd.setAttribute("d",e.join(" "))};c.$r=function(){this.Wb.set(0)};
c.hx=function(a){var b=v.g.uq(a);if(b.y){var d=this.lg();b=d.Lb-d.Ob+b.y;b=Math.min(b,d.gd-d.Ta);b=Math.max(b,0);this.Wb.set(b);v.V.Ha()}a.preventDefault();a.stopPropagation()};
c.xv=function(a,b){this.o.scale=this.Ca.scale;for(var d=this.fe,e=this.B?d:d+G,f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=Ib(h,!1),l=0,m;m=k[l];l++)m.xb=!0;h.ia();k=h.Z();l=h.vb();h.moveBy(e,d);m=qm(this,h,this.B?e-l.width:e,d,l,f);nm(this,k,h,m);d+=l.height+b[f]}else"button"==h.type&&(pm(this,h.button,e,d),d+=h.button.height+b[f])};c.rv=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Cu;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};
c.Fj=function(){if(!this.D)return null;var a=this.D.getBoundingClientRect(),b=a.left;if(this.Fd==v.wd)return new Rd(-1E9,1E9,-1E9,b+a.width);v.g.userAgent.Ws&&this.Ca&&this.Ca.zi&&(a=this.Ca.D.getBoundingClientRect().x,10>Math.abs(a-b)&&(b+=this.mE*this.Ca.options.Vb.scale));return new Rd(-1E9,1E9,b,1E9)};
c.lw=function(){this.o.scale=this.Ca.scale;for(var a=0,b=F(this.o,!1),d=0,e;e=b[d];d++){var f=e.vb().width;e.M&&(f-=G);a=Math.max(a,f)}for(d=0;e=this.Lk[d];d++)a=Math.max(a,e.width);a+=1.5*this.fe+G;a*=this.o.scale;a+=I;if(this.ra!=a){for(d=0;e=b[d];d++)this.B&&(f=e.wa().x,e.moveBy(a/this.o.scale-this.fe-G-f,0)),e.tn&&rm(this,e.tn,e);if(this.B)for(d=0;e=this.Lk[d];d++)b=e.Uu().y,e.moveTo(a/this.o.scale-e.width-this.fe-G,b);this.ra=a;this.position()}};function sm(a,b){null!=a&&this.append.apply(this,arguments)}c=sm.prototype;c.$b="";c.set=function(a){this.$b=""+a};c.append=function(a,b,d){this.$b+=String(a);if(null!=b)for(var e=1;e<arguments.length;e++)this.$b+=arguments[e];return this};c.clear=function(){this.$b=""};c.toString=function(){return this.$b};function tm(a,b,d){zj.call(this,d);this.jb=b||um;a instanceof kh||(a=nh(a),a=oh(mh(a).toString().replace(/(\r\n|\r|\n)/g,"<br>"),a.ni()));this.tl=a;this.al=this.bs=!1;this.WC=null;this.ez=vh;this.Sj=!0;this.kn=-1}u(tm,zj);var vm={};c=tm.prototype;c.Fb=function(){tm.w.Fb.call(this);this.Rh&&(this.Rh.removeNode(this),this.Rh=null);this.da=null};
c.On=function(){var a=this.P();if(a){var b=wm(this);b&&!b.id&&(b.id=this.ja()+".label");Lj(a,"treeitem");Mj(a,"selected",!1);Mj(a,"level",this.Gj());b&&Mj(a,"labelledby",b.id);(b=this.Bn())&&Lj(b,"presentation");(b=this.An())&&Lj(b,"presentation");if(b=xm(this))if(Lj(b,"group"),b.hasChildNodes())for(Mj(a,"expanded",!1),a=Gj(this),b=1;b<=a;b++){var d=S(this,b-1).P();Mj(d,"setsize",a);Mj(d,"posinset",b)}}};
c.ea=function(){var a=this.se();var b=this.Ho(),d=a.ne;a=d.createElement("DIV");R?(b=th(wh,b),yh(a,b),a.removeChild(a.firstChild)):yh(a,b);if(1==a.childNodes.length)a=a.removeChild(a.firstChild);else{for(b=d.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a=b}this.da=a};c.Qb=function(){tm.w.Qb.call(this);vm[this.ja()]=this;this.On()};c.qe=function(){tm.w.qe.call(this);delete vm[this.ja()]};
c.rj=function(a,b){var d=S(this,b-1),e=S(this,b);tm.w.rj.call(this,a,b);a.Xe=d;a.Ve=e;d?d.Ve=a:this.gq=a;e?e.Xe=a:this.vv=a;(b=this.Qc())&&ym(a,b);zm(a,this.Gj()+1);if(b=this.P())if(this.pk(),Mj(b,"expanded",this.yc()),this.yc()){b=xm(this);a.P()||a.ea();var f=a.P(),h=e&&e.P();b.insertBefore(f,h);this.Na&&a.Qb();e||(d?d.pk():(oj(b,!0),this.Td(this.yc())))}};c.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.rj(a,b?Jj(this,b):Gj(this));return a};
c.removeChild=function(a){var b=this.Qc(),d=b?b.Wc:null;if(d==a||a.contains(d))if(b.hasFocus()){this.select();d=this.nC;if(ua(d))this&&(d=Ba(d,this));else if(d&&"function"==typeof d.handleEvent)d=Ba(d.handleEvent,d);else throw Error("Invalid listener argument");2147483647<Number(10)||la.setTimeout(d,10)}else this.select();tm.w.removeChild.call(this,a);this.vv==a&&(this.vv=a.Xe);this.gq==a&&(this.gq=a.Ve);a.Xe&&(a.Xe.Ve=a.Ve);a.Ve&&(a.Ve.Xe=a.Xe);d=!a.Ve;a.Rh=null;a.kn=-1;if(b&&(b.removeNode(a),this.Na)){b=
xm(this);if(a.Na){var e=a.P();b.removeChild(e);a.qe()}d&&(d=S(this,Gj(this)-1))&&d.pk();Ij(this)||(b.style.display="none",this.pk(),this.Bn().className=this.xn(),(b=this.P())&&b.removeAttribute("aria-expanded"))}return a};c.remove=tm.prototype.removeChild;c.nC=function(){this.select()};c.Gj=function(){var a=this.kn;0>a&&(a=(a=this.getParent())?a.Gj()+1:0,zm(this,a));return a};
function zm(a,b){if(b!=a.kn){a.kn=b;var d=Am(a);if(d){var e=Bm(a)+"px";Hj(a)?d.style.paddingRight=e:d.style.paddingLeft=e}Fj(a,function(f){zm(f,b+1)})}}c.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};c.kg=function(){var a=[];Fj(this,function(b){a.push(b)});return a};c.Bl=function(){return this.bs};c.select=function(){var a=this.Qc();a&&a.Lf(this)};
function Cm(a,b){if(a.bs!=b){a.bs=b;Dm(a);var d=a.P();d&&(Mj(d,"selected",b),b&&(b=a.Qc().P(),Mj(b,"activedescendant",a.ja())))}}c.yc=function(){return this.al};
c.Td=function(a){var b=a!=this.al;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){this.al=a;var d=this.Qc();var e=this.P();if(Ij(this)){if(!a&&d&&this.contains(d.Wc)&&this.select(),e){if(d=xm(this))if(oj(d,a),Mj(e,"expanded",a),a&&this.Na&&!d.hasChildNodes()){var f=[];Fj(this,function(h){f.push(h.Ho())});zh(d,th(f));Fj(this,function(h){h.Qb()})}this.pk()}}else(d=xm(this))&&oj(d,!1);e&&(this.Bn().className=this.xn());b&&this.dispatchEvent(a?"expand":"collapse")}};c.toggle=function(){this.Td(!this.yc())};
c.expand=function(){this.Td(!0)};c.collapse=function(){this.Td(!1)};c.Yr=function(){var a=this.getParent();a&&(a.Td(!0),a.Yr())};c.Ho=function(){var a=this.Qc(),b=!a.$l||a==this.getParent()&&!a.rs?this.jb.du:this.jb.cu;a=this.yc()&&Ij(this);b={"class":b,style:Em(this)};var d=[];a&&Fj(this,function(e){d.push(e.Ho())});a=sh("div",b,d);return sh("div",{"class":this.jb.mu,id:this.ja()},[Fm(this),a])};function Bm(a){return Math.max(0,(a.Gj()-1)*a.jb.Pq)}
function Fm(a){var b={};b["padding-"+(Hj(a)?"right":"left")]=Bm(a)+"px";b={"class":a.il(),style:b};var d=a.sq(),e=sh("span",{style:{display:"inline-block"},"class":a.xn()}),f=sh("span",{"class":a.jb.nu,title:a.WC||null},a.tl);a=th(f,sh("span",{},a.ez));return sh("div",b,[d,e,a])}c.il=function(){return this.jb.Hp+(this.Bl()?" "+this.jb.pu:"")};c.sq=function(){return sh("span",{type:"expand",style:{display:"inline-block"},"class":Gm(this)})};
function Gm(a){var b=a.Qc(),d=!b.$l||b==a.getParent()&&!b.rs,e=a.jb,f=new sm;f.append(e.di," ",e.Tz," ");if(Ij(a)){var h=0;b.qs&&a.Sj&&(h=a.yc()?2:1);d||(h=a.Ve?h+8:h+4);switch(h){case 1:f.append(e.Xz);break;case 2:f.append(e.Wz);break;case 4:f.append(e.iu);break;case 5:f.append(e.Vz);break;case 6:f.append(e.Uz);break;case 8:f.append(e.ju);break;case 9:f.append(e.Zz);break;case 10:f.append(e.Yz);break;default:f.append(e.hu)}}else d?f.append(e.hu):a.Ve?f.append(e.ju):f.append(e.iu);return f.toString()}
function Em(a){var b=a.yc()&&Ij(a);return bh({"background-position":Hm(a),display:b?null:"none"})}function Hm(a){return(a.Ve?(a.Gj()-1)*a.jb.Pq:"-100")+"px 0"}c.P=function(){var a=tm.w.P.call(this);a||(this.da=a=this.se().P(this.ja()));return a};function Am(a){return(a=a.P())?a.firstChild:null}c.An=function(){var a=Am(this);return a?a.firstChild:null};c.Bn=function(){var a=Am(this);return a?a.childNodes[1]:null};function wm(a){return(a=Am(a))&&a.lastChild?a.lastChild.previousSibling:null}
function xm(a){return(a=a.P())?a.lastChild:null}c.Ye=function(a){this.tl=a=nh(a);var b=wm(this);b&&yh(b,a);(a=this.Qc())&&Im(a,this)};c.Sb=function(){var a=mh(this.tl).toString();return zg(a,"&")?"document"in la?Ch(a):Eh(a):a};function Dm(a){var b=Am(a);b&&(b.className=a.il())}c.pk=function(){var a=this.An();a&&(a.className=Gm(this));if(a=xm(this))a.style.backgroundPosition=Hm(this)};c.Sv=function(a){"expand"==a.target.getAttribute("type")&&Ij(this)?this.Sj&&this.toggle():(this.select(),Dm(this))};
c.Ol=function(a){a.preventDefault()};c.Qv=function(a){"expand"==a.target.getAttribute("type")&&Ij(this)||this.Sj&&this.toggle()};
c.yr=function(a){var b=!0;switch(a.keyCode){case 39:if(a.altKey)break;Ij(this)&&(this.yc()?S(this,0).select():this.Td(!0));break;case 37:if(a.altKey)break;if(Ij(this)&&this.yc()&&this.Sj)this.Td(!1);else{var d=this.getParent(),e=this.Qc();d&&(e.Nh||d!=e)&&d.select()}break;case 40:(d=fm(this))&&d.select();break;case 38:(d=gm(this))&&d.select();break;default:b=!1}b&&(a.preventDefault(),(e=this.Qc())&&e.mm.clear());return b};function Jm(a){return a.yc()&&Ij(a)?Jm(S(a,Gj(a)-1)):a}
function fm(a){if(Ij(a)&&a.yc())return S(a,0);for(var b=a,d;b!=a.Qc();){d=b.Ve;if(null!=d)return d;b=b.getParent()}return null}function gm(a){var b=a.Xe;if(null!=b)return Jm(b);b=a.getParent();var d=a.Qc();return!d.Nh&&b==d||a==d?null:b}function ym(a,b){a.Rh!=b&&(a.Rh=b,Im(b,a),Fj(a,function(d){ym(d,b)}))}
var um={Pq:19,ou:"goog-tree-root goog-tree-item",lu:"goog-tree-hide-root",mu:"goog-tree-item",cu:"goog-tree-children",du:"goog-tree-children-nolines",Hp:"goog-tree-row",nu:"goog-tree-item-label",di:"goog-tree-icon",Tz:"goog-tree-expand-icon",Xz:"goog-tree-expand-icon-plus",Wz:"goog-tree-expand-icon-minus",Zz:"goog-tree-expand-icon-tplus",Yz:"goog-tree-expand-icon-tminus",Vz:"goog-tree-expand-icon-lplus",Uz:"goog-tree-expand-icon-lminus",ju:"goog-tree-expand-icon-t",iu:"goog-tree-expand-icon-l",hu:"goog-tree-expand-icon-blank",
Fp:"goog-tree-expanded-folder-icon",fu:"goog-tree-collapsed-folder-icon",Gp:"goog-tree-file-icon",ku:"goog-tree-expanded-folder-icon",gu:"goog-tree-collapsed-folder-icon",pu:"selected"};function Km(a){wj.call(this);this.da=a;a=R?"focusout":"blur";this.BB=wi(this.da,R?"focusin":"focus",this,!R);this.CB=wi(this.da,a,this,!R)}u(Km,wj);Km.prototype.handleEvent=function(a){var b=new hi(a.rf);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};Km.prototype.Fb=function(){Km.w.Fb.call(this);Fi(this.BB);Fi(this.CB);delete this.da};function Lm(a,b,d){tm.call(this,a,b,d)}u(Lm,tm);Lm.prototype.Qc=function(){if(this.Rh)return this.Rh;var a=this.getParent();return a&&(a=a.Qc())?(ym(this,a),a):null};Lm.prototype.xn=function(){var a=this.yc(),b=this.rA;if(a&&b)return b;b=this.kB;if(!a&&b)return b;b=this.jb;if(Ij(this)){if(a&&b.Fp)return b.di+" "+b.Fp;if(!a&&b.fu)return b.di+" "+b.fu}else if(b.Gp)return b.di+" "+b.Gp;return""};function Mm(a){if(a.jl&&"function"==typeof a.jl)return a.jl();if(g(a))return a.split("");if(ta(a)){for(var b=[],d=a.length,e=0;e<d;e++)b.push(a[e]);return b}b=[];d=0;for(e in a)b[d++]=a[e];return b};function Nm(a){this.xa=void 0;this.Lc={};if(a){if(a.Dn&&"function"==typeof a.Dn)var b=a.Dn();else if(a.jl&&"function"==typeof a.jl)b=void 0;else if(ta(a)||g(a)){b=[];for(var d=a.length,e=0;e<d;e++)b.push(e)}else for(e in b=[],d=0,a)b[d++]=e;a=Mm(a);for(d=0;d<b.length;d++)this.set(b[d],a[d])}}c=Nm.prototype;c.set=function(a,b){Om(this,a,b,!1)};c.add=function(a,b){Om(this,a,b,!0)};
function Om(a,b,d,e){for(var f=0;f<b.length;f++){var h=b.charAt(f);a.Lc[h]||(a.Lc[h]=new Nm);a=a.Lc[h]}if(e&&void 0!==a.xa)throw Error('The collection already contains the key "'+b+'"');a.xa=d}c.get=function(a){a:{for(var b=this,d=0;d<a.length;d++)if(b=b.Lc[a.charAt(d)],!b){a=void 0;break a}a=b}return a?a.xa:void 0};c.jl=function(){var a=[];Pm(this,a);return a};function Pm(a,b){void 0!==a.xa&&b.push(a.xa);for(var d in a.Lc)Pm(a.Lc[d],b)}
c.Dn=function(a){var b=[];if(a){for(var d=this,e=0;e<a.length;e++){var f=a.charAt(e);if(!d.Lc[f])return[];d=d.Lc[f]}Qm(d,a,b)}else Qm(this,"",b);return b};function Qm(a,b,d){void 0!==a.xa&&d.push(b);for(var e in a.Lc)Qm(a.Lc[e],b+e,d)}c.clear=function(){this.Lc={};this.xa=void 0};
c.remove=function(a){for(var b=this,d=[],e=0;e<a.length;e++){var f=a.charAt(e);if(!b.Lc[f])throw Error('The collection does not have the key "'+a+'"');d.push([b,f]);b=b.Lc[f]}a=b.xa;for(delete b.xa;0<d.length;)if(f=d.pop(),b=f[0],f=f[1],b.Lc[f].sv())delete b.Lc[f];else break;return a};c.clone=function(){return new Nm(this)};c.sv=function(){var a;if(a=void 0===this.xa)a:{for(var b in this.Lc){a=!1;break a}a=!0}return a};function Rm(){this.Hi=new Nm;this.$b="";this.ao=this.lr=null;this.Vj=this.Hl=0}function Sm(a,b){var d=b.Sb();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.Hi.get(d);if(e){for(var f=Gj(b),h=0;h<f;h++)Sm(a,S(b,h));lg(e,b);e.length||a.Hi.remove(d)}}}function Tm(a,b){var d=!1;(b=a.Hi.Dn(b))&&b.length&&(a.Vj=0,a.Hl=0,d=a.Hi.get(b[0]),d=Um(a,d))&&(a.lr=b);return d}function Um(a,b){if(b){if(a.Vj<b.length){var d=b[a.Vj];a.ao=b}d&&(d.Yr(),d.select())}return!!d}
Rm.prototype.clear=function(){this.$b=""};function Vm(a,b,d){tm.call(this,a,b,d);this.al=!0;Cm(this,!0);this.Wc=this;this.mm=new Rm;this.jq=this.Tc=null;this.cl=!1;this.zA=null;this.rs=this.Nh=this.qs=this.$l=!0;if(R)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}u(Vm,tm);c=Vm.prototype;c.Qc=function(){return this};c.Gj=function(){return 0};c.Yr=function(){};c.PA=function(){this.cl=!0;bk(this.P(),"focused");this.Wc&&this.Wc.select()};c.JA=function(){this.cl=!1;dk(this.P(),"focused")};c.hasFocus=function(){return this.cl};
c.yc=function(){return!this.Nh||Vm.w.yc.call(this)};c.Td=function(a){this.Nh?Vm.w.Td.call(this,a):this.al=a};c.sq=function(){return vh};c.Bn=function(){var a=Am(this);return a?a.firstChild:null};c.An=function(){return null};c.pk=function(){};c.il=function(){return Vm.w.il.call(this)+(this.Nh?"":" "+this.jb.lu)};c.xn=function(){var a=this.yc(),b=this.rA;if(a&&b)return b;b=this.kB;if(!a&&b)return b;b=this.jb;return a&&b.ku?b.di+" "+b.ku:!a&&b.gu?b.di+" "+b.gu:""};
c.Lf=function(a){if(this.Wc!=a){var b=!1;this.Wc&&(b=this.Wc==this.zA,Cm(this.Wc,!1));if(this.Wc=a)Cm(a,!0),b&&a.select();this.dispatchEvent("change")}};function Wm(a){0!=a.$l&&(a.$l=!1,a.Na&&Xm(a))}function Xm(a){function b(h){var k=xm(h);if(k){var l=!e||d==h.getParent()&&!f?h.jb.du:h.jb.cu;k.className=l;if(k=h.An())k.className=Gm(h)}Fj(h,b)}var d=a,e=d.$l,f=d.rs;b(a)}function Ym(a){0!=a.qs&&(a.qs=!1,a.Na&&Xm(a))}
function Zm(a){if(0!=a.Nh){a.Nh=!1;if(a.Na){var b=Am(a);b&&(b.className=a.il())}a.Wc==a&&S(a,0)&&a.Lf(S(a,0))}}c.On=function(){Vm.w.On.call(this);var a=this.P();Lj(a,"tree");Mj(a,"labelledby",wm(this).id)};
c.Qb=function(){Vm.w.Qb.call(this);var a=this.P();a.className=this.jb.ou;a.setAttribute("hideFocus","true");a=this.P();a.tabIndex=0;var b=this.Tc=new Rj(a),d=this.jq=new Km(a);Dj(this).za(d,"focusout",this.JA).za(d,"focusin",this.PA).za(b,"key",this.Qe).za(a,"mousedown",this.Bq).za(a,"click",this.Bq).za(a,"dblclick",this.Bq);this.On()};c.qe=function(){Vm.w.qe.call(this);this.Tc.G();this.Tc=null;this.jq.G();this.jq=null};
c.Bq=function(a){var b=$m(this,a);if(b)switch(a.type){case "mousedown":b.Sv(a);break;case "click":b.Ol(a);break;case "dblclick":b.Qv(a)}};
c.Qe=function(a){var b=this.mm;var d=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){d=40==a.keyCode?1:-1;var e=b.lr;if(e){var f=null,h=!1;if(b.ao){var k=b.Vj+d;0<=k&&k<b.ao.length?(b.Vj=k,f=b.ao):h=!0}f||(k=b.Hl+d,0<=k&&k<e.length&&(b.Hl=k),e.length>b.Hl&&(f=b.Hi.get(e[b.Hl])),f&&f.length&&h&&(b.Vj=-1==d?f.length-1:0));Um(b,f)&&(b.lr=e)}d=!0}break;case 8:e=b.$b.length-1;d=!0;0<e?(b.$b=b.$b.substring(0,e),Tm(b,b.$b)):0==e?b.$b="":d=!1;break;case 27:b.$b="",d=!0}(b=d||this.Wc&&this.Wc.yr(a))||(b=
this.mm,d=!1,a.ctrlKey||a.altKey||(e=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==e.length&&" "<=e&&"~">=e||"\u0080"<=e&&"\ufffd">=e)&&(" "!=e||b.$b)&&(b.$b+=e,d=Tm(b,b.$b))),b=d);b&&a.preventDefault();return b};function $m(a,b){for(var d=b.target;null!=d;){if(b=vm[d.id])return b;if(d==a.P())break;d=d.parentNode}return null}c.createNode=function(a){return new Lm(a||vh,this.jb,this.se())};
function Im(a,b){a=a.mm;var d=b.Sb();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.Hi.get(d);e?e.push(b):a.Hi.set(d,[b])}}c.removeNode=function(a){Sm(this.mm,a)};function hf(a){this.o=a;this.B=a.options.B;this.Se=a.options.Ad;this.qa=a.options.qa;this.jb={Pq:19,ou:"blocklyTreeRoot",lu:"blocklyHidden",mu:"",Hp:"blocklyTreeRow",nu:"blocklyTreeLabel",di:"blocklyTreeIcon",Fp:"blocklyTreeIconOpen",Gp:"blocklyTreeIconNone",pu:"blocklyTreeSelected"};this.Tw={Hp:"blocklyTreeSeparator"};this.Se&&(this.jb.cssTreeRow+=a.B?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.Tw.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.B?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.jb.cssTreeIcon="")}c=hf.prototype;c.width=0;c.height=0;c.Cl=null;
c.T=function(){var a=this.o,b=J(this.o);this.ad=document.createElement("div");this.ad.className="blocklyToolboxDiv";this.ad.setAttribute("dir",a.B?"RTL":"LTR");b.parentNode.insertBefore(this.ad,b);v.aa(this.ad,"mousedown",this,function(d){v.g.rh(d)||d.target==this.ad?v.cc(!1):v.cc(!0);v.Touch.bg()},!1,!0);b={hg:a.options.hg,Vb:a,B:a.B,xe:a.options.xe,Ad:a.Ad,qa:a.options.qa};this.L=null;this.L=a.Ad?new Ne(b):new Oe(b);v.g.m.wi(this.L.ea("svg"),J(this.o));this.L.T(a);this.jb.cleardotPath=a.options.We+
"1x1.gif";this.jb.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.B?"Rtl":"Ltr");this.Hc=b=new an(this,this.jb);Zm(b);Wm(b);Ym(b);b.Lf(null);a=this.lo(a.options.Ff);b.ia(this.ad);a&&b.Lf(a);sf(this);this.position()};c.G=function(){this.L.G();this.Hc.G();v.g.m.removeNode(this.ad);this.Cl=this.o=null};c.Rc=function(){return this.width};c.Hj=function(){return this.height};
c.position=function(){var a=this.ad;if(a){var b=J(this.o);b=v.Kw(b);this.Se?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.qa==v.fd?a.style.top="0":a.style.bottom="0"):(this.qa==v.Xf?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.L.position()}};
c.lo=function(a){this.Hc.mw();this.Hc.hf=[];this.Fq=!1;a=bn(this,a,this.Hc,this.o.options.We);if(this.Hc.hf.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");wc(this.o);return a};
function bn(a,b,d,e){for(var f=null,h=null,k=0,l;l=b.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":h=v.g.fc(l.getAttribute("name"));var m=a.Hc.createNode(h);m.hf=[];d.add(m);var n=l.getAttribute("custom");n?m.hf=n:(n=bn(a,l,m,e))&&(f=n);n=l.getAttribute("categorystyle");var q=l.getAttribute("colour");q&&n?(m.si="",console.warn('Toolbox category "'+h+'" can not have both a style and a colour')):n?cn(a,n,m,h):dn(a,q,m,h);"true"==l.getAttribute("expanded")?(m.hf.length&&
(f=m),m.Td(!0)):m.Td(!1);h=l;break;case "SEP":if(h&&"CATEGORY"==h.tagName.toUpperCase()){d.add(new en(a.Tw));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.hf.push(l),h=l}return f}function dn(a,b,d,e){b=v.g.fc(b);if(null===b||""===b)d.si="";else{var f=Number(b);isNaN(f)?(f=v.g.ib.parse(b))?(d.si=f,a.Fq=!0):(d.si="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+b)):(d.si=v.lv(f),a.Fq=!0)}}
function cn(a,b,d,e){if((d.Jw=b)&&v.In()){var f;(f=v.In().Az[b])&&f.ib?dn(a,f.ib,d,e):console.warn('Style "'+b+'" must exist and contain a colour value')}}function fn(a,b){if(b=b||a.Hc){b=b.kg(!1);for(var d=0,e;e=b[d];d++)e.Jw&&(cn(a,e.Jw,e,""),sf(a)),fn(a,e)}}function gn(a){var b=a.Hc;if(b&&(fn(a,b),a=b.Wc)){var d=a.si||"#57e";Am(a).style.backgroundColor=d;sf(b.ca,a)}}
function sf(a,b){b=(b||a.Hc).kg(!1);for(var d=0,e;e=b[d];d++){var f=Am(e);if(f){var h=a.Fq?"8px solid "+(e.si||"#ddd"):"none";a.o.B?f.style.borderRight=h:f.style.borderLeft=h}sf(a,e)}}c.Fj=function(){if(!this.ad)return null;var a=this.ad.getBoundingClientRect(),b=a.top,d=b+a.height,e=a.left;a=e+a.width;return this.qa==v.fd?new Rd(-1E7,d,-1E7,1E7):this.qa==v.Og?new Rd(b,1E7,-1E7,1E7):this.qa==v.wd?new Rd(-1E7,1E7,-1E7,a):new Rd(-1E7,1E7,e,1E7)};function an(a,b){this.ca=a;Vm.call(this,vh,b)}u(an,Vm);
an.prototype.Qb=function(){an.w.Qb.call(this);if(v.Touch.ip){var a=this.P();v.aa(a,"touchend",this,this.bB)}};an.prototype.bB=function(a){var b=$m(this,a);b&&"touchend"===a.type&&setTimeout(function(){b.Ol(a)},1)};an.prototype.createNode=function(a){a=a?nh(a):vh;return new hn(this.ca,a,this.jb)};
an.prototype.Lf=function(a){var b=this.ca;if(a!=this.Wc&&a!=b.Hc){b.Cl&&(Am(b.Cl).style.backgroundColor="");if(a){var d=a.si||"#57e";Am(a).style.backgroundColor=d;sf(b,a)}d=this.Wc;Vm.prototype.Lf.call(this,a);a&&a.hf&&a.hf.length?(b.L.show(a.hf),b.Cl!=a&&b.L.$r()):b.L.Ha();d!=a&&d!=this&&(d=new Wb(null,"category",d&&mh(d.tl).toString(),a&&mh(a.tl).toString()),d.Yb=b.o.id,v.j.fa(d));a&&(b.Cl=a)}};
function hn(a,b,d){tm.call(this,b,d,void 0);a&&(b=function(){v.ik(a.o)},wi(a.Hc,"expand",b),wi(a.Hc,"collapse",b))}u(hn,Lm);c=hn.prototype;c.sq=function(){return sh("span")};c.Ol=function(){Ij(this)&&this.Sj?(this.toggle(),this.select()):this.Bl()?this.Qc().Lf(null):this.select();Dm(this)};c.Sv=function(){};c.Qv=function(){};c.yr=function(a){if(this.Rh.ca.Se){var b={};b[39]=this.ek?38:40;b[37]=this.ek?40:38;b[38]=37;b[40]=39;a.keyCode=b[a.keyCode]||a.keyCode}return hn.w.yr.call(this,a)};
function en(a){hn.call(this,null,vh,a)}u(en,hn);v.Hd={};v.Hd.dE="";v.Hd.mv=!1;v.Hd.Ev="";v.Hd.mh=function(a,b){if(!v.Hd.mv){v.Hd.mv=!0;var d=".blocklyDraggable {}\n";a&&(d+=v.Hd.Os.join("\n"),v.Hd.Os=null,v.Ox&&(d+=v.Ox.CSS.join("\n")));v.Hd.Ev=b.replace(/[\\\/]$/,"");d=d.replace(/<<<PATH>>>/g,v.Hd.Ev);a=document.createElement("style");a.appendChild(document.createTextNode(d));document.head.insertBefore(a,document.head.firstChild)}};v.Hd.vw=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
v.Hd.Os=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;",
"top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","-webkit-user-select: none;","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;",
"width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;",
"border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",
".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',
"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {",
"display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: 0.5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {",
"display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;",
"z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {",
"display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;",
"stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;",
"outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;",
"height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {",
"position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {",
"fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;",
"pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyVerticalCursor {","stroke-width: 3px;","fill: rgba(255,255,255,0.5);","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;",
"overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {",
"float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;",
"vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;",
"}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {","border-collapse: collapse;","}",".blocklyColourTable>tr>td {","border: 1px solid #666;",
"padding: 0;","}",".blocklyColourTable>tr>td>div {","border: 1px solid #666;","height: 13px;","width: 15px;","}",".blocklyColourTable>tr>td>div:hover {","border: 1px solid #fff;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border: 1px solid #000 !important;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;",
"padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem, ",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","padding: 5px 5px 5px 28px;","white-space: nowrap;",
"}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ",".blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {",
"padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ",
".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight, ",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 4px;","padding-top: 4px;","}",".blocklyDropDownDiv .goog-menuitem-highlight, ",".blocklyDropDownDiv .goog-menuitem-hover {","background-color: rgba(0, 0, 0, 0.2);","}",".blocklyWidgetDiv .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {",
"left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",
".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyWidgetDiv .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ",
".blocklyDropDownDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator, ",".blocklyDropDownDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];v.V={};v.V.sa=null;v.V.Rl=null;v.V.pn=null;v.V.ea=function(){v.V.sa||(v.V.sa=document.createElement("div"),v.V.sa.className="blocklyWidgetDiv",document.body.appendChild(v.V.sa))};v.V.show=function(a,b,d){v.V.Ha();v.V.Rl=a;v.V.pn=d;v.V.sa.style.top=v.g.style.Xu().y+"px";v.V.sa.style.direction=b?"rtl":"ltr";v.V.sa.style.display="block"};v.V.Ha=function(){v.V.Rl&&(v.V.Rl=null,v.V.sa.style.display="none",v.V.sa.style.left="",v.V.sa.style.top="",v.V.pn&&v.V.pn(),v.V.pn=null,v.V.sa.innerHTML="")};
v.V.isVisible=function(){return!!v.V.Rl};v.V.Kq=function(a){v.V.Rl==a&&v.V.Ha()};v.V.bw=function(a,b,d){v.V.sa.style.left=a+"px";v.V.sa.style.top=b+"px";v.V.sa.style.height=d+"px"};v.V.cw=function(a,b,d,e){var f=v.V.yz(a,b,d);a=v.V.xz(a,b,d,e);0>f?v.V.bw(a,0,d.height+f):v.V.bw(a,f,d.height)};v.V.xz=function(a,b,d,e){if(e)return b=Math.max(b.right-d.width,a.left),Math.min(b,a.right-d.width);b=Math.min(b.left,a.right-d.width);return Math.max(b,a.left)};
v.V.yz=function(a,b,d){return b.bottom+d.height>=a.bottom?b.top-d.height:b.bottom};function jn(a){this.Rk=a;this.ea()}c=jn.prototype;c.Xa=null;c.oe=null;c.Rk=null;c.Ih=1;c.em=null;c.ea=function(){this.Xa||(this.Xa=v.g.m.F("svg",{xmlns:v.g.m.Ek,"xmlns:html":v.g.m.ff,"xmlns:xlink":v.g.m.ke,version:"1.1","class":"blocklyBlockDragSurface"},this.Rk),this.oe=v.g.m.F("g",{},this.Xa))};function Vd(a,b){if(a.oe.childNodes.length)throw Error("Already dragging a block.");a.oe.appendChild(b);a.Xa.style.display="block";a.em=new y(0,0)}
c.Eg=function(a,b){this.em=new y(a*this.Ih,b*this.Ih);a=this.em.x;b=this.em.y;a=a.toFixed(0);b=b.toFixed(0);this.Xa.style.display="block";v.g.m.Yl(this.Xa,"translate3d("+a+"px, "+b+"px, 0px)")};c.Hn=function(){var a=v.g.Nd(this.Xa);return new y(a.x/this.Ih,a.y/this.Ih)};c.Rb=function(){return this.oe};
c.Mk=function(a){a?a.appendChild(this.oe.firstChild):this.oe.removeChild(this.oe.firstChild);this.Xa.style.display="none";if(this.oe.childNodes.length)throw Error("Drag group was not cleared.");this.em=null};v.mh=function(a,b){v.Cz();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!v.g.m.containsNode(document,a))throw Error("Error: container is not in current document.");b=new se(b||{});var d=document.createElement("div");d.className="injectionDiv";a.appendChild(d);a=v.Tk(d,b);var e=new jn(d);d=new We(d);d=v.Qz(a,b,e,d);v.yw(b.UC);v.sB(d);v.Fl=d;v.ik(d);return d};
v.Tk=function(a,b){a.setAttribute("dir","LTR");Aj=b.B;v.Hd.mh(b.dB,b.We);a=v.g.m.F("svg",{xmlns:v.g.m.Ek,"xmlns:html":v.g.m.ff,"xmlns:xlink":v.g.m.ke,version:"1.1","class":"blocklySvg"},a);var d=v.g.m.F("defs",{},a),e=String(Math.random()).substring(2),f=v.g.m.F("filter",{id:"blocklyEmbossFilter"+e},d);v.g.m.F("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var h=v.g.m.F("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",
result:"specOut"},f);v.g.m.F("fePointLight",{x:-5E3,y:-1E4,z:2E4},h);v.g.m.F("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);v.g.m.F("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},f);b.Gu=f.id;f=v.g.m.F("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},d);v.g.m.F("rect",{width:10,height:10,fill:"#aaa"},f);v.g.m.F("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},f);b.hg=f.id;
f=b.Yu;d=v.g.m.F("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},d);0<f.length&&0<f.spacing?(v.g.m.F("line",{stroke:f.colour},d),1<f.length&&v.g.m.F("line",{stroke:f.colour},d)):v.g.m.F("line",{},d);b.Zu=d;return a};
v.Qz=function(a,b,d,e){b.Vb=null;var f=new df(b,d,e);f.scale=b.fb.Fw;a.appendChild(f.ea("blocklyMainBackground"));!b.bv&&b.Ff&&(d=mf(f,"svg"),v.g.m.wi(d,a));b.gv&&kf(f);b.fb&&b.fb.controls&&lf(f);v.v.vw(f.cursor);v.v.FC(f.$n);f.translate(0,0);v.Fl=f;b.readOnly||f.Ub()||f.Id(function(h){if(!f.Tb()&&!f.Ub()&&-1!=v.j.px.indexOf(h.type)){var k=Object.create(null),l=f.wb(),m=f.scale;k.rb=l.rb/m;k.Lb=l.Lb/m;k.$w=(l.rb+l.La)/m;k.Zw=(l.Lb+l.Ta)/m;qf(f)?(l=tc(f),k.ac=l.left,k.Ob=l.top,k.Yt=l.right,k.Wt=l.bottom):
(k.ac=l.ac/m,k.Ob=l.Ob/m,k.Yt=(l.ac+l.xd)/m,k.Wt=(l.Ob+l.gd)/m);if(k.Ob<k.Lb||k.Wt>k.Zw||k.ac<k.rb||k.Yt>k.$w){l=null;h&&(l=v.j.Rb(),v.j.W(h.group));switch(h.type){case v.j.tk:case v.j.Js:var n=ac(f,h.Zb);n=yd(n);break;case v.j.xm:case v.j.ym:n=yc(f,h.jf)}if(n){m=n.wn();var q=k.Lb-m.top;0<q&&n.moveBy(0,q);q=k.Zw-m.bottom;0>q&&n.moveBy(0,q);q=k.rb-m.left;0<q&&n.moveBy(q,0);k=k.$w-m.right;0>k&&n.moveBy(k,0)}h&&(h.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),
v.j.W(l))}}});v.ik(f);v.V.ea();sl();v.I.ea();return f};v.sB=function(a){var b=a.options,d=J(a);v.aa(d.parentNode,"contextmenu",null,function(e){v.g.Vn(e)||e.preventDefault()});d=v.aa(window,"resize",null,function(){v.cc(!0);v.ik(a)});a.wo=d;v.mh.pz();b.Ff&&(a.ca?a.ca.T(a):a.L&&(a.L.T(a),a.L.show(b.Ff.childNodes),a.L.$r()));d=I;b.gv&&(d=a.Gc.T(d));b.fb&&b.fb.controls&&a.ej.T(d);b.kc&&b.kc.scrollbars?(a.yb=new ue(a),a.yb.resize()):a.Ag({x:.5,y:.5});b.fB&&v.mh.DB(b.We,a)};
v.mh.pz=function(){v.nA||(v.aa(document,"scroll",null,function(){for(var a=Fc(),b=0,d;d=a[b];b++)d.pm&&d.pm()}),v.aa(document,"keydown",null,v.cC),v.wc(document,"touchend",null,v.uh),v.wc(document,"touchcancel",null,v.uh),v.g.userAgent.Uf&&v.aa(window,"orientationchange",document,function(){v.ik(v.zd())}));v.nA=!0};
v.mh.DB=function(a,b){function d(){for(;f.length;)v.Wa(f.pop());e.preload()}var e=b.Qg;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(v.aa(document,"mousemove",null,d,!0));f.push(v.aa(document,"touchstart",null,d,!0))};
v.Ww=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");v.zd().Ww(a)};v.VERSION="uncompiled";v.Fl=null;v.selected=null;v.cursor=null;v.Ai=!1;v.Yk=[];v.Nk=null;v.Zm=null;v.yp=null;v.aE=null;v.Mw=null;v.Kw=function(a){return{width:a.Ct,height:a.At}};v.rE=function(a){wc(a)};v.ik=function(a){for(;a.options.Vb;)a=a.options.Vb;var b=J(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;b.Ct!=e&&(b.setAttribute("width",e+"px"),b.Ct=e);b.At!=d&&(b.setAttribute("height",d+"px"),b.At=d);a.resize()}};
v.cC=function(a){var b=v.Fl;if(!(b.options.readOnly||v.g.Vn(a)||b.Y&&!b.isVisible())){var d=!1;if(27==a.keyCode)v.cc(),v.Ai&&v.v.navigate(a);else if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(pe())return;v.selected&&v.selected.Cc()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(pe())return;v.selected&&v.selected.Cc()&&v.selected.Ub()&&(67==a.keyCode?(v.cc(),v.Ep(v.selected)):88!=a.keyCode||v.selected.u.Rd||(v.Ep(v.selected),d=!0));86==a.keyCode?v.Nk&&(a=v.Zm,a.Rd&&(a=a.Xi),v.yp&&Dc(a,
v.yp)&&(v.j.W(!0),of(a),v.j.W(!1))):90==a.keyCode&&(v.cc(),b.zs(a.shiftKey))}else if(v.Ai&&v.v.navigate(a))return;d&&!v.selected.u.Rd&&(v.j.W(!0),v.cc(),v.selected.G(!0,!0),v.j.W(!1))}};v.Ep=function(a){if(a.Xq)var b=a.jm();else{b=v.N.Sg(a,!0);v.N.gA(b);var d=a.wa();b.setAttribute("x",a.B?-d.x:d.x);b.setAttribute("y",d.y)}v.Nk=b;v.Zm=a.u;v.yp=a.Xq?null:v.g.nq(a,!0)};v.Eu=function(a){var b=v.Nk,d=v.Zm;v.Ep(a);of(a.u);v.Nk=b;v.Zm=d};v.oE=function(a){v.g.Vn(a)||a.preventDefault()};
v.cc=function(a){v.I.Ha();v.V.Ha();xl();var b=v.zd();b.Gc&&b.Gc.L&&b.Gc.L.Ha();a||b.ca&&b.ca.L&&b.ca.L.uj&&b.ca.Hc.Lf(null)};v.Id=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return v.zd().Id(a)};v.zd=function(){return v.Fl};v.alert=function(a,b){alert(a);b&&b()};v.confirm=function(a,b){b(confirm(a))};v.prompt=function(a,b,d){d(prompt(a,b))};v.zB=function(a){return function(){$f(this,a)}};
v.Bj=function(a){for(var b=0;b<a.length;b++){var d=a[b];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(v.J[e]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+e+'".'),v.J[e]={T:v.zB(d)})}else console.warn("Block definition #"+b+" in JSON array is "+d+". Skipping.")}};
v.aa=function(a,b,d,e,f,h){function k(t){var p=!f;t=v.Touch.IC(t);for(var z=0,H;H=t[z];z++)if(!p||v.Touch.ps(H))v.Touch.EC(H),d?e.call(d,H):e(H),l=!0}var l=!1,m=[];if(v.g.global.PointerEvent&&b in v.Touch.gf)for(var n=0,q;q=v.Touch.gf[b][n];n++)a.addEventListener(q,k,!1),m.push([a,q,k]);else if(a.addEventListener(b,k,!1),m.push([a,b,k]),b in v.Touch.gf){var r=function(t){k(t);var p=!h;l&&p&&t.preventDefault()};for(n=0;q=v.Touch.gf[b][n];n++)a.addEventListener(q,r,!1),m.push([a,q,r])}return m};
v.wc=function(a,b,d,e){function f(n){d?e.call(d,n):e(n)}var h=[];if(v.g.global.PointerEvent&&b in v.Touch.gf)for(var k=0,l;l=v.Touch.gf[b][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f]);else if(a.addEventListener(b,f,!1),h.push([a,b,f]),b in v.Touch.gf){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var q=n.changedTouches[0];n.clientX=q.clientX;n.clientY=q.clientY}f(n);n.preventDefault()};for(k=0;l=v.Touch.gf[b][k];k++)a.addEventListener(l,m,!1),h.push([a,l,m])}return h};
v.Wa=function(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};v.qh=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};v.lv=function(a){return v.g.ib.jB(a)};
v.Cz=function(){v.Kc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);v.Kc("LOGIC_HUE",["Constants","Logic","HUE"],210);v.Kc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);v.Kc("LOOPS_HUE",["Constants","Loops","HUE"],120);v.Kc("MATH_HUE",["Blocks","math","HUE"],void 0);v.Kc("MATH_HUE",["Constants","Math","HUE"],230);v.Kc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);v.Kc("TEXTS_HUE",["Constants","Text","HUE"],160);v.Kc("LISTS_HUE",["Blocks","lists","HUE"],void 0);v.Kc("LISTS_HUE",["Constants","Lists","HUE"],
260);v.Kc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);v.Kc("COLOUR_HUE",["Constants","Colour","HUE"],20);v.Kc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);v.Kc("VARIABLES_HUE",["Constants","Variables","HUE"],330);v.Kc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);v.Kc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
v.Kc=function(a,b,d){for(var e="Blockly",f=v,h=0;h<b.length;++h)e+="."+b[h],f&&(f=f[b[h]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};v.yw=function(a){v.Mw=a;(a=v.zd())&&v.wC(a)};v.wC=function(a){v.Uw(A(a).filter(function(d){return void 0!==d.dm}));!a.ca&&a.L&&a.L.o?v.Uw(A(a.L.o)):pf(a);a.ca&&gn(a.ca);var b=new Wb(null,"theme");b.Yb=a.id;v.j.fa(b)};
v.Uw=function(a){for(var b=0,d;d=a[b];b++)if(N(d,d.dm),d.Uc){var e=d.Uc.o;if(e&&A(e)){var f=A(e);for(d=0;d<f.length;d++){var h=f[d];N(h,h.dm)}e=A(e.L.o);for(d=0;d<e.length;d++)h=e[d],N(h,h.dm)}}};v.In=function(){return v.Mw};v.g.global.Blockly||(v.g.global.Blockly={});v.g.global.Blockly.getMainWorkspace=v.zd;v.g.global.Blockly.addChangeListener=v.Id;var kn={en:"English","pt-br":"Portugu\u00eas Brasileiro"},ln="ace ar fa he mzn ps ur".split(" "),mn=window.BlocklyGamesLang,nn=window.BlocklyGamesLanguages,on=!!window.location.pathname.match(/\.html$/),Rl=null,pn,qn=Number,rn,sn=window.location.search.match(/[?&]level=([^&]+)/);rn=sn?decodeURIComponent(sn[1].replace(/\+/g,"%20")):"NaN";var tn=qn(rn);pn=isNaN(tn)?1:v.g.qb.Tg(1,tn,5);
function un(){document.title=document.getElementById("title").textContent;document.dir=-1!=ln.indexOf(mn)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",mn);var a=document.getElementById("languageMenu");if(a){for(var b=[],d=0;d<nn.length;d++){var e=nn[d];b.push([kn[e],e])}b.sort(function(h,k){return h[0]>k[0]?1:h[0]<k[0]?-1:0});for(d=a.options.length=0;d<b.length;d++){var f=b[d];e=f[1];f=new Option(f[0],e);e==mn&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}for(d=1;5>=d;d++)a=document.getElementById("level"+d),b=!!vn(d),a&&b&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(wn,1)}function vn(a){var b=xn;try{var d=window.localStorage[b+a]}catch(e){}return d}function V(a){var b;(b=document.getElementById(a))?(b=b.textContent,b=b.replace(/\\n/g,"\n")):b=null;return null===b?"[Unknown message: "+a+"]":b}
function yn(a,b){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",b,!0)}
function wn(){if(!on){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")}};v.h.gE={};v.h.ADD_COMMENT="Add Comment";v.h.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";v.h.CHANGE_VALUE_TITLE="Change value:";v.h.CLEAN_UP="Clean up Blocks";v.h.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";v.h.COLLAPSE_ALL="Collapse Blocks";v.h.COLLAPSE_BLOCK="Collapse Block";v.h.COLOUR_BLEND_COLOUR1="colour 1";v.h.COLOUR_BLEND_COLOUR2="colour 2";v.h.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp";
v.h.COLOUR_BLEND_RATIO="ratio";v.h.COLOUR_BLEND_TITLE="blend";v.h.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).";v.h.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color";v.h.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.";v.h.COLOUR_RANDOM_HELPURL="http://randomcolour.com";v.h.COLOUR_RANDOM_TITLE="random colour";v.h.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.";v.h.COLOUR_RGB_BLUE="blue";v.h.COLOUR_RGB_GREEN="green";
v.h.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html";v.h.COLOUR_RGB_RED="red";v.h.COLOUR_RGB_TITLE="colour with";v.h.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";v.h.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";v.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";v.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";
v.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";v.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";v.h.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";v.h.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";v.h.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";v.h.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";
v.h.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";v.h.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";v.h.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";v.h.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";v.h.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";v.h.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";
v.h.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";v.h.CONTROLS_IF_MSG_ELSE="else";v.h.CONTROLS_IF_MSG_ELSEIF="else if";v.h.CONTROLS_IF_MSG_IF="if";v.h.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";v.h.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";v.h.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";
v.h.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";v.h.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";v.h.CONTROLS_REPEAT_INPUT_DO="do";v.h.CONTROLS_REPEAT_TITLE="repeat %1 times";v.h.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";v.h.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";
v.h.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";v.h.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";v.h.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";v.h.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";v.h.DELETE_ALL_BLOCKS="Delete all %1 blocks?";v.h.DELETE_BLOCK="Delete Block";v.h.DELETE_VARIABLE="Delete the '%1' variable";v.h.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";
v.h.DELETE_X_BLOCKS="Delete %1 Blocks";v.h.DISABLE_BLOCK="Disable Block";v.h.DUPLICATE_BLOCK="Duplicate";v.h.DUPLICATE_COMMENT="Duplicate Comment";v.h.ENABLE_BLOCK="Enable Block";v.h.EXPAND_ALL="Expand Blocks";v.h.EXPAND_BLOCK="Expand Block";v.h.EXTERNAL_INPUTS="External Inputs";v.h.HELP="Help";v.h.INLINE_INPUTS="Inline Inputs";v.h.IOS_CANCEL="Cancel";v.h.IOS_ERROR="Error";v.h.IOS_OK="OK";v.h.IOS_PROCEDURES_ADD_INPUT="+ Add Input";v.h.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements";
v.h.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.";v.h.IOS_PROCEDURES_INPUTS="INPUTS";v.h.IOS_VARIABLES_ADD_BUTTON="Add";v.h.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable";v.h.IOS_VARIABLES_DELETE_BUTTON="Delete";v.h.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.";v.h.IOS_VARIABLES_RENAME_BUTTON="Rename";v.h.IOS_VARIABLES_VARIABLE_NAME="Variable name";v.h.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";
v.h.LISTS_CREATE_EMPTY_TITLE="create empty list";v.h.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";v.h.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";v.h.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";v.h.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";v.h.LISTS_CREATE_WITH_INPUT_WITH="create list with";v.h.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";
v.h.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";v.h.LISTS_GET_INDEX_FIRST="first";v.h.LISTS_GET_INDEX_FROM_END="# from end";v.h.LISTS_GET_INDEX_FROM_START="#";v.h.LISTS_GET_INDEX_GET="get";v.h.LISTS_GET_INDEX_GET_REMOVE="get and remove";v.h.LISTS_GET_INDEX_LAST="last";v.h.LISTS_GET_INDEX_RANDOM="random";v.h.LISTS_GET_INDEX_REMOVE="remove";v.h.LISTS_GET_INDEX_TAIL="";v.h.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";
v.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";v.h.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";v.h.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";v.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";v.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";v.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";
v.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";v.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";v.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";v.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";v.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";v.h.LISTS_GET_SUBLIST_END_FROM_END="to # from end";
v.h.LISTS_GET_SUBLIST_END_FROM_START="to #";v.h.LISTS_GET_SUBLIST_END_LAST="to last";v.h.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";v.h.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";v.h.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";v.h.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";v.h.LISTS_GET_SUBLIST_TAIL="";v.h.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";
v.h.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";v.h.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";v.h.LISTS_INDEX_OF_FIRST="find first occurrence of item";v.h.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";v.h.LISTS_INDEX_OF_LAST="find last occurrence of item";v.h.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";v.h.LISTS_INLIST="in list";
v.h.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";v.h.LISTS_ISEMPTY_TITLE="%1 is empty";v.h.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";v.h.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";v.h.LISTS_LENGTH_TITLE="length of %1";v.h.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";v.h.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";v.h.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";
v.h.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";v.h.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";v.h.LISTS_REVERSE_MESSAGE0="reverse %1";v.h.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";v.h.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";v.h.LISTS_SET_INDEX_INPUT_TO="as";v.h.LISTS_SET_INDEX_INSERT="insert at";v.h.LISTS_SET_INDEX_SET="set";
v.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";v.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";v.h.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";v.h.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";v.h.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";v.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";
v.h.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";v.h.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";v.h.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";v.h.LISTS_SORT_ORDER_ASCENDING="ascending";v.h.LISTS_SORT_ORDER_DESCENDING="descending";v.h.LISTS_SORT_TITLE="sort %1 %2 %3";v.h.LISTS_SORT_TOOLTIP="Sort a copy of a list.";v.h.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";v.h.LISTS_SORT_TYPE_NUMERIC="numeric";
v.h.LISTS_SORT_TYPE_TEXT="alphabetic";v.h.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";v.h.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";v.h.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";v.h.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";v.h.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";v.h.LISTS_SPLIT_WITH_DELIMITER="with delimiter";
v.h.LOGIC_BOOLEAN_FALSE="false";v.h.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";v.h.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";v.h.LOGIC_BOOLEAN_TRUE="true";v.h.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";v.h.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";v.h.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";v.h.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";
v.h.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";v.h.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";v.h.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";v.h.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";v.h.LOGIC_NEGATE_TITLE="not %1";v.h.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";
v.h.LOGIC_NULL="null";v.h.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";v.h.LOGIC_NULL_TOOLTIP="Returns null.";v.h.LOGIC_OPERATION_AND="and";v.h.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";v.h.LOGIC_OPERATION_OR="or";v.h.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";v.h.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";v.h.LOGIC_TERNARY_CONDITION="test";v.h.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";
v.h.LOGIC_TERNARY_IF_FALSE="if false";v.h.LOGIC_TERNARY_IF_TRUE="if true";v.h.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";v.h.MATH_ADDITION_SYMBOL="+";v.h.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";v.h.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";v.h.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";
v.h.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";v.h.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";v.h.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";v.h.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";v.h.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";v.h.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";v.h.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";
v.h.MATH_CHANGE_TITLE="change %1 by %2";v.h.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";v.h.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";v.h.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";v.h.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";v.h.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";
v.h.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";v.h.MATH_DIVISION_SYMBOL="\u00f7";v.h.MATH_IS_DIVISIBLE_BY="is divisible by";v.h.MATH_IS_EVEN="is even";v.h.MATH_IS_NEGATIVE="is negative";v.h.MATH_IS_ODD="is odd";v.h.MATH_IS_POSITIVE="is positive";v.h.MATH_IS_PRIME="is prime";v.h.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";v.h.MATH_IS_WHOLE="is whole";
v.h.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";v.h.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";v.h.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";v.h.MATH_MULTIPLICATION_SYMBOL="\u00d7";v.h.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";v.h.MATH_NUMBER_TOOLTIP="A number.";v.h.MATH_ONLIST_HELPURL="";v.h.MATH_ONLIST_OPERATOR_AVERAGE="average of list";v.h.MATH_ONLIST_OPERATOR_MAX="max of list";v.h.MATH_ONLIST_OPERATOR_MEDIAN="median of list";
v.h.MATH_ONLIST_OPERATOR_MIN="min of list";v.h.MATH_ONLIST_OPERATOR_MODE="modes of list";v.h.MATH_ONLIST_OPERATOR_RANDOM="random item of list";v.h.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";v.h.MATH_ONLIST_OPERATOR_SUM="sum of list";v.h.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";v.h.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";v.h.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";
v.h.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";v.h.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";v.h.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";v.h.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";v.h.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";v.h.MATH_POWER_SYMBOL="^";v.h.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";
v.h.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";v.h.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";v.h.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";v.h.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";v.h.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";v.h.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";v.h.MATH_ROUND_OPERATOR_ROUND="round";
v.h.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";v.h.MATH_ROUND_OPERATOR_ROUNDUP="round up";v.h.MATH_ROUND_TOOLTIP="Round a number up or down.";v.h.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";v.h.MATH_SINGLE_OP_ABSOLUTE="absolute";v.h.MATH_SINGLE_OP_ROOT="square root";v.h.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";v.h.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";v.h.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";
v.h.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";v.h.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";v.h.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";v.h.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";v.h.MATH_SUBTRACTION_SYMBOL="-";v.h.MATH_TRIG_ACOS="acos";v.h.MATH_TRIG_ASIN="asin";v.h.MATH_TRIG_ATAN="atan";v.h.MATH_TRIG_COS="cos";v.h.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
v.h.MATH_TRIG_SIN="sin";v.h.MATH_TRIG_TAN="tan";v.h.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";v.h.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";v.h.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";v.h.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";v.h.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";v.h.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";v.h.NEW_COLOUR_VARIABLE="Create colour variable...";
v.h.NEW_NUMBER_VARIABLE="Create number variable...";v.h.NEW_STRING_VARIABLE="Create string variable...";v.h.NEW_VARIABLE="Create variable...";v.h.NEW_VARIABLE_TITLE="New variable name:";v.h.NEW_VARIABLE_TYPE_TITLE="New variable type:";v.h.ORDINAL_NUMBER_SUFFIX="";v.h.PROCEDURES_ALLOW_STATEMENTS="allow statements";v.h.PROCEDURES_BEFORE_PARAMS="with:";v.h.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.h.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";
v.h.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.h.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";v.h.PROCEDURES_CALL_BEFORE_PARAMS="with:";v.h.PROCEDURES_CREATE_DO="Create '%1'";v.h.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";v.h.PROCEDURES_DEFNORETURN_DO="";v.h.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.h.PROCEDURES_DEFNORETURN_PROCEDURE="do something";
v.h.PROCEDURES_DEFNORETURN_TITLE="to";v.h.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";v.h.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.h.PROCEDURES_DEFRETURN_RETURN="return";v.h.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";v.h.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.";v.h.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";v.h.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";
v.h.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";v.h.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";v.h.PROCEDURES_MUTATORARG_TITLE="input name:";v.h.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";v.h.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";v.h.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";v.h.REDO="Redo";v.h.REMOVE_COMMENT="Remove Comment";
v.h.RENAME_VARIABLE="Rename variable...";v.h.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";v.h.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";v.h.TEXT_APPEND_TITLE="to %1 append text %2";v.h.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.";v.h.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case";v.h.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case";v.h.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case";
v.h.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE";v.h.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.";v.h.TEXT_CHARAT_FIRST="get first letter";v.h.TEXT_CHARAT_FROM_END="get letter # from end";v.h.TEXT_CHARAT_FROM_START="get letter #";v.h.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text";v.h.TEXT_CHARAT_LAST="get last letter";v.h.TEXT_CHARAT_RANDOM="get random letter";v.h.TEXT_CHARAT_TAIL="";v.h.TEXT_CHARAT_TITLE="in text %1 %2";
v.h.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.";v.h.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings";v.h.TEXT_COUNT_MESSAGE0="count %1 in %2";v.h.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.";v.h.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.";v.h.TEXT_CREATE_JOIN_TITLE_JOIN="join";v.h.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.";
v.h.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end";v.h.TEXT_GET_SUBSTRING_END_FROM_START="to letter #";v.h.TEXT_GET_SUBSTRING_END_LAST="to last letter";v.h.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";v.h.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text";v.h.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter";v.h.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end";v.h.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #";
v.h.TEXT_GET_SUBSTRING_TAIL="";v.h.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.";v.h.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text";v.h.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text";v.h.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text";v.h.TEXT_INDEXOF_TITLE="in text %1 %2 %3";v.h.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";
v.h.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";v.h.TEXT_ISEMPTY_TITLE="%1 is empty";v.h.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.";v.h.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation";v.h.TEXT_JOIN_TITLE_CREATEWITH="create text with";v.h.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.";v.h.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";
v.h.TEXT_LENGTH_TITLE="length of %1";v.h.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.";v.h.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text";v.h.TEXT_PRINT_TITLE="print %1";v.h.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.";v.h.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";v.h.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.";
v.h.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.";v.h.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message";v.h.TEXT_PROMPT_TYPE_TEXT="prompt for text with message";v.h.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings";v.h.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3";v.h.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.";v.h.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text";
v.h.TEXT_REVERSE_MESSAGE0="reverse %1";v.h.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.";v.h.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)";v.h.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.";v.h.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";v.h.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of";v.h.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of";v.h.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of";
v.h.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.";v.h.TODAY="Today";v.h.UNDO="Undo";v.h.VARIABLES_DEFAULT_NAME="item";v.h.VARIABLES_GET_CREATE_SET="Create 'set %1'";v.h.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";v.h.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";v.h.VARIABLES_SET="set %1 to %2";v.h.VARIABLES_SET_CREATE_GET="Create 'get %1'";v.h.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";
v.h.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";v.h.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";v.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";v.h.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";v.h.CONTROLS_FOREACH_INPUT_DO=v.h.CONTROLS_REPEAT_INPUT_DO;v.h.CONTROLS_FOR_INPUT_DO=v.h.CONTROLS_REPEAT_INPUT_DO;v.h.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=v.h.CONTROLS_IF_MSG_ELSEIF;
v.h.CONTROLS_IF_ELSE_TITLE_ELSE=v.h.CONTROLS_IF_MSG_ELSE;v.h.CONTROLS_IF_IF_TITLE_IF=v.h.CONTROLS_IF_MSG_IF;v.h.CONTROLS_IF_MSG_THEN=v.h.CONTROLS_REPEAT_INPUT_DO;v.h.CONTROLS_WHILEUNTIL_INPUT_DO=v.h.CONTROLS_REPEAT_INPUT_DO;v.h.LISTS_CREATE_WITH_ITEM_TITLE=v.h.VARIABLES_DEFAULT_NAME;v.h.LISTS_GET_INDEX_HELPURL=v.h.LISTS_INDEX_OF_HELPURL;v.h.LISTS_GET_INDEX_INPUT_IN_LIST=v.h.LISTS_INLIST;v.h.LISTS_GET_SUBLIST_INPUT_IN_LIST=v.h.LISTS_INLIST;v.h.LISTS_INDEX_OF_INPUT_IN_LIST=v.h.LISTS_INLIST;
v.h.LISTS_SET_INDEX_INPUT_IN_LIST=v.h.LISTS_INLIST;v.h.MATH_CHANGE_TITLE_ITEM=v.h.VARIABLES_DEFAULT_NAME;v.h.PROCEDURES_DEFRETURN_COMMENT=v.h.PROCEDURES_DEFNORETURN_COMMENT;v.h.PROCEDURES_DEFRETURN_DO=v.h.PROCEDURES_DEFNORETURN_DO;v.h.PROCEDURES_DEFRETURN_PROCEDURE=v.h.PROCEDURES_DEFNORETURN_PROCEDURE;v.h.PROCEDURES_DEFRETURN_TITLE=v.h.PROCEDURES_DEFNORETURN_TITLE;v.h.TEXT_APPEND_VARIABLE=v.h.VARIABLES_DEFAULT_NAME;v.h.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=v.h.VARIABLES_DEFAULT_NAME;v.h.MATH_HUE="230";
v.h.LOOPS_HUE="120";v.h.LISTS_HUE="260";v.h.LOGIC_HUE="210";v.h.VARIABLES_HUE="330";v.h.TEXTS_HUE="160";v.h.PROCEDURES_HUE="290";v.h.COLOUR_HUE="20";v.h.VARIABLES_DYNAMIC_HUE="310";var Y={md:null,T:function(){un();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=V("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=V("Games_linkAlert"),BlocklyStorage.HASH_ERROR=V("Games_hashError"),BlocklyStorage.XML_ERROR=V("Games_xmlError"),BlocklyStorage.alert=X.Iw.bind(X,a),a&&yn(a,BlocklyStorage.link)):a&&(a.style.display="none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Y.Bz,!0);v.J&&(v.J.zy=!1);v.i&&
(v.i.zy=!1)},nE:function(a,b){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var d=null;try{d=window.sessionStorage.Bv}catch(h){}d&&delete window.sessionStorage.Bv;var e=vn(pn),f=b&&vn(pn-1);f&&"function"==typeof b&&(f=b(f));(a=d||e||f||a)&&Y.uw(a)}},uw:function(a){Y.md?Y.md.setValue(a,-1):(a=v.N.Qf(a),Rl.clear(),v.N.nf(a,Rl),Rl.xp())},pq:function(){if(Y.md)var a=Y.md.getValue();else{a=v.N.Es(Rl,!0);if(1==F(Rl,!1).length&&
a.querySelector){var b=a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}a=v.N.ld(a)}return a},dh:function(){return Rl},sE:function(){window.localStorage&&(window.localStorage[xn+pn]=Y.pq())},Nn:function(){window.location=(on?"index.html":"./")+"?lang="+mn},Bz:function(){if(window.sessionStorage){if(Y.md)var a=Y.md.getValue();else a=v.N.Es(Rl),a=v.N.ld(a);window.sessionStorage.Bv=a}a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);
var b=window.location.search;b=1>=b.length?"?lang="+a:b.match(/[?&]lang=[^&]*/)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b},sr:function(){5>pn?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+mn+"&level="+(pn+1):Y.Nn()},jv:function(a,b){if(a){var d=a.match(/^block_id_([^']+)$/);d&&(a=d[1])}var e=a;a=Rl;if(void 0===b){for(var f=0;d=
a.sl[f];f++)d.rd(!1);a.sl.length=0}if(d=e?ac(a,e):null)(b=void 0===b||b)?-1==a.sl.indexOf(d)&&a.sl.push(d):v.g.Ik(a.sl,d),d.rd(b)},lE:function(a,b){a=document.getElementById(a);a.firstChild||(a=v.mh(a,{rtl:-1!=ln.indexOf(mn),readOnly:!0}),"string"!=typeof b&&(b=b.join("")),v.N.nf(v.N.Qf(b),a))},PC:function(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")},qf:function(a){if("click"==a.type&&"touchend"==Y.qf.Nr&&Y.qf.Lr+2E3>Date.now()||Y.qf.Nr==a.type&&Y.qf.Lr+400>Date.now())return a.preventDefault(),
a.stopPropagation(),!0;Y.qf.Nr=a.type;Y.qf.Lr=Date.now();return!1}};Y.qf.Nr=null;Y.qf.Lr=0;Y.oB=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","third-party/JS-Interpreter/compressed.js");document.head.appendChild(a)};
Y.pB=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=Y;Y.setCode=Y.uw;Y.getCode=Y.pq;Y.getWorkspace=Y.dh;var X={xi:!1,vu:null,ln:null,Bo:function(a,b,d,e,f,h){function k(){X.xi&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);X.xi&&X.Qd(!1);v.zd()&&v.cc(!0);X.xi=!0;X.vu=b;X.ln=h;var l=document.getElementById("dialog");h=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),X.Lp=v.wc(e,"mousedown",null,X.hA));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&b?(X.wh(b,!1,.2),X.wh(l,!0,.8),setTimeout(k,175)):k()},wu:0,xu:0,hA:function(a){X.Op();if(!v.g.rh(a)){var b=document.getElementById("dialog");X.wu=b.offsetLeft-a.clientX;X.xu=b.offsetTop-a.clientY;X.Np=v.wc(document,"mouseup",null,X.Op);X.Mp=v.wc(document,"mousemove",null,X.iA);a.stopPropagation()}},iA:function(a){var b=document.getElementById("dialog"),
d=X.wu+a.clientX;a=X.xu+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-b.offsetWidth);b.style.left=d+"px";b.style.top=a+"px"},Op:function(){X.Np&&(v.Wa(X.Np),X.Np=null);X.Mp&&(v.Wa(X.Mp),X.Mp=null)},Qd:function(a){function b(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(X.xi){X.Op();X.Lp&&(v.Wa(X.Lp),X.Lp=null);X.xi=!1;X.ln&&X.ln();X.ln=null;var d=!1===a?
null:X.vu;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(X.wh(a,!1,.8),X.wh(d,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},wh:function(a,b,d){function e(){f.style.width=h.width+"px";f.style.height=h.height+"px";f.style.left=h.x+"px";f.style.top=
h.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),h=X.AA(a);b?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},AA:function(a){var b=mj(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Iw:function(a,b){var d=document.getElementById("containerStorage");d.textContent="";b=b.split("\n");for(var e=0;e<b.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(b[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");X.Bo(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},X.OC);X.KC()},bz:function(){if(!vn(pn))if(X.xi||Rl.Tb())setTimeout(X.bz,15E3);else{var a=document.getElementById("dialogAbort"),b=document.getElementById("abortCancel");b.addEventListener("click",X.Qd,!0);b.addEventListener("touchend",X.Qd,!0);b=document.getElementById("abortOk");b.addEventListener("click",Y.Nn,!0);b.addEventListener("touchend",
Y.Nn,!0);X.Bo(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",X.tt,!0)});document.body.addEventListener("keydown",X.tt,!0)}},Aw:function(){document.getElementById("galleryXml").value=Y.pq();var a=document.getElementById("galleryDialog");if(!X.Aw.zC){var b=document.getElementById("galleryCancel");b.addEventListener("click",X.Qd,!0);b.addEventListener("touchend",X.Qd,!0);b=document.getElementById("galleryOk");b.addEventListener("click",X.mq,!0);
b.addEventListener("touchend",X.mq,!0);X.Aw.zC=!0}b=document.getElementById("submitButton");X.Bo(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",X.Pu,!0)});document.body.addEventListener("keydown",X.Pu,!0);setTimeout(function(){document.getElementById("galleryTitle").focus()},250)},cE:function(){var a=document.getElementById("dialogDone");if(Rl){var b=document.getElementById("dialogLinesText");b.textContent="";var d=Ql();d=Y.PC(d);var e=d.replace(/\/\/[^\n]*/g,
"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?V("Games_linesOfCode1"):V("Games_linesOfCode2").replace("%1",String(e));b.appendChild(document.createTextNode(d))}d=5>pn?V("Games_nextLevel").replace("%1",String(pn+1)):V("Games_finalLevel");b=document.getElementById("doneCancel");
b.addEventListener("click",X.Qd,!0);b.addEventListener("touchend",X.Qd,!0);b=document.getElementById("doneOk");b.addEventListener("click",Y.sr,!0);b.addEventListener("touchend",Y.sr,!0);X.Bo(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",X.Ut,!0)});document.body.addEventListener("keydown",X.Ut,!0);document.getElementById("dialogDoneText").textContent=d},uu:function(a){!X.xi||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(X.Qd(!0),a.stopPropagation(),
a.preventDefault())},KC:function(){document.body.addEventListener("keydown",X.uu,!0)},OC:function(){document.body.removeEventListener("keydown",X.uu,!0)},Ut:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)X.Qd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Y.sr()},tt:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)X.Qd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Y.Nn()},Pu:function(a){27==a.keyCode?X.Qd(!0):13==a.keyCode&&X.mq()},mq:function(){var a=
document.getElementById("galleryTitle");if(a.value.trim()){a=document.getElementById("galleryForm");for(var b=[],d=0,e;e=a.elements[d];d++)e.name&&(b[d]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));var f=new XMLHttpRequest;f.open("POST",a.action);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onload=function(){if(4==f.readyState){var h=200==f.status?V("Games_submitted"):V("Games_httpRequestError")+"\nStatus: "+f.status;X.Iw(null,h)}};f.send(b.join("&"));X.Qd(!0)}else a.value=
"",a.focus()}};window.BlocklyDialogs=X;X.hideDialog=X.Qd;function zn(a,b,d,e){var f=Z;this.name=a;this.Kz=b;this.Ew=d;this.JC=e||0;this.Rg=f;this.Aa=new y;this.reset();console.log(this+" loaded.")}c=zn.prototype;c.NC=!1;c.Le=!1;c.Oc=0;c.gg=0;c.facing=0;c.speed=0;c.mf=0;c.Aa=null;c.ar=0;c.toString=function(){return"["+this.name+"]"};
c.reset=function(){delete this.NC;delete this.Le;delete this.speed;delete this.mf;delete this.ar;this.Oc=this.JC;this.Aa.x=this.Ew.x;this.Aa.y=this.Ew.y;this.facing=this.gg=Ji(180*Math.atan2(50-this.Aa.y,50-this.Aa.x)/Math.PI);var a=this.Kz;if("function"==typeof a)a=a();else if("string"!=typeof a)throw Error("Avatar "+this.name+" has invalid code: "+a);this.vB="Interpreter"in window?new Interpreter(a,this.Rg.rB):null};function An(a,b){a.Oc+=b;100<=a.Oc&&Bn(a)}
function Bn(a){a.speed=0;a.Le=!0;a.Oc=100;a.Rg.Jm.unshift(a);a.Rg.Fe.push({type:"DIE",avatar:a});console.log(a+" sinks.")}c.stop=function(){this.mf=0};var Z={td:[],Jm:[],Fe:[],ij:[],Px:50,Py:100,Ey:.5,Je:null,mx:1,ct:3,Hs:5,sx:5,Qo:3,$v:0,rn:0,Ow:0,Vy:3E5,Wp:null};Z.Oy=[new y(10,90),new y(90,10),new y(10,10),new y(90,90),new y(50,99),new y(50,1),new y(1,50),new y(99,50),new y(50,49)];Z.reset=function(){clearTimeout(Z.$v);Z.Fe.length=0;Z.ij.length=0;Z.Jm.length=0;for(var a=Z.Ow=0,b;b=Z.td[a];a++)b.reset()};Z.dz=function(a,b,d,e){d||(d=Z.Oy[Z.td.length]);a=new zn(a,b,d,e);Z.td.push(a)};
Z.start=function(a){Z.Wp=a;Z.rn=Date.now()+Z.Vy;console.log("Starting battle with "+Z.td.length+" avatars.");Z.update()};Z.update=function(){Z.dD();Z.eD();Z.cD();Z.td.length<=Z.Jm.length+1&&(Z.rn=Math.min(Z.rn,Date.now()+1E3));Date.now()>Z.rn?Z.stop():Z.$v=setTimeout(Z.update,1E3/Z.Px)};Z.stop=function(){for(var a=[],b=0,d;d=Z.td[b];b++)d.Le||a.push(d);b=a.length;for(a.sort(function(e,f){return e.Oc-f.Oc});a.length;)Z.Jm.unshift(a.pop());Z.Wp&&Z.Wp(b)};
Z.eD=function(){for(var a=Z.ij.length-1;0<=a;a--){var b=Z.ij[a];b.progress+=Z.ct;var d=0;if(b.po-b.progress<Z.ct/2){Z.ij.splice(a,1);for(var e=0,f;f=Z.td[e];e++)if(!f.Le){var h=10*(1-Fb(f.Aa,b.$k)/4);0<h&&(An(f,h),d=Math.max(d,h))}Z.Fe.push({type:"BOOM",damage:d,x:b.$k.x,y:b.$k.y})}}};
Z.cD=function(){for(var a=0,b;b=Z.td[a];a++)if(!b.Le&&(b.speed<b.mf?b.speed=Math.min(b.speed+Z.Hs,b.mf):b.speed>b.mf&&(b.speed=Math.max(b.speed-Z.Hs,b.mf)),0<b.speed)){var d=Z.Nt(b),e=d[1],f=v.g.qb.Qh(b.gg),h=b.speed/100*Z.mx,k=Math.cos(f)*h;h*=Math.sin(f);b.Aa.x+=k;b.Aa.y+=h;0>b.Aa.x||100<b.Aa.x||0>b.Aa.y||100<b.Aa.y?(b.Aa.x=v.g.qb.Tg(b.Aa.x,0,100),b.Aa.y=v.g.qb.Tg(b.Aa.y,0,100),e=b.speed/100*Z.Qo,An(b,e),b.speed=0,b.mf=0,Z.Fe.push({type:"CRASH",avatar:b,damage:e})):(d=Z.Nt(b),f=d[0],d=d[1],d<Z.sx&&
e>d&&(b.Aa.x-=k,b.Aa.y-=h,e=Math.max(b.speed,f.speed)/100*Z.Qo,An(b,e),b.speed=0,b.mf=0,An(f,e),f.speed=0,f.mf=0,Z.Fe.push({type:"CRASH",avatar:b,damage:e}),Z.Fe.push({type:"CRASH",avatar:f,damage:e})))}};Z.dD=function(){for(var a=0;a<Z.Py;a++){Z.Ow++;for(var b=0,d;d=Z.td[b];b++)if(!d.Le){Z.Je=d;try{d.vB.step()}catch(e){console.log(d+" throws an error: "+e),Bn(d)}Z.Je=null}}};
Z.rB=function(a,b){var d=function(e,f){var h=e;e=Z.Je;var k=void 0===f||null===f?5:f;if("number"!=typeof h||isNaN(h)||"number"!=typeof k||isNaN(k))throw TypeError();h=Ji(h);k=v.g.qb.Tg(k,0,20);e.Rg.Fe.push({type:"SCAN",avatar:e,degree:h,resolution:k});f=Ji(h-k/2);h=Ji(h+k/2);f>h&&(h+=360);k=e.Aa.x;for(var l=e.Aa.y,m=Infinity,n=0,q;q=e.Rg.td[n];n++)if(q!=e&&!q.Le){var r=q.Aa.x,t=q.Aa.y;q=Math.sqrt((t-l)*(t-l)+(r-k)*(r-k));q>=m||(r=Math.atan2(t-l,r-k),r=Ji(v.g.qb.Qw(r)),r<f&&(r+=360),f<=r&&r<=h&&(m=
q))}return m};a.setProperty(b,"scan",a.createNativeFunction(d));d=function(e,f){var h=f;f=Z.Je;if("number"!=typeof e||isNaN(e)||"number"!=typeof h||isNaN(h))throw TypeError;var k=Date.now();f.ar+1E3*f.Rg.Ey>k?e=!1:(f.ar=k,k=new y(f.Aa.x,f.Aa.y),e=Ji(e),f.facing=e,h=v.g.qb.Tg(h,0,70),e={nz:f,cm:k,gg:e,po:h,$k:new y(k.x+h*Math.cos(e*Math.PI/180),k.y+h*Math.sin(e*Math.PI/180)),progress:0},f.Rg.ij.push(e),f.Rg.Fe.push({type:"BANG",avatar:f,degree:e.gg}),e=!0);return e};a.setProperty(b,"cannon",a.createNativeFunction(d));
d=function(e,f){var h=Z.Je;f=void 0===f||null===f?50:f;if("number"!=typeof e||isNaN(e)||"number"!=typeof f||isNaN(f))throw TypeError;h.gg!=Ji(e)&&(50>=h.speed?(h.gg=Ji(e),h.facing=h.gg):f=0);0==h.speed&&0<f&&(h.speed=.1);h.mf=v.g.qb.Tg(f,0,100)};a.setProperty(b,"drive",a.createNativeFunction(d));a.setProperty(b,"swim",a.createNativeFunction(d));a.setProperty(b,"stop",a.createNativeFunction(function(){Z.Je.stop()}));a.setProperty(b,"damage",a.createNativeFunction(function(){return Z.Je.Oc}));a.setProperty(b,
"health",a.createNativeFunction(function(){return 100-Z.Je.Oc}));a.setProperty(b,"speed",a.createNativeFunction(function(){return Z.Je.speed}));d=function(){return Z.Je.Aa.x};a.setProperty(b,"loc_x",a.createNativeFunction(d));a.setProperty(b,"getX",a.createNativeFunction(d));d=function(){return Z.Je.Aa.y};a.setProperty(b,"loc_y",a.createNativeFunction(d));a.setProperty(b,"getY",a.createNativeFunction(d));if(b=a.getProperty(b,"Math"))d=function(e){return Math.sin(e/180*Math.PI)},a.setProperty(b,"sin_deg",
a.createNativeFunction(d)),d=function(e){return Math.cos(e/180*Math.PI)},a.setProperty(b,"cos_deg",a.createNativeFunction(d)),d=function(e){return Math.tan(e/180*Math.PI)},a.setProperty(b,"tan_deg",a.createNativeFunction(d)),d=function(e){return Math.asin(e)/Math.PI*180},a.setProperty(b,"asin_deg",a.createNativeFunction(d)),d=function(e){return Math.acos(e)/Math.PI*180},a.setProperty(b,"acos_deg",a.createNativeFunction(d)),d=function(e){return Math.atan(e)/Math.PI*180},a.setProperty(b,"atan_deg",
a.createNativeFunction(d))};Z.Nt=function(a){for(var b=null,d=Infinity,e=0,f;f=Z.td[e];e++)if(!f.Le&&a!=f){var h=Math.min(d,Fb(a.Aa,f.Aa));h<d&&(d=h,b=f)}return[b,d]};var Cn,Dn,En,Fn={},Gn=[],Hn=new Image;Hn.src="pond/sprites.png";var In=["#ff8b00","#c90015","#166c0b","#11162a"],Jn=0,Kn=Object.create(null);
function Ln(){Cn=document.getElementById("scratch").getContext("2d");var a=document.getElementById("display").getContext("2d");Dn=a;En=a.canvas.width;a.globalCompositeOperation="copy";Mn(["pond/whack.mp3","pond/whack.ogg"],"whack");Mn(["pond/boom.mp3","pond/boom.ogg"],"boom");Mn(["pond/splash.mp3","pond/splash.ogg"],"splash");if(!v.g.userAgent.Uf&&!v.g.userAgent.Uo)for(var b in Kn)a=Kn[b],a.volume=.01,a.play(),a.pause()}
function Nn(){clearTimeout(Jn);Gn.length=0;var a=document.getElementById("avatarStatRow");a.innerHTML="";for(var b=[],d=[],e=0,f;f=Z.td[e];e++){var h=In[e%In.length];f.ax=e;var k=document.createElement("td");k.style.borderColor=h;var l=document.createElement("div");l.className="avatarStatHealth";l.style.background=h;f.iD=l;d[e]=l;k.appendChild(l);l=document.createElement("div");l.className="avatarStatName";f=document.createTextNode(f.name);l.appendChild(f);b[e]=l;k.appendChild(l);l=document.createElement("div");
f=document.createTextNode("\u00a0");l.appendChild(f);k.appendChild(l);a.appendChild(k)}for(e=0;l=b[e];e++)l.style.width=l.parentNode.offsetWidth-2+"px";for(e=0;l=d[e];e++)l.style.height=l.parentNode.offsetHeight-2+"px";On()}var Pn=0,Qn=0;function Rn(){On();var a=Date.now(),b=Math.max(1,1E3/36-(a-Pn-Qn));Jn=setTimeout(Rn,b);Pn=a;Qn=b}function Sn(a){return a/100*(En-35)+17.5}
function On(){var a=Cn;a.beginPath();a.rect(0,0,a.canvas.width,a.canvas.height);a.fillStyle="#527dbf";a.fill();for(var b=[],d=0,e;e=Z.td[d];d++)e.Le&&b.push(e);for(d=0;e=Z.td[d];d++)e.Le||b.push(e);for(d=0;e=b[d];d++){a.save();var f=Sn(e.Aa.x),h=Sn(100-e.Aa.y);a.translate(f,h);var k=e.ax%In.length*35;e.Le&&(a.globalAlpha=.25);0<e.speed&&(a.save(),f=50<e.speed?0:25<e.speed?35:70,a.rotate(-e.gg/180*Math.PI),a.drawImage(Hn,455,f,35,35,-45.5,-17.5,35,35),a.restore());a.drawImage(Hn,0,k,35,35,-17.5,-17.5,
35,35);f=e.facing/180*Math.PI;a.translate(12*Math.cos(f),12*-Math.sin(f)-2);f=(14-Math.round(e.facing/360*12))%12+1;e=e.facing%30;15<=e&&(e-=30);e/=1.5;a.rotate(-e/180*Math.PI);a.drawImage(Hn,35*f,k,35,35,-15.5,-15.5,35,35);a.restore()}for(d=0;e=Z.ij[d];d++){a.save();h=e.progress/e.po;k=(e.$k.y-e.cm.y)*-h;f=e.po/2;var l=.15*e.po;f=l-Math.pow((e.progress-f)/Math.sqrt(l)*l/f,2);h=Sn(e.cm.x+(e.$k.x-e.cm.x)*h);l=Sn(100-e.cm.y+k-f);k=Sn(100-e.cm.y+k);a.beginPath();a.arc(h,k,5*Math.max(0,1-f/10),0,2*Math.PI,
!0);a.closePath();a.fillStyle="rgba(128, 128, 128, "+Math.max(0,1-f/10)+")";a.fill();a.beginPath();a.arc(h,l,5,0,2*Math.PI,!0);a.closePath();a.fillStyle=In[e.nz.ax%In.length];a.fill()}for(d=0;d<Z.Fe.length;d++)if(f=Z.Fe[d],e=f.avatar,"CRASH"==f.type){if(k=Fn[e.id],!k||k+1E3<Date.now())Tn("whack",f.damage/Z.Qo),Fn[e.id]=Date.now()}else"SCAN"==f.type?(h=Math.max(f.resolution/2,.5),k=-v.g.qb.Qh(f.degree+h),l=-v.g.qb.Qh(f.degree-h),a.beginPath(),f=Sn(e.Aa.x),h=Sn(100-e.Aa.y),a.moveTo(f,h),a.lineTo(f+
200*Math.cos(k),h+200*Math.sin(k)),a.arc(f,h,200,k,l),a.lineTo(f,h),e=a.createRadialGradient(f,h,17.5,f,h,200),e.addColorStop(0,"rgba(255, 255, 255, 0.3)"),e.addColorStop(1,"rgba(255, 255, 255, 0)"),a.fillStyle=e,a.fill()):"BANG"!=f.type&&("BOOM"==f.type?(f.damage&&Tn("boom",f.damage/10),Gn.push({x:f.x,y:f.y,t:0})):"DIE"==f.type&&Tn("splash"));Z.Fe.length=0;for(d=Gn.length-1;0<=d;d--)e=Gn[d],f=Sn(e.x),h=Sn(100-e.y),a.beginPath(),a.arc(f,h,e.t+1,0,2*Math.PI,!0),a.closePath(),a.lineWidth=5,a.strokeStyle=
"rgba(255, 255, 255, "+(1-e.t/10)+")",a.stroke(),e.t+=2,10<e.t&&Gn.splice(d,1);Dn.drawImage(a.canvas,0,0);for(d=0;e=b[d];d++)a=e.iD,a.parentNode.title=e.name+": "+Math.round(100-e.Oc)+"%",a.style.width=Math.max(0,a.parentNode.offsetWidth*(1-e.Oc/100)-2)+"px"}function Mn(a,b){if(window.Audio&&a.length){for(var d,e=new window.Audio,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&e.canPlayType("audio/"+k[1])){d=new window.Audio(h);break}}d&&d.play&&(Kn[b]=d)}}
function Tn(a,b){a=Kn[a];a=v.g.userAgent.Uf||v.g.userAgent.Vh?a:a.cloneNode();a.volume=void 0===b?1:b;a.play()};var Un=!1;function Vn(){if(!Un){var a=document.getElementById("docsButton"),b=document.getElementById("dialogDocs"),d=document.getElementById("frameDocs"),e="pond/docs.html?lang="+mn+"&mode="+pn;d.src!=e&&(d.src=e);Un=!0;X.wh(a,!1,.2);X.wh(b,!0,.8);setTimeout(function(){b.style.visibility="visible";document.getElementById("dialogBorder").style.visibility="hidden"},175)}}
function Wn(){if(Un){var a=document.getElementById("docsButton"),b=document.getElementById("dialogDocs");Un=!1;X.wh(b,!1,.8);X.wh(a,!0,.2);setTimeout(function(){document.getElementById("dialogBorder").style.visibility="hidden"},175);b.style.visibility="hidden"}}function Xn(a){if(!Y.qf(a)){a=document.getElementById("runButton");var b=document.getElementById("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";Yn()}}
function Zn(a){Y.qf(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Z.reset(),Nn())}function Yn(){"Interpreter"in window?(Z.reset(),Nn(),Z.start(null),Rn()):setTimeout(Yn,250)};v.J.qb={};v.ba={};v.ba.Math={};v.ba.Math.Dm=230;
v.Bj([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],
["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",
extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",
options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},
{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",
helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}",
"RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",
message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,
output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",
style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
v.ba.Math.hp={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
v.X.register("math_op_tooltip",v.X.Rm("OP",v.ba.Math.hp));v.ba.Math.Yx={Oa:function(){var a=v.g.xml.createElement("mutation"),b="DIVISIBLE_BY"==B(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},eb:function(a){a="true"==a.getAttribute("divisor_input");this.rc(a)},rc:function(a){var b=E(this,"DIVISOR");a?b||P(this,"DIVISOR").Za("Number"):b&&this.Ra("DIVISOR")}};v.ba.Math.Zx=function(){Jf(C(this,"PROPERTY"),function(a){this.C.rc("DIVISIBLE_BY"==a)})};
v.X.Sr("math_is_divisibleby_mutator",v.ba.Math.Yx,v.ba.Math.Zx);v.X.register("math_change_tooltip",v.X.vp("%{BKY_MATH_CHANGE_TOOLTIP}"));v.ba.Math.hy={rm:function(a){"MODE"==a?this.M.Za("Array"):this.M.Za("Number")},Oa:function(){var a=v.g.xml.createElement("mutation");a.setAttribute("op",B(this,"OP"));return a},eb:function(a){this.rm(a.getAttribute("op"))}};v.ba.Math.gy=function(){Jf(C(this,"OP"),function(a){this.rm(a)}.bind(this))};v.X.Sr("math_modes_of_list_mutator",v.ba.Math.hy,v.ba.Math.gy);
v.i=new Uf;Xl("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
v.i.Zh=0;v.i.MD=1.1;v.i.tb=1.2;v.i.Qa=2;v.i.KD=3;v.i.GD=3;v.i.CD=4.1;v.i.OD=4.2;v.i.Bk=4.3;v.i.zk=4.4;v.i.ND=4.5;v.i.PD=4.6;v.i.HD=4.7;v.i.AD=4.8;v.i.ID=5;v.i.ap=5.1;v.i.yk=5.2;v.i.Ak=5.3;v.i.pj=6.1;v.i.Ng=6.2;v.i.ED=7;v.i.Ay=8;v.i.JD=8;v.i.LD=8;v.i.ht=9;v.i.BD=10;v.i.FD=11;v.i.DD=12;v.i.Zo=13;v.i.$o=14;v.i.Hm=15;v.i.Vf=16;v.i.QD=17;v.i.tc=18;v.i.uc=99;v.i.Im=[[v.i.Qa,v.i.tb],[v.i.Qa,v.i.Qa],[v.i.tb,v.i.tb],[v.i.tb,v.i.Qa],[v.i.zk,v.i.zk],[v.i.ap,v.i.ap],[v.i.Ng,v.i.Ng],[v.i.Zo,v.i.Zo],[v.i.$o,v.i.$o]];
v.i.T=function(a){v.i.fi=Object.create(null);v.i.lq=Object.create(null);v.i.$a?v.i.$a.reset():v.i.$a=new hm;v.i.$a.Da=a.Da;for(var b=[],d=v.K.fz(a),e=0;e<d.length;e++)b.push(v.i.$a.getName(d[e],"DEVELOPER_VARIABLE"));a=v.K.vt(a);for(e=0;e<a.length;e++)b.push(v.i.$a.getName(a[e].ja(),v.K.ab));b.length&&(v.i.fi.variables="var "+b.join(", ")+";")};v.i.finish=function(a){var b=[],d;for(d in v.i.fi)b.push(v.i.fi[d]);delete v.i.fi;delete v.i.lq;v.i.$a.reset();return b.join("\n\n")+"\n\n\n"+a};
v.i.sw=function(a){return a+";\n"};v.i.pE=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
v.i.yo=function(a,b,d){var e="";if(!a.M||!a.M.$){var f=a.zn();(f=v.g.Pa.jx(f,v.i.tx-3))&&(e=a.mg?e+("/**\n"+Ul(f+"\n"," * ")+" */\n"):e+Ul(f+"\n","// "));for(var h=0;h<a.O.length;h++)if(a.O[h].type==v.ya){var k=w(a.O[h].connection);if(k){f=[];k=Ib(k,!0);for(var l=0;l<k.length;l++){var m=k[l].zn();m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Ul(f,"// "))}}}a=a.R&&w(a.R);d=d?"":Sl(v.i,a);return e+b+d};
v.i.vf=function(a,b,d,e,f){d=d||0;f=f||v.i.uc;a.u.options.xe&&d--;var h=a.u.options.xe?"1":"0";a=0<d?U(a,b,v.i.Ng)||h:0>d?U(a,b,v.i.pj)||h:e?U(a,b,v.i.Bk)||h:U(a,b,f)||h;if(v.qh(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=v.i.Ng}else 0>d&&(a=a+" - "+-d,k=v.i.pj);e&&(a=d?"-("+a+")":"-"+a,k=v.i.Bk);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};v.i.qb={};v.i.math_number=function(a){a=Number(B(a,"NUM"));return[a,0<=a?v.i.Zh:v.i.Bk]};v.i.math_arithmetic=function(a){var b={ADD:[" + ",v.i.Ng],MINUS:[" - ",v.i.pj],MULTIPLY:[" * ",v.i.ap],DIVIDE:[" / ",v.i.yk],POWER:[null,v.i.tc]}[B(a,"OP")],d=b[0];b=b[1];var e=U(a,"A",b)||"0";a=U(a,"B",b)||"0";return d?[e+d+a,b]:["Math.pow("+e+", "+a+")",v.i.Qa]};
v.i.math_single=function(a){var b=B(a,"OP");if("NEG"==b)return a=U(a,"NUM",v.i.Bk)||"0","-"==a[0]&&(a=" "+a),["-"+a,v.i.Bk];a="SIN"==b||"COS"==b||"TAN"==b?U(a,"NUM",v.i.yk)||"0":U(a,"NUM",v.i.uc)||"0";switch(b){case "ABS":var d="Math.abs("+a+")";break;case "ROOT":d="Math.sqrt("+a+")";break;case "LN":d="Math.log("+a+")";break;case "EXP":d="Math.exp("+a+")";break;case "POW10":d="Math.pow(10,"+a+")";break;case "ROUND":d="Math.round("+a+")";break;case "ROUNDUP":d="Math.ceil("+a+")";break;case "ROUNDDOWN":d=
"Math.floor("+a+")";break;case "SIN":d="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":d="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":d="Math.tan("+a+" / 180 * Math.PI)"}if(d)return[d,v.i.Qa];switch(b){case "LOG10":d="Math.log("+a+") / Math.log(10)";break;case "ASIN":d="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":d="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":d="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[d,v.i.yk]};
v.i.math_constant=function(a){return{PI:["Math.PI",v.i.tb],E:["Math.E",v.i.tb],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",v.i.yk],SQRT2:["Math.SQRT2",v.i.tb],SQRT1_2:["Math.SQRT1_2",v.i.tb],INFINITY:["Infinity",v.i.Zh]}[B(a,"CONSTANT")]};
v.i.math_number_property=function(a){var b=U(a,"NUMBER_TO_CHECK",v.i.Ak)||"0",d=B(a,"PROPERTY");if("PRIME"==d){var e=Yl("mathIsPrime",["function "+v.i.de+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[e,v.i.Qa]}switch(d){case "EVEN":e=b+" % 2 == 0";break;case "ODD":e=b+" % 2 == 1";break;case "WHOLE":e=b+" % 1 == 0";break;case "POSITIVE":e=b+" > 0";break;case "NEGATIVE":e=b+" < 0";break;case "DIVISIBLE_BY":a=U(a,"DIVISOR",v.i.Ak)||"0",e=b+" % "+a+" == 0"}return[e,v.i.ht]};
v.i.math_change=function(a){var b=U(a,"DELTA",v.i.Ng)||"0";a=v.i.$a.getName(B(a,"VAR"),v.K.ab);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};v.i.math_round=v.i.math_single;v.i.math_trig=v.i.math_single;
v.i.math_on_list=function(a){var b=B(a,"OP");switch(b){case "SUM":a=U(a,"LIST",v.i.tb)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=U(a,"LIST",v.i.tc)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=U(a,"LIST",v.i.tc)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":b=Yl("mathMean",["function "+v.i.de+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=U(a,"LIST",v.i.uc)||"[]";a=b+"("+a+")";break;case "MEDIAN":b=
Yl("mathMedian",["function "+v.i.de+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=U(a,"LIST",v.i.uc)||"[]";a=b+"("+a+")";break;case "MODE":b=Yl("mathModes",
["function "+v.i.de+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);",
"  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=U(a,"LIST",v.i.uc)||"[]";a=b+"("+a+")";break;case "STD_DEV":b=Yl("mathStandardDeviation",["function "+v.i.de+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=U(a,"LIST",v.i.uc)||"[]";a=b+"("+a+")";break;case "RANDOM":b=Yl("mathRandomList",["function "+v.i.de+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=U(a,"LIST",v.i.uc)||"[]";a=b+"("+a+")";break;default:throw Error("Unknown operator: "+b);}return[a,v.i.Qa]};v.i.math_modulo=function(a){var b=U(a,"DIVIDEND",v.i.Ak)||"0";a=U(a,"DIVISOR",v.i.Ak)||"0";return[b+" % "+a,v.i.Ak]};
v.i.math_constrain=function(a){var b=U(a,"VALUE",v.i.tc)||"0",d=U(a,"LOW",v.i.tc)||"0";a=U(a,"HIGH",v.i.tc)||"Infinity";return["Math.min(Math.max("+b+", "+d+"), "+a+")",v.i.Qa]};
v.i.math_random_int=function(a){var b=U(a,"FROM",v.i.tc)||"0";a=U(a,"TO",v.i.tc)||"0";return[Yl("mathRandomInt",["function "+v.i.de+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",v.i.Qa]};v.i.math_random_float=function(){return["Math.random()",v.i.Qa]};
v.i.math_atan2=function(a){var b=U(a,"X",v.i.tc)||"0";return["Math.atan2("+(U(a,"Y",v.i.tc)||"0")+", "+b+") / Math.PI * 180",v.i.yk]};v.J.jr={};v.ba.ny={};v.ba.ny.Dm=260;
v.Bj([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",
args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",
name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
v.J.lists_create_with={T:function(){this.Ya=v.h.LISTS_CREATE_WITH_HELPURL;N(this,"list_blocks");this.od=3;this.rc();this.sd(!0,"Array");this.Mh(new wf(["lists_create_with_item"]));this.ta(v.h.LISTS_CREATE_WITH_TOOLTIP)},Oa:function(){var a=v.g.xml.createElement("mutation");a.setAttribute("items",this.od);return a},eb:function(a){this.od=parseInt(a.getAttribute("items"),10);this.rc()},fg:function(a){var b=a.xh("lists_create_with_container");b.Cd();for(var d=E(b,"STACK").connection,e=0;e<this.od;e++){var f=
a.xh("lists_create_with_item");f.Cd();d.connect(f.U);d=f.R}return b},dg:function(a){var b=bg(a,"STACK");for(a=[];b;)a.push(b.Bs),b=b.R&&w(b.R);for(b=0;b<this.od;b++){var d=E(this,"ADD"+b).connection.$;d&&-1==a.indexOf(d)&&d.disconnect()}this.od=a.length;this.rc();for(b=0;b<this.od;b++)xf(a[b],this,"ADD"+b)},xo:function(a){a=bg(a,"STACK");for(var b=0;a;){var d=E(this,"ADD"+b);a.Bs=d&&d.connection.$;b++;a=a.R&&w(a.R)}},rc:function(){this.od&&E(this,"EMPTY")?this.Ra("EMPTY"):this.od||E(this,"EMPTY")||
L(Q(this,"EMPTY"),v.h.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.od;a++)if(!E(this,"ADD"+a)){var b=P(this,"ADD"+a);0==a&&L(b,v.h.LISTS_CREATE_WITH_INPUT_WITH)}for(;E(this,"ADD"+a);)this.Ra("ADD"+a),a++}};v.J.lists_create_with_container={T:function(){N(this,"list_blocks");L(Q(this),v.h.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);Zf(this,"STACK");this.ta(v.h.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
v.J.lists_create_with_item={T:function(){N(this,"list_blocks");L(Q(this),v.h.LISTS_CREATE_WITH_ITEM_TITLE);this.Vd(!0);this.Ud(!0);this.ta(v.h.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
v.J.lists_indexOf={T:function(){var a=[[v.h.LISTS_INDEX_OF_FIRST,"FIRST"],[v.h.LISTS_INDEX_OF_LAST,"LAST"]];this.Ya=v.h.LISTS_INDEX_OF_HELPURL;N(this,"list_blocks");this.sd(!0,"Number");L(P(this,"VALUE").Za("Array"),v.h.LISTS_INDEX_OF_INPUT_IN_LIST);L(P(this,"FIND"),new O(a),"END");this.Fc(!0);var b=this;this.ta(function(){return v.h.LISTS_INDEX_OF_TOOLTIP.replace("%1",b.u.options.xe?"0":"-1")})}};
v.J.lists_getIndex={T:function(){var a=[[v.h.LISTS_GET_INDEX_GET,"GET"],[v.h.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[v.h.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.kp=[[v.h.LISTS_GET_INDEX_FROM_START,"FROM_START"],[v.h.LISTS_GET_INDEX_FROM_END,"FROM_END"],[v.h.LISTS_GET_INDEX_FIRST,"FIRST"],[v.h.LISTS_GET_INDEX_LAST,"LAST"],[v.h.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Ya=v.h.LISTS_GET_INDEX_HELPURL;N(this,"list_blocks");a=new O(a,function(d){this.C.Vw("REMOVE"==d)});L(P(this,"VALUE").Za("Array"),v.h.LISTS_GET_INDEX_INPUT_IN_LIST);
L(L(Q(this),a,"MODE"),"","SPACE");Q(this,"AT");v.h.LISTS_GET_INDEX_TAIL&&L(Q(this,"TAIL"),v.h.LISTS_GET_INDEX_TAIL);this.Fc(!0);this.sd(!0);this.be(!0);var b=this;this.ta(function(){var d=B(b,"MODE"),e=B(b,"WHERE"),f="";switch(d+" "+e){case "GET FROM_START":case "GET FROM_END":f=v.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":f=v.h.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":f=v.h.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":f=v.h.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;
break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":f=v.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":f=v.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":f=v.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":f=v.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":f=v.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":f=v.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;
break;case "REMOVE LAST":f=v.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":f=v.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+("FROM_START"==e?v.h.LISTS_INDEX_FROM_START_TOOLTIP:v.h.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.u.options.xe?"#1":"#0");return f})},Oa:function(){var a=v.g.xml.createElement("mutation");a.setAttribute("statement",!this.M);a.setAttribute("at",E(this,"AT").type==v.ya);return a},eb:function(a){var b="true"==a.getAttribute("statement");
this.Vw(b);a="false"!=a.getAttribute("at");this.be(a)},Vw:function(a){a!=!this.M&&(D(this,!0),a?(this.sd(!1),this.Vd(!0),this.Ud(!0)):(this.Vd(!1),this.Ud(!1),this.sd(!0)))},be:function(a){this.Ra("AT");this.Ra("ORDINAL",!0);a?(P(this,"AT").Za("Number"),v.h.ORDINAL_NUMBER_SUFFIX&&L(Q(this,"ORDINAL"),v.h.ORDINAL_NUMBER_SUFFIX)):Q(this,"AT");var b=new O(this.kp,function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=a){var f=this.C;f.be(e);Jd(f,d,"WHERE");return null}});L(E(this,"AT"),b,"WHERE");v.h.LISTS_GET_INDEX_TAIL&&
ag(this,"TAIL",null)}};
v.J.lists_setIndex={T:function(){var a=[[v.h.LISTS_SET_INDEX_SET,"SET"],[v.h.LISTS_SET_INDEX_INSERT,"INSERT"]];this.kp=[[v.h.LISTS_GET_INDEX_FROM_START,"FROM_START"],[v.h.LISTS_GET_INDEX_FROM_END,"FROM_END"],[v.h.LISTS_GET_INDEX_FIRST,"FIRST"],[v.h.LISTS_GET_INDEX_LAST,"LAST"],[v.h.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Ya=v.h.LISTS_SET_INDEX_HELPURL;N(this,"list_blocks");L(P(this,"LIST").Za("Array"),v.h.LISTS_SET_INDEX_INPUT_IN_LIST);L(L(Q(this),new O(a),"MODE"),"","SPACE");Q(this,"AT");L(P(this,
"TO"),v.h.LISTS_SET_INDEX_INPUT_TO);this.Fc(!0);this.Vd(!0);this.Ud(!0);this.ta(v.h.LISTS_SET_INDEX_TOOLTIP);this.be(!0);var b=this;this.ta(function(){var d=B(b,"MODE"),e=B(b,"WHERE"),f="";switch(d+" "+e){case "SET FROM_START":case "SET FROM_END":f=v.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":f=v.h.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":f=v.h.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":f=v.h.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":f=
v.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case "INSERT FIRST":f=v.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":f=v.h.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case "INSERT RANDOM":f=v.h.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+v.h.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.u.options.xe?"#1":"#0");return f})},Oa:function(){var a=v.g.xml.createElement("mutation");a.setAttribute("at",E(this,"AT").type==v.ya);return a},eb:function(a){a=
"false"!=a.getAttribute("at");this.be(a)},be:function(a){this.Ra("AT");this.Ra("ORDINAL",!0);a?(P(this,"AT").Za("Number"),v.h.ORDINAL_NUMBER_SUFFIX&&L(Q(this,"ORDINAL"),v.h.ORDINAL_NUMBER_SUFFIX)):Q(this,"AT");var b=new O(this.kp,function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=a){var f=this.C;f.be(e);Jd(f,d,"WHERE");return null}});ag(this,"AT","TO");E(this,"ORDINAL")&&ag(this,"ORDINAL","TO");L(E(this,"AT"),b,"WHERE")}};
v.J.lists_getSublist={T:function(){this.WHERE_OPTIONS_1=[[v.h.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[v.h.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[v.h.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[v.h.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[v.h.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[v.h.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.Ya=v.h.LISTS_GET_SUBLIST_HELPURL;N(this,"list_blocks");L(P(this,"LIST").Za("Array"),v.h.LISTS_GET_SUBLIST_INPUT_IN_LIST);Q(this,
"AT1");Q(this,"AT2");v.h.LISTS_GET_SUBLIST_TAIL&&L(Q(this,"TAIL"),v.h.LISTS_GET_SUBLIST_TAIL);this.Fc(!0);this.sd(!0,"Array");this.be(1,!0);this.be(2,!0);this.ta(v.h.LISTS_GET_SUBLIST_TOOLTIP)},Oa:function(){var a=v.g.xml.createElement("mutation");a.setAttribute("at1",E(this,"AT1").type==v.ya);a.setAttribute("at2",E(this,"AT2").type==v.ya);return a},eb:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.be(1,b);this.be(2,a)},be:function(a,b){this.Ra("AT"+a);this.Ra("ORDINAL"+
a,!0);b?(P(this,"AT"+a).Za("Number"),v.h.ORDINAL_NUMBER_SUFFIX&&L(Q(this,"ORDINAL"+a),v.h.ORDINAL_NUMBER_SUFFIX)):Q(this,"AT"+a);var d=new O(this["WHERE_OPTIONS_"+a],function(e){var f="FROM_START"==e||"FROM_END"==e;if(f!=b){var h=this.C;h.be(a,f);Jd(h,e,"WHERE"+a);return null}});L(E(this,"AT"+a),d,"WHERE"+a);1==a&&(ag(this,"AT1","AT2"),E(this,"ORDINAL1")&&ag(this,"ORDINAL1","AT2"));v.h.LISTS_GET_SUBLIST_TAIL&&ag(this,"TAIL",null)}};
v.J.lists_sort={T:function(){$f(this,{message0:v.h.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[v.h.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[v.h.LISTS_SORT_TYPE_TEXT,"TEXT"],[v.h.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[v.h.LISTS_SORT_ORDER_ASCENDING,"1"],[v.h.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:v.h.LISTS_SORT_TOOLTIP,helpUrl:v.h.LISTS_SORT_HELPURL})}};
v.J.lists_split={T:function(){var a=this,b=new O([[v.h.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[v.h.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(d){a.rm(d)});this.Ya=v.h.LISTS_SPLIT_HELPURL;N(this,"list_blocks");L(P(this,"INPUT").Za("String"),b,"MODE");L(P(this,"DELIM").Za("String"),v.h.LISTS_SPLIT_WITH_DELIMITER);this.Fc(!0);this.sd(!0,"Array");this.ta(function(){var d=B(a,"MODE");if("SPLIT"==d)return v.h.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==d)return v.h.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+
d);})},rm:function(a){if(B(this,"MODE")!=a){var b=E(this,"INPUT").connection;b.Ze=null;var d=w(b);d&&(b.disconnect(),d.Ja?d.G():this.pb())}"SPLIT"==a?(this.M.Za("Array"),E(this,"INPUT").Za("String")):(this.M.Za("String"),E(this,"INPUT").Za("Array"))},Oa:function(){var a=v.g.xml.createElement("mutation");a.setAttribute("mode",B(this,"MODE"));return a},eb:function(a){this.rm(a.getAttribute("mode"))}};v.J.EB={};v.ba.cd={};v.ba.cd.Dm=210;
v.Bj([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",
helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",
message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",
tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",
name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
v.Bj([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",
tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);v.ba.cd.hp={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};v.X.register("logic_op_tooltip",v.X.Rm("OP",v.ba.cd.hp));
v.ba.cd.Ps={yd:0,pe:0,Oh:!0,Oa:function(){if(!this.yd&&!this.pe)return null;var a=v.g.xml.createElement("mutation");this.yd&&a.setAttribute("elseif",this.yd);this.pe&&a.setAttribute("else",1);return a},eb:function(a){this.yd=parseInt(a.getAttribute("elseif"),10)||0;this.pe=parseInt(a.getAttribute("else"),10)||0;this.vC()},fg:function(a){var b=a.xh("controls_if_if");b.Cd();for(var d=b.R,e=1;e<=this.yd;e++){var f=a.xh("controls_if_elseif");f.Cd();d.connect(f.U);d=f.R}this.pe&&(a=a.xh("controls_if_else"),
a.Cd(),d.connect(a.U));return b},dg:function(a){a=w(a.R);this.pe=this.yd=0;for(var b=[null],d=[null],e=null;a;){switch(a.type){case "controls_if_elseif":this.yd++;b.push(a.Bs);d.push(a.$e);break;case "controls_if_else":this.pe++;e=a.$e;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.R&&w(a.R)}this.rc();this.kw(b,d,e)},xo:function(a){a=w(a.R);for(var b=1;a;){switch(a.type){case "controls_if_elseif":var d=E(this,"IF"+b),e=E(this,"DO"+b);a.Bs=d&&d.connection.$;a.$e=e&&e.connection.$;
b++;break;case "controls_if_else":e=E(this,"ELSE");a.$e=e&&e.connection.$;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.R&&w(a.R)}},vC:function(){var a=[null],b=[null],d=null;E(this,"ELSE")&&(d=E(this,"ELSE").connection.$);for(var e=1;E(this,"IF"+e);){var f=E(this,"DO"+e);a.push(E(this,"IF"+e).connection.$);b.push(f.connection.$);e++}this.rc();this.kw(a,b,d)},rc:function(){E(this,"ELSE")&&this.Ra("ELSE");for(var a=1;E(this,"IF"+a);)this.Ra("IF"+a),this.Ra("DO"+a),a++;for(a=1;a<=
this.yd;a++)L(P(this,"IF"+a).Za("Boolean"),v.h.CONTROLS_IF_MSG_ELSEIF),L(Zf(this,"DO"+a),v.h.CONTROLS_IF_MSG_THEN);this.pe&&L(Zf(this,"ELSE"),v.h.CONTROLS_IF_MSG_ELSE)},kw:function(a,b,d){for(var e=1;e<=this.yd;e++)xf(a[e],this,"IF"+e),xf(b[e],this,"DO"+e);xf(d,this,"ELSE")}};v.X.Sr("controls_if_mutator",v.ba.cd.Ps,null,["controls_if_elseif","controls_if_else"]);
v.ba.cd.Qs=function(){this.ta(function(){if(this.yd||this.pe){if(!this.yd&&this.pe)return v.h.CONTROLS_IF_TOOLTIP_2;if(this.yd&&!this.pe)return v.h.CONTROLS_IF_TOOLTIP_3;if(this.yd&&this.pe)return v.h.CONTROLS_IF_TOOLTIP_4}else return v.h.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};v.X.register("controls_if_tooltip",v.ba.cd.Qs);
v.ba.cd.jy={onchange:function(a){this.ck||(this.ck=[null,null]);var b=bg(this,"A"),d=bg(this,"B");b&&d&&!Zc(b.M,d.M)&&(v.j.W(a.group),a=this.ck[0],a!==b&&(D(b),a&&!a.Ja&&E(this,"A").connection.connect(a.M)),b=this.ck[1],b!==d&&(D(d),b&&!b.Ja&&E(this,"B").connection.connect(b.M)),this.pb(),v.j.W(!1));this.ck[0]=bg(this,"A");this.ck[1]=bg(this,"B")}};v.ba.cd.iy=function(){zf(this,v.ba.cd.jy)};v.X.register("logic_compare",v.ba.cd.iy);
v.ba.cd.ky={dw:null,onchange:function(a){var b=bg(this,"THEN"),d=bg(this,"ELSE"),e=this.M.$;if((b||d)&&e)for(var f=0;2>f;f++){var h=1==f?b:d;h&&!Zc(h.M,e)&&(v.j.W(a.group),e===this.dw?(D(this),e.C.pb()):(D(h),h.pb()),v.j.W(!1))}this.dw=e}};v.X.qo("logic_ternary",v.ba.cd.ky);v.J.GB={};v.ba.ee={};v.ba.ee.Dm=120;
v.Bj([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",
name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);v.ba.ee.Zy={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};v.X.register("controls_whileUntil_tooltip",v.X.Rm("MODE",v.ba.ee.Zy));v.ba.ee.ox={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};v.X.register("controls_flow_tooltip",v.X.Rm("FLOW",v.ba.ee.ox));
v.ba.ee.wx={eg:function(a){if(!this.xb){var b=C(this,"VAR").zc(),d=b.name;if(!this.isCollapsed()&&null!=d){var e={enabled:!0};e.text=v.h.VARIABLES_SET_CREATE_GET.replace("%1",d);b=v.K.li(b);d=v.g.xml.createElement("block");d.setAttribute("type","variables_get");d.appendChild(b);e.bb=v.la.Tm(this,d);a.push(e)}}}};v.X.qo("contextMenu_newGetVariableBlock",v.ba.ee.wx);v.X.register("controls_for_tooltip",v.X.vp("%{BKY_CONTROLS_FOR_TOOLTIP}"));v.X.register("controls_forEach_tooltip",v.X.vp("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
v.ba.ee.zm={my:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],Oh:!0,Vu:function(a){do{if(-1!=v.ba.ee.zm.my.indexOf(a.type))return a;a=Vf(a)}while(a);return null},onchange:function(){this.u.Tb&&!this.u.Tb()&&(v.ba.ee.zm.Vu(this)?(this.Cg(null),this.xb||this.ob(!0)):(this.Cg(v.h.CONTROLS_FLOW_STATEMENTS_WARNING),this.xb||Yf(this)||this.ob(!1)))}};v.X.qo("controls_flow_in_loop_check",v.ba.ee.zm);v.J.uC={};
v.J.procedures_defnoreturn={T:function(){var a=new dl("",v.va.ro);a.Do=!1;L(L(L(Q(this),v.h.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.Mh(new wf(["procedures_mutatorarg"]));(this.u.options.Ok||this.u.options.Vb&&this.u.options.Vb.options.Ok)&&v.h.PROCEDURES_DEFNORETURN_COMMENT&&this.zg(v.h.PROCEDURES_DEFNORETURN_COMMENT);N(this,"procedure_blocks");this.ta(v.h.PROCEDURES_DEFNORETURN_TOOLTIP);this.Ya=v.h.PROCEDURES_DEFNORETURN_HELPURL;this.ma=[];this.Eb=[];this.Mf(!0);this.$e=null},Mf:function(a){this.Mn!==
a&&(a?(L(Zf(this,"STACK"),v.h.PROCEDURES_DEFNORETURN_DO),E(this,"RETURN")&&ag(this,"STACK","RETURN")):this.Ra("STACK",!0),this.Mn=a)},qm:function(){var a="";this.ma.length&&(a=v.h.PROCEDURES_BEFORE_PARAMS+" "+this.ma.join(", "));v.j.disable();try{Jd(this,a,"PARAMS")}finally{v.j.enable()}},Oa:function(a){var b=v.g.xml.createElement("mutation");a&&b.setAttribute("name",B(this,"NAME"));for(var d=0;d<this.Eb.length;d++){var e=v.g.xml.createElement("arg"),f=this.Eb[d];e.setAttribute("name",f.name);e.setAttribute("varid",
f.ja());a&&this.Dr&&e.setAttribute("paramId",this.Dr[d]);b.appendChild(e)}this.Mn||b.setAttribute("statements","false");return b},eb:function(a){this.ma=[];this.Eb=[];for(var b=0,d;d=a.childNodes[b];b++)if("arg"==d.nodeName.toLowerCase()){var e=d.getAttribute("name");d=d.getAttribute("varid")||d.getAttribute("varId");this.ma.push(e);d=v.K.En(this.u,d,e,"");null!=d?this.Eb.push(d):console.log("Failed to create a variable with name "+e+", ignoring.")}this.qm();v.va.Nl(this);this.Mf("false"!==a.getAttribute("statements"))},
fg:function(a){var b=v.g.xml.createElement("block");b.setAttribute("type","procedures_mutatorcontainer");var d=v.g.xml.createElement("statement");d.setAttribute("name","STACK");b.appendChild(d);for(var e=0;e<this.ma.length;e++){var f=v.g.xml.createElement("block");f.setAttribute("type","procedures_mutatorarg");var h=v.g.xml.createElement("field");h.setAttribute("name","NAME");h.appendChild(v.g.xml.createTextNode(this.ma[e]));f.appendChild(h);h=v.g.xml.createElement("next");f.appendChild(h);d.appendChild(f);
d=h}a=v.N.hi(b,a);"procedures_defreturn"==this.type?Jd(a,this.Mn,"STATEMENTS"):a.Ra("STATEMENT_INPUT");v.va.Nl(this);return a},dg:function(a){this.ma=[];this.Dr=[];this.Eb=[];for(var b=bg(a,"STACK");b;){var d=B(b,"NAME");this.ma.push(d);d=this.u.zc(d,"");this.Eb.push(d);this.Dr.push(b.id);b=b.R&&w(b.R)}this.qm();v.va.Nl(this);a=B(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.Mn!=a))if(a)this.Mf(!0),xf(this.$e,this,"STACK"),this.$e=null;else{a=E(this,"STACK").connection;if(this.$e=a.$)a=w(a),D(a),
a.pb();this.Mf(!1)}},mg:function(){return[B(this,"NAME"),this.ma,!1]},zq:function(){return this.ma},og:function(){return this.Eb},so:function(a,b){var d=this.u.Pe(a);if(""==d.type){d=d.name;b=this.u.Pe(b);for(var e=!1,f=0;f<this.Eb.length;f++)this.Eb[f].ja()==a&&(this.ma[f]=b.name,this.Eb[f]=b,e=!0);e&&(this.nn(d,b.name),v.va.Nl(this))}},Io:function(a){for(var b=a.name,d=!1,e=0;e<this.Eb.length;e++)if(this.Eb[e].ja()==a.ja()){var f=this.ma[e];this.ma[e]=b;d=!0}d&&(this.nn(f,b),v.va.Nl(this))},nn:function(a,
b){this.qm();if(this.Uc&&this.Uc.isVisible())for(var d=A(this.Uc.o,!1),e=0,f;f=d[e];e++)"procedures_mutatorarg"==f.type&&hc(a,B(f,"NAME"))&&Jd(f,b,"NAME")},eg:function(a){if(!this.xb){var b={enabled:!0},d=B(this,"NAME");b.text=v.h.PROCEDURES_CREATE_DO.replace("%1",d);var e=v.g.xml.createElement("mutation");e.setAttribute("name",d);for(d=0;d<this.ma.length;d++){var f=v.g.xml.createElement("arg");f.setAttribute("name",this.ma[d]);e.appendChild(f)}d=v.g.xml.createElement("block");d.setAttribute("type",
this.Dt);d.appendChild(e);b.bb=v.la.Tm(this,d);a.push(b);if(!this.isCollapsed())for(d=0;d<this.Eb.length;d++)b={enabled:!0},e=this.Eb[d],b.text=v.h.VARIABLES_SET_CREATE_GET.replace("%1",e.name),e=v.K.li(e),f=v.g.xml.createElement("block"),f.setAttribute("type","variables_get"),f.appendChild(e),b.bb=v.la.Tm(this,f),a.push(b)}},Dt:"procedures_callnoreturn"};
v.J.procedures_defreturn={T:function(){var a=new dl("",v.va.ro);a.Do=!1;L(L(L(Q(this),v.h.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");L(Tf(P(this,"RETURN"),v.Jg),v.h.PROCEDURES_DEFRETURN_RETURN);this.Mh(new wf(["procedures_mutatorarg"]));(this.u.options.Ok||this.u.options.Vb&&this.u.options.Vb.options.Ok)&&v.h.PROCEDURES_DEFRETURN_COMMENT&&this.zg(v.h.PROCEDURES_DEFRETURN_COMMENT);N(this,"procedure_blocks");this.ta(v.h.PROCEDURES_DEFRETURN_TOOLTIP);this.Ya=v.h.PROCEDURES_DEFRETURN_HELPURL;
this.ma=[];this.Eb=[];this.Mf(!0);this.$e=null},Mf:v.J.procedures_defnoreturn.Mf,qm:v.J.procedures_defnoreturn.qm,Oa:v.J.procedures_defnoreturn.Oa,eb:v.J.procedures_defnoreturn.eb,fg:v.J.procedures_defnoreturn.fg,dg:v.J.procedures_defnoreturn.dg,mg:function(){return[B(this,"NAME"),this.ma,!0]},zq:v.J.procedures_defnoreturn.zq,og:v.J.procedures_defnoreturn.og,so:v.J.procedures_defnoreturn.so,Io:v.J.procedures_defnoreturn.Io,nn:v.J.procedures_defnoreturn.nn,eg:v.J.procedures_defnoreturn.eg,Dt:"procedures_callreturn"};
v.J.procedures_mutatorcontainer={T:function(){L(Q(this),v.h.PROCEDURES_MUTATORCONTAINER_TITLE);Zf(this,"STACK");L(L(Q(this,"STATEMENT_INPUT"),v.h.PROCEDURES_ALLOW_STATEMENTS),new Dl("TRUE"),"STATEMENTS");N(this,"procedure_blocks");this.ta(v.h.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1},onchange:function(a){if(this.u&&!this.u.Rd&&(a.type==v.j.tm||a.type==v.j.tk)){var b=A(this.u),d=this.u.wf();if(a.type==v.j.tm){a=[];for(var e=0;e<b.length;e+=1)B(b[e],"NAME")&&a.push(B(b[e],"NAME"));for(b=
0;b<d.length;b+=1)-1==a.indexOf(d[b].name)&&this.u.lf(d[b].ja())}else if(a.type==v.j.tk&&(d=ac(this.u,a.Zb),C(d,"NAME")&&(e=B(d,"NAME"),(a=this.u.zc(e))||(a=this.u.hd(e)),!d.U.isConnected()&&!d.R.isConnected())))for(e=0;e<b.length;e+=1)if(d.id!=b[e].id&&B(b[e],"NAME")==a.name){e=v.K.Qu(this.u);a=this.u.hd(e);Jd(d,a.name,"NAME");break}}}};
v.J.procedures_mutatorarg={T:function(){var a=new dl("x",this.Zi);a.WB=a.Wd;a.Wd=function(){this.Vk=[];this.WB()};L(L(Q(this),v.h.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.Vd(!0);this.Ud(!0);N(this,"procedure_blocks");this.ta(v.h.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.xr=this.cA;a.Vk=[];a.xr("x")},Zi:function(a){var b=this.C,d=yf(b.u);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;b=A(b.u);for(var e=0;e<b.length;e++)if(b[e].id!=this.C.id&&B(b[e],"NAME")==a)return null;
(b=d.zc(a,""))&&b.name!=a&&d.Fh(b.ja(),a);b||(b=d.hd(a,""))&&this.Vk&&this.Vk.push(b);return a},cA:function(a){var b=yf(this.C.u);if(b)for(var d=0;d<this.Vk.length;d++){var e=this.Vk[d];e.name!=a&&b.lf(e.ja())}}};
v.J.procedures_callnoreturn={T:function(){L(Q(this,"TOPROW"),this.id,"NAME");this.Vd(!0);this.Ud(!0);N(this,"procedure_blocks");this.Ya=v.h.PROCEDURES_CALLNORETURN_HELPURL;this.ma=[];this.Eb=[];this.ug={};this.If=null;this.Mr=!0},Md:function(){return B(this,"NAME")},Wl:function(a,b){hc(a,this.Md())&&(Jd(this,b,"NAME"),this.ta((this.M?v.h.PROCEDURES_CALLRETURN_TOOLTIP:v.h.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},ks:function(a,b){var d=v.va.el(this.Md(),this.u),e=d&&d.Uc&&d.Uc.isVisible();
e||(this.ug={},this.If=null);if(b)if(a.join("\n")==this.ma.join("\n"))this.If=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.yg(!1);this.If||(this.ug={},this.If=[]);d=this.Y;this.Y=!1;for(var f=0;f<this.ma.length;f++){var h=E(this,"ARG"+f);h&&(h=h.connection.$,this.ug[this.If[f]]=h,e&&h&&-1==b.indexOf(this.If[f])&&(h.disconnect(),h.C.pb()))}this.ma=[].concat(a);this.Eb=[];for(f=0;f<this.ma.length;f++)a=v.K.En(this.u,null,this.ma[f],""),this.Eb.push(a);
this.rc();if(this.If=b)for(f=0;f<this.ma.length;f++)b=this.If[f],b in this.ug&&(h=this.ug[b],xf(h,this,"ARG"+f)||delete this.ug[b]);(this.Y=d)&&this.ia()}},rc:function(){for(var a=0;a<this.ma.length;a++){var b=C(this,"ARGNAME"+a);if(b){v.j.disable();try{b.setValue(this.ma[a])}finally{v.j.enable()}}else b=new Pf(this.ma[a]),L(Tf(P(this,"ARG"+a),v.Jg),b,"ARGNAME"+a).T()}for(;E(this,"ARG"+a);)this.Ra("ARG"+a),a++;if(a=E(this,"TOPROW"))this.ma.length?C(this,"WITH")||(L(a,v.h.PROCEDURES_CALL_BEFORE_PARAMS,
"WITH"),a.T()):C(this,"WITH")&&Sf(a,"WITH")},Oa:function(){var a=v.g.xml.createElement("mutation");a.setAttribute("name",this.Md());for(var b=0;b<this.ma.length;b++){var d=v.g.xml.createElement("arg");d.setAttribute("name",this.ma[b]);a.appendChild(d)}return a},eb:function(a){var b=a.getAttribute("name");this.Wl(this.Md(),b);b=[];for(var d=[],e=0,f;f=a.childNodes[e];e++)"arg"==f.nodeName.toLowerCase()&&(b.push(f.getAttribute("name")),d.push(f.getAttribute("paramId")));this.ks(b,d)},og:function(){return this.Eb},
onchange:function(a){if(this.u&&!this.u.Rd&&a.mc)if(a.type==v.j.tk&&-1!=a.ih.indexOf(this.id)){var b=this.Md();b=v.va.el(b,this.u);!b||b.type==this.Kp&&JSON.stringify(b.ma)==JSON.stringify(this.ma)||(b=null);if(!b){v.j.W(a.group);a=v.g.xml.createElement("xml");b=v.g.xml.createElement("block");b.setAttribute("type",this.Kp);var d=this.wa(),e=d.y+2*v.dd;b.setAttribute("x",d.x+v.dd*(this.B?-1:1));b.setAttribute("y",e);d=this.Oa();b.appendChild(d);d=v.g.xml.createElement("field");d.setAttribute("name",
"NAME");d.appendChild(v.g.xml.createTextNode(this.Md()));b.appendChild(d);a.appendChild(b);v.N.nf(a,this.u);v.j.W(!1)}}else a.type==v.j.tm?(b=this.Md(),b=v.va.el(b,this.u),b||(v.j.W(a.group),this.G(!0,!1),v.j.W(!1))):a.type==v.j.Wh&&"disabled"==a.element&&(b=this.Md(),(b=v.va.el(b,this.u))&&b.id==a.Zb&&((b=v.j.Rb())&&console.log("Saw an existing group while responding to a definition change"),v.j.W(a.group),a.newValue?(this.Mr=this.isEnabled(),this.ob(!1)):this.ob(this.Mr),v.j.W(b)))},eg:function(a){if(this.u.Ub()){var b=
{enabled:!0};b.text=v.h.PROCEDURES_HIGHLIGHT_DEF;var d=this.Md(),e=this.u;b.bb=function(){var f=v.va.el(d,e);if(f){if(e.Ub()){var h=ac(e,f.id);if(h){var k=h.wa(),l=h.vb(),m=e.scale;h=(k.x+(e.B?-1:1)*l.width/2)*m;k=(k.y+l.height/2)*m;l=e.wb();h=-(h-l.ac-l.La/2)-l.ac;k=-(k-l.Ob-l.Ta/2)-l.Ob;v.cc();e.scroll(h,k)}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");f.select()}};a.push(b)}},Kp:"procedures_defnoreturn"};
v.J.procedures_callreturn={T:function(){L(Q(this,"TOPROW"),"","NAME");this.sd(!0);N(this,"procedure_blocks");this.Ya=v.h.PROCEDURES_CALLRETURN_HELPURL;this.ma=[];this.ug={};this.If=null;this.Mr=!0},Md:v.J.procedures_callnoreturn.Md,Wl:v.J.procedures_callnoreturn.Wl,ks:v.J.procedures_callnoreturn.ks,rc:v.J.procedures_callnoreturn.rc,Oa:v.J.procedures_callnoreturn.Oa,eb:v.J.procedures_callnoreturn.eb,og:v.J.procedures_callnoreturn.og,onchange:v.J.procedures_callnoreturn.onchange,eg:v.J.procedures_callnoreturn.eg,
Kp:"procedures_defreturn"};
v.J.procedures_ifreturn={T:function(){L(P(this,"CONDITION").Za("Boolean"),v.h.CONTROLS_IF_MSG_IF);L(P(this,"VALUE"),v.h.PROCEDURES_DEFRETURN_RETURN);this.Fc(!0);this.Vd(!0);this.Ud(!0);N(this,"procedure_blocks");this.ta(v.h.PROCEDURES_IFRETURN_TOOLTIP);this.Ya=v.h.PROCEDURES_IFRETURN_HELPURL;this.gh=!0},Oa:function(){var a=v.g.xml.createElement("mutation");a.setAttribute("value",Number(this.gh));return a},eb:function(a){this.gh=1==a.getAttribute("value");this.gh||(this.Ra("VALUE"),L(Q(this,"VALUE"),
v.h.PROCEDURES_DEFRETURN_RETURN))},onchange:function(){if(this.u.Tb&&!this.u.Tb()){var a=!1,b=this;do{if(-1!=this.Nx.indexOf(b.type)){a=!0;break}b=Vf(b)}while(b);a?("procedures_defnoreturn"==b.type&&this.gh?(this.Ra("VALUE"),L(Q(this,"VALUE"),v.h.PROCEDURES_DEFRETURN_RETURN),this.gh=!1):"procedures_defreturn"!=b.type||this.gh||(this.Ra("VALUE"),L(P(this,"VALUE"),v.h.PROCEDURES_DEFRETURN_RETURN),this.gh=!0),this.Cg(null),this.xb||this.ob(!0)):(this.Cg(v.h.PROCEDURES_IFRETURN_WARNING),this.xb||Yf(this)||
this.ob(!1))}},Nx:["procedures_defnoreturn","procedures_defreturn"]};v.J.gD={};v.ba.K={};v.ba.K.Dm=330;
v.Bj([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);
v.ba.K.xx={eg:function(a){if(!this.xb){if("variables_get"==this.type)var b="variables_set",d=v.h.VARIABLES_GET_CREATE_SET;else b="variables_get",d=v.h.VARIABLES_SET_CREATE_GET;var e={enabled:0<Cc(this.u)},f=C(this,"VAR").Sb();e.text=d.replace("%1",f);d=v.g.xml.createElement("field");d.setAttribute("name","VAR");d.appendChild(v.g.xml.createTextNode(f));f=v.g.xml.createElement("block");f.setAttribute("type",b);f.appendChild(d);e.bb=v.la.Tm(this,f);a.push(e)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)b={text:v.h.UD,enabled:!0,bb:v.ba.K.Fy(this)},f=C(this,"VAR").Sb(),e={text:v.h.rD.replace("%1",f),enabled:!0,bb:v.ba.K.yx(this)},a.unshift(b),a.unshift(e)}};v.ba.K.Fy=function(a){return function(){var b=a.u,d=C(a,"VAR").zc();v.K.to(b,d)}};v.ba.K.yx=function(a){return function(){var b=a.u,d=C(a,"VAR").zc();b.lf(d.ja());pf(b)}};v.X.qo("contextMenu_variableSetterGetter",v.ba.K.xx);v.i.jr={};v.i.lists_create_empty=function(){return["[]",v.i.Zh]};v.i.lists_create_with=function(a){for(var b=Array(a.od),d=0;d<a.od;d++)b[d]=U(a,"ADD"+d,v.i.tc)||"null";return["["+b.join(", ")+"]",v.i.Zh]};v.i.lists_repeat=function(a){var b=Yl("listsRepeat",["function "+v.i.de+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),d=U(a,"ITEM",v.i.tc)||"null";a=U(a,"NUM",v.i.tc)||"0";return[b+"("+d+", "+a+")",v.i.Qa]};
v.i.lists_length=function(a){return[(U(a,"VALUE",v.i.tb)||"[]")+".length",v.i.tb]};v.i.lists_isEmpty=function(a){return["!"+(U(a,"VALUE",v.i.tb)||"[]")+".length",v.i.zk]};v.i.lists_indexOf=function(a){var b="FIRST"==B(a,"END")?"indexOf":"lastIndexOf",d=U(a,"FIND",v.i.uc)||"''";b=(U(a,"VALUE",v.i.tb)||"[]")+"."+b+"("+d+")";return a.u.options.xe?[b+" + 1",v.i.Ng]:[b,v.i.Qa]};
v.i.lists_getIndex=function(a){var b=B(a,"MODE")||"GET",d=B(a,"WHERE")||"FROM_START",e=U(a,"VALUE","RANDOM"==d?v.i.tc:v.i.tb)||"[]";switch(d){case "FIRST":if("GET"==b)return[e+"[0]",v.i.tb];if("GET_REMOVE"==b)return[e+".shift()",v.i.tb];if("REMOVE"==b)return e+".shift();\n";break;case "LAST":if("GET"==b)return[e+".slice(-1)[0]",v.i.tb];if("GET_REMOVE"==b)return[e+".pop()",v.i.tb];if("REMOVE"==b)return e+".pop();\n";break;case "FROM_START":a=v.i.vf(a,"AT");if("GET"==b)return[e+"["+a+"]",v.i.tb];if("GET_REMOVE"==
b)return[e+".splice("+a+", 1)[0]",v.i.Qa];if("REMOVE"==b)return e+".splice("+a+", 1);\n";break;case "FROM_END":a=v.i.vf(a,"AT",1,!0);if("GET"==b)return[e+".slice("+a+")[0]",v.i.Qa];if("GET_REMOVE"==b)return[e+".splice("+a+", 1)[0]",v.i.Qa];if("REMOVE"==b)return e+".splice("+a+", 1);";break;case "RANDOM":e=Yl("listsGetRandomItem",["function "+v.i.de+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];",
"  }","}"])+"("+e+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[e,v.i.Qa];if("REMOVE"==b)return e+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
v.i.lists_setIndex=function(a){function b(){if(d.match(/^\w+$/))return"";var k=Zl(v.i.$a,"tmpList",v.K.ab),l="var "+k+" = "+d+";\n";d=k;return l}var d=U(a,"LIST",v.i.tb)||"[]",e=B(a,"MODE")||"GET",f=B(a,"WHERE")||"FROM_START",h=U(a,"TO",v.i.Vf)||"null";switch(f){case "FIRST":if("SET"==e)return d+"[0] = "+h+";\n";if("INSERT"==e)return d+".unshift("+h+");\n";break;case "LAST":if("SET"==e)return a=b(),a+(d+"["+d+".length - 1] = "+h+";\n");if("INSERT"==e)return d+".push("+h+");\n";break;case "FROM_START":f=
v.i.vf(a,"AT");if("SET"==e)return d+"["+f+"] = "+h+";\n";if("INSERT"==e)return d+".splice("+f+", 0, "+h+");\n";break;case "FROM_END":f=v.i.vf(a,"AT",1,!1,v.i.pj);a=b();if("SET"==e)return a+(d+"["+d+".length - "+f+"] = "+h+";\n");if("INSERT"==e)return a+(d+".splice("+d+".length - "+f+", 0, "+h+");\n");break;case "RANDOM":a=b();f=Zl(v.i.$a,"tmpX",v.K.ab);a+="var "+f+" = Math.floor(Math.random() * "+d+".length);\n";if("SET"==e)return a+(d+"["+f+"] = "+h+";\n");if("INSERT"==e)return a+(d+".splice("+f+
", 0, "+h+");\n")}throw Error("Unhandled combination (lists_setIndex).");};v.i.jr.FA=function(a,b,d){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+d:"LAST"==b?a+".length - 1":d};
v.i.lists_getSublist=function(a){var b=U(a,"LIST",v.i.tb)||"[]",d=B(a,"WHERE1"),e=B(a,"WHERE2");if("FIRST"==d&&"LAST"==e)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!=d&&"FROM_START"==e){switch(d){case "FROM_START":var f=v.i.vf(a,"AT1");break;case "FROM_END":f=v.i.vf(a,"AT1",1,!1,v.i.pj);f=b+".length - "+f;break;case "FIRST":f="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(e){case "FROM_START":a=v.i.vf(a,"AT2",1);break;case "FROM_END":a=v.i.vf(a,"AT2",0,!1,v.i.pj);
a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}b=b+".slice("+f+", "+a+")"}else{f=v.i.vf(a,"AT1");a=v.i.vf(a,"AT2");var h=v.i.jr.FA,k={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=Yl("subsequence"+k[d]+k[e],["function "+v.i.de+"(sequence"+("FROM_END"==d||"FROM_START"==d?", at1":"")+("FROM_END"==e||"FROM_START"==e?", at2":"")+") {","  var start = "+h("sequence",d,"at1")+";","  var end = "+h("sequence",e,
"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==d||"FROM_START"==d?", "+f:"")+("FROM_END"==e||"FROM_START"==e?", "+a:"")+")"}return[b,v.i.Qa]};
v.i.lists_sort=function(a){var b=U(a,"LIST",v.i.Qa)||"[]",d="1"===B(a,"DIRECTION")?1:-1;a=B(a,"TYPE");var e=Yl("listsGetSortCompare",["function "+v.i.de+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];",
"  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+e+'("'+a+'", '+d+"))",v.i.Qa]};v.i.lists_split=function(a){var b=U(a,"INPUT",v.i.tb),d=U(a,"DELIM",v.i.uc)||"''";a=B(a,"MODE");if("SPLIT"==a)b||(b="''"),a="split";else if("JOIN"==a)b||(b="[]"),a="join";else throw Error("Unknown mode: "+a);return[b+"."+a+"("+d+")",v.i.Qa]};v.i.lists_reverse=function(a){return[(U(a,"LIST",v.i.Qa)||"[]")+".slice().reverse()",v.i.Qa]};v.i.EB={};v.i.controls_if=function(a){var b=0,d="";v.i.vd&&(d+=Tl(v.i.vd,a));do{var e=U(a,"IF"+b,v.i.uc)||"false";var f=Vl(a,"DO"+b);v.i.vc&&(f=Ul(Tl(v.i.vc,a),v.i.bd)+f);d+=(0<b?" else ":"")+"if ("+e+") {\n"+f+"}";++b}while(E(a,"IF"+b));if(E(a,"ELSE")||v.i.vc)f=Vl(a,"ELSE"),v.i.vc&&(f=Ul(Tl(v.i.vc,a),v.i.bd)+f),d+=" else {\n"+f+"}";return d+"\n"};v.i.controls_ifelse=v.i.controls_if;
v.i.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[B(a,"OP")],d="=="==b||"!="==b?v.i.ht:v.i.Ay,e=U(a,"A",d)||"0";a=U(a,"B",d)||"0";return[e+" "+b+" "+a,d]};v.i.logic_operation=function(a){var b="AND"==B(a,"OP")?"&&":"||",d="&&"==b?v.i.Zo:v.i.$o,e=U(a,"A",d);a=U(a,"B",d);if(e||a){var f="&&"==b?"true":"false";e||(e=f);a||(a=f)}else a=e="false";return[e+" "+b+" "+a,d]};v.i.logic_negate=function(a){var b=v.i.zk;return["!"+(U(a,"BOOL",b)||"true"),b]};
v.i.logic_boolean=function(a){return["TRUE"==B(a,"BOOL")?"true":"false",v.i.Zh]};v.i.logic_null=function(){return["null",v.i.Zh]};v.i.logic_ternary=function(a){var b=U(a,"IF",v.i.Hm)||"false",d=U(a,"THEN",v.i.Hm)||"null";a=U(a,"ELSE",v.i.Hm)||"null";return[b+" ? "+d+" : "+a,v.i.Hm]};v.i.GB={};v.i.controls_repeat_ext=function(a){var b=C(a,"TIMES")?String(Number(B(a,"TIMES"))):U(a,"TIMES",v.i.Vf)||"0",d=Vl(a,"DO");d=Wl(d,a);a="";var e=Zl(v.i.$a,"count",v.K.ab),f=b;b.match(/^\w+$/)||v.qh(b)||(f=Zl(v.i.$a,"repeat_end",v.K.ab),a+="var "+f+" = "+b+";\n");return a+("for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+d+"}\n")};v.i.controls_repeat=v.i.controls_repeat_ext;
v.i.controls_whileUntil=function(a){var b="UNTIL"==B(a,"MODE"),d=U(a,"BOOL",b?v.i.zk:v.i.uc)||"false",e=Vl(a,"DO");e=Wl(e,a);b&&(d="!"+d);return"while ("+d+") {\n"+e+"}\n"};
v.i.controls_for=function(a){var b=v.i.$a.getName(B(a,"VAR"),v.K.ab),d=U(a,"FROM",v.i.Vf)||"0",e=U(a,"TO",v.i.Vf)||"0",f=U(a,"BY",v.i.Vf)||"1",h=Vl(a,"DO");h=Wl(h,a);if(v.qh(d)&&v.qh(e)&&v.qh(f)){var k=Number(d)<=Number(e);a="for ("+b+" = "+d+"; "+b+(k?" <= ":" >= ")+e+"; "+b;b=Math.abs(Number(f));a=(1==b?a+(k?"++":"--"):a+((k?" += ":" -= ")+b))+(") {\n"+h+"}\n")}else a="",k=d,d.match(/^\w+$/)||v.qh(d)||(k=Zl(v.i.$a,b+"_start",v.K.ab),a+="var "+k+" = "+d+";\n"),d=e,e.match(/^\w+$/)||v.qh(e)||(d=Zl(v.i.$a,
b+"_end",v.K.ab),a+="var "+d+" = "+e+";\n"),e=Zl(v.i.$a,b+"_inc",v.K.ab),a+="var "+e+" = ",a=v.qh(f)?a+(Math.abs(f)+";\n"):a+("Math.abs("+f+");\n"),a=a+("if ("+k+" > "+d+") {\n")+(v.i.bd+e+" = -"+e+";\n"),a+="}\n",a+="for ("+b+" = "+k+"; "+e+" >= 0 ? "+b+" <= "+d+" : "+b+" >= "+d+"; "+b+" += "+e+") {\n"+h+"}\n";return a};
v.i.controls_forEach=function(a){var b=v.i.$a.getName(B(a,"VAR"),v.K.ab),d=U(a,"LIST",v.i.Vf)||"[]",e=Vl(a,"DO");e=Wl(e,a);a="";var f=d;d.match(/^\w+$/)||(f=Zl(v.i.$a,b+"_list",v.K.ab),a+="var "+f+" = "+d+";\n");d=Zl(v.i.$a,b+"_index",v.K.ab);e=v.i.bd+b+" = "+f+"["+d+"];\n"+e;return a+("for (var "+d+" in "+f+") {\n"+e+"}\n")};
v.i.controls_flow_statements=function(a){var b="";v.i.vd&&(b+=Tl(v.i.vd,a));v.i.vc&&(b+=Tl(v.i.vc,a));if(v.i.vd){var d=v.ba.ee.zm.Vu(a);d&&!d.Oh&&(b+=Tl(v.i.vd,d))}switch(B(a,"FLOW")){case "BREAK":return b+"break;\n";case "CONTINUE":return b+"continue;\n"}throw Error("Unknown flow statement.");};v.i.uC={};v.i.procedures_defreturn=function(a){var b=v.i.$a.getName(B(a,"NAME"),v.va.ab),d="";v.i.vd&&(d+=Tl(v.i.vd,a));v.i.vc&&(d+=Tl(v.i.vc,a));d&&(d=Ul(d,v.i.bd));var e="";v.i.Em&&(e=Ul(Tl(v.i.Em,a),v.i.bd));var f=Vl(a,"STACK"),h=U(a,"RETURN",v.i.uc)||"",k="";f&&h&&(k=d);h&&(h=v.i.bd+"return "+h+";\n");for(var l=[],m=0;m<a.ma.length;m++)l[m]=v.i.$a.getName(a.ma[m],v.K.ab);d="function "+b+"("+l.join(", ")+") {\n"+d+e+f+k+h+"}";d=v.i.yo(a,d);v.i.fi["%"+b]=d;return null};
v.i.procedures_defnoreturn=v.i.procedures_defreturn;v.i.procedures_callreturn=function(a){for(var b=v.i.$a.getName(B(a,"NAME"),v.va.ab),d=[],e=0;e<a.ma.length;e++)d[e]=U(a,"ARG"+e,v.i.tc)||"null";return[b+"("+d.join(", ")+")",v.i.Qa]};v.i.procedures_callnoreturn=function(a){return v.i.procedures_callreturn(a)[0]+";\n"};
v.i.procedures_ifreturn=function(a){var b="if ("+(U(a,"CONDITION",v.i.uc)||"false")+") {\n";v.i.vc&&(b+=Ul(Tl(v.i.vc,a),v.i.bd));a.gh?(a=U(a,"VALUE",v.i.uc)||"null",b+=v.i.bd+"return "+a+";\n"):b+=v.i.bd+"return;\n";return b+"}\n"};v.i.gD={};v.i.variables_get=function(a){return[v.i.$a.getName(B(a,"VAR"),v.K.ab),v.i.Zh]};v.i.variables_set=function(a){var b=U(a,"VALUE",v.i.Vf)||"0";return v.i.$a.getName(B(a,"VAR"),v.K.ab)+" = "+b+";\n"};v.J.controls_if.T=function(){this.Ya=v.h.CONTROLS_IF_HELPURL;this.Xc(v.h.LOGIC_HUE);L(P(this,"IF0").Za("Boolean"),"if (");L(Q(this),") {");Zf(this,"DO0");L(Q(this,"TAIL"),"}");this.Fc(!0);this.Vd(!0);this.Ud(!0);this.Mh(new wf(["controls_if_elseif","controls_if_else"]));v.ba.cd.Qs.apply(this)};Da(v.J.controls_if,v.ba.cd.Ps);
v.J.controls_if.rc=function(){E(this,"ELSE")&&(this.Ra("ELSEMSG"),this.Ra("ELSE"));for(var a=1;E(this,"IF"+a);)this.Ra("IF"+a),this.Ra("TAIL"+a),this.Ra("DO"+a),a++;for(a=1;a<=this.yd;a++)L(P(this,"IF"+a).Za("Boolean"),"} else if ("),L(Q(this,"TAIL"+a),") {"),Zf(this,"DO"+a);this.pe&&(L(Q(this,"ELSEMSG"),"} else {"),Zf(this,"ELSE"));ag(this,"TAIL",null)};
v.J.logic_compare.T=function(){this.Ya=v.h.LOGIC_COMPARE_HELPURL;this.Xc(v.h.LOGIC_HUE);this.sd(!0,"Boolean");P(this,"A");L(P(this,"B"),new O([["==","EQ"],["!=","NEQ"],["<","LT"],["<=","LTE"],[">","GT"],[">=","GTE"]]),"OP");this.Fc(!0);var a=this;this.ta(function(){var b=B(a,"OP");return{EQ:v.h.LOGIC_COMPARE_TOOLTIP_EQ,NEQ:v.h.LOGIC_COMPARE_TOOLTIP_NEQ,LT:v.h.LOGIC_COMPARE_TOOLTIP_LT,LTE:v.h.LOGIC_COMPARE_TOOLTIP_LTE,GT:v.h.LOGIC_COMPARE_TOOLTIP_GT,GTE:v.h.LOGIC_COMPARE_TOOLTIP_GTE}[b]});this.ck=
[null,null]};v.h.LOGIC_OPERATION_AND="&&";v.h.LOGIC_OPERATION_OR="||";v.h.LOGIC_NEGATE_TITLE="! %1";v.h.LOGIC_BOOLEAN_TRUE="true";v.h.LOGIC_BOOLEAN_FALSE="false";v.J.controls_whileUntil.T=function(){$f(this,{message0:"while ( %1 ) { %2 %3 }",args0:[{type:"input_value",name:"BOOL",check:"Boolean"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:v.h.LOOPS_HUE,tooltip:v.h.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE,helpUrl:v.h.CONTROLS_WHILEUNTIL_HELPURL})};
v.J.controls_for.T=function(){$f(this,{message0:"for (var %1 = %2;  %3 < %4;  %5 += 1) { %6 %7 }",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"field_label",name:"VAR1",text:"?"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"field_label",name:"VAR2",text:"?"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:v.h.LOOPS_HUE,helpUrl:v.h.CONTROLS_FOR_HELPURL});
var a=this;this.ta(function(){return v.h.CONTROLS_FOR_TOOLTIP.replace("%1",B(a,"VAR"))})};v.J.controls_for.onchange=function(){var a=B(this,"VAR");Jd(this,a,"VAR1");Jd(this,a,"VAR2")};v.i.controls_for=function(a){var b=v.i.$a.getName(B(a,"VAR"),v.K.ab),d=U(a,"FROM",v.i.Vf)||"0",e=U(a,"TO",v.i.Vf)||"0",f=Vl(a,"DO");f=Wl(f,a.id);return"for (var "+b+" = "+d+"; "+b+" < "+e+"; "+b+" += 1) {\n"+f+"}\n"};v.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break ;";
v.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue ;";
v.J.math_arithmetic.T=function(){$f(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["+","ADD"],["-","MINUS"],["*","MULTIPLY"],["/","DIVIDE"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:v.h.MATH_HUE,helpUrl:v.h.MATH_ARITHMETIC_HELPURL});var a=this;this.ta(function(){var b=B(a,"OP");return{ADD:v.h.MATH_ARITHMETIC_TOOLTIP_ADD,MINUS:v.h.MATH_ARITHMETIC_TOOLTIP_MINUS,MULTIPLY:v.h.MATH_ARITHMETIC_TOOLTIP_MULTIPLY,
DIVIDE:v.h.MATH_ARITHMETIC_TOOLTIP_DIVIDE}[b]})};v.J.math_change.T=function(){$f(this,{message0:"%1 += %2;",args0:[{type:"field_variable",name:"VAR",variable:"name"},{type:"input_value",name:"DELTA",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:v.h.VARIABLES_HUE,helpUrl:v.h.MATH_CHANGE_HELPURL});var a=this;this.ta(function(){return v.h.MATH_CHANGE_TOOLTIP.replace("%1",B(a,"VAR"))})};
v.i.math_change=function(a){var b=U(a,"DELTA",v.i.Ng)||"0";return v.i.$a.getName(B(a,"VAR"),v.K.ab)+" += "+b+";\n"};v.J.math_random_int.T=function(){$f(this,{message0:"%1(%2,%3)",args0:["Math.randomInt",{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:v.h.MATH_HUE,tooltip:v.h.MATH_RANDOM_INT_TOOLTIP,helpUrl:v.h.MATH_RANDOM_INT_HELPURL})};v.h.MATH_RANDOM_FLOAT_TITLE_RANDOM="Math.random  (  )";
v.h.LISTS_CREATE_EMPTY_TITLE="[ ]";v.h.LISTS_CREATE_WITH_INPUT_WITH="[";v.J.lists_create_with.rc=function(){E(this,"TAIL")&&this.Ra("TAIL");this.od&&E(this,"EMPTY")?this.Ra("EMPTY"):this.od||E(this,"EMPTY")||L(Q(this,"EMPTY"),v.h.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.od;a++)if(!E(this,"ADD"+a)){var b=P(this,"ADD"+a);0==a?L(b,v.h.LISTS_CREATE_WITH_INPUT_WITH):L(b,",")}for(;E(this,"ADD"+a);)this.Ra("ADD"+a),a++;this.od&&L(Q(this,"TAIL"),"]")};
v.J.lists_getIndex={T:function(){$f(this,{message0:"%1[%2]",args0:[{type:"input_value",name:"VALUE",check:"Array"},{type:"input_value",name:"AT",check:"Number"}],inputsInline:!0,output:null,colour:v.h.LISTS_HUE,tooltip:v.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM+v.h.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1","#0"),helpUrl:v.h.LISTS_GET_INDEX_HELPURL})}};
v.J.lists_setIndex={T:function(){$f(this,{message0:"%1[%2] = %3;",args0:[{type:"input_value",name:"LIST",check:"Array"},{type:"input_value",name:"AT",check:"Number"},{type:"input_value",name:"TO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:v.h.LISTS_HUE,tooltip:v.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM+v.h.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1","#0"),helpUrl:v.h.LISTS_SET_INDEX_HELPURL})}};v.h.LISTS_LENGTH_TITLE="%1 . length";
v.J.variables_get.T=function(){this.Ya=v.h.VARIABLES_GET_HELPURL;this.Xc(v.h.VARIABLES_HUE);L(Q(this),new Nl("name"),"VAR");this.sd(!0);this.ta(v.h.VARIABLES_GET_TOOLTIP)};v.J.variables_set.T=function(){this.Ya=v.h.VARIABLES_SET_HELPURL;this.Xc(v.h.VARIABLES_HUE);L(L(L(P(this,"VALUE"),"var"),new Nl("name"),"VAR"),"=");L(Q(this),";");this.Fc(!0);this.Vd(!0);this.Ud(!0);this.ta(v.h.VARIABLES_SET_TOOLTIP)};
v.J.procedures_defnoreturn.T=function(){var a=new dl("",v.va.ro);L(L(L(L(L(Q(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");this.Mf(!0);L(Q(this),"}");this.Mh(new wf(["procedures_mutatorarg"]));v.h.PROCEDURES_DEFNORETURN_COMMENT&&this.zg(v.h.PROCEDURES_DEFNORETURN_COMMENT);this.Xc(v.h.PROCEDURES_HUE);this.ta(v.h.PROCEDURES_DEFNORETURN_TOOLTIP);this.Ya=v.h.PROCEDURES_DEFNORETURN_HELPURL;this.ma=[];this.Eb=[];this.Mf(!0);this.$e=null};
v.J.procedures_defreturn.T=function(){var a=new dl("",v.va.ro);L(L(L(L(L(Q(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");L(Tf(P(this,"RETURN"),v.Jg),"return");L(Q(this),"}");this.Mh(new wf(["procedures_mutatorarg"]));v.h.PROCEDURES_DEFRETURN_COMMENT&&this.zg(v.h.PROCEDURES_DEFRETURN_COMMENT);this.Xc(v.h.PROCEDURES_HUE);this.ta(v.h.PROCEDURES_DEFRETURN_TOOLTIP);this.Ya=v.h.PROCEDURES_DEFRETURN_HELPURL;this.ma=[];this.Eb=[];this.Mf(!0);this.$e=null};v.h.PROCEDURES_BEFORE_PARAMS="";
v.J.procedures_callnoreturn.T=function(){this.Ya=v.h.PROCEDURES_CALLNORETURN_HELPURL;this.Xc(v.h.PROCEDURES_HUE);L(L(Q(this),"","NAME"),"(");L(Q(this,"TAIL"),");");this.Fc(!0);this.Vd(!0);this.Ud(!0);this.ta(v.h.PROCEDURES_CALLNORETURN_TOOLTIP);this.ma=[];this.ug={}};v.J.procedures_callnoreturn.rc=function(){for(var a=0;a<this.ma.length;a++)if(!E(this,"ARG"+a)){new Pf(this.ma[a]);var b=P(this,"ARG"+a);0<a&&L(b,",");b.T()}for(;E(this,"ARG"+a);)this.Ra("ARG"+a),a++;ag(this,"TAIL",null)};
v.J.procedures_callreturn.T=function(){this.Ya=v.h.PROCEDURES_CALLRETURN_HELPURL;this.Xc(v.h.PROCEDURES_HUE);L(L(Q(this),"","NAME"),"(");L(Q(this,"TAIL"),")");this.Fc(!0);this.sd(!0);this.ta(v.h.PROCEDURES_CALLRETURN_TOOLTIP);this.ma=[];this.ug={}};v.J.procedures_callreturn.rc=v.J.procedures_callnoreturn.rc;delete v.J.procedures_ifreturn;v.J.pond_scan={T:function(){$f(this,{message0:"%1(%2)",args0:["scan",{type:"input_value",name:"DEGREE",check:["Number","Angle"]}],inputsInline:!0,output:"Number",colour:290,tooltip:V("Pond_scanTooltip")})}};v.i.pond_scan=function(a){return["scan("+(U(a,"DEGREE",v.i.uc)||0)+")",v.i.Qa]};
v.J.pond_cannon={T:function(){$f(this,{message0:"%1(%2, %3);",args0:["cannon",{type:"input_value",name:"DEGREE",check:["Number","Angle"]},{type:"input_value",name:"RANGE",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:290,tooltip:V("Pond_cannonTooltip")})}};v.i.pond_cannon=function(a){var b=U(a,"DEGREE",v.i.tc)||0;a=U(a,"RANGE",v.i.tc)||0;return"cannon("+b+", "+a+");\n"};
v.J.pond_swim={T:function(){$f(this,{message0:"%1(%2);",args0:["swim",{type:"input_value",name:"DEGREE",check:["Number","Angle"]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:290,tooltip:V("Pond_swimTooltip")})}};v.i.pond_swim=function(a){return"swim("+(U(a,"DEGREE",v.i.uc)||0)+");\n"};v.J.pond_stop={T:function(){$f(this,{message0:"%1(%2);",args0:["stop",""],previousStatement:null,nextStatement:null,colour:290,tooltip:V("Pond_stopTooltip")})}};v.i.pond_stop=function(){return"stop();\n"};
v.J.pond_health={T:function(){$f(this,{message0:"%1(%2)",args0:["health",""],output:"Number",colour:290,tooltip:V("Pond_healthTooltip")})}};v.i.pond_health=function(){return["health()",v.i.Qa]};v.J.pond_speed={T:function(){$f(this,{message0:"%1(%2)",args0:["speed",""],output:"Number",colour:290,tooltip:V("Pond_speedTooltip")})}};v.i.pond_speed=function(){return["speed()",v.i.Qa]};v.J.pond_getX={T:function(){$f(this,{message0:"%1(%2)",args0:["getX",""],output:"Number",colour:290,tooltip:V("Pond_locXTooltip")})}};
v.i.pond_getX=function(){return["getX()",v.i.Qa]};v.J.pond_getY={T:function(){$f(this,{message0:"%1(%2)",args0:["getY",""],output:"Number",colour:290,tooltip:V("Pond_locYTooltip")})}};v.i.pond_getY=function(){return["getY()",v.i.Qa]};
v.J.pond_math_number={T:function(){this.Ya=v.h.MATH_NUMBER_HELPURL;this.Xc(v.h.MATH_HUE);L(Q(this,"DUMMY"),new Ml(0),"NUM");this.sd(!0,"Number");this.ta(v.h.MATH_NUMBER_TOOLTIP)},Oa:function(){var a=document.createElement("mutation");a.setAttribute("angle_field",C(this,"NUM").constructor==Bl);return a},eb:function(a){a="true"==a.getAttribute("angle_field");this.As(a)},onchange:function(){if(this.u&&this.M.$&&this.M.$.He){var a=C(this,"NUM");-1!=this.M.$.He.indexOf("Angle")?a.constructor!=Bl&&this.As(!0):
a.constructor!=Ml&&this.As(!1)}},As:function(a){v.j.disable();var b=E(this,"DUMMY"),d=C(this,"NUM"),e=d.getValue();a?(Sf(b,"NUM"),d=new Bl(""),L(b,d,"NUM"),d.Ye(e)):(Sf(b,"NUM"),L(b,new Ml(e),"NUM"));this.Y&&this.ia();v.j.enable()}};
v.J.pond_math_single={T:function(){$f(this,{message0:"%1 (%2)",args0:[{type:"field_dropdown",name:"OP",options:[["Math.sqrt","ROOT"],["Math.abs","ABS"],["Math.sin_deg","SIN"],["Math.cos_deg","COS"],["Math.tan_deg","TAN"],["Math.asin_deg","ASIN"],["Math.acos_deg","ACOS"],["Math.atan_deg","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],inputsInline:!0,output:"Number",colour:v.h.MATH_HUE,helpUrl:v.h.MATH_SINGLE_HELPURL});var a=this;this.ta(function(){var b=B(a,"OP");return{ROOT:v.h.MATH_SINGLE_TOOLTIP_ROOT,
ABS:v.h.MATH_SINGLE_TOOLTIP_ABS,SIN:v.h.MATH_TRIG_TOOLTIP_SIN,COS:v.h.MATH_TRIG_TOOLTIP_COS,TAN:v.h.MATH_TRIG_TOOLTIP_TAN,ASIN:v.h.MATH_TRIG_TOOLTIP_ASIN,ACOS:v.h.MATH_TRIG_TOOLTIP_ACOS,ATAN:v.h.MATH_TRIG_TOOLTIP_ATAN}[b]})}};
v.i.pond_math_single=function(a){var b=B(a,"OP");a=U(a,"NUM",v.i.uc)||"0";switch(b){case "ABS":b="Math.abs("+a+")";break;case "ROOT":b="Math.sqrt("+a+")";break;case "SIN":b="Math.sin_deg("+a+")";break;case "COS":b="Math.cos_deg("+a+")";break;case "TAN":b="Math.tan_deg("+a+")";break;case "ASIN":b="Math.asin_deg("+a+")";break;case "ACOS":b="Math.acos_deg("+a+")";break;case "ATAN":b="Math.atan_deg("+a+")";break;default:throw"Unknown math operator: "+b;}return[b,v.i.Qa]};v.i.pond_math_number=v.i.math_number;
v.J.pond_loc_x=v.J.pond_getX;v.i.pond_loc_x=v.i.pond_getX;v.J.pond_loc_y=v.J.pond_getY;v.i.pond_loc_y=v.i.pond_getY;v.J.pond_controls_if=v.J.controls_if;v.i.pond_controls_if=v.i.controls_if;v.J.pond_loops_while=v.J.controls_whileUntil;v.i.pond_loops_while=v.i.controls_whileUntil;v.J.pond_math_arithmetic=v.J.math_arithmetic;v.i.pond_math_arithmetic=v.i.math_arithmetic;v.J.pond_math_change=v.J.math_change;v.i.pond_math_change=v.i.math_change;var $n={};function ao(){throw Error("Do not instantiate directly");}ao.prototype.Dp=null;ao.prototype.bh=function(){return this.content};ao.prototype.toString=function(){return this.content};ao.prototype.Ho=function(){if(this.Xt!==$n)throw Error("Sanitized content was not of kind HTML.");return oh(this.toString(),this.Dp||null)};function bo(a){if(null!=a)switch(a.Dp){case 1:return 1;case -1:return-1;case 0:return 0}return null}function co(){ao.call(this)}u(co,ao);co.prototype.Xt=$n;function eo(a){return null!=a&&a.Xt===$n?a:fo(String(String(a)).replace(go,ho),bo(a))}
var fo=function(a){function b(){}b.prototype=a.prototype;return function(d,e){var f=new b;f.content=String(d);void 0!==e&&(f.Dp=e);return f}}(co),io={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ho(a){return io[a]}var go=/[\x00\x22\x26\x27\x3c\x3e]/g;var jo;
function ko(){var a=mn,b=on;return'<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Pond_scanTooltip">Scan for enemies. Specify a direction (0-360). Returns the distance to the closest enemy in that direction. Returns Infinity if no enemy found.</span><span id="Pond_cannonTooltip">Fire the cannon. Specify a direction (0-360) and a range (0-70).</span><span id="Pond_swimTooltip">Swim forward. Specify a direction (0-360).</span><span id="Pond_stopTooltip">Stop swimming. Player will slow to a stop.</span><span id="Pond_healthTooltip">Returns the player\'s current health (0 is dead, 100 is healthy).</span><span id="Pond_speedTooltip">Returns the current speed of the player (0 is stopped, 100 is full speed).</span><span id="Pond_locXTooltip">Returns the X coordinate of the player (0 is the left edge, 100 is the right edge).</span><span id="Pond_locYTooltip">Returns the Y coordinate of the player (0 is the bottom edge, 100 is the top edge).</span></div><div style="display: none"><span id="Pond_rabbitName">Rabbit</span><span id="Pond_counterName">Counter</span><span id="Pond_rookName">Rook</span><span id="Pond_sniperName">Sniper</span><span id="Pond_myName">Player</span></div><h1><span id="title">'+((b?
'<a href="index.html?lang='+eo(a)+'">':'<a href="./?lang='+eo(a)+'">')+"Blockly Games</a> : "+eo({appName:"Pond"}.appName)+'</span></h1><div id="visualization"><canvas id="scratch" width="400" height="400" style="display: none"></canvas><canvas id="display" width="400" height="400"></canvas></div><table id="avatarStatTable"><tbody><tr id="avatarStatRow"></tr></tbody></table><table width="400"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><button id="docsButton" title="Display the language documentation.">Documentation</button></td><td><button id="runButton" class="primary" title="Run the program you wrote."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Stop the program and reset the level."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><div id="dialogDocs"><img src="common/1x1.gif" class="close icon21" id="closeDocs"><iframe id="frameDocs"></iframe></div><div id="tabarea"><div id="tabbar" class="goog-tab-bar goog-tab-bar-top"><div class="goog-tab goog-tab-selected">Blocks</div><div class="goog-tab">JavaScript</div></div><div class="goog-tab-bar-clear"></div><div id="blockly"></div><div id="editor"></div></div><xml id="toolbox" style="display: none;" xmlns="https://developers.google.com/blockly/xml"><category name="Pond"><block type="pond_cannon"><value name="DEGREE"><shadow type="pond_math_number"><mutation angle_field="true"></mutation><field name="NUM">0</field></shadow></value><value name="RANGE"><shadow type="pond_math_number"><mutation angle_field="false"></mutation><field name="NUM">70</field></shadow></value></block><block type="pond_scan"><value name="DEGREE"><shadow type="pond_math_number"><mutation angle_field="true"></mutation><field name="NUM">0</field></shadow></value></block><block type="pond_swim"><value name="DEGREE"><shadow type="pond_math_number"><mutation angle_field="true"></mutation><field name="NUM">0</field></shadow></value></block><block type="pond_stop"></block><block type="pond_getX"></block><block type="pond_getY"></block><block type="pond_speed"></block><block type="pond_health"></block></category><category name="Logic"><block type="controls_if"></block><block type="logic_compare"></block><block type="logic_operation"></block><block type="logic_boolean"></block></category><category name="Loops"><block type="controls_whileUntil"></block></category><category name="Math"><block type="pond_math_number"><mutation angle_field="false"></mutation></block><block type="math_arithmetic"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="pond_math_single"><value name="NUM"><shadow type="math_number"><field name="NUM">9</field></shadow></value></block><block type="math_random_float"></block></category><sep></sep><category name="Variables" custom="VARIABLE"></category><category name="Functions" custom="PROCEDURE"></category></xml>\n<div id="playerRabbit" style="display: none">\n/* rabbit */\n// rabbit runs around the field, randomly and never fires; use as a target.\n\n/* go - go to the point specified */\nfunction go (dest_x, dest_y) {\n  var course = plot_course(dest_x, dest_y);\n  while (distance(getX(), getY(), dest_x, dest_y) > 5) {\n    drive(course, 25);\n  }\n  while (speed() > 0) {\n    drive(course, 0);\n  }\n}\n\n/* distance forumula. */\nfunction distance(x1, y1, x2, y2) {\n  var x = x1 - x2;\n  var y = y1 - y2;\n  return Math.sqrt((x * x) + (y * y));\n}\n\n/* plot_course - figure out which heading to go. */\nfunction plot_course(xx, yy) {\n  var d;\n  var curx = getX();\n  var cury = getY();\n  var x = curx - xx;\n  var y = cury - yy;\n\n  if (x == 0) {\n    if (yy > cury) {\n      d = 90;\n    } else {\n      d = 270;\n    }\n  } else {\n    if (yy < cury) {\n      if (xx > curx) {\n        d = 360 + Math.atan_deg(y / x);\n      } else {\n        d = 180 + Math.atan_deg(y / x);\n      }\n    } else {\n      if (xx > curx) {\n        d = Math.atan_deg(y / x);\n      } else {\n        d = 180 + Math.atan_deg(y / x);\n      }\n    }\n  }\n  return d;\n}\n\nwhile (true) {\n  // Go somewhere in the field.\n  var x = Math.random() * 100;\n  var y = Math.random() * 100;\n  go(x, y);\n}\n</div>\n\n<div id="playerCounter" style="display: none">\n/* counter */\n/* scan in a counter-clockwise direction (increasing degrees) */\n/* moves when hit */\n\nvar range;\nvar last_dir = 0;\n\nvar res = 2;\nvar d = damage();\nvar angle = Math.random() * 360;\nwhile (true) {\n  while ((range = scan(angle, res)) != Infinity) {\n    if (range > 70) { /* out of range, head toward it */\n      drive(angle, 50);\n      var i = 1;\n      while (i++ < 50) /* use a counter to limit move time */\n        ;\n      drive (angle, 0);\n      if (d != damage()) {\n        d = damage();\n        run();\n      }\n      angle -= 3;\n    } else {\n      while (!cannon(angle, range))\n        ;\n      if (d != damage()) {\n        d = damage();\n        run();\n      }\n      angle -= 15;\n    }\n  }\n  if (d != damage()) {\n    d = damage();\n    run();\n  }\n  angle += res;\n  angle %= 360;\n}\n\n/* run moves around the center of the field */\nfunction run() {\n  var i = 0;\n  var x = getX();\n  var y = getY();\n\n  if (last_dir == 0) {\n    last_dir = 1;\n    if (y > 51) {\n      drive(270, 100);\n      while (y - 10 < getY() && i++ < 50)\n        ;\n      drive(270, 0);\n    } else {\n      drive(90, 100);\n      while (y + 10 > getY() && i++ < 50)\n        ;\n      drive(90, 0);\n    }\n  } else {\n    last_dir = 0;\n    if (x > 51) {\n      drive(180, 100);\n      while (x - 10 < getX() && i++ < 50)\n        ;\n      drive(180, 0);\n    } else {\n      drive(0, 100);\n      while (x + 10 > getX() && i++ < 50)\n        ;\n      drive(0, 0);\n    }\n  }\n}\n</div>\n\n<div id="playerRook" style="display: none">\n/* rook.r  -  scans the battlefield like a rook, i.e., only 0,90,180,270 */\n/* move horizontally only, but looks horz and vertically */\n\n/* move to center of board */\nif (getY() < 50) {\n  while (getY() < 40)        /* stop near center */\n    drive(90, 100);           /* start moving */\n} else {\n  while (getY() > 60)        /* stop near center */\n    drive(270, 100);          /* start moving */\n}\ndrive(0, 0);\nwhile (speed() > 0)\n  ;\n\n/* initialize starting parameters */\nvar d = damage();\nvar course = 0;\nvar boundary = 99;\ndrive(course, 30);\n\n/* main loop */\nwhile(true) {\n  /* look all directions */\n  look(0);\n  look(90);\n  look(180);\n  look(270);\n\n  /* if near end of battlefield, change directions */\n  if (course == 0) {\n    if (getX() > boundary || speed() == 0)\n      change();\n  }\n  else {\n    if (getX() < boundary || speed() == 0)\n      change();\n  }\n}\n\n/* look somewhere, and fire cannon repeatedly at in-range target */\nfunction look(deg) {\n  var range;\n  while ((range = scan(deg, 4)) <= 70)  {\n    drive(course, 0);\n    cannon(deg, range);\n    if (d + 20 != damage()) {\n      d = damage();\n      change();\n    }\n  }\n}\n\nfunction change() {\n  if (course == 0) {\n    boundary = 1;\n    course = 180;\n  } else {\n    boundary = 99;\n    course = 0;\n  }\n  drive(course, 30);\n}\n</div>\n\n<div id="playerSniper" style="display: none">\n/* sniper */\n/* strategy: since a scan of the entire battlefield can be done in 90 */\n/* degrees from a corner, sniper can scan the field quickly. */\n\n/* external variables, that can be used by any function */\nvar corner = 0;           /* current corner 0, 1, 2, or 2 */\nvar sc = 0;               /* current scan start */\n\nvar range;          /* range to target */\n\n/* initialize the corner info */\n/* x and y location of a corner, and starting scan degree */\nvar c1x = 2,  c1y = 2,  s1 = 0;\nvar c2x = 2,  c2y = 98, s2 = 270;\nvar c3x = 98, c3y = 98, s3 = 180;\nvar c4x = 98, c4y = 2,  s4 = 90;\nvar closest = Infinity;\nnew_corner();       /* start at a random corner */\nvar d = damage();       /* get current damage */\nvar dir = sc;           /* starting scan direction */\n\nwhile (true) {         /* loop is executed forever */\n  while (dir < sc + 90) {  /* scan through 90 degree range */\n    range = scan(dir, 2);   /* look at a direction */\n    if (range <= 70) {\n      while (range > 0) {    /* keep firing while in range */\n        closest = range;     /* set closest flag */\n        cannon(dir, range);   /* fire! */\n        range = scan(dir, 1); /* check target again */\n        if (d + 15 > damage())  /* sustained several hits, */\n          range = 0;            /* goto new corner */\n      }\n      dir -= 10;             /* back up scan, in case */\n    }\n\n    dir += 2;                /* increment scan */\n    if (d != damage()) {     /* check for damage incurred */\n      new_corner();          /* we\'re hit, move now */\n      d = damage();\n      dir = sc;\n    }\n  }\n\n  if (closest == Infinity) {       /* check for any targets in range */\n    new_corner();             /* nothing, move to new corner */\n    d = damage();\n    dir = sc;\n  } else {                     /* targets in range, resume */\n    dir = sc;\n  }\n  closest = Infinity;\n}\n\n/* new corner function to move to a different corner */\nfunction new_corner() {\n  var x, y;\n\n  var rand = Math.floor(Math.random() * 4);           /* pick a random corner */\n  if (rand == corner)       /* but make it different than the */\n    corner = (rand + 1) % 4;/* current corner */\n  else\n    corner = rand;\n  if (corner == 0) {       /* set new x,y and scan start */\n    x = c1x;\n    y = c1y;\n    sc = s1;\n  }\n  if (corner == 1) {\n    x = c2x;\n    y = c2y;\n    sc = s2;\n  }\n  if (corner == 2) {\n    x = c3x;\n    y = c3y;\n    sc = s3;\n  }\n  if (corner == 3) {\n    x = c4x;\n    y = c4y;\n    sc = s4;\n  }\n\n  /* find the heading we need to get to the desired corner */\n  var angle = plot_course(x,y);\n\n  /* start drive train, full speed */\n\n  /* keep traveling until we are within 15 meters */\n  /* speed is checked in case we run into wall, other robot */\n  /* not terribly great, since were are doing nothing while moving */\n\n  while (distance(getX(), getY(), x, y) > 15)\n    drive(angle, 100);\n\n  /* cut speed, and creep the rest of the way */\n\n  while (distance(getX(), getY(), x, y) > 1)\n    drive(angle, 20);\n\n  /* stop drive, should coast in the rest of the way */\n  drive(angle, 0);\n}  /* end of new_corner */\n\n/* classical pythagorean distance formula */\nfunction distance(x1, y1, x2, y2) {\n  var x = x1 - x2;\n  var y = y1 - y2;\n  return Math.sqrt((x * x) + (y * y));\n}\n\n/* plot course function, return degree heading to */\n/* reach destination x, y; uses atan() trig function */\nfunction plot_course(xx, yy) {\n  var d;\n  var x,y;\n  var curx, cury;\n\n  curx = getX();  /* get current location */\n  cury = getY();\n  x = curx - xx;\n  y = cury - yy;\n\n  /* atan only returns -90 to +90, so figure out how to use */\n  /* the atan() value */\n\n  if (x == 0) {      /* x is zero, we either move due north or south */\n    if (yy > cury)\n      d = 90;        /* north */\n    else\n      d = 270;       /* south */\n  } else {\n    if (yy < cury) {\n      if (xx > curx)\n        d = 360 + Math.atan_deg(y / x);  /* south-east, quadrant 4 */\n      else\n        d = 180 + Math.atan_deg(y / x);  /* south-west, quadrant 3 */\n    } else {\n      if (xx > curx)\n        d = Math.atan_deg(y / x);        /* north-east, quadrant 1 */\n      else\n        d = 180 + Math.atan_deg(y / x);  /* north-west, quadrant 2 */\n    }\n  }\n  return d;\n}\n</div>\n<div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div>')}
;function lo(){}u(lo,nk);qa(lo);c=lo.prototype;c.lb=function(){return"goog-tab"};c.dl=function(){return"tab"};c.ea=function(a){var b=lo.w.ea.call(this,a);(a=a.vq())&&this.ta(b,a);return b};c.Me=function(a,b){b=lo.w.Me.call(this,a,b);var d=this.vq(b);d&&(a.km=d);a.Bl()&&(d=a.getParent())&&ua(d.gk)&&(a.Ae(8,!1),d.gk(a));return b};c.vq=function(a){return a.title||""};c.ta=function(a,b){a&&(a.title=b||"")};function mo(a,b,d){T.call(this,a,b||lo.yf(),d);this.Ed(8,!0);this.Ui|=9}u(mo,T);mo.prototype.vq=function(){return this.km};mo.prototype.ta=function(a){this.pa.ta(this.P(),a);this.km=a};fk("goog-tab",function(){return new mo(null)});function no(){this.np="tablist"}u(no,ik);qa(no);no.prototype.lb=function(){return"goog-tab-bar"};no.prototype.ns=function(a,b,d){this.Cv||(this.Vm||oo(this),this.Cv=Gg(this.Vm));var e=this.Cv[b];e?a.oc(e):no.w.ns.call(this,a,b,d)};no.prototype.Ej=function(a){var b=no.w.Ej.call(this,a);this.Vm||oo(this);b.push(this.Vm[a.ka]);return b};function oo(a){var b=a.lb();a.Vm=Jg(po,b+"-top",qo,b+"-bottom",ro,b+"-start",so,b+"-end")};function to(a,b,d){this.oc(a||po);Ik.call(this,this.Ah,b||no.yf(),d);uo(this)}u(to,Ik);var po="top",qo="bottom",ro="start",so="end";c=to.prototype;c.lz=!0;c.ze=null;c.Qb=function(){to.w.Qb.call(this);uo(this)};c.Fb=function(){to.w.Fb.call(this);this.ze=null};c.removeChild=function(a,b){vo(this,a);return to.w.removeChild.call(this,a,b)};c.oc=function(a){this.setOrientation(a==ro||a==so?mk:lk);this.ka=a};c.hs=function(a){to.w.hs.call(this,a);this.lz&&this.gk(S(this,a))};
c.gk=function(a){a?zk(a,!0):this.ze&&zk(this.ze,!1)};function vo(a,b){if(b&&b==a.ze){for(var d=Jj(a,b),e=d-1;b=S(a,e);e--){var f=b;if(f.isVisible()&&f.isEnabled()){a.gk(b);return}}for(d+=1;b=S(a,d);d++)if(e=b,e.isVisible()&&e.isEnabled()){a.gk(b);return}a.gk(null)}}c.$A=function(a){this.ze&&this.ze!=a.target&&zk(this.ze,!1);this.ze=a.target};c.aB=function(a){a.target==this.ze&&(this.ze=null)};c.YA=function(a){vo(this,a.target)};c.ZA=function(a){vo(this,a.target)};
c.nl=function(){S(this,this.mb)||this.rd(this.ze||S(this,0))};function uo(a){Dj(a).za(a,"select",a.$A).za(a,"unselect",a.aB).za(a,"disable",a.YA).za(a,"hide",a.ZA)}fk("goog-tab-bar",function(){return new to});var xn="pond-duck",wo=!0,xo=!0;
function yo(a){for(var b=["blockly","editor"],d=0,e;e=b[d];d++)e=document.getElementById(e),e.style.visibility=d==a?"visible":"hidden";b=[".blocklyTooltipDiv",".blocklyToolboxDiv"];for(d=0;e=b[d];d++)e=document.querySelector(e),e.style.visibility=0==a?"visible":"hidden";document.getElementById("docsButton").disabled=!1;pn=0==a?11:12;Un&&(document.getElementById("frameDocs").src="pond/docs.html?lang="+mn+"&mode="+pn);1==a&&wo&&(a=Ql(),xo=!0,Y.md.setValue(a,-1),xo=!1)}
function zo(){if(!xo)if(wo)if(!F(Rl,!1).length||confirm(V("Games_breakLink")))S(jo,0).ob(!1),wo=!1;else{var a=Ql();xo=!0;Y.md.setValue(a,-1);xo=!1}else a=Y.md.getValue(),a.trim()||(Rl.clear(),S(jo,0).ob(!0),wo=!0)}
window.addEventListener("load",function(){function a(){var q=d.offsetTop;e.style.top=q-window.pageYOffset+"px";e.style.left=b?"10px":"420px";e.style.width=window.innerWidth-440+"px";q=Math.max(0,q+e.offsetHeight-window.pageYOffset)+"px";for(var r=b?"10px":"420px",t=window.innerWidth-440+"px",p=0,z;z=k[p];p++)z.style.top=q,z.style.left=r,z.style.width=t}document.body.innerHTML=ko();Y.T();Ln();yn("runButton",Xn);yn("resetButton",Zn);yn("docsButton",Vn);yn("closeDocs",Wn);setTimeout(Y.oB,1);setTimeout(Y.pB,
1);jo=new to;jo.Me(document.getElementById("tabbar"));var b=-1!=ln.indexOf(mn),d=document.getElementById("visualization"),e=document.getElementById("tabarea"),f=document.getElementById("blockly"),h=document.getElementById("editor"),k=[f,h];window.addEventListener("scroll",function(){a(null);v.ik(Rl)});window.addEventListener("resize",a);a(null);wi(jo,"select",function(q){q=q.target.getParent();yo(Jj(q,q.ze))});Y.md=window.ace.edit("editor");Y.md.setTheme("ace/theme/chrome");Y.md.setShowPrintMargin(!1);
f=Y.md.getSession();f.setMode("ace/mode/javascript");f.setTabSize(2);f.setUseSoftTabs(!0);f.on("change",zo);Y.md.setValue("cannon(0, 70);",-1);f=document.getElementById("toolbox");Rl=v.mh("blockly",{media:"third-party/blockly/media/",rtl:!1,toolbox:f,trashcan:!0,zoom:{controls:!0,wheel:!0}});Xl("scan,cannon,drive,swim,stop,speed,damage,health,loc_x,getX,loc_y,getY,");f=v.N.Qf('<xml><block type="pond_cannon" x="70" y="70"><value name="DEGREE"><shadow type="pond_math_number"><mutation angle_field="true"></mutation><field name="NUM">0</field></shadow></value><value name="RANGE"><shadow type="pond_math_number"><mutation angle_field="false"></mutation><field name="NUM">70</field></shadow></value></block></xml>');
Rl.clear();v.N.nf(f,Rl);Rl.xp();f=[{start:new y(20,80),Oc:0,name:"Pond_myName",code:null},{start:new y(80,20),Oc:0,name:"Pond_rookName",code:"playerRook"},{start:new y(20,20),Oc:0,name:"Pond_counterName",code:"playerCounter"},{start:new y(80,80),Oc:0,name:"Pond_sniperName",code:"playerSniper"}];for(var l=0;h=f[l];l++){var m=h.code?document.getElementById(h.code).textContent:function(){return wo?Ql():Y.md.getValue()},n=V(h.name);Z.dz(n,m,h.start,h.Oc)}Z.reset();Nn();yo(0);xo=!1});
