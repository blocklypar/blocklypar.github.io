// Automatically generated file.  Do not edit!
'use strict';var c,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(a,b){if(b){var d=ba;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&aa(d,a,{configurable:!0,writable:!0,value:b})}}
ca("String.prototype.startsWith",function(a){return a?a:function(b,d){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var e=this+"";b+="";var f=e.length,g=b.length;d=Math.max(0,Math.min(d|0,e.length));for(var k=0;k<g&&d<f;)if(e[d++]!=b[k++])return!1;return k>=g}});
function ea(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function fa(){fa=function(){};ba.Symbol||(ba.Symbol=ha)}function ia(a,b){this.Sy=a;aa(this,"description",{configurable:!0,writable:!0,value:b})}ia.prototype.toString=function(){return this.Sy};var ha=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ia("jscomp_symbol_"+(d||"")+"_"+b++,d)}var b=0;return a}();
function ja(){fa();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ka(ea(this))}});ja=function(){}}function ka(a){ja();a={next:a};a[ba.Symbol.iterator]=function(){return this};return a}
function la(a,b){ja();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var f=d++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}ca("Array.prototype.keys",function(a){return a?a:function(){return la(this,function(b){return b})}});var h=this||self;
function ma(a,b){a=a.split(".");var d=h;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=b}function na(){}function oa(a){a.Wr=void 0;a.rh=function(){return a.Wr?a.Wr:a.Wr=new a}}
function pa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function qa(a){return"array"==pa(a)}function ra(a){var b=pa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function sa(a){return"function"==pa(a)}function ta(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ua(a){return a[va]||(a[va]=++wa)}var va="closure_uid_"+(1E9*Math.random()>>>0),wa=0;function xa(a,b,d){return a.call.apply(a.bind,arguments)}
function ya(a,b,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}}function za(a,b,d){za=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xa:ya;return za.apply(null,arguments)}
function Aa(a,b){var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice();e.push.apply(e,arguments);return a.apply(this,e)}}function n(a,b){function d(){}d.prototype=b.prototype;a.A=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.XA=function(e,f,g){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return b.prototype[f].apply(e,k)}};
var u={h:{}};
u.g={};u.g.XA={};u.g.global=this||self;u.g.T=function(a,b){this.x=a;this.y=b};u.g.T.Qe=function(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1};u.g.T.Xv=function(a,b){var d=a.x-b.x;a=a.y-b.y;return Math.sqrt(d*d+a*a)};u.g.T.wD=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};u.g.T.Jl=function(a,b){return new u.g.T(a.x-b.x,a.y-b.y)};u.g.T.sum=function(a,b){return new u.g.T(a.x+b.x,a.y+b.y)};u.g.T.prototype.scale=function(a){this.x*=a;this.y*=a;return this};u.g.T.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};u.g.Xa={};u.g.Xa.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};u.g.Xa.gt=function(a){return a.length?a.reduce(function(b,d){return b.length<d.length?b:d}).length:0};u.g.Xa.wB=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||u.g.Xa.gt(a);for(var e=0;e<b;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return b};
u.g.Xa.xB=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||u.g.Xa.gt(a);for(var e=0;e<b;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return b};u.g.Xa.Py=function(a,b){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=u.g.Xa.fF(a[d],b);return a.join("\n")};
u.g.Xa.fF=function(a,b){if(a.length<=b)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>b&&(b=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=u.g.Xa.Qy(d,a,b);e=u.g.Xa.ut(d,a,b);a=u.g.Xa.gF(d,a);f++}while(e>g);return k};
u.g.Xa.ut=function(a,b,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===b[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===b[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=b=0;g<e.length;g++)b-=2*Math.pow(Math.abs(d-e[g]),1.5),b-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?b+=d/3:-1!=",;)]}".indexOf(f[g])&&(b+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(b+=.5);return b};
u.g.Xa.Qy=function(a,b,d){for(var e=u.g.Xa.ut(a,b,d),f,g=0;g<b.length-1;g++)if(b[g]!=b[g+1]){var k=[].concat(b);k[g]=!k[g];k[g+1]=!k[g+1];var l=u.g.Xa.ut(a,k,d);l>e&&(e=l,f=k)}return f?u.g.Xa.Qy(a,f,d):b};u.g.Xa.gF=function(a,b){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==b[e]&&d.push(b[e]?"\n":" ");return d.join("")};u.g.userAgent={};
(function(a){function b(e){return-1!=d.indexOf(e.toUpperCase())}u.g.userAgent.raw=a;var d=u.g.userAgent.raw.toUpperCase();u.g.userAgent.Wg=b("Trident")||b("MSIE");u.g.userAgent.rn=b("Edge");u.g.userAgent.Mz=b("JavaFX");u.g.userAgent.Ku=b("WebKit")&&!u.g.userAgent.rn;u.g.userAgent.St=b("Gecko")&&!u.g.userAgent.Ku&&!u.g.userAgent.Wg&&!u.g.userAgent.rn;u.g.userAgent.Cj=b("Android");u.g.userAgent.gi=b("iPad");u.g.userAgent.Xt=b("iPod");u.g.userAgent.Wt=b("iPhone")&&!u.g.userAgent.gi&&!u.g.userAgent.Xt;
u.g.userAgent.Pz=b("Macintosh");u.g.userAgent.vA=u.g.userAgent.gi||u.g.userAgent.Cj&&!b("Mobile")||b("Silk");u.g.userAgent.au=!u.g.userAgent.vA&&(u.g.userAgent.Xt||u.g.userAgent.Wt||u.g.userAgent.Cj||b("IEMobile"))})(u.g.global.navigator&&u.g.global.navigator.userAgent||"");u.g.sf=function(a,b){this.width=a;this.height=b};u.g.sf.Qe=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};u.g.style={};u.g.style.yg=function(a){if("none"!=u.g.style.zC(a)){var b=a.offsetWidth;a=a.offsetHeight;return new u.g.sf(b,a)}var d=a.style,e=d.display,f=d.visibility,g=d.position;d.visibility="hidden";d.position="absolute";d.display="inline";b=a.offsetWidth;a=a.offsetHeight;d.display=e;d.position=g;d.visibility=f;return new u.g.sf(b,a)};u.g.style.zC=function(a){return u.g.style.getComputedStyle(a,"display")||u.g.style.qC(a)||a.style&&a.style.display};
u.g.style.getComputedStyle=function(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""};u.g.style.qC=function(a){return a.currentStyle?a.currentStyle.display:null};u.g.style.wC=function(a){var b=new u.g.T(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new u.g.T(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);b.x=a.left+d.x;b.y=a.top+d.y;return b};
u.g.style.xw=function(){var a=document.body,b=document.documentElement;return new u.g.T(a.scrollLeft||b.scrollLeft,a.scrollTop||b.scrollTop)};
u.g.LD=function(a){a.preventDefault();a.stopPropagation()};u.g.So=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
u.g.Rd=function(a){var b=new u.g.T(0,0),d=a.getAttribute("x");d&&(b.x=parseInt(d,10));if(d=a.getAttribute("y"))b.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(u.g.Rd.HA))b.x+=Number(d[1]),d[3]&&(b.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(u.g.Rd.IA))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b};
u.g.Ql=function(a){for(var b=0,d=0;a;){var e=u.g.Rd(a);b+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new u.g.T(b,d)};u.g.Rd.HA=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;u.g.Rd.IA=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;u.g.Ch=function(a){return a.ctrlKey&&u.g.userAgent.Pz?!0:2==a.button};
u.g.sm=function(a,b,d){var e=b.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=b.getScreenCTM().inverse());return e.matrixTransform(d)};u.g.Ar=function(a){switch(a.deltaMode){case 0:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*u.Yt,y:a.deltaY*u.Yt};case 2:return{x:a.deltaX*u.ou,y:a.deltaY*u.ou}}};u.g.SE=function(a){return u.g.ot(a,!0)};u.g.bc=function(a){if("string"!=typeof a)return a;a=u.g.ot(a,!1);return a.length?a[0]:""};
u.g.bv=function(a){for(var b=u.h,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==b[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
u.g.ot=function(a,b){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):b&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=u.g.Xa.startsWith(l,"BKY_")?
l.substring(4):null)&&l in u.h?(f=u.h[l],"string"==typeof f?Array.prototype.push.apply(d,u.g.ot(f,b)):b?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);b=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&b.push(l),a.length=0,b.push(d[k]));(l=a.join(""))&&b.push(l);a.length=0;return b};u.g.Gf=function(){for(var a=u.g.Gf.ly.length,b=[],d=0;20>d;d++)b[d]=u.g.Gf.ly.charAt(Math.random()*a);return b.join("")};
u.g.Gf.ly="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
u.g.zh=function(){if(void 0!==u.g.zh.Eq)return u.g.zh.Eq;if(!u.g.global.getComputedStyle)return!1;var a=document.createElement("p"),b="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";b=u.g.global.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(d[e])}document.body.removeChild(a);
u.g.zh.Eq="none"!==b;return u.g.zh.Eq};u.g.Vx=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)};u.g.ww=function(){var a=u.g.style.xw();return{right:document.documentElement.clientWidth+a.x,bottom:document.documentElement.clientHeight+a.y,top:a.y,left:a.x}};
u.g.tl=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};u.g.wr=function(){var a=document.documentElement,b=window;return u.g.userAgent.Wg&&b.pageYOffset!=a.scrollTop?new u.g.T(a.scrollLeft,a.scrollTop):new u.g.T(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)};u.g.tr=function(a,b){var d=Object.create(null),e=Ba(a,!0);b&&(a=w(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;b=e[a];a++)d[b.type]?d[b.type]++:d[b.type]=1;return d};
u.g.wE=function(a,b){var d=b.x;b=b.y;var e=Ca(a).getBoundingClientRect();d=new u.g.T(d-e.left,b-e.top);b=u.g.Ql(a.ab);return u.g.T.Jl(d,b).scale(1/a.scale)};
u.i={};u.i.Vl="";u.i.Gc=!0;u.i.Xq=0;u.i.mn="create";u.i.At=u.i.mn;u.i.pn="delete";u.i.Xy=u.i.pn;u.i.Dj="change";u.i.iF=u.i.Dj;u.i.il="move";u.i.Bt=u.i.il;u.i.Hu="var_create";u.i.Iu="var_delete";u.i.Ju="var_rename";u.i.ol="ui";u.i.kn="comment_create";u.i.Jt="comment_delete";u.i.It="comment_change";u.i.ln="comment_move";u.i.sz="finished_loading";u.i.Yy=[u.i.At,u.i.Bt,u.i.kn,u.i.ln];u.i.dl=[];u.i.ma=function(a){u.i.isEnabled()&&(u.i.dl.length||setTimeout(u.i.hC,0),u.i.dl.push(a))};
u.i.hC=function(){for(var a=u.i.filter(u.i.dl,!0),b=u.i.dl.length=0,d;d=a[b];b++){var e=u.Sa.qo(d.Ub);if(e){var f=d;if(f.Gc)for(e.uj.push(f),e.Am.length=0;e.uj.length>e.Zt&&0<=e.Zt;)e.uj.shift();for(var g=0;d=e.ud[g];g++)d(f)}}};
u.i.filter=function(a,b){a=a.slice();b||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.wk()){var k=[g.type,g.xc,g.Ub].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==u.i.il&&l.index==f-1)m.$i=g.$i,m.Zi=g.Zi,m.Hh=g.Hh,l.index=f;else if(g.type==u.i.Dj&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type!=u.i.ol||"click"!=g.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:g,
index:1},d.push(g)}a=d.filter(function(p){return!p.wk()});b||a.reverse();for(f=1;g=a[f];f++)g.type==u.i.Dj&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};u.i.rB=function(){for(var a=0,b;b=u.i.dl[a];a++)b.Gc=!1};u.i.disable=function(){u.i.Xq++};u.i.enable=function(){u.i.Xq--};u.i.isEnabled=function(){return 0==u.i.Xq};u.i.Zb=function(){return u.i.Vl};u.i.ea=function(a){u.i.Vl="boolean"==typeof a?a?u.g.Gf():"":a};
u.i.ow=function(a){var b=[];a=Ba(a,!1);for(var d=0,e;e=a[d];d++)b[d]=e.id;return b};
u.i.pa=function(a){switch(a.type){case u.i.mn:var b=new u.i.Fe(null);break;case u.i.pn:b=new u.i.nf(null);break;case u.i.Dj:b=new u.i.Tg(null,"","","","");break;case u.i.il:b=new u.i.ki(null);break;case u.i.Hu:b=new u.i.ie(null);break;case u.i.Iu:b=new u.i.Me(null);break;case u.i.Ju:b=new u.i.uf(null,"");break;case u.i.ol:b=new u.i.fc(null);break;case u.i.kn:b=new u.i.mf(null);break;case u.i.It:b=new u.i.bi(null);break;case u.i.ln:b=new u.i.dg(null);break;case u.i.Jt:b=new u.i.Ee(null);break;default:throw Error("Unknown event type.");
}b.pa(a);b.Ub=(void 0).id;return b};u.i.UB=function(a){if(a.type==u.i.il||a.type==u.i.mn){var b=u.Sa.qo(a.Ub);if(a=Da(b,a.xc)){var d=a.getParent();if(d&&d.isEnabled())for(b=Ba(a,!1),a=0;d=b[a];a++)d.Fd(!0);else if((a.X||a.Y)&&!b.Fc()){do a.Fd(!1),a=w(a);while(a)}}}};
u.i.Abstract=function(){this.Ub=void 0;this.group=u.i.Vl;this.Gc=u.i.Gc};u.i.Abstract.prototype.Ua=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};u.i.Abstract.prototype.pa=function(a){this.group=a.group};u.i.Abstract.prototype.wk=function(){return!1};u.i.Abstract.prototype.run=function(){};function Ea(a){a=u.Sa.qo(a.Ub);if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};u.g.xml={};u.g.xml.Zz="https://developers.google.com/blockly/xml";u.g.xml.createElement=function(a){return document.createElementNS(u.g.xml.Zz,a)};u.g.xml.createTextNode=function(a){return document.createTextNode(a)};u.g.xml.NE=function(a){return(new DOMParser).parseFromString(a,"text/xml")};u.g.xml.Vc=function(a){return(new XMLSerializer).serializeToString(a)};u.i.kf=function(a){u.i.kf.A.constructor.call(this);this.xc=a.id;this.Ub=a.B.id};n(u.i.kf,u.i.Abstract);u.i.kf.prototype.Ua=function(){var a=u.i.kf.A.Ua.call(this);a.blockId=this.xc;return a};u.i.kf.prototype.pa=function(a){u.i.kf.A.Ua.call(this);this.xc=a.blockId};u.i.Tg=function(a,b,d,e,f){a&&(u.i.Tg.A.constructor.call(this,a),this.element=b,this.name=d,this.oldValue=e,this.newValue=f)};n(u.i.Tg,u.i.kf);u.i.lf=u.i.Tg;c=u.i.Tg.prototype;c.type=u.i.Dj;
c.Ua=function(){var a=u.i.Tg.A.Ua.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};c.pa=function(a){u.i.Tg.A.pa.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};c.wk=function(){return this.oldValue==this.newValue};
c.run=function(a){var b=Da(Ea(this),this.xc);if(b)switch(b.$e&&b.$e.Ha(!1),a=a?this.newValue:this.oldValue,this.element){case "field":if(b=Fa(b,this.name)){var d=a,e=d;null!==e&&(void 0!==e&&(d=e),(e=b.Br())&&e.call(b,d));b.setValue(a)}else console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.Cm(a||null);break;case "collapsed":b.Rh(a);break;case "disabled":b.Fd(!a);break;case "inline":b.Mk(a);break;case "mutation":d="";b.Ed&&(d=(d=b.Ed())&&u.S.Vc(d));b.tg&&(e=u.S.Ng(a||
"<mutation/>"),b.tg(e));u.i.ma(new u.i.Tg(b,"mutation",null,d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.xc)};u.i.Fe=function(a){a&&(u.i.Fe.A.constructor.call(this,a),this.xml=a.B.ha?u.S.zq(a):u.S.fh(a),this.Oi=u.i.ow(a))};n(u.i.Fe,u.i.kf);u.i.hn=u.i.Fe;u.i.Fe.prototype.type=u.i.mn;u.i.Fe.prototype.Ua=function(){var a=u.i.Fe.A.Ua.call(this);a.xml=u.S.Vc(this.xml);a.ids=this.Oi;return a};
u.i.Fe.prototype.pa=function(a){u.i.Fe.A.pa.call(this,a);this.xml=u.S.Ng(a.xml);this.Oi=a.ids};u.i.Fe.prototype.run=function(a){var b=Ea(this);if(a)a=u.g.xml.createElement("xml"),a.appendChild(this.xml),u.S.nh(a,b);else{a=0;for(var d;d=this.Oi[a];a++){var e=Da(b,d);e?e.K(!1,!1):d==this.xc&&console.warn("Can't uncreate non-existent block: "+d)}}};
u.i.nf=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");u.i.nf.A.constructor.call(this,a);this.ts=a.B.ha?u.S.zq(a):u.S.fh(a);this.Oi=u.i.ow(a)}};n(u.i.nf,u.i.kf);u.i.Et=u.i.nf;u.i.nf.prototype.type=u.i.pn;u.i.nf.prototype.Ua=function(){var a=u.i.nf.A.Ua.call(this);a.ids=this.Oi;return a};u.i.nf.prototype.pa=function(a){u.i.nf.A.pa.call(this,a);this.Oi=a.ids};
u.i.nf.prototype.run=function(a){var b=Ea(this);if(a){a=0;for(var d;d=this.Oi[a];a++){var e=Da(b,d);e?e.K(!1,!1):d==this.xc&&console.warn("Can't delete non-existent block: "+d)}}else a=u.g.xml.createElement("xml"),a.appendChild(this.ts),u.S.nh(a,b)};u.i.ki=function(a){a&&(u.i.ki.A.constructor.call(this,a),a=Ga(this),this.qx=a.Bx,this.px=a.Ow,this.qs=a.uv)};n(u.i.ki,u.i.kf);u.i.al=u.i.ki;c=u.i.ki.prototype;c.type=u.i.il;
c.Ua=function(){var a=u.i.ki.A.Ua.call(this);this.$i&&(a.newParentId=this.$i);this.Zi&&(a.newInputName=this.Zi);this.Hh&&(a.newCoordinate=Math.round(this.Hh.x)+","+Math.round(this.Hh.y));return a};c.pa=function(a){u.i.ki.A.pa.call(this,a);this.$i=a.newParentId;this.Zi=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Hh=new u.g.T(Number(a[0]),Number(a[1])))};c.Gg=function(){var a=Ga(this);this.$i=a.Bx;this.Zi=a.Ow;this.Hh=a.uv};
function Ga(a){var b=Da(u.Sa.qo(a.Ub),a.xc);a={};var d=b.getParent();if(d){a.Bx=d.id;a:{for(var e=0,f;f=d.W[e];e++)if(f.connection&&x(f.connection)==b){b=f;break a}b=null}b&&(a.Ow=b.name)}else a.uv=b.Fa();return a}c.wk=function(){return this.qx==this.$i&&this.px==this.Zi&&u.g.T.Qe(this.qs,this.Hh)};
c.run=function(a){var b=Ea(this),d=Da(b,this.xc);if(d){var e=a?this.$i:this.qx,f=a?this.Zi:this.px;a=a?this.Hh:this.qs;var g=null;if(e&&(g=Da(b,e),!g)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&Ha(d);if(a)f=d.Fa(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.X||d.Y;if(f){if(b=Ia(g,f))var k=b.connection}else d.type==u.fe&&(k=g.ba);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.xc)};u.g.j={};u.g.j.fa="http://www.w3.org/2000/svg";u.g.j.rf="http://www.w3.org/1999/xhtml";u.g.j.ta="http://www.w3.org/1999/xlink";u.g.j.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};u.g.j.I=function(a,b,d){a=document.createElementNS(u.g.j.fa,a);for(var e in b)a.setAttribute(e,b[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
u.g.j.fb=function(a,b){var d=a.getAttribute("class")||"";if(-1!=(" "+d+" ").indexOf(" "+b+" "))return!1;d&&(d+=" ");a.setAttribute("class",d+b);return!0};u.g.j.Gb=function(a,b){var d=a.getAttribute("class");if(-1==(" "+d+" ").indexOf(" "+b+" "))return!1;d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=b||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class");return!0};u.g.j.Dw=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};
u.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};u.g.j.Qi=function(a,b){var d=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");d?b.insertBefore(a,d):b.appendChild(a)};u.g.j.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&u.g.j.Node.DOCUMENT_POSITION_CONTAINED_BY)};u.g.j.Dm=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};u.eb={};u.eb.Zq=0;u.eb.co=null;u.eb.XB=function(a){var b=a.B,d=a.Z();b.wb.play("delete");a=Ja(b,d);d=d.cloneNode(!0);d.WE=a.x;d.XE=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");z(b).appendChild(d);d.Vu=d.getBBox();u.eb.Wv(d,b.C,new Date,b.scale)};u.eb.Wv=function(a,b,d,e){var f=(new Date-d)/150;1<f?u.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.WE+(b?-1:1)*a.Vu.width*e/2*f)+","+(a.XE+a.Vu.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(u.eb.Wv,10,a,b,d,e))};
u.eb.zB=function(a){var b=a.B,d=b.scale;b.wb.play("click");if(!(1>d)){var e=Ja(b,a.Z());a.X?(e.x+=(a.C?3:-3)*d,e.y+=13*d):a.Y&&(e.x+=(a.C?-23:23)*d,e.y+=3*d);a=u.g.j.I("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},z(b));u.eb.qv(a,new Date,d)}};u.eb.qv=function(a,b,d){var e=(new Date-b)/150;1<e?u.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,u.eb.Zq=setTimeout(u.eb.qv,10,a,b,d))};
u.eb.WB=function(a){a.B.wb.play("disconnect");if(!(1>a.B.scale)){var b=a.Db().height;b=Math.atan(10/b)/Math.PI*180;a.C||(b*=-1);u.eb.Vv(a.Z(),b,new Date)}};u.eb.Vv=function(a,b,d){var e=(new Date-d)/200;1<e?a.oj="":(a.oj="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*b)+")",u.eb.co=a,u.eb.Zq=setTimeout(u.eb.Vv,10,a,b,d));a.setAttribute("transform",a.Pg+a.oj)};u.eb.$q=function(){if(u.eb.co){clearTimeout(u.eb.Zq);var a=u.eb.co;a.oj="";a.setAttribute("transform",a.Pg);u.eb.co=null}};u.i.el=function(a){this.Ub=a.id;this.group=u.i.Vl;this.Gc=!1};n(u.i.el,u.i.Abstract);u.i.el.prototype.type=u.i.sz;u.i.el.prototype.Ua=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Ub&&(a.workspaceId=this.Ub);return a};u.i.el.prototype.pa=function(a){this.Ub=a.workspaceId;this.group=a.group};u.i.jg=function(a){u.i.jg.A.constructor.call(this);this.Xh=a.Ka();this.Ub=a.B.id};n(u.i.jg,u.i.Abstract);u.i.jg.prototype.Ua=function(){var a=u.i.jg.A.Ua.call(this);a.varId=this.Xh;return a};u.i.jg.prototype.pa=function(a){u.i.jg.A.Ua.call(this);this.Xh=a.varId};u.i.ie=function(a){a&&(u.i.ie.A.constructor.call(this,a),this.wj=a.type,this.vj=a.name)};n(u.i.ie,u.i.jg);u.i.ie.prototype.type=u.i.Hu;u.i.ie.prototype.Ua=function(){var a=u.i.ie.A.Ua.call(this);a.varType=this.wj;a.varName=this.vj;return a};
u.i.ie.prototype.pa=function(a){u.i.ie.A.pa.call(this,a);this.wj=a.varType;this.vj=a.varName};u.i.ie.prototype.run=function(a){var b=Ea(this);a?b.oe(this.vj,this.wj,this.Xh):b.Bi(this.Xh)};u.i.Me=function(a){a&&(u.i.Me.A.constructor.call(this,a),this.wj=a.type,this.vj=a.name)};n(u.i.Me,u.i.jg);u.i.Me.prototype.type=u.i.Iu;u.i.Me.prototype.Ua=function(){var a=u.i.Me.A.Ua.call(this);a.varType=this.wj;a.varName=this.vj;return a};
u.i.Me.prototype.pa=function(a){u.i.Me.A.pa.call(this,a);this.wj=a.varType;this.vj=a.varName};u.i.Me.prototype.run=function(a){var b=Ea(this);a?b.Bi(this.Xh):b.oe(this.vj,this.wj,this.Xh)};u.i.uf=function(a,b){a&&(u.i.uf.A.constructor.call(this,a),this.ss=a.name,this.ps=b)};n(u.i.uf,u.i.jg);u.i.uf.prototype.type=u.i.Ju;u.i.uf.prototype.Ua=function(){var a=u.i.uf.A.Ua.call(this);a.oldName=this.ss;a.newName=this.ps;return a};
u.i.uf.prototype.pa=function(a){u.i.uf.A.pa.call(this,a);this.ss=a.oldName;this.ps=a.newName};u.i.uf.prototype.run=function(a){var b=Ea(this);a?b.jj(this.Xh,this.ps):b.jj(this.Xh,this.ss)};u.S={};u.S.Bp=function(a,b){var d=u.g.xml.createElement("xml"),e=u.S.aF(u.aa.Ru(a));e.hasChildNodes()&&d.appendChild(e);var f=Ka(a,!0);e=0;for(var g;g=f[e];e++)d.appendChild(g.Um(b));a=A(a,!0);for(e=0;f=a[e];e++)d.appendChild(u.S.zq(f,b));return d};u.S.aF=function(a){for(var b=u.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=u.g.xml.createElement("variable");f.appendChild(u.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.Ka();b.appendChild(f)}return b};
u.S.zq=function(a,b){var d;a.B.C&&(d=a.B.Yc());b=u.S.fh(a,b);var e=a.Fa();b.setAttribute("x",Math.round(a.B.C?d-e.x:e.x));b.setAttribute("y",Math.round(e.y));return b};u.S.eC=function(a){var b=!1;a.name&&(a.hg?b=!0:a.Vg&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),b=!0));return b?(b=u.g.xml.createElement("field"),b.setAttribute("name",a.name),a.Tm(b)):null};
u.S.QA=function(a,b){for(var d=0,e;e=a.W[d];d++)for(var f=0,g;g=e.Ca[f];f++)(g=u.S.eC(g))&&b.appendChild(g)};
u.S.fh=function(a,b){var d=u.g.xml.createElement(a.bb?"shadow":"block");d.setAttribute("type",a.type);b||(d.id=a.id);if(a.Ed){var e=a.Ed();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}u.S.QA(a,d);var f=a.vo();f&&(e=u.g.xml.createElement("comment"),e.appendChild(u.g.xml.createTextNode(f)),"object"==typeof a.kb&&(e.setAttribute("pinned",a.kb.isVisible()),f=a.kb.Fi(),e.setAttribute("h",f.height),e.setAttribute("w",f.width)),d.appendChild(e));a.data&&(e=u.g.xml.createElement("data"),e.appendChild(u.g.xml.createTextNode(a.data)),
d.appendChild(e));f=0;for(var g;g=a.W[f];f++){var k,l=!0;if(g.type!=u.Ie){var m=x(g.connection);g.type==u.Oa?k=u.g.xml.createElement("value"):g.type==u.Ma&&(k=u.g.xml.createElement("statement"));e=g.connection.Xf;!e||m&&m.bb||k.appendChild(u.S.iv(e,b));m&&(k.appendChild(u.S.fh(m,b)),l=!1);k.setAttribute("name",g.name);l||d.appendChild(k)}}void 0!=a.Dg&&a.Dg!=a.iD&&d.setAttribute("inline",a.Dg);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Ec()||a.bb||
d.setAttribute("deletable",!1);a.mc()||a.bb||d.setAttribute("movable",!1);a.Zc()||d.setAttribute("editable",!1);if(f=w(a))k=u.g.xml.createElement("next"),k.appendChild(u.S.fh(f,b)),d.appendChild(k);e=a.ba&&a.ba.Xf;!e||f&&f.bb||k.appendChild(u.S.iv(e,b));return d};
u.S.iv=function(a,b){for(var d=a=a.cloneNode(!0),e;d;)if(b&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==u.g.j.Node.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&u.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==u.g.j.Node.TEXT_NODE&&""==e.data.trim()&&u.g.j.removeNode(e))}return a};u.S.Vc=function(a){return u.g.xml.Vc(a)};
u.S.eG=function(a){a=u.S.Vc(a).split("<");for(var b="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(b=b.substring(2));a[d]=b+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};u.S.Ng=function(a){var b=u.g.xml.NE(a);if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement};
u.S.aG=function(a,b){b.rc(!1);b.clear();a=u.S.nh(a,b);b.rc(!0);return a};
u.S.nh=function(a,b){if(a instanceof u.Sa){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;b.C&&(e=b.Yc());d=[];u.R.Km();var f=a.childNodes.length,g=u.i.Zb();g||u.i.ea(!0);b.rc&&b.rc(!1);var k=!0;try{for(var l=0;l<f;l++){var m=a.childNodes[l],p=m.nodeName.toLowerCase();if("block"==p||"shadow"==p&&!u.i.Gc){var r=u.S.dk(m,b);d.push(r.id);var t=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,v=m.hasAttribute("y")?parseInt(m.getAttribute("y"),
10):10;isNaN(t)||isNaN(v)||r.moveBy(b.C?e-t:t,v);k=!1}else{if("shadow"==p)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==p)b.ha?u.ja.Ei(m,b,e):u.le.Ei(m,b);else if("variables"==p){if(k)u.S.$B(m,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");k=!1}}}}finally{g||u.i.ea(!1),u.R.Mm()}b.rc&&b.rc(!0);u.i.ma(new u.i.el(b));return d};
u.S.WF=function(a,b){if(b.hasOwnProperty("scale")){var d=u.o.ga;try{u.o.ga=0;var e=La(b)}finally{u.o.ga=d}}a=u.S.nh(a,b);if(e&&e.top!=e.bottom){d=e.bottom;var f=e.left;var g=Infinity,k=Infinity;for(e=0;e<a.length;e++){var l=Da(b,a[e]).Fa();l.y<k&&(k=l.y);l.x<g&&(g=l.x)}d=d-k+u.o.pi;f-=g;var m;b.C&&(m=b.Yc());for(e=0;e<a.length;e++)Da(b,a[e]).moveBy(b.C?m-f:f,d)}return a};
u.S.dk=function(a,b){if(a instanceof u.Sa){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}u.i.disable();d=b.vg();try{var e=u.S.cr(a,b),f=Ba(e,!1);if(b.ha){Ma(e,!0);for(var g=f.length-1;0<=g;g--)f[g].Bg();for(g=f.length-1;0<=g;g--)f[g].qa(!1);setTimeout(function(){e.B&&Ma(e,!1)},1);Na(e);Oa(b)}else for(g=f.length-1;0<=g;g--)f[g].Pi()}finally{u.i.enable()}if(u.i.isEnabled()){a=u.aa.lw(b,d);for(g=0;g<a.length;g++)u.i.ma(new u.i.ie(a[g]));u.i.ma(new u.i.hn(e))}return e};
u.S.$B=function(a,b){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==u.g.j.Node.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");b.oe(e.textContent,f,g)}};
u.S.cr=function(a,b){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=b.ep(e,f);var g=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=u.g.j.Node.TEXT_NODE){for(var l=g=null,m=0,p;p=k.childNodes[m];m++)p.nodeType==u.g.j.Node.ELEMENT_NODE&&("block"==p.nodeName.toLowerCase()?g=p:"shadow"==p.nodeName.toLowerCase()&&(l=p));!g&&l&&(g=l);m=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":d.tg&&(d.tg(k),
d.Bg&&d.Bg());break;case "comment":d.Cm(k.textContent);var r=k.getAttribute("pinned");r&&!d.sd&&setTimeout(function(){d.kb&&d.kb.Ha&&d.kb.Ha("true"==r)},1);g=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(g)&&!isNaN(k)&&d.kb&&d.kb.Ha&&d.kb.Qh(g,k);break;case "data":d.data=k.textContent;break;case "title":case "field":u.S.ZB(d,m,k);break;case "value":case "statement":k=Ia(d,m);if(!k){console.warn("Ignoring non-existent input "+m+" in block "+e);break}l&&(k.connection.Xf=
l);if(g)if(g=u.S.cr(g,b),g.X)k.connection.connect(g.X);else if(g.Y)k.connection.connect(g.Y);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.ba&&(d.ba.Xf=l);if(g){if(!d.ba)throw TypeError("Next statement does not exist.");if(d.ba.isConnected())throw TypeError("Next statement is already connected.");g=u.S.cr(g,b);if(!g.Y)throw TypeError("Next block does not have previous statement.");d.ba.connect(g.Y)}break;default:console.warn("Ignoring unknown tag: "+
k.nodeName)}}(f=a.getAttribute("inline"))&&d.Mk("true"==f);(f=a.getAttribute("disabled"))&&d.Fd("true"!=f&&"disabled"!=f);(f=a.getAttribute("deletable"))&&d.$s("true"==f);(f=a.getAttribute("movable"))&&d.mj("true"==f);(f=a.getAttribute("editable"))&&d.at("true"==f);(f=a.getAttribute("collapsed"))&&d.Rh("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.wg(!1);for(f=0;b=a[f];f++)if(!b.bb)throw TypeError("Shadow block not allowed non-shadow child.");if(Pa(d).length)throw TypeError("Shadow blocks cannot have variable references.");
d.et(!0)}return d};u.S.ZB=function(a,b,d){var e=Fa(a,b);e?e.Ei(d):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};u.S.RB=function(a){for(var b=0,d;d=a.childNodes[b];b++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};u.g.global.Blockly||(u.g.global.Blockly={});u.g.global.Blockly.Xml||(u.g.global.Blockly.Xml={});u.g.global.Blockly.Xml.domToText=u.S.Vc;u.g.global.Blockly.Xml.domToWorkspace=u.S.nh;u.g.global.Blockly.Xml.textToDom=u.S.Ng;
u.g.global.Blockly.Xml.workspaceToDom=u.S.Bp;
u.Da=function(a,b){this.G=a;this.type=b;a.B.Al&&(this.Pe=a.B.Al[b],this.Sq=a.B.Al[u.Nj[b]],this.Nr=!this.Pe)};u.Da.Jp=0;u.Da.tu=1;u.Da.wu=2;u.Da.vu=3;u.Da.ru=4;u.Da.su=5;u.Da.uu=6;c=u.Da.prototype;c.sa=null;c.mg=null;c.Xf=null;c.zb=0;c.Va=0;c.wh=!1;c.Pe=null;c.Sq=null;c.Nr=null;
c.Rn=function(a){var b=this,d=b.G,e=a.G;a.isConnected()&&a.disconnect();if(b.isConnected()){var f=x(b),g=b.Xf;b.Xf=null;if(f.bb)g=u.S.fh(f),f.K(),f=null;else if(b.type==u.Oa){if(!f.X)throw Error("Orphan block does not have an output connection.");var k=u.Da.Xw(e,f);k&&(f.X.connect(k),f=null)}else if(b.type==u.Ma){if(!f.Y)throw Error("Orphan block does not have a previous connection.");for(k=e;k.ba;){var l=w(k);if(l&&!l.bb)k=l;else{Qa(f.Y,k.ba)&&(k.ba.connect(f.Y),f=null);break}}}if(f&&(b.disconnect(),
u.i.Gc)){var m=u.i.Zb();setTimeout(function(){f.B&&!f.getParent()&&(u.i.ea(m),f.X?Ra(f.X,b):f.Y&&Ra(f.Y,b),u.i.ea(!1))},u.gn)}b.Xf=g}var p;u.i.isEnabled()&&(p=new u.i.al(e));u.Da.yB(b,a);e.nj(d);p&&(p.Gg(),u.i.ma(p))};c.K=function(){if(this.isConnected()){this.Xf=null;var a=x(this);a.bb?a.K():Ha(a)}this.wh&&Sa(this.Pe,this)};function Ta(a){return a.type==u.Oa||a.type==u.Ma}c.isConnected=function(){return!!this.sa};
function Ua(a,b){if(!b)return u.Da.vu;if(Ta(a))var d=a.G,e=b.G;else e=a.G,d=b.G;return d&&d==e?u.Da.tu:b.type!=u.Nj[a.type]?u.Da.wu:d&&e&&d.B!==e.B?u.Da.su:Qa(a,b)?d.bb&&!e.bb?u.Da.uu:u.Da.Jp:u.Da.ru}
c.No=function(a){if(a.G.Nf()||Ua(this,a)!=u.Da.Jp)return!1;switch(a.type){case u.fe:return this.sa||-1!=u.Kl.indexOf(a)?a=!1:a.sa?(a=x(a),a=a.Nf()?!(a.Y&&x(a.Y)):!1):a=!0,a;case u.ee:if(a.isConnected()&&!x(a).Nf()||this.isConnected())return!1;break;case u.Oa:if(a.isConnected()&&!x(a).mc()&&!x(a).bb)return!1;break;case u.Ma:if(a.isConnected()&&!this.G.ba&&!x(a).bb&&x(a).ba)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=u.Kl.indexOf(a)?!1:!0};
c.connect=function(a){if(this.sa!=a){switch(Ua(this,a)){case u.Da.Jp:break;case u.Da.tu:throw Error("Attempted to connect a block to itself.");case u.Da.su:throw Error("Blocks not on same workspace.");case u.Da.wu:throw Error("Attempt to connect incompatible types.");case u.Da.vu:throw Error("Target connection is null.");case u.Da.ru:throw Error("Connection checks failed. "+(this+" expected "+this.mg+", found "+a.mg));case u.Da.uu:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}var b=u.i.Zb();b||u.i.ea(!0);Ta(this)?this.Rn(a):a.Rn(this);b||u.i.ea(!1)}};u.Da.yB=function(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.sa=b;b.sa=a};u.Da.DE=function(a,b){for(var d=!1,e=0;e<a.W.length;e++){var f=a.W[e].connection;if(f&&f.type==u.Oa&&Qa(b.X,f)){if(d)return null;d=f}}return d};u.Da.Xw=function(a,b){for(var d;d=u.Da.DE(a,b);)if(a=x(d),!a||a.bb)return d;return null};c=u.Da.prototype;
c.disconnect=function(){var a=this.sa;if(!a)throw Error("Source connection not connected.");if(a.sa!=this)throw Error("Target connection not connected to source connection.");if(Ta(this)){var b=this.G;var d=a.G;a=this}else b=a.G,d=this.G;var e=u.i.Zb();e||u.i.ea(!0);this.Yq(b,d);a.Qs();e||u.i.ea(!1)};c.Yq=function(a,b){var d;u.i.isEnabled()&&(d=new u.i.al(b));this.sa=this.sa.sa=null;b.nj(null);d&&(d.Gg(),u.i.ma(d))};
c.Qs=function(){var a=this.G,b=this.Xf;if(a.B&&b&&u.i.Gc)if(a=u.S.dk(b,a.B),a.X)this.connect(a.X);else if(a.Y)this.connect(a.Y);else throw Error("Child block does not have output or previous statement.");};function x(a){return a.isConnected()?a.sa.G:null}function Qa(a,b){if(!a.mg||!b.mg)return!0;for(var d=0;d<a.mg.length;d++)if(-1!=b.mg.indexOf(a.mg[d]))return!0;return!1}c.tx=function(){this.isConnected()&&!Qa(this,this.sa)&&Ha(Ta(this)?x(this):this.G)};
c.Kk=function(a){a?(Array.isArray(a)||(a=[a]),this.mg=a,this.tx()):this.mg=null};c.nx=function(){return[]};c.Jf=function(){for(var a=null,b=this.G,d=b.W,e=0;e<b.W.length;e++)if(d[e].connection===this){a=d[e];break}return a};
c.toString=function(){var a=this.G;if(a)if(a.X==this)var b="Output Connection of ";else if(a.Y==this)b="Previous Connection of ";else if(a.ba==this)b="Next Connection of ";else{b=null;for(var d=0,e;e=a.W[d];d++)if(e.connection==this){b=e;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return b+d};u.bh=function(a,b){u.bh.A.constructor.call(this,a,b);this.Eg=new u.g.T(0,0)};n(u.bh,u.Da);function Va(a,b){var d=a.zb-b.zb;a=a.Va-b.Va;return Math.sqrt(d*d+a*a)}function Ra(a,b){if(!a.G.B.Fc()){var d=Wa(a.G);if(!d.sd){var e=!1;if(!d.mc()){d=Wa(b.G);if(!d.mc())return;b=a;e=!0}var f=u.selected==d;f||d.Vj();var g=b.zb+u.Pc+Math.floor(Math.random()*u.Hp)-a.zb,k=b.Va+u.Pc+Math.floor(Math.random()*u.Hp)-a.Va;e&&(k=-k);d.C&&(g=b.zb-u.Pc-Math.floor(Math.random()*u.Hp)-a.zb);d.moveBy(g,k);f||d.ij()}}}c=u.bh.prototype;
c.moveTo=function(a,b){this.wh&&Sa(this.Pe,this);this.zb=a;this.Va=b;this.Nr||Xa(this.Pe,this)};c.moveBy=function(a,b){this.moveTo(this.zb+a,this.Va+b)};function Ya(a,b){a.moveTo(b.x+a.Eg.x,b.y+a.Eg.y)}function Za(a,b,d){a.Eg.x=b;a.Eg.y=d}function $a(a){var b=a.sa.zb-a.zb,d=a.sa.Va-a.Va;if(0!=b||0!=d){a=x(a);var e=a.Z();if(!e)throw Error("block is not rendered.");e=u.g.Rd(e);a.Z().setAttribute("transform","translate("+(e.x-b)+","+(e.y-d)+")");ab(a,-b,-d)}}
c.closest=function(a,b){var d=this.Sq;if(d.Ob.length){var e=this.Va,f=this.zb;this.zb=f+b.x;this.Va=e+b.y;var g=bb(d,this);b=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.Ob[m].Va-this.Va)<=a;)l=d.Ob[m],this.No(l,k)&&(b=l,k=Va(l,this)),m--;for(;g<d.Ob.length&&Math.abs(d.Ob[g].Va-this.Va)<=a;)l=d.Ob[g],this.No(l,k)&&(b=l,k=Va(l,this)),g++;this.zb=f;this.Va=e;a={connection:b,op:k}}else a={connection:null,op:a};return a};
c.Kf=function(){var a=this.type==u.Oa||this.type==u.ee?u.g.J.moveBy(0,-5)+u.g.J.$b("v",5)+u.m.w.ge.Kh+u.g.J.$b("v",5):u.g.J.moveBy(-5,0)+u.g.J.$b("h",5)+u.m.w.uc.dj+u.g.J.$b("h",5);var b=this.G.Fa();u.Da.Lw=u.g.j.I("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.zb-b.x)+","+(this.Va-b.y)+")"+(this.G.C?" scale(-1 1)":"")},this.G.Z())};
function cb(a){db(a,!1);var b=[];if(a.type!=u.Oa&&a.type!=u.Ma)return b;if(a=x(a)){if(a.isCollapsed()){var d=[];a.X&&d.push(a.X);a.ba&&d.push(a.ba);a.Y&&d.push(a.Y)}else d=a.re(!0);for(var e=0;e<d.length;e++)b.push.apply(b,cb(d[e]));b.length||(b[0]=a)}return b}function db(a,b){(a.Nr=b)&&a.wh?Sa(a.Pe,a):b||a.wh||Xa(a.Pe,a)}c.No=function(a,b){return Va(this,a)>b?!1:u.bh.A.No.call(this,a)};c.Yq=function(a,b){u.bh.A.Yq.call(this,a,b);a.ha&&a.qa();b.ha&&(Na(b),b.qa())};
c.Qs=function(){var a=this.G,b=this.Xf;if(a.B&&b&&u.i.Gc){u.bh.A.Qs.call(this);b=x(this);if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.Bg();b.qa(!1);a.ha&&a.qa()}};c.nx=function(a){return eb(this.Sq,this,a)};c.Rn=function(a){u.bh.A.Rn.call(this,a);var b=this.G;a=a.G;b.ha&&Na(b);a.ha&&Na(a);b.ha&&a.ha&&(this.type==u.Ma||this.type==u.fe?a.qa():b.qa())};c.tx=function(){this.isConnected()&&!Qa(this,this.sa)&&(Ha(Ta(this)?x(this):this.G),this.G.od())};
u.un=function(a){this.hf=u.selected=a;this.s=a.B;this.Vi=this.ds=null;this.fk=fb(this,this.hf);this.nc=this.mb=null;this.bg=!1;this.Wi=null;this.Pr=!1;this.rk=null;a=this.hf.re(!1);var b;a:{for(b=this.hf.ba;b;){var d=x(b);if(!d)break a;b=d.ba}b=null}b&&b!=this.hf.ba&&(a.push(b),this.ds=b,this.Vi=fb(this,b.G));this.wq=a};
u.un.prototype.K=function(){this.s=this.hf=null;this.wq.length=0;this.nc=this.mb=null;u.i.disable();try{this.fk&&(this.fk.K(),this.fk=null),this.Vi&&(this.Vi.K(),this.Vi=null)}finally{u.i.enable()}this.rk=null};
u.un.prototype.update=function(a,b){var d=this.mb&&this.nc?u.Kt:u.Pc;for(var e=null,f=null,g=0;g<this.wq.length;g++){var k=this.wq[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.op)}e=(d={closest:e,local:f,op:d},!!d.closest)&&b!=u.Pt;if((this.bg=!!b&&!this.hf.getParent()&&this.hf.Ec()&&!e)||gb(this,d,a)){u.i.disable();d.closest?(a=this.mb!=d.closest,b=this.nc!=d.local,this.mb&&this.nc&&(a||b||this.bg)&&hb(this)):hb(this);this.nc=this.mb=this.Wi=null;if(!this.bg&&(a=d.closest,b=d.local,
a))if(a==this.mb||a.G.Nf())console.log("trying to connect to an insertion marker");else{this.mb=a;this.nc=b;a=this.mb;b=this.nc;if(b.type==u.ee)a=a.isConnected()&&!u.Da.Xw(this.hf,a.sa.G);else{a:{for(d=0;e=b.G.W[d];d++)if(e.connection&&e.connection.type==u.Ma){d=e.connection;break a}d=null}a=b==d?0:!this.hf.ba&&b.type==u.fe&&a.isConnected()}if(a)a=this.mb,b=this.nc,x(a)?(this.rk=x(a),ib(x(a),!0)):b.type==u.ee&&(this.rk=a.G,a.G.XC(a,!0)),this.Pr=!0;else{d=this.nc;a=this.mb;b=this.ds&&d==this.ds?this.Vi:
this.fk;a:{f=d.G;e=b.re(!0);f=f.re(!0);if(e.length!=f.length)throw Error("Connection lists did not match in length.");for(g=0;g<f.length;g++)if(f[g]==d){d=e[g];break a}d=null}if(d==this.Wi)throw Error("Made it to connectMarker_ even though the marker isn't changing");b.qa();b.ha=!0;b.Z().setAttribute("visibility","visible");d.type!=u.Ma&&d.type!=u.Oa||b.moveBy(a.zb-d.zb,a.Va-d.Va);d.connect(a);this.Wi=d}this.mb&&this.mb.Kf()}u.i.enable()}};
function fb(a,b){var d=b.type;u.i.disable();try{var e=a.s.ep(d);e.by(!0);e.Rh(b.isCollapsed());if(b.Ed){var f=b.Ed();f&&e.tg(f)}for(a=0;a<b.W.length;a++){var g=b.W[a];for(d=0;d<g.Ca.length;d++){var k=g.Ca[d],l=k.getValue(),m=k.name,p=Fa(e,m);if(!p)throw Error('Field "'+m+'" not found.');p.setValue(l)}}e.Bg();e.Z().setAttribute("visibility","hidden")}finally{u.i.enable()}return e}
function gb(a,b,d){var e=b.local,f=b.closest;b=b.op;if(e&&f){if(a.nc&&a.mb){if(a.mb==f&&a.nc==e)return!1;e=a.nc.zb+d.x-a.mb.zb;a=a.nc.Va+d.y-a.mb.Va;a=Math.sqrt(e*e+a*a);return!(f&&b>a-u.ez)}if(a.nc||a.mb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.nc||!a.mb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function hb(a){a.mb&&(u.g.j.removeNode(u.Da.Lw),delete u.Da.Lw);if(a.Pr){var b=a.mb;b.type!=u.Oa||b.isConnected()?ib(a.rk,!1):a.rk.XC(b,!1);a.rk=null;a.Pr=!1}else if(a.Wi)if(a.Wi){b=a.Wi;var d=b.G,e=d.ba,f=d.Y,g=d.X;g=b.type==u.Oa&&!(g&&g.sa);!(b!=e||f&&f.sa)||g?Ha(x(b),!1):b.type==u.Ma&&b!=e?(e=b.sa,Ha(e.G,!1),f=f?f.sa:null,Ha(d,!0),f&&f.connect(e)):Ha(d,!0);if(b.sa)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Wi=null;d.Z().setAttribute("visibility",
"hidden")}else console.log("No insertion marker connection to disconnect")}u.un.prototype.jk=function(){var a=[];this.fk&&a.push(this.fk);this.Vi&&a.push(this.Vi);return a};u.Zh=function(a,b){this.pb=a;this.s=b;this.Bf=new u.un(this.pb);this.Ai=null;this.bg=!1;this.Zf=this.pb.Fa();this.ho=u.Zh.fD(a)};u.Zh.prototype.K=function(){this.ec=this.s=this.pb=null;this.ho.length=0;this.Bf&&(this.Bf.K(),this.Bf=null)};u.Zh.fD=function(a){var b=[];a=Ba(a,!1);for(var d=0,e;e=a[d];d++){e=jb(e);for(var f=0;f<e.length;f++)b.push({location:e[f].sk,icon:e[f]})}return b};
function kb(a,b,d){d=a.Gk(d);var e=u.g.T.sum(a.Zf,d);a.pb.bp(e);for(e=0;e<a.ho.length;e++){var f=a.ho[e];lb(f.icon,u.g.T.sum(f.location,d))}a.Ai=mb(a.s,b);a.Bf.update(d,a.Ai);a.bg=a.Bf.bg;b=a.s.Ic;a.bg?(a.pb.Em(!0),a.Ai==u.Np&&b&&nb(b,!0)):(a.pb.Em(!1),b&&nb(b,!1))}
function ob(a,b,d){kb(a,b,d);a.ho=[];u.R.Mm();u.eb.$q();b=a.Gk(d);d=u.g.T.sum(a.Zf,b);a.pb.mx(d);d=a.s.Ic;a.bg?(d&&setTimeout(d.close.bind(d),100),a.Nl(),a.pb.K(!1,!0)):d&&d.close();a.bg||(ab(a.pb,b.x,b.y),a.pb.Sh(!1),a.Nl(),a.Bf.mb?(b=a.Bf,b.mb&&(u.i.disable(),hb(b),u.i.enable(),b.nc.connect(b.mb),b.hf.ha&&(u.eb.zB((Ta(b.nc)?b.mb:b.nc).G),pb(Wa(b.hf))))):a.pb.qa(),qb(a.pb));a.s.rc(!0);(b=a.s.ia)&&u.g.j.Gb(b.kd,a.pb.Ec()?"blocklyToolboxDelete":"blocklyToolboxGrab");u.i.ea(!1)}
u.Zh.prototype.Nl=function(){var a=new u.i.al(this.pb);a.qs=this.Zf;a.Gg();u.i.ma(a)};u.Zh.prototype.Gk=function(a){a=new u.g.T(a.x/this.s.scale,a.y/this.s.scale);this.s.Ti&&a.scale(1/this.s.options.bd.scale);return a};u.Zh.prototype.jk=function(){return this.Bf&&this.Bf.jk?this.Bf.jk():[]};u.Touch={};u.Touch.nq="ontouchstart"in u.g.global||!!(u.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!u.g.global.navigator||!u.g.global.navigator.maxTouchPoints&&!u.g.global.navigator.msMaxTouchPoints);u.Touch.Vm=null;u.Touch.tf={};
u.g.global.PointerEvent?u.Touch.tf={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:u.Touch.nq&&(u.Touch.tf={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});u.Wo=0;
u.vD=function(a,b){u.Fh();a.changedTouches&&1!=a.changedTouches.length||(u.Wo=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&rb(b,a)},u.Oz))};u.Fh=function(){u.Wo&&(clearTimeout(u.Wo),u.Wo=0)};u.Touch.pg=function(){u.Touch.Vm=null};u.Touch.ht=function(a){return!u.Touch.mD(a)||u.Touch.oB(a)};
u.Touch.Eo=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};u.Touch.oB=function(a){var b=u.Touch.Eo(a);return void 0!==u.Touch.Vm&&null!==u.Touch.Vm?u.Touch.Vm==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(u.Touch.Vm=b,!0):!1};
u.Touch.zE=function(a){if(u.g.Xa.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};u.Touch.mD=function(a){return u.g.Xa.startsWith(a.type,"touch")||u.g.Xa.startsWith(a.type,"mouse")||u.g.Xa.startsWith(a.type,"pointer")};u.Touch.To=function(a){return u.g.Xa.startsWith(a.type,"touch")||u.g.Xa.startsWith(a.type,"pointer")};
u.Touch.FE=function(a){var b=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)b[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};u.g.we={};u.g.we.Sm=function(a){return a*Math.PI/180};u.g.we.RE=function(a){return 180*a/Math.PI};u.g.we.Fq=function(a,b,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(b,d))};u.cl=function(a){this.xb=null;this.vk=!!a};c=u.cl.prototype;c.types={eg:"field",De:"block",Yg:"input",mi:"output",fg:"next",ni:"previous",Le:"stack",kg:"workspace"};function sb(a,b){a.xb=b;a.Gy()}c.Gy=function(){};c.next=function(){var a=this.xb;if(!a)return null;(a=a.next())&&a.gd===u.F.types.fg&&(a=a.next()||a);a&&sb(this,a);return a};c.dm=function(){var a=this.xb;if(!a)return null;(a=a.dm())&&a.gd===u.F.types.mi&&(a=a.next()||a);a&&sb(this,a);return a};
c.Hk=function(){var a=this.xb;if(!a)return null;(a=a.Hk())&&a.gd===u.F.types.fg&&(a=a.Hk()||a);a&&sb(this,a);return a};c.wm=function(){var a=this.xb;if(!a)return null;(a=a.wm())&&sb(this,a);return a};u.EA=function(){var a=u.eh.$h.hB;this.cB=u.eh.$h.LB;this.iB=a};u.eh={};u.eh.$h={};u.eh.$h.LB={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
u.eh.$h.hB={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};u.eh.$h=new u.EA;u.pq=function(a){this.La=Object.create(null);this.B=a};c=u.pq.prototype;c.clear=function(){this.La=Object.create(null)};c.Ls=function(a,b){var d=this.Te(b,a.type),e=B(this.B,!1);u.i.ea(!0);try{if(d&&d.Ka()!=a.Ka()){var f=a.type;b!=d.name&&tb(d,b,e);for(b=0;b<e.length;b++)for(var g=void 0,k=e[b],l=a.Ka(),m=d.Ka(),p=0;g=k.W[p];p++)for(var r=0,t;t=g.Ca[r];r++)t.pp()&&l==t.getValue()&&t.setValue(m);u.i.ma(new u.i.Me(a));this.La[f].splice(this.Ul(f).indexOf(a),1)}else tb(a,b,e)}finally{u.i.ea(!1)}};
c.jj=function(a,b){var d=this.zg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.Ls(d,b)};function tb(a,b,d){u.i.ma(new u.i.uf(a,b));a.name=b;for(b=0;b<d.length;b++)for(var e,f=d[b],g=a,k=0;e=f.W[k];k++)for(var l=0,m;m=e.Ca[l];l++)m.pp()&&g.Ka()==m.getValue()&&(m.xa=m.hd.name,ub(m))}
c.oe=function(a,b,d){var e=this.Te(a,b);if(e){if(d&&e.Ka()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.Ka()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.zg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||u.g.Gf();b=b||"";e=new u.Sj(this.B,a,b,e);a=this.La[b]||[];a.push(e);delete this.La[b];this.La[b]=a;return e};
c.Bi=function(a){var b=this.zg(a);if(b){var d=b.name,e=this.Dr(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=vb(f,"NAME");d=u.h.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);u.alert(d);return}var g=this;1<e.length?(d=u.h.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),u.confirm(d,function(k){k&&g.$n(b,e)})):g.$n(b,e)}else console.warn("Can't delete non-existent variable: "+a)};
c.$n=function(a,b){var d=u.i.Zb();d||u.i.ea(!0);try{for(var e=0;e<b.length;e++)b[e].K(!0,!1);var f=this.La[a.type];b=0;for(var g;g=f[b];b++)if(g.Ka()==a.Ka()){f.splice(b,1);u.i.ma(new u.i.Me(a));break}}finally{d||u.i.ea(!1)}};c.Te=function(a,b){if(b=this.La[b||""])for(var d=0,e;e=b[d];d++)if(u.Je.Qe(e.name,a))return e;return null};c.zg=function(a){for(var b=Object.keys(this.La),d=0;d<b.length;d++)for(var e=b[d],f=0,g;g=this.La[e][f];f++)if(g.Ka()==a)return g;return null};
c.Ul=function(a){return(a=this.La[a||""])?a.slice():[]};c.Cr=function(a){var b=[];a&&a.Lh&&(b=Object.keys(a.Lh.La));a=Object.keys(this.La).concat(b);b=!1;for(var d=0;d<a.length;d++)""==a[d]&&(b=!0);b||a.push("");return a};c.vg=function(){var a=[],b;for(b in this.La)a=a.concat(this.La[b]);return a};c.Dr=function(a){for(var b=[],d=B(this.B,!1),e=0;e<d.length;e++){var f=Pa(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].Ka()==a&&b.push(d[e])}return b};u.i.ai=function(a){this.wf=a.id;this.Ub=a.B.id;this.group=u.i.Vl;this.Gc=u.i.Gc};n(u.i.ai,u.i.Abstract);u.i.ai.prototype.Ua=function(){var a={type:this.type};this.group&&(a.group=this.group);this.wf&&(a.commentId=this.wf);return a};u.i.ai.prototype.pa=function(a){this.wf=a.commentId;this.group=a.group};u.i.bi=function(a,b,d){a&&(u.i.bi.A.constructor.call(this,a),this.ox=b,this.fp=d)};n(u.i.bi,u.i.ai);c=u.i.bi.prototype;c.type=u.i.It;
c.Ua=function(){var a=u.i.bi.A.Ua.call(this);a.newContents=this.fp;return a};c.pa=function(a){u.i.bi.A.pa.call(this,a);this.fp=a.newValue};c.wk=function(){return this.ox==this.fp};c.run=function(a){var b=wb(Ea(this),this.wf);b?b.Uf(a?this.fp:this.ox):console.warn("Can't change non-existent comment: "+this.wf)};u.i.mf=function(a){a&&(u.i.mf.A.constructor.call(this,a),this.xml=a.Um())};n(u.i.mf,u.i.ai);u.i.mf.prototype.type=u.i.kn;
u.i.mf.prototype.Ua=function(){var a=u.i.mf.A.Ua.call(this);a.xml=u.S.Vc(this.xml);return a};u.i.mf.prototype.pa=function(a){u.i.mf.A.pa.call(this,a);this.xml=u.S.Ng(a.xml)};u.i.mf.prototype.run=function(a){u.i.Mt(this,a)};u.i.Mt=function(a,b){var d=Ea(a);b?(b=u.g.xml.createElement("xml"),b.appendChild(a.xml),u.S.nh(b,d)):(d=wb(d,a.wf))?d.K(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.wf)};u.i.Ee=function(a){a&&(u.i.Ee.A.constructor.call(this,a),this.xml=a.Um())};n(u.i.Ee,u.i.ai);
u.i.Ee.prototype.type=u.i.Jt;u.i.Ee.prototype.Ua=function(){return u.i.Ee.A.Ua.call(this)};u.i.Ee.prototype.pa=function(a){u.i.Ee.A.pa.call(this,a)};u.i.Ee.prototype.run=function(a){u.i.Mt(this,!a)};u.i.dg=function(a){a&&(u.i.dg.A.constructor.call(this,a),this.Jq=a,this.rs=xb(a),this.Yi=null)};n(u.i.dg,u.i.ai);c=u.i.dg.prototype;c.Gg=function(){if(!this.Jq)throw Error("Tried to record the new position of a comment on the same event twice.");this.Yi=xb(this.Jq);this.Jq=null};c.type=u.i.ln;
c.Ua=function(){var a=u.i.dg.A.Ua.call(this);this.Yi&&(a.newCoordinate=Math.round(this.Yi.x)+","+Math.round(this.Yi.y));return a};c.pa=function(a){u.i.dg.A.pa.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.Yi=new u.g.T(Number(a[0]),Number(a[1])))};c.wk=function(){return u.g.T.Qe(this.rs,this.Yi)};c.run=function(a){var b=wb(Ea(this),this.wf);if(b){a=a?this.Yi:this.rs;var d=xb(b);b.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.wf)};u.le=function(a,b,d,e,f){this.id=f&&!wb(a,f)?f:u.g.Gf();a.Rk.push(this);a.Pn[this.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+this.id+'"');a.Pn[this.id]=this;this.Ce=new u.g.T(0,0);this.Pa=d;this.va=e;this.B=a;this.C=a.C;this.tm=this.Il=!0;this.ic=b;this.Zr=!0;u.le.lr(this)};c=u.le.prototype;
c.K=function(){if(this.B){u.i.isEnabled()&&u.i.ma(new u.i.Ee(this));var a=this.B;if(!u.g.tl(a.Rk,this))throw Error("Comment not present in workspace's list of top-most comments.");delete a.Pn[this.id];this.B=null}};c.ik=function(){return this.Pa};c.Yc=function(){return this.va};function xb(a){return new u.g.T(a.Ce.x,a.Ce.y)}c.moveBy=function(a,b){var d=new u.i.dg(this);this.Ce.translate(a,b);d.Gg();u.i.ma(d)};c.Ec=function(){return this.Il&&!(this.B&&this.B.options.readOnly)};
c.$s=function(a){this.Il=a};c.mc=function(){return this.tm&&!(this.B&&this.B.options.readOnly)};c.mj=function(a){this.tm=a};c.qh=function(){return this.ic};c.Uf=function(a){this.ic!=a&&(u.i.ma(new u.i.bi(this,this.ic,a)),this.ic=a)};c.Um=function(a){a=this.Tm(a);a.setAttribute("x",Math.round(this.Ce.x));a.setAttribute("y",Math.round(this.Ce.y));a.setAttribute("h",this.Pa);a.setAttribute("w",this.va);return a};
c.Tm=function(a){var b=u.g.xml.createElement("comment");a||(b.id=this.id);b.textContent=this.qh();return b};u.le.lr=function(a){if(u.i.isEnabled()){var b=u.i.Zb();b||u.i.ea(!0);try{u.i.ma(new u.i.mf(a))}finally{b||u.i.ea(!1)}}};u.le.Ei=function(a,b){var d=u.le.Cx(a);b=new u.le(b,d.content,d.Aw,d.Ly,d.id);d=parseInt(a.getAttribute("x"),10);a=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(a)||b.moveBy(d,a);u.le.lr(b);return b};
u.le.Cx=function(a){var b=a.getAttribute("h"),d=a.getAttribute("w");return{id:a.getAttribute("id"),Aw:b?parseInt(b,10):100,Ly:d?parseInt(d,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};u.Sa=function(a){this.id=u.g.Gf();u.Sa.pl[this.id]=this;this.options=a||{};this.C=!!this.options.C;this.Bd=!!this.options.Bd;this.ua=this.options.ua;this.Qk=[];this.Rk=[];this.Pn=Object.create(null);this.ud=[];this.uj=[];this.Am=[];this.yq=Object.create(null);this.Qg=Object.create(null);this.La=new u.pq(this);this.Lh=null;this.cursor=this.vv();this.Xo=this.wv();u.Do()||u.hy(u.eh.$h)};c=u.Sa.prototype;c.ha=!1;c.Yr=!1;c.Zt=1024;c.Al=null;c.vv=function(){return new u.cl};c.wv=function(){return new u.cl(!0)};
c.K=function(){this.ud.length=0;this.clear();delete u.Sa.pl[this.id]};u.Sa.yu=3;c=u.Sa.prototype;c.Yf=function(a,b){a=a.Fa();b=b.Fa();return a.y+u.Sa.prototype.Yf.offset*a.x-(b.y+u.Sa.prototype.Yf.offset*b.x)};function yb(a,b){if(!u.g.tl(a.Qk,b))throw Error("Block not present in workspace's list of top-most blocks.");}function A(a,b){var d=[].concat(a.Qk);b&&1<d.length&&(a.Yf.offset=Math.sin(u.g.we.Sm(u.Sa.yu)),a.C&&(a.Yf.offset*=-1),d.sort(a.Yf));return d}
function Ka(a,b){var d=[].concat(a.Rk);b&&1<d.length&&(a.Yf.offset=Math.sin(u.g.we.Sm(u.Sa.yu)),a.C&&(a.Yf.offset*=-1),d.sort(a.Yf));return d}function B(a,b){if(b){a=A(a,!0);b=[];for(var d=0;d<a.length;d++)b.push.apply(b,Ba(a[d],!0))}else for(b=A(a,!1),d=0;d<b.length;d++)b.push.apply(b,b[d].wg(!1));return b.filter(function(e){return!e.Nf()})}
c.clear=function(){this.Yr=!0;try{var a=u.i.Zb();for(a||u.i.ea(!0);this.Qk.length;)this.Qk[0].K();for(;this.Rk.length;)this.Rk[this.Rk.length-1].K();a||u.i.ea(!1);this.La.clear();this.Lh&&this.Lh.clear()}finally{this.Yr=!1}};c.jj=function(a,b){this.La.jj(a,b)};c.oe=function(a,b,d){return this.La.oe(a,b,d)};c.Dr=function(a){return this.La.Dr(a)};c.Bi=function(a){this.La.Bi(a)};c.$n=function(a,b){this.La.$n(a,b)};c.Te=function(a,b){return this.La.Te(a,b)};c.zg=function(a){return this.La.zg(a)};
c.Ul=function(a){return this.La.Ul(a)};c.Cr=function(){return this.La.Cr(this)};c.vg=function(){return this.La.vg()};c.Yc=function(){return 0};c.ep=function(a,b){return new u.$k(this,a,b)};function zb(a){return isNaN(a.options.ms)?Infinity:a.options.ms-B(a).length}function Ab(a,b){if(!Bb(a))return!0;var d=0,e;for(e in b){var f=b[e];if(a.options.ns){var g=a.options.ns[e]||Infinity;var k=a.Qg[e]?a.Qg[e].slice(0):[];g-=k.length}else g=Infinity;if(f>g)return!1;d+=b[e]}return d>zb(a)?!1:!0}
function Bb(a){return Infinity!=a.options.ms||!!a.options.ns}c.rt=function(a){var b=a?this.Am:this.uj,d=a?this.uj:this.Am,e=b.pop();if(e){for(var f=[e];b.length&&e.group&&e.group==b[b.length-1].group;)f.push(b.pop());for(b=0;e=f[b];b++)d.push(e);f=u.i.filter(f,a);u.i.Gc=!1;try{for(b=0;e=f[b];b++)e.run(a)}finally{u.i.Gc=!0}}};c.gv=function(){this.uj.length=0;this.Am.length=0;u.i.rB()};c.Qc=function(a){this.ud.push(a);return a};c.hj=function(a){u.g.tl(this.ud,a)};
function Da(a,b){return a.yq[b]||null}function wb(a,b){return a.Pn[b]||null}u.Sa.pl=Object.create(null);u.Sa.qo=function(a){return u.Sa.pl[a]||null};u.Sa.getAll=function(){var a=[],b;for(b in u.Sa.pl)a.push(u.Sa.pl[b]);return a};u.Sa.prototype.clear=u.Sa.prototype.clear;u.Sa.prototype.clearUndo=u.Sa.prototype.gv;u.Sa.prototype.addChangeListener=u.Sa.prototype.Qc;u.Sa.prototype.removeChangeListener=u.Sa.prototype.hj;u.la=function(a,b,d,e,f,g){this.s=a;this.ic=b;this.iy=d;d=u.la.Uy;this.s.C&&(d=-d);this.VA=u.g.we.Sm(d);a.ae.appendChild(this.El(b,!(!f||!g)));this.Mb=e;this.kj&&Cb(this);f&&g||(b=this.ic.getBBox(),f=b.width+2*u.la.Lc,g=b.height+2*u.la.Lc);this.Qh(f,g);Cb(this);Db(this);this.kj=!0;a.options.readOnly||(u.da(this.vl,"mousedown",this,this.dB),this.cc&&u.da(this.cc,"mousedown",this,this.Ns))};u.la.Lc=6;u.la.Vy=5;u.la.Uy=20;u.la.xt=4;u.la.Ty=8;u.la.ad=null;u.la.xe=null;u.la.prototype.Ms=null;
u.la.Uk=function(){u.la.ad&&(u.gb(u.la.ad),u.la.ad=null);u.la.xe&&(u.gb(u.la.xe),u.la.xe=null)};u.la.eB=function(){u.Touch.pg();u.la.Uk()};c=u.la.prototype;c.kj=!1;c.Mb=null;c.Hg=0;c.Nh=0;c.va=0;c.Pa=0;c.In=!0;
c.El=function(a,b){this.Od=u.g.j.I("g",{},null);var d={filter:"url(#"+this.s.options.cw+")"};u.g.userAgent.Mz&&(d={});d=u.g.j.I("g",d,this.Od);this.Cq=u.g.j.I("path",{},d);this.vl=u.g.j.I("rect",{"class":"blocklyDraggable",x:0,y:0,rx:u.la.Lc,ry:u.la.Lc},d);b?(this.cc=u.g.j.I("g",{"class":this.s.C?"blocklyResizeSW":"blocklyResizeSE"},this.Od),b=2*u.la.Lc,u.g.j.I("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.cc),u.g.j.I("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/
3},this.cc),u.g.j.I("line",{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.cc)):this.cc=null;this.Od.appendChild(a);return this.Od};c.Z=function(){return this.Od};function Eb(a,b){a.Od.dataset&&(a.Od.dataset.xc=b)}c.dB=function(a){var b=this.s.If(a);b&&Fb(b,a,this)};c.Nk=function(){};c.Ec=function(){return!1};
c.Ns=function(a){Gb(this);u.la.Uk();u.g.Ch(a)||(this.s.vp(a,new u.g.T(this.s.C?-this.va:this.va,this.Pa)),u.la.ad=u.da(document,"mouseup",this,u.la.eB),u.la.xe=u.da(document,"mousemove",this,this.Os),u.lc());a.stopPropagation()};c.Os=function(a){this.In=!1;a=Hb(this.s,a);this.Qh(this.s.C?-a.x:a.x,a.y);this.s.C&&Cb(this)};function Gb(a){var b=a.Od.parentNode;return b.lastChild!==a.Od?(b.appendChild(a.Od),!0):!1}
function Ib(a,b,d){var e=a.s.C?a.Mb.x-b.x-a.va:b.x+a.Mb.x;b=b.y+a.Mb.y;return Math.max(0,Math.min(1,(Math.min(e+a.va,d.vb+d.Ya)-Math.max(e,d.vb))*(Math.min(b+a.Pa,d.Jb+d.cb)-Math.max(b,d.Jb))/(a.va*a.Pa)))}function Cb(a){var b=a.Mb.x;b=a.s.C?b-(a.Hg+a.va):b+a.Hg;a.moveTo(b,a.Nh+a.Mb.y)}c.moveTo=function(a,b){this.Od.setAttribute("transform","translate("+a+","+b+")")};c.Fi=function(){return{width:this.va,height:this.Pa}};
c.Qh=function(a,b){var d=2*u.la.Lc;a=Math.max(a,d+45);b=Math.max(b,d+20);this.va=a;this.Pa=b;this.vl.setAttribute("width",a);this.vl.setAttribute("height",b);this.cc&&(this.s.C?this.cc.setAttribute("transform","translate("+2*u.la.Lc+","+(b-d)+") scale(-1 1)"):this.cc.setAttribute("transform","translate("+(a-d)+","+(b-d)+")"));if(this.kj){if(this.In){a=this.s.Eb();a.vb/=this.s.scale;a.Ya/=this.s.scale;a.Jb/=this.s.scale;a.cb/=this.s.scale;b=-this.va/4;if(!(this.va>a.Ya)){if(this.s.C){d=this.Mb.x-b;
var e=d-this.va;var f=a.vb+a.Ya,g=a.vb+u.Ba.Qb/this.s.scale}else e=b+this.Mb.x,d=e+this.va,g=a.vb,f=a.vb+a.Ya-u.Ba.Qb/this.s.scale;this.s.C?e<g?b=-(g-this.Mb.x+this.va):d>f&&(b=-(f-this.Mb.x)):e<g?b=g-this.Mb.x:d>f&&(b=f-this.Mb.x-this.va)}e=b;b=-this.Pa/4;if(!(this.Pa>a.cb)){d=this.Mb.y+b;f=d+this.Pa;g=a.Jb;var k=a.Jb+a.cb-u.Ba.Qb/this.s.scale,l=this.Mb.y;d<g?b=g-l:f>k&&(b=k-l-this.Pa)}g=b;f=this.iy.getBBox();b={x:e,y:-this.Pa-u.o.hl};d={x:-this.va-30,y:g};g={x:f.width,y:g};k={x:e,y:f.height};e=
f.width<f.height?g:k;f=f.width<f.height?k:g;g=Ib(this,b,a);k=Ib(this,d,a);l=Ib(this,e,a);a=Math.max(g,k,l,Ib(this,f,a));g==a?(this.Hg=b.x,this.Nh=b.y):k==a?(this.Hg=d.x,this.Nh=d.y):l==a?(this.Hg=e.x,this.Nh=e.y):(this.Hg=f.x,this.Nh=f.y)}Cb(this);Db(this)}this.Ms&&this.Ms()};
function Db(a){var b=[],d=a.va/2,e=a.Pa/2,f=-a.Hg,g=-a.Nh;if(d==f&&e==g)b.push("M "+d+","+e);else{g-=e;f-=d;a.s.C&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var p=Math.sin(m),r=Math.cos(m),t=a.Fi();m=(t.width+t.height)/u.la.Vy;m=Math.min(m,t.width,t.height)/4;t=1-u.la.Ty/k;f=d+t*f;g=e+t*g;t=d+m*r;var v=e+m*p;d-=m*r;e-=m*p;p=l+a.VA;p>2*Math.PI&&(p-=2*Math.PI);l=Math.sin(p)*k/u.la.xt;k=Math.cos(p)*k/u.la.xt;b.push("M"+t+","+
v);b.push("C"+(t+k)+","+(v+l)+" "+f+","+g+" "+f+","+g);b.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}b.push("z");a.Cq.setAttribute("d",b.join(" "))}c.dc=function(a){this.vl.setAttribute("fill",a);this.Cq.setAttribute("fill",a)};c.K=function(){u.la.Uk();u.g.j.removeNode(this.Od);this.iy=this.ic=this.s=this.cc=this.vl=this.Cq=this.Od=null};c.bp=function(a,b){a?a.Og(b.x,b.y):this.moveTo(b.x,b.y);this.Hg=this.s.C?this.Mb.x-b.x-this.va:b.x-this.Mb.x;this.Nh=b.y-this.Mb.y;Db(this)};
c.Fa=function(){return new u.g.T(this.Mb.x+this.Hg,this.Mb.y+this.Nh)};c.Yx=function(a){this.In=a};u.i.fc=function(a,b,d,e){u.i.fc.A.constructor.call(this);this.xc=a?a.id:null;this.Ub=a?a.B.id:null;this.element=b;this.oldValue=d;this.newValue=e;this.Gc=!1};n(u.i.fc,u.i.Abstract);u.i.fc.prototype.type=u.i.ol;u.i.fc.prototype.Ua=function(){var a=u.i.fc.A.Ua.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.xc&&(a.blockId=this.xc);return a};u.i.fc.prototype.pa=function(a){u.i.fc.A.pa.call(this,a);this.element=a.element;this.newValue=a.newValue;this.xc=a.blockId};u.g.Rect=function(a,b,d,e){this.top=a;this.bottom=b;this.left=d;this.right=e};u.g.Rect.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};u.ja=function(a,b,d,e,f){this.D=u.g.j.I("g",{"class":"blocklyComment"},null);this.D.Pg="";this.Qm=u.g.j.I("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:u.ja.dn,ry:u.ja.dn});this.D.appendChild(this.Qm);this.kj=!1;this.ag=u.g.zh()&&!!a.Nb;u.ja.A.constructor.call(this,a,b,d,e,f);this.qa()};n(u.ja,u.le);u.ja.Nt=100;c=u.ja.prototype;
c.K=function(){if(this.B){if(u.selected==this){this.Ae();var a=this.B;a.Pb&&a.Pb.cancel()}u.i.isEnabled()&&u.i.ma(new u.i.Ee(this));u.g.j.removeNode(this.D);this.rj=this.Vh=this.Pd=this.Ib=this.Qm=this.D=null;this.sg=!0;u.i.disable();u.ja.A.K.call(this);u.i.enable()}};c.Bg=function(){if(!this.B.ha)throw TypeError("Workspace is headless.");this.B.options.readOnly||this.jr||(u.da(this.Vh,"mousedown",this,this.Ex),u.da(this.rj,"mousedown",this,this.Ex));this.jr=!0;Jb(this);this.Z().parentNode||this.B.ae.appendChild(this.Z())};
c.Ex=function(a){var b=this.B.If(a);b&&Fb(b,a,this)};c.Nk=function(a){if(!this.B.options.readOnly){var b=[];this.Ec()&&this.mc()&&(b.push(u.ya.uB(this)),b.push(u.ya.tB(this)));u.ya.show(a,b,this.C)}};c.select=function(){if(u.selected!=this){var a=null;if(u.selected){a=u.selected.id;u.i.disable();try{u.selected.Ae()}finally{u.i.enable()}}a=new u.i.fc(null,"selected",a,this.id);a.Ub=this.B.id;u.i.ma(a);u.selected=this;this.Vj()}};
c.Ae=function(){if(u.selected==this){var a=new u.i.fc(null,"selected",this.id,null);a.Ub=this.B.id;u.i.ma(a);u.selected=null;this.ij();Kb(this)}};c.Vj=function(){u.g.j.fb(this.D,"blocklySelected");this.bt()};c.ij=function(){u.g.j.Gb(this.D,"blocklySelected");Kb(this)};
c.Fa=function(){var a=0,b=0,d=this.ag?this.B.Nb.Zb():null,e=this.Z();if(e){do{var f=u.g.Rd(e);a+=f.x;b+=f.y;this.ag&&this.B.Nb.pe.firstChild==e&&(f=this.B.Nb.Co(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.B.ae&&e!=d)}return this.Ce=new u.g.T(a,b)};c.moveBy=function(a,b){var d=new u.i.dg(this),e=this.Fa();this.translate(e.x+a,e.y+b);this.Ce=new u.g.T(e.x+a,e.y+b);d.Gg();u.i.ma(d);Oa(this.B)};
c.translate=function(a,b){this.Ce=new u.g.T(a,b);this.Z().setAttribute("transform","translate("+a+","+b+")")};c.cp=function(){if(this.ag){var a=this.Fa();this.Z().removeAttribute("transform");this.B.Nb.Og(a.x,a.y);Lb(this.B.Nb,this.Z())}};c.mx=function(a){this.ag&&(this.translate(a.x,a.y),this.B.Nb.xl(this.B.ab))};c.bp=function(a,b){a?a.Og(b.x,b.y):(this.D.Pg="translate("+b.x+","+b.y+")",this.D.setAttribute("transform",this.D.Pg+this.D.oj))};c.moveTo=function(a,b){this.translate(a,b)};
c.po=function(){var a=this.Fa(),b=this.Db(),d=a.y,e=a.y+b.height;if(this.C){var f=a.x-b.width;a=a.x}else f=a.x,a=a.x+b.width;return new u.g.Rect(d,e,f,a)};function Jb(a){a.mc()?u.g.j.fb(a.D,"blocklyDraggable"):u.g.j.Gb(a.D,"blocklyDraggable")}c.mj=function(a){u.ja.A.mj.call(this,a);Jb(this)};c.Sh=function(a){a?(a=this.Z(),a.Pg="",a.oj="",u.g.j.fb(this.D,"blocklyDragging")):u.g.j.Gb(this.D,"blocklyDragging")};c.Z=function(){return this.D};c.qh=function(){return this.Ib?this.Ib.value:this.ic};
c.Uf=function(a){u.ja.A.Uf.call(this,a);this.Ib&&(this.Ib.value=a)};c.Em=function(a){a?u.g.j.fb(this.D,"blocklyDraggingDelete"):u.g.j.Gb(this.D,"blocklyDraggingDelete")};c.Yx=function(){};u.ja.Ei=function(a,b,d){u.i.disable();try{var e=u.le.Cx(a),f=new u.ja(b,e.content,e.Aw,e.Ly,e.id);b.ha&&(f.Bg(),f.qa(!1));if(!isNaN(e.x)&&!isNaN(e.y))if(b.C){var g=d||b.Yc();f.moveBy(g-e.x,e.y)}else f.moveBy(e.x,e.y)}finally{u.i.enable()}u.le.lr(f);return f};
u.ja.prototype.Um=function(a){var b;this.B.C&&(b=this.B.Yc());a=this.Tm(a);var d=this.Fa();a.setAttribute("x",Math.round(this.B.C?b-d.x:d.x));a.setAttribute("y",Math.round(d.y));a.setAttribute("h",this.ik());a.setAttribute("w",this.Yc());return a};u.bl=function(a,b){this.Yb=a;this.s=b;this.Ai=null;this.Cp=!1;this.Zf=this.Yb.Fa();this.Ci=u.g.zh()&&b.Nb?b.Nb:null};u.bl.prototype.K=function(){this.Ci=this.s=this.Yb=null};function Mb(a,b,d){d=a.Gk(d);d=u.g.T.sum(a.Zf,d);a.Yb.bp(a.Ci,d);a.Yb.Ec()&&(a.Ai=mb(a.s,b),a.Cp=a.Ai!=u.Ot,b=a.s.Ic,a.Cp?(a.Yb.Em(!0),a.Ai==u.Np&&b&&nb(b,!0)):(a.Yb.Em(!1),b&&nb(b,!1)))}
function Nb(a,b,d){Mb(a,b,d);b=a.Gk(d);b=u.g.T.sum(a.Zf,b);a.Yb.moveTo(b.x,b.y);b=a.s.Ic;a.Cp?(b&&setTimeout(b.close.bind(b),100),a.Nl(),a.Yb.K(!1,!0)):b&&b.close();a.Cp||(a.Ci&&a.Ci.xl(a.s.ae),a.Yb.Sh&&a.Yb.Sh(!1),a.Nl());a.s.rc(!0);a.s.ia&&u.g.j.Gb(a.s.ia.kd,a.Yb.Ec()?"blocklyToolboxDelete":"blocklyToolboxGrab");u.i.ea(!1)}u.bl.prototype.Nl=function(){if(this.Yb.Zr){var a=new u.i.dg(this.Yb);a.rs=this.Zf;a.Gg();u.i.ma(a)}};
u.bl.prototype.Gk=function(a){a=new u.g.T(a.x/this.s.scale,a.y/this.s.scale);this.s.Ti&&a.scale(1/this.s.options.bd.scale);return a};u.bl.prototype.cp=function(){this.Yb.moveTo(0,0);this.Ci.Og(this.Zf.x,this.Zf.y);Lb(this.Ci,this.Yb.Z())};u.w={};u.Yt=40;u.ou=125;u.hz=5;u.uz=10;u.Pc=28;u.Kt=u.Pc;u.ez=8;u.Kz="#000000";u.gn=250;u.Hp=10;u.bz=30;u.Oz=750;u.mA=100;u.iz=!0;u.Bz=.45;u.Cz=.65;u.md={width:96,height:124,url:"sprites.png"};u.Oa=1;u.ee=2;u.Ma=3;u.fe=4;u.Ie=5;u.Bj=-1;u.Yk=0;u.Zk=1;u.mF=0;u.nF=1;u.kF=1;u.lF=2;u.Nj=[];u.Nj[u.Oa]=u.ee;u.Nj[u.ee]=u.Oa;u.Nj[u.Ma]=u.fe;u.Nj[u.fe]=u.Ma;u.nd=0;u.dh=1;u.yd=2;u.ig=3;u.Ot=null;u.Np=1;u.Pt=2;u.Gu="VARIABLE";u.FA="VARIABLE_DYNAMIC";u.pu="PROCEDURE";u.xu="RENAME_VARIABLE_ID";u.Qt="DELETE_VARIABLE_ID";u.ql=function(a){this.s=a;this.qy=new u.g.T(a.scrollX,a.scrollY)};u.ql.prototype.K=function(){this.s=null};u.ql.prototype.vp=function(){u.selected&&u.selected.Ae();Ob(this.s)};u.ql.prototype.oh=function(a){a=u.g.T.sum(this.qy,a);this.s.scroll(a.x,a.y)};u.sn=function(a){u.sn.A.constructor.call(this,a.sh());this.Rb=a.Rb;this.We=a.We};n(u.sn,u.ql);u.sn.prototype.oh=function(a){a=u.g.T.sum(this.qy,a);this.We?this.Rb.set(-a.x):this.Rb.set(-a.y)};u.M={};u.M.visible=!1;u.M.Yj=!1;u.M.Nz=50;u.M.lx=0;u.M.Im=0;u.M.fs=0;u.M.gs=0;u.M.oa=null;u.M.jp=null;u.M.eu=0;u.M.fu=10;u.M.gA=10;u.M.Az=750;u.M.Yp=5;u.M.wa=null;u.M.ka=function(){u.M.wa||(u.M.wa=document.createElement("div"),u.M.wa.className="blocklyTooltipDiv",document.body.appendChild(u.M.wa))};u.M.Xj=function(a){u.wc(a,"mouseover",null,u.M.bE);u.wc(a,"mouseout",null,u.M.aE);a.addEventListener("mousemove",u.M.$D,!1)};
u.M.bE=function(a){if(!u.M.Yj){for(a=a.currentTarget;"string"!=typeof a.gf&&"function"!=typeof a.gf;)a=a.gf;u.M.oa!=a&&(u.M.Ga(),u.M.jp=null,u.M.oa=a);clearTimeout(u.M.lx)}};u.M.aE=function(){u.M.Yj||(u.M.lx=setTimeout(function(){u.M.oa=null;u.M.jp=null;u.M.Ga()},1),clearTimeout(u.M.Im))};
u.M.$D=function(a){if(u.M.oa&&u.M.oa.gf&&!u.M.Yj)if(u.M.visible){var b=u.M.fs-a.pageX;a=u.M.gs-a.pageY;Math.sqrt(b*b+a*a)>u.M.gA&&u.M.Ga()}else u.M.jp!=u.M.oa&&(clearTimeout(u.M.Im),u.M.fs=a.pageX,u.M.gs=a.pageY,u.M.Im=setTimeout(u.M.CE,u.M.Az))};u.M.Ga=function(){u.M.visible&&(u.M.visible=!1,u.M.wa&&(u.M.wa.style.display="none"));u.M.Im&&clearTimeout(u.M.Im)};u.M.block=function(){u.M.Ga();u.M.Yj=!0};u.M.YE=function(){u.M.Yj=!1};
u.M.CE=function(){if(!u.M.Yj&&(u.M.jp=u.M.oa,u.M.wa)){u.M.wa.innerHTML="";for(var a=u.M.oa.gf;"function"==typeof a;)a=a();a=u.g.Xa.Py(a,u.M.Nz);a=a.split("\n");for(var b=0;b<a.length;b++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[b]));u.M.wa.appendChild(d)}a=u.M.oa.C;b=document.documentElement.clientWidth;d=document.documentElement.clientHeight;u.M.wa.style.direction=a?"rtl":"ltr";u.M.wa.style.display="block";u.M.visible=!0;var e=u.M.fs;e=a?e-(u.M.eu+u.M.wa.offsetWidth):
e+u.M.eu;var f=u.M.gs+u.M.fu;f+u.M.wa.offsetHeight>d+window.scrollY&&(f-=u.M.wa.offsetHeight+2*u.M.fu);a?e=Math.max(u.M.Yp-window.scrollX,e):e+u.M.wa.offsetWidth>b+window.scrollX-2*u.M.Yp&&(e=b-u.M.wa.offsetWidth-2*u.M.Yp);u.M.wa.style.top=f+"px";u.M.wa.style.left=e+"px"}};u.Gj=function(a,b){this.ec=this.sc=this.pj=this.qj=this.Yd=this.rd=this.kx=null;this.xv=b;this.gm=this.Si=this.hm=this.Ji=!1;this.Ze=a;this.P=this.Yh=this.Oe=this.lg=this.Ek=this.hp=null;this.Po=this.Ki=this.Zu=!1;this.Iw=!u.iz};c=u.Gj.prototype;c.K=function(){u.Touch.pg();u.M.YE();this.xv.Pb=null;this.hp&&u.gb(this.hp);this.Ek&&u.gb(this.Ek);this.P=this.ec=this.sc=this.pj=this.qj=null;this.Oe&&(this.Oe.K(),this.Oe=null);this.Yh&&(this.Yh.K(),this.Yh=null);this.lg&&(this.lg.K(),this.lg=null)};
function Pb(a,b){a.rd=u.g.T.Jl(new u.g.T(b.clientX,b.clientY),a.kx);if(a.Ji)var d=!1;else a.Ji=u.g.T.wD(a.rd)>(a.P?u.uz:u.hz),d=a.Ji;if(d){if(a.Zu)throw Error("updateIsDragging_ should only be called once per gesture.");a.Zu=!0;if(a.Yd){a.gm=!0;a.lg=new u.bl(a.Yd,a.ec);d=a.lg;u.i.Zb()||u.i.ea(!0);d.s.rc(!1);d.Yb.Yx(!1);d.Ci&&d.cp();d.Yb.Sh&&d.Yb.Sh(!0);var e=d.s.ia;e&&u.g.j.fb(e.kd,d.Yb.Ec()?"blocklyToolboxDelete":"blocklyToolboxGrab");Mb(a.lg,a.Ze,a.rd);d=!0}else d=!1;if(!d){if(a.sc)if(a.P?(a.P.Rw(a.sc)?
!Qb(a.P)||a.P.Sw(a.rd)?(a.ec=a.P.Ia,Rb(a.ec),u.i.Zb()||u.i.ea(!0),a.pj=null,a.sc=Sb(a.P,a.sc),a.sc.select(),d=!0):d=!1:d=!1,a.Si=d):a.sc.mc()&&(a.Si=!0),a.Si){a.Oe=new u.Zh(a.sc,a.ec);d=a.Oe;e=a.rd;var f=a.Iw;u.i.Zb()||u.i.ea(!0);d.s.Ti&&pb(d.pb);u.R.Km();d.s.rc(!1);u.eb.$q();if(d.pb.getParent()||f&&d.pb.ba&&x(d.pb.ba))Ha(d.pb,f),e=d.Gk(e),e=u.g.T.sum(d.Zf,e),d.pb.translate(e.x,e.y),u.eb.WB(d.pb);d.pb.Sh(!0);d.pb.cp();(e=d.s.ia)&&u.g.j.fb(e.kd,d.pb.Ec()?"blocklyToolboxDelete":"blocklyToolboxGrab");
kb(a.Oe,a.Ze,a.rd);d=!0}else d=!1;else d=!1;if(d=!d)if(a.P)d=Qb(a.P);else if(d=a.ec)d=a.ec,d=d.options.oc&&d.options.oc.oh;d&&(a.Yh=a.P?new u.sn(a.P):new u.ql(a.ec),a.hm=!0,a.Yh.vp())}u.Fh()}a.Ze=b}
c.ar=function(a){u.g.So(a)?this.cancel():(this.Ki=!0,u.eb.$q(),Rb(this.ec),this.ec.Ti&&this.ec.resize(),Ub(this.ec),this.Ze=a,u.lc(!!this.P),u.M.block(),this.sc&&(this.sc.select(),!this.sc.sd&&a.shiftKey&&u.v.mo()),u.g.Ch(a)?rb(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||u.vD(a,this),this.kx=new u.g.T(a.clientX,a.clientY),this.Iw=a.altKey||a.ctrlKey||a.metaKey,this.Xj(a)))};
c.Xj=function(a){this.hp=u.da(document,"mousemove",null,this.Yl.bind(this));this.Ek=u.da(document,"mouseup",null,this.Go.bind(this));a.preventDefault();a.stopPropagation()};c.Yl=function(a){Pb(this,a);this.hm?this.Yh.oh(this.rd):this.Si?kb(this.Oe,this.Ze,this.rd):this.gm&&Mb(this.lg,this.Ze,this.rd);a.preventDefault();a.stopPropagation()};
c.Go=function(a){Pb(this,a);u.Fh();if(this.Po)console.log("Trying to end a gesture recursively.");else{this.Po=!0;if(this.gm)Nb(this.lg,a,this.rd);else if(this.Si)ob(this.Oe,a,this.rd);else if(this.hm){var b=this.Yh;b.oh(this.rd);Vb(b.s)}else if(this.Yd&&!this.Ji)this.Yd.bt&&this.Yd.bt(),this.Yd.select&&this.Yd.select();else if(Wb(this))this.qj.ef(),Xb(this);else if(this.pj&&!this.Ji&&!Wb(this))this.P&&this.P.Wj?this.sc.isEnabled()&&(u.i.Zb()||u.i.ea(!0),qb(Sb(this.P,this.sc))):u.i.ma(new u.i.fc(this.pj,
"click",void 0,void 0)),Xb(this),u.i.ea(!1);else if(!(this.pj||this.Yd||this.qj||this.Ji))if(u.Ui=!1,b=this.xv,b.cursor.Ga(),a.shiftKey){var d=u.g.wE(b,new u.g.T(a.clientX,a.clientY));d=u.F.Hl(b,d);sb(b.cursor,d);u.Ui=!0}else u.selected&&u.selected.Ae();a.preventDefault();a.stopPropagation();this.K()}};c.cancel=function(){if(!this.Po){u.Fh();if(this.gm)Nb(this.lg,this.Ze,this.rd);else if(this.Si)ob(this.Oe,this.Ze,this.rd);else if(this.hm){var a=this.Yh;a.oh(this.rd);Vb(a.s)}this.K()}};
function rb(a,b){a.sc?(Xb(a),u.lc(a.P),a.sc.Nk(b)):a.Yd?a.Yd.Nk(b):a.ec&&!a.P&&(u.lc(),a.ec.Nk(b));b.preventDefault();b.stopPropagation();a.K()}function Yb(a,b,d){if(a.Ki)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.ec||(a.ec=d);a.Ze=b;a.ar(b)}function Zb(a,b,d){if(a.Ki)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.P||(a.P=d);Yb(a,b,d.sh())}
function Fb(a,b,d){if(a.Ki)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");a.Yd||(a.Yd=d);a.Ze=b}function Xb(a){a.sc&&!a.P&&pb(a.sc)}function $b(a,b){a.pj||a.Yd||(a.pj=b,b.sd&&b!=Wa(b)?ac(a,Wa(b)):ac(a,b))}function ac(a,b){b.bb?ac(a,b.getParent()):a.sc=b}function Wb(a){if(a.qj){var b=a.qj;b=!!b.G&&b.G.Zc()&&!!b.ef&&"function"===typeof b.ef}else b=!1;return b&&!a.Ji&&(!a.P||!a.P.Wj)}c.Fc=function(){return this.hm||this.Si||this.gm};
c.jk=function(){return this.Oe?this.Oe.jk():[]};u.Gj.Sr=function(){for(var a=u.Sa.getAll(),b=0,d;d=a[b];b++)if(d.Pb)return!0;return!1};u.R=function(a,b){this.rb=new u.g.sf(0,0);this.setValue(a);b&&(this.Ap=b)};u.R.Du={};u.R.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'"');if(!b||"function"!=typeof b.pa)throw Error('Field "'+b+'" must have a fromJson function');u.R.Du[a]=b};u.R.pa=function(a){var b=u.R.Du[a.type];return b?(b=b.pa(a),void 0!==a.tooltip&&(a=u.g.bc(a.tooltip),b.ed(a)),b):null};u.R.ui=null;u.R.Dq=0;u.R.fn=16;u.R.Cu=12.5;u.R.rl=10;u.R.ci=u.R.rl/2;c=u.R.prototype;
c.name=void 0;c.gx=50;c.Aa=null;c.xa="";c.Cy=null;c.G=null;c.Xe=!0;c.Kb=!0;c.Ap=null;c.Mn=null;u.R.bu="\u00a0";c=u.R.prototype;c.Vg=!0;c.hg=!1;c.ft=function(a){if(this.G)throw Error("Field already bound to a block.");this.G=a};c.za=function(){this.Re||(this.Re=u.g.j.I("g",{},null),this.isVisible()||(this.Re.style.display="none"),this.G.Z().appendChild(this.Re),this.Mf(),this.Rg(),this.ed(this.Cy),u.M.Xj(this.Mn||this.Z()),this.jx=u.da(this.Mn||this.Z(),"mousedown",this,this.Ih),this.Pi())};
c.Mf=function(){bc(this);cc(this)};function bc(a){a.rb.height=Math.max(a.rb.height,u.R.fn);a.rb.width=Math.max(a.rb.width,u.R.rl);a.Nd=u.g.j.I("rect",{rx:4,ry:4,x:0,y:0,height:a.rb.height,width:a.rb.width},a.Re)}function cc(a){a.Hb=u.g.j.I("text",{"class":"blocklyText",y:u.R.Cu,x:a.Nd?u.R.ci:0},a.Re);a.Rm=document.createTextNode("");a.Hb.appendChild(a.Rm)}c.Pi=function(){};c.Ei=function(a){this.setValue(a.textContent)};c.Tm=function(a){a.textContent=this.getValue();return a};
c.K=function(){u.H.Mi(this);u.$.Mi(this);this.jx&&u.gb(this.jx);u.g.j.removeNode(this.Re)};c.Rg=function(){var a=this.Mn||this.Z();this.Vg&&a&&(this.G.Zc()?(u.g.j.fb(a,"blocklyEditableText"),u.g.j.Gb(a,"blocklyNonEditableText"),a.style.cursor=this.nn):(u.g.j.fb(a,"blocklyNonEditableText"),u.g.j.Gb(a,"blocklyEditableText"),a.style.cursor=""))};function dc(a){return a.Vg&&!!a.G&&a.G.Zc()}c.isVisible=function(){return this.Kb};
c.Ha=function(a){if(this.Kb!=a){this.Kb=a;var b=this.Z();b&&(b.style.display=a?"block":"none")}};c.Br=function(){return this.Ap};c.Z=function(){return this.Re};c.Be=function(){};c.Tf=function(){this.Rm.nodeValue=ec(this);var a=u.R.ro(this.Hb);this.Nd&&(a+=u.R.rl,this.Nd.setAttribute("width",a));this.rb.width=a};
u.R.ro=function(a){var b=a.textContent+"\n"+a.className.baseVal,d;if(u.R.ui&&(d=u.R.ui[b]))return d;try{d=u.g.userAgent.Wg||u.g.userAgent.rn?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}u.R.ui&&(u.R.ui[b]=d);return d};u.R.Km=function(){u.R.Dq++;u.R.ui||(u.R.ui={})};u.R.Mm=function(){u.R.Dq--;u.R.Dq||(u.R.ui=null)};c=u.R.prototype;
c.yg=function(){if(!this.isVisible())return new u.g.sf(0,0);this.Xe?(this.Tf(),this.Xe=!1):this.Kb&&0==this.rb.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Tf());return this.rb};function fc(a){var b=a.Nd.getBBox(),d=b.height*a.G.B.scale;b=b.width*a.G.B.scale;a=u.g.style.wC(a.Nd);return{top:a.y,bottom:a.y+d,left:a.x,right:a.x+b}}
function ec(a){var b=a.xa;if(!b)return u.R.bu;b.length>a.gx&&(b=b.substring(0,a.gx-2)+"\u2026");b=b.replace(/\s/g,u.R.bu);a.G.C&&(b+="\u200f");return b}c.kc=function(){return this.xa};c.Wf=function(a){null!==a&&(a=String(a),a!==this.xa&&(this.xa=a,ub(this)))};function ub(a){a.Xe=!0;a.G&&a.G.ha&&(a.G.qa(),a.G.od())}
c.setValue=function(a){if(null!==a){var b=this.Uc(a);a=gc(this,a,b);if(!(a instanceof Error)){if(b=this.Br())if(b=b.call(this,a),a=gc(this,a,b),a instanceof Error)return;b=this.getValue();b!==a&&(this.G&&u.i.isEnabled()&&u.i.ma(new u.i.lf(this.G,"field",this.name,b,a)),this.mh(a),this.Xe&&ub(this))}}};function gc(a,b,d){if(null===d)return a.Yv(),a.Xe&&ub(a),Error();void 0!==d&&(b=d);return b}c.getValue=function(){return this.Aa};c.Uc=function(a){return a};
c.mh=function(a){this.Aa=a;this.Xe=!0;this.xa=String(a)};c.Yv=function(){};c.Ih=function(a){if(this.G&&this.G.B&&(a=this.G.B.If(a))){if(a.Ki)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.qj||(a.qj=this)}};c.ed=function(a){var b=this.Mn||this.Z();b?b.gf=a||""===a?a:this.G:this.Cy=a};c.pp=function(){return!1};c.Jf=function(){for(var a=null,b=this.G,d=b.W,e=0;e<b.W.length;e++)for(var f=d[e],g=f.Ca,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};u.g.Tk={};u.g.Tk.yg=function(a){a=a.U();var b=u.g.style.yg(a);b.height=a.scrollHeight;return b};u.g.Tk.Qu=function(a,b,d){b.left+=d.width;b.right+=d.width;a.left+=d.width;a.right+=d.width};function hc(a){if(Error.captureStackTrace)Error.captureStackTrace(this,hc);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}n(hc,Error);hc.prototype.name="CustomError";var ic;function jc(a,b){a=a.split("%s");for(var d="",e=a.length-1,f=0;f<e;f++)d+=a[f]+(f<b.length?b[f]:"%s");hc.call(this,d+a[e])}n(jc,hc);jc.prototype.name="AssertionError";var kc=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var d=0;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},lc=Array.prototype.forEach?function(a,b,d){Array.prototype.forEach.call(a,b,d)}:function(a,b,d){for(var e=a.length,f="string"===typeof a?a.split(""):a,g=0;g<e;g++)g in f&&b.call(d,f[g],g,a)},mc=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,
b,void 0)}:function(a,b){for(var d=a.length,e=[],f=0,g="string"===typeof a?a.split(""):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(void 0,l,k,a)&&(e[f++]=l)}return e},nc=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var d=a.length,e=Array(d),f="string"===typeof a?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(void 0,f[g],g,a));return e},oc=Array.prototype.every?function(a,b){return Array.prototype.every.call(a,b,void 0)}:function(a,b){for(var d=a.length,
e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(void 0,e[f],f,a))return!1;return!0};function pc(a,b){return 0<=kc(a,b)}function qc(a,b){b=kc(a,b);var d;(d=0<=b)&&Array.prototype.splice.call(a,b,1);return d}function rc(a){return Array.prototype.concat.apply([],arguments)}function sc(a){var b=a.length;if(0<b){for(var d=Array(b),e=0;e<b;e++)d[e]=a[e];return d}return[]}function tc(a,b,d,e){Array.prototype.splice.apply(a,uc(arguments,1))}
function uc(a,b,d){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,d)};var vc=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};
function wc(a,b){if(b)a=a.replace(xc,"&amp;").replace(yc,"&lt;").replace(zc,"&gt;").replace(Ac,"&quot;").replace(Bc,"&#39;").replace(Cc,"&#0;");else{if(!Dc.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(xc,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(yc,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(zc,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ac,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Bc,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Cc,"&#0;"))}return a}
var xc=/&/g,yc=/</g,zc=/>/g,Ac=/"/g,Bc=/'/g,Cc=/\x00/g,Dc=/[\x00&<>"']/;function Ec(a,b){return-1!=a.indexOf(b)}function Fc(a,b){return a<b?-1:a>b?1:0};var Gc;a:{var Hc=h.navigator;if(Hc){var Ic=Hc.userAgent;if(Ic){Gc=Ic;break a}}Gc=""};function Jc(a,b,d){for(var e in a)b.call(d,a[e],e,a)}var Kc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lc(a,b){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var g=0;g<Kc.length;g++)d=Kc[g],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}}
function Mc(a){var b=arguments.length;if(1==b&&qa(arguments[0]))return Mc.apply(null,arguments[0]);for(var d={},e=0;e<b;e++)d[arguments[e]]=!0;return d};var Nc={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function Oc(a,b){this.ty=a===Pc&&b||"";this.uA=Qc}Oc.prototype.Lf=!0;Oc.prototype.se=function(){return this.ty};function Rc(a){return a instanceof Oc&&a.constructor===Oc&&a.uA===Qc?a.ty:"type_error:Const"}var Qc={},Pc={};function Sc(){this.Ix=""}Sc.prototype.Lf=!0;Sc.prototype.se=function(){return this.Ix.toString()};Sc.prototype.xh=function(a){this.Ix=a;return this};(new Sc).xh("");function Tc(a,b){this.Lx=a===Uc&&b||"";this.DA=Vc}Tc.prototype.Lf=!0;Tc.prototype.se=function(){return this.Lx.toString()};Tc.prototype.Rr=!0;Tc.prototype.Gi=function(){return 1};var Vc={},Uc={};function Wc(a,b){this.Kx=a===Xc&&b||"";this.kA=Yc}Wc.prototype.Lf=!0;Wc.prototype.se=function(){return this.Kx.toString()};Wc.prototype.Rr=!0;Wc.prototype.Gi=function(){return 1};function Zc(a){if(a instanceof Wc&&a.constructor===Wc&&a.kA===Yc)return a.Kx;pa(a);return"type_error:SafeUrl"}var $c=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ad(a){if(a instanceof Wc)return a;a="object"==typeof a&&a.Lf?a.se():String(a);$c.test(a)||(a="about:invalid#zClosurez");return new Wc(Xc,a)}
var Yc={},Xc={};function bd(){this.Is="";this.jA=cd}bd.prototype.Lf=!0;var cd={};bd.prototype.se=function(){return this.Is};bd.prototype.xh=function(a){this.Is=a;return this};var dd=(new bd).xh("");function ed(a){var b="",d;for(d in a){if(!/^[-_a-zA-Z0-9]+$/.test(d))throw Error("Name allows only [-_a-zA-Z0-9], got: "+d);var e=a[d];null!=e&&(e=qa(e)?nc(e,fd).join(" "):fd(e),b+=d+":"+e+";")}return b?(new bd).xh(b):dd}
function fd(a){if(a instanceof Wc)return'url("'+Zc(a).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(a instanceof Oc)a=Rc(a);else{a=String(a);var b=a.replace(gd,"$1").replace(gd,"$1").replace(hd,"url");if(id.test(b)){if(b=!jd.test(a)){for(var d=b=!0,e=0;e<a.length;e++){var f=a.charAt(e);"'"==f&&d?b=!b:'"'==f&&b&&(d=!d)}b=b&&d&&kd(a)}a=b?ld(a):"zClosurez"}else a="zClosurez"}if(/[{;}]/.test(a))throw new jc("Value does not allow [{;}], got: %s.",[a]);return a}
function kd(a){for(var b=!0,d=/^[-_a-zA-Z0-9]$/,e=0;e<a.length;e++){var f=a.charAt(e);if("]"==f){if(b)return!1;b=!0}else if("["==f){if(!b)return!1;b=!1}else if(!b&&!d.test(f))return!1}return b}var id=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,hd=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,gd=/\b(calc|cubic-bezier|fit-content|hsl|hsla|matrix|minmax|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,jd=/\/\*/;
function ld(a){return a.replace(hd,function(b,d,e,f){var g="";e=e.replace(/^(['"])(.*)\1$/,function(k,l,m){g=l;return m});b=ad(e).se();return d+g+b+g+f})};function md(){this.Jx=""}md.prototype.Lf=!0;md.prototype.se=function(){return this.Jx};md.prototype.xh=function(a){this.Jx=a;return this};(new md).xh("");function nd(){this.Hs="";this.iA=od;this.Uv=null}nd.prototype.Rr=!0;nd.prototype.Gi=function(){return this.Uv};nd.prototype.Lf=!0;nd.prototype.se=function(){return this.Hs.toString()};function pd(a){if(a instanceof nd&&a.constructor===nd&&a.iA===od)return a.Hs;pa(a);return"type_error:SafeHtml"}function qd(a){if(a instanceof nd)return a;var b="object"==typeof a,d=null;b&&a.Rr&&(d=a.Gi());return rd(wc(b&&a.Lf?a.se():String(a)),d)}
var sd=/^[a-zA-Z0-9-]+$/,td={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},ud={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
function vd(a,b,d){var e=String(a);if(!sd.test(e))throw Error("");if(e.toUpperCase()in ud)throw Error("");a=String(a);e=null;var f="<"+a,g="";if(b)for(m in b){if(!sd.test(m))throw Error("");var k=b[m];if(null!=k){var l=m;if(k instanceof Oc)k=Rc(k);else if("style"==l.toLowerCase()){if(!ta(k))throw Error("");k instanceof bd||(k=ed(k));k instanceof bd&&k.constructor===bd&&k.jA===cd?k=k.Is:(pa(k),k="type_error:SafeStyle")}else{if(/^on/i.test(l))throw Error("");if(l.toLowerCase()in td)if(k instanceof Tc)k instanceof
Tc&&k.constructor===Tc&&k.DA===Vc?k=k.Lx:(pa(k),k="type_error:TrustedResourceUrl"),k=k.toString();else if(k instanceof Wc)k=Zc(k);else if("string"===typeof k)k=ad(k).se();else throw Error("");}k.Lf&&(k=k.se());l=l+'="'+wc(String(k))+'"';g+=" "+l}}var m=f+g;null==d?d=[]:qa(d)||(d=[d]);!0===Nc[a.toLowerCase()]?m+=">":(d=wd(d),m+=">"+pd(d).toString()+"</"+a+">",e=d.Gi());(b=b&&b.dir)&&(e=/^(ltr|rtl|auto)$/i.test(b)?0:null);return rd(m,e)}
function xd(a){function b(g){qa(g)?lc(g,b):(g=qd(g),f.push(pd(g).toString()),g=g.Gi(),0==e?e=g:0!=g&&e!=g&&(e=null))}var d=qd(yd),e=d.Gi(),f=[];lc(a,b);return rd(f.join(pd(d).toString()),e)}function wd(a){return xd(Array.prototype.slice.call(arguments))}var od={};function rd(a,b){return(new nd).xh(a,b)}nd.prototype.xh=function(a,b){this.Hs=a;this.Uv=b;return this};rd("<!DOCTYPE html>",0);var yd=rd("",0),zd=rd("<br>",0);var Ad=function(a){var b=!1,d;return function(){b||(d=a(),b=!0);return d}}(function(){var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);b=a.firstChild.firstChild;a.innerHTML=pd(yd);return!b.parentElement});function Bd(a,b){if(Ad())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=pd(b)}function Cd(a,b){Bd(a,b)};function Dd(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function Ed(a){return a=wc(a,void 0)}function Fd(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var d=h.document.createElement("div");return a.replace(Gd,function(e,f){var g=b[e];if(g)return g;"#"==f.charAt(0)&&(f=Number("0"+f.substr(1)),isNaN(f)||(g=String.fromCharCode(f)));g||(g=rd(e+" ",null),Bd(d,g),g=d.firstChild.nodeValue.slice(0,-1));return b[e]=g})}
function Hd(a){return a.replace(/&([^;]+);/g,function(b,d){switch(d){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=d.charAt(0)||(d=Number("0"+d.substr(1)),isNaN(d))?b:String.fromCharCode(d)}})}var Gd=/&([^;\s<&]+);?/g;function Id(a){Id[" "](a);return a}Id[" "]=na;function Jd(a,b){var d=Kd;return Object.prototype.hasOwnProperty.call(d,a)?d[a]:d[a]=b(a)};var Ld=Ec(Gc,"Opera"),C=Ec(Gc,"Trident")||Ec(Gc,"MSIE"),Md=Ec(Gc,"Edge"),Nd=Ec(Gc,"Gecko")&&!(Ec(Gc.toLowerCase(),"webkit")&&!Ec(Gc,"Edge"))&&!(Ec(Gc,"Trident")||Ec(Gc,"MSIE"))&&!Ec(Gc,"Edge"),D=Ec(Gc.toLowerCase(),"webkit")&&!Ec(Gc,"Edge"),Od=Ec(Gc,"Macintosh");function Pd(){var a=h.document;return a?a.documentMode:void 0}var Qd;
a:{var Rd="",Sd=function(){var a=Gc;if(Nd)return/rv:([^\);]+)(\)|;)/.exec(a);if(Md)return/Edge\/([\d\.]+)/.exec(a);if(C)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(D)return/WebKit\/(\S+)/.exec(a);if(Ld)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Sd&&(Rd=Sd?Sd[1]:"");if(C){var Td=Pd();if(null!=Td&&Td>parseFloat(Rd)){Qd=String(Td);break a}}Qd=Rd}var Kd={};
function Ud(a){return Jd(a,function(){for(var b=0,d=vc(String(Qd)).split("."),e=vc(String(a)).split("."),f=Math.max(d.length,e.length),g=0;0==b&&g<f;g++){var k=d[g]||"",l=e[g]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;b=Fc(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||Fc(0==k[2].length,0==l[2].length)||Fc(k[2],l[2]);k=k[3];l=l[3]}while(0==b)}return 0<=b})}var Vd;
Vd=h.document&&C?Pd():void 0;var Wd=!C||9<=Number(Vd),Xd=!C||9<=Number(Vd),Yd=C&&!Ud("9"),Zd="PointerEvent"in h,$d="MSPointerEvent"in h&&!(!h.navigator||!h.navigator.msPointerEnabled),ae=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{h.addEventListener("test",na,b),h.removeEventListener("test",na,b)}catch(d){}return a}();function be(){0!=ce&&(de[ua(this)]=this);this.sg=this.sg;this.Fg=this.Fg}var ce=0,de={};be.prototype.sg=!1;be.prototype.K=function(){if(!this.sg&&(this.sg=!0,this.Xb(),0!=ce)){var a=ua(this);if(0!=ce&&this.Fg&&0<this.Fg.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete de[a]}};function ee(a,b){a.sg?b():(a.Fg||(a.Fg=[]),a.Fg.push(b))}be.prototype.Xb=function(){if(this.Fg)for(;this.Fg.length;)this.Fg.shift()()};
function fe(a){a&&"function"==typeof a.K&&a.K()};function ge(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.gj=!1;this.Ux=!0}ge.prototype.stopPropagation=function(){this.gj=!0};ge.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Ux=!1};var he={ii:Zd?"pointerdown":$d?"MSPointerDown":"mousedown",ji:Zd?"pointerup":$d?"MSPointerUp":"mouseup",Kj:Zd?"pointercancel":$d?"MSPointerCancel":"mousecancel",Wz:Zd?"pointermove":$d?"MSPointerMove":"mousemove",Yz:Zd?"pointerover":$d?"MSPointerOver":"mouseover",Xz:Zd?"pointerout":$d?"MSPointerOut":"mouseout",Uz:Zd?"pointerenter":$d?"MSPointerEnter":"mouseenter",Vz:Zd?"pointerleave":$d?"MSPointerLeave":"mouseleave"},ie={ii:"mousedown",ji:"mouseup",Kj:"mousecancel",Wz:"mousemove",Yz:"mouseover",Xz:"mouseout",
Uz:"mouseenter",Vz:"mouseleave"};function je(a,b){ge.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Ds=!1;this.pointerId=0;this.pointerType="";this.Df=null;a&&this.za(a,b)}n(je,ge);var ke=[1,4,2],le={2:"touch",3:"pen",4:"mouse"};
je.prototype.za=function(a,b){var d=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(Nd){a:{try{Id(b.nodeName);var f=!0;break a}catch(g){}f=!1}f||(b=null)}}else"mouseover"==d?b=a.fromElement:"mouseout"==d&&(b=a.toElement);this.relatedTarget=b;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=
e.screenY||0):(this.offsetX=D||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=D||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==d?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Ds=Od?a.metaKey:
a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:le[a.pointerType]||"";this.state=a.state;this.Df=a;a.defaultPrevented&&this.preventDefault()};function me(a){return Wd?0==a.Df.button:"click"==a.type?!0:!!(a.Df.button&ke[0])}je.prototype.stopPropagation=function(){je.A.stopPropagation.call(this);this.Df.stopPropagation?this.Df.stopPropagation():this.Df.cancelBubble=!0};
je.prototype.preventDefault=function(){je.A.preventDefault.call(this);var a=this.Df;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Yd)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var ne="closure_listenable_"+(1E6*Math.random()|0);function oe(a){return!(!a||!a[ne])}var pe=0;function qe(a,b,d,e,f){this.listener=a;this.proxy=null;this.src=b;this.type=d;this.capture=!!e;this.Ho=f;this.key=++pe;this.Ik=this.Jn=!1}function re(a){a.Ik=!0;a.listener=null;a.proxy=null;a.src=null;a.Ho=null};function se(a){this.src=a;this.td={};this.Xm=0}se.prototype.add=function(a,b,d,e,f){var g=a.toString();a=this.td[g];a||(a=this.td[g]=[],this.Xm++);var k=te(a,b,e,f);-1<k?(b=a[k],d||(b.Jn=!1)):(b=new qe(b,this.src,g,!!e,f),b.Jn=d,a.push(b));return b};se.prototype.remove=function(a,b,d,e){a=a.toString();if(!(a in this.td))return!1;var f=this.td[a];b=te(f,b,d,e);return-1<b?(re(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete this.td[a],this.Xm--),!0):!1};
function ue(a,b){var d=b.type;d in a.td&&qc(a.td[d],b)&&(re(b),0==a.td[d].length&&(delete a.td[d],a.Xm--))}se.prototype.removeAll=function(a){a=a&&a.toString();var b=0,d;for(d in this.td)if(!a||d==a){for(var e=this.td[d],f=0;f<e.length;f++)++b,re(e[f]);delete this.td[d];this.Xm--}return b};se.prototype.Rl=function(a,b,d,e){a=this.td[a.toString()];var f=-1;a&&(f=te(a,b,d,e));return-1<f?a[f]:null};
function te(a,b,d,e){for(var f=0;f<a.length;++f){var g=a[f];if(!g.Ik&&g.listener==b&&g.capture==!!d&&g.Ho==e)return f}return-1};var ve="closure_lm_"+(1E6*Math.random()|0),we={},xe=0;function ye(a,b,d,e,f){if(e&&e.once)return ze(a,b,d,e,f);if(qa(b)){for(var g=0;g<b.length;g++)ye(a,b[g],d,e,f);return null}d=Ae(d);return oe(a)?a.Qa(b,d,ta(e)?!!e.capture:!!e,f):Be(a,b,d,!1,e,f)}
function Be(a,b,d,e,f,g){if(!b)throw Error("Invalid event type");var k=ta(f)?!!f.capture:!!f,l=Ce(a);l||(a[ve]=l=new se(a));d=l.add(b,d,e,k,g);if(d.proxy)return d;e=De();d.proxy=e;e.src=a;e.listener=d;if(a.addEventListener)ae||(f=k),void 0===f&&(f=!1),a.addEventListener(b.toString(),e,f);else if(a.attachEvent)a.attachEvent(Ee(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");xe++;return d}
function De(){var a=Fe,b=Xd?function(d){return a.call(b.src,b.listener,d)}:function(d){d=a.call(b.src,b.listener,d);if(!d)return d};return b}function ze(a,b,d,e,f){if(qa(b)){for(var g=0;g<b.length;g++)ze(a,b[g],d,e,f);return null}d=Ae(d);return oe(a)?a.bx(b,d,ta(e)?!!e.capture:!!e,f):Be(a,b,d,!0,e,f)}function Ge(a,b,d,e,f){if(qa(b))for(var g=0;g<b.length;g++)Ge(a,b[g],d,e,f);else e=ta(e)?!!e.capture:!!e,d=Ae(d),oe(a)?a.be(b,d,e,f):a&&(a=Ce(a))&&(b=a.Rl(b,d,e,f))&&He(b)}
function He(a){if("number"!==typeof a&&a&&!a.Ik){var b=a.src;if(oe(b))ue(b.ug,a);else{var d=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(d,e,a.capture):b.detachEvent?b.detachEvent(Ee(d),e):b.addListener&&b.removeListener&&b.removeListener(e);xe--;(d=Ce(b))?(ue(d,a),0==d.Xm&&(d.src=null,b[ve]=null)):re(a)}}}function Ee(a){return a in we?we[a]:we[a]="on"+a}
function Ie(a,b,d,e){var f=!0;if(a=Ce(a))if(b=a.td[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.capture==d&&!g.Ik&&(g=Je(g,e),f=f&&!1!==g)}return f}function Je(a,b){var d=a.listener,e=a.Ho||a.src;a.Jn&&He(a);return d.call(e,b)}
function Fe(a,b){if(a.Ik)return!0;if(!Xd){if(!b)a:{b=["window","event"];for(var d=h,e=0;e<b.length;e++)if(d=d[b[e]],null==d){b=null;break a}b=d}e=b;b=new je(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=b.currentTarget;f;f=f.parentNode)e.push(f);a=a.type;for(f=e.length-1;!b.gj&&0<=f;f--){b.currentTarget=e[f];var g=Ie(e[f],a,!0,b);d=d&&g}for(f=0;!b.gj&&f<e.length;f++)b.currentTarget=
e[f],g=Ie(e[f],a,!1,b),d=d&&g}return d}return Je(a,new je(b,this))}function Ce(a){a=a[ve];return a instanceof se?a:null}var Ke="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ae(a){if(sa(a))return a;a[Ke]||(a[Ke]=function(b){return a.handleEvent(b)});return a[Ke]};function Le(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}c=Le.prototype;c.clone=function(){return new Le(this.x,this.y)};c.Qe=function(a){return a instanceof Le&&Me(this,a)};function Me(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}c.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};c.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};c.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
c.translate=function(a,b){a instanceof Le?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),"number"===typeof b&&(this.y+=b));return this};c.scale=function(a,b){this.x*=a;this.y*="number"===typeof b?b:a;return this};var Ne=!C||9<=Number(Vd),Oe=!Nd&&!C||C&&9<=Number(Vd)||Nd&&Ud("1.9.1"),Pe=C&&!Ud("9");function Qe(a,b){this.width=a;this.height=b}c=Qe.prototype;c.clone=function(){return new Qe(this.width,this.height)};c.aspectRatio=function(){return this.width/this.height};c.Tw=function(){return!(this.width*this.height)};c.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};c.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
c.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};c.scale=function(a,b){this.width*=a;this.height*="number"===typeof b?b:a;return this};function Re(a){return a?new Se(Te(a)):ic||(ic=new Se)}function Ue(a,b){Jc(b,function(d,e){d&&"object"==typeof d&&d.Lf&&(d=d.se());"style"==e?a.style.cssText=d:"class"==e?a.className=d:"for"==e?a.htmlFor=d:Ve.hasOwnProperty(e)?a.setAttribute(Ve[e],d):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,d):a[e]=d})}
var Ve={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function We(a){return a.scrollingElement?a.scrollingElement:D||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}
function Xe(a,b,d,e){function f(k){k&&b.appendChild("string"===typeof k?a.createTextNode(k):k)}for(;e<d.length;e++){var g=d[e];!ra(g)||ta(g)&&0<g.nodeType?f(g):lc(Ye(g)?sc(g):g,f)}}function Ze(a,b){b=String(b);"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)}function $e(a){for(var b;b=a.firstChild;)a.removeChild(b)}function af(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function bf(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Te(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function cf(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else $e(a),a.appendChild(Te(a).createTextNode(String(b)))}var df={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},ef={IMG:" ",BR:"\n"};function ff(a){return C&&!Ud("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")}
function gf(a){a=a.tabIndex;return"number"===typeof a&&0<=a&&32768>a}function hf(a){var b=[];jf(a,b,!1);return b.join("")}function jf(a,b,d){if(!(a.nodeName in df))if(3==a.nodeType)d?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in ef)b.push(ef[a.nodeName]);else for(a=a.firstChild;a;)jf(a,b,d),a=a.nextSibling}
function Ye(a){if(a&&"number"==typeof a.length){if(ta(a))return"function"==typeof a.item||"string"==typeof a.item;if(sa(a))return"function"==typeof a.item}return!1}function Se(a){this.Af=a||h.document||document}c=Se.prototype;c.Hf=Re;c.U=function(a){return"string"===typeof a?this.Af.getElementById(a):a};c.getElementsByTagName=function(a,b){return(b||this.Af).getElementsByTagName(String(a))};c.setProperties=Ue;
c.ka=function(a,b,d){var e=this.Af,f=arguments,g=String(f[0]),k=f[1];if(!Ne&&k&&(k.name||k.type)){g=["<",g];k.name&&g.push(' name="',Ed(k.name),'"');if(k.type){g.push(' type="',Ed(k.type),'"');var l={};Lc(l,k);delete l.type;k=l}g.push(">");g=g.join("")}g=Ze(e,g);k&&("string"===typeof k?g.className=k:qa(k)?g.className=k.join(" "):Ue(g,k));2<f.length&&Xe(e,g,f,2);return g};c.createElement=function(a){return Ze(this.Af,a)};c.createTextNode=function(a){return this.Af.createTextNode(String(a))};
c.wr=function(){var a=this.Af,b=We(a);a=a.parentWindow||a.defaultView;return C&&Ud("10")&&a.pageYOffset!=b.scrollTop?new Le(b.scrollLeft,b.scrollTop):new Le(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};c.appendChild=function(a,b){a.appendChild(b)};c.append=function(a,b){Xe(Te(a),a,arguments,1)};c.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
c.Qx=$e;c.removeNode=af;c.wg=function(a){return Oe&&void 0!=a.children?a.children:mc(a.childNodes,function(b){return 1==b.nodeType})};c.contains=bf;
c.Ah=function(a){var b;(b="A"==a.tagName&&a.hasAttribute("href")||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!ff(a)||gf(a)):ff(a)&&gf(a))&&C?(a=!sa(a.getBoundingClientRect)||C&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a};function kf(a,b,d,e){this.top=a;this.right=b;this.bottom=d;this.left=e}c=kf.prototype;c.Yc=function(){return this.right-this.left};c.ik=function(){return this.bottom-this.top};c.clone=function(){return new kf(this.top,this.right,this.bottom,this.left)};c.contains=function(a){return this&&a?a instanceof kf?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
c.expand=function(a,b,d,e){ta(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(d),this.left-=Number(e));return this};c.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
c.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};c.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
c.translate=function(a,b){a instanceof Le?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,"number"===typeof b&&(this.top+=b,this.bottom+=b));return this};c.scale=function(a,b){b="number"===typeof b?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function lf(a,b){var d=Te(a);return d.defaultView&&d.defaultView.getComputedStyle&&(a=d.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function mf(a){try{var b=a.getBoundingClientRect()}catch(d){return{left:0,top:0,right:0,bottom:0}}C&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function nf(a){var b=Te(a),d=new Le(0,0);var e=b?Te(b):document;e=!C||9<=Number(Vd)||"CSS1Compat"==Re(e).Af.compatMode?e.documentElement:e.body;if(a==e)return d;a=mf(a);b=Re(b).wr();d.x=a.left+b.x;d.y=a.top+b.y;return d}function of(a){"number"==typeof a&&(a+="px");return a}function pf(a,b){a.style.display=b?"":"none"}var qf=Nd?"MozUserSelect":D||Md?"WebkitUserSelect":null;
function rf(a,b,d){d=d?null:a.getElementsByTagName("*");if(qf){if(b=b?"none":"",a.style&&(a.style[qf]=b),d){a=0;for(var e;e=d[a];a++)e.style&&(e.style[qf]=b)}}else if(C||Ld)if(b=b?"on":"",a.setAttribute("unselectable",b),d)for(a=0;e=d[a];a++)e.setAttribute("unselectable",b)}var sf={thin:2,medium:4,thick:6};
function tf(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var d=a.currentStyle?a.currentStyle[b+"Width"]:null;if(d in sf)a=sf[d];else if(/^\d+px?$/.test(d))a=parseInt(d,10);else{b=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=d;d=a.style.pixelLeft;a.style.left=b;a.runtimeStyle.left=e;a=+d}return a};function uf(a){be.call(this);this.pk=a;this.zk={}}n(uf,be);var vf=[];c=uf.prototype;c.Qa=function(a,b,d,e){qa(b)||(b&&(vf[0]=b.toString()),b=vf);for(var f=0;f<b.length;f++){var g=ye(a,b[f],d||this.handleEvent,e||!1,this.pk||this);if(!g)break;this.zk[g.key]=g}return this};c.bx=function(a,b,d,e){return wf(this,a,b,d,e)};function wf(a,b,d,e,f,g){if(qa(d))for(var k=0;k<d.length;k++)wf(a,b,d[k],e,f,g);else{b=ze(b,d,e||a.handleEvent,f,g||a.pk||a);if(!b)return a;a.zk[b.key]=b}return a}
c.be=function(a,b,d,e,f){if(qa(b))for(var g=0;g<b.length;g++)this.be(a,b[g],d,e,f);else d=d||this.handleEvent,e=ta(e)?!!e.capture:!!e,f=f||this.pk||this,d=Ae(d),e=!!e,b=oe(a)?a.Rl(b,d,e,f):a?(a=Ce(a))?a.Rl(b,d,e,f):null:null,b&&(He(b),delete this.zk[b.key]);return this};c.removeAll=function(){Jc(this.zk,function(a,b){this.zk.hasOwnProperty(b)&&He(a)},this);this.zk={}};c.Xb=function(){uf.A.Xb.call(this);this.removeAll()};
c.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function xf(){be.call(this);this.ug=new se(this);this.NA=this;this.ys=null}n(xf,be);xf.prototype[ne]=!0;c=xf.prototype;c.Ao=function(){return this.ys};c.dt=function(a){this.ys=a};c.addEventListener=function(a,b,d,e){ye(this,a,b,d,e)};c.removeEventListener=function(a,b,d,e){Ge(this,a,b,d,e)};
c.dispatchEvent=function(a){var b,d=this.Ao();if(d)for(b=[];d;d=d.Ao())b.push(d);d=this.NA;var e=a.type||a;if("string"===typeof a)a=new ge(a,d);else if(a instanceof ge)a.target=a.target||d;else{var f=a;a=new ge(e,d);Lc(a,f)}f=!0;if(b)for(var g=b.length-1;!a.gj&&0<=g;g--){var k=a.currentTarget=b[g];f=yf(k,e,!0,a)&&f}a.gj||(k=a.currentTarget=d,f=yf(k,e,!0,a)&&f,a.gj||(f=yf(k,e,!1,a)&&f));if(b)for(g=0;!a.gj&&g<b.length;g++)k=a.currentTarget=b[g],f=yf(k,e,!1,a)&&f;return f};
c.Xb=function(){xf.A.Xb.call(this);this.removeAllListeners();this.ys=null};c.Qa=function(a,b,d,e){return this.ug.add(String(a),b,!1,d,e)};c.bx=function(a,b,d,e){return this.ug.add(String(a),b,!0,d,e)};c.be=function(a,b,d,e){return this.ug.remove(String(a),b,d,e)};c.removeAllListeners=function(a){return this.ug?this.ug.removeAll(a):0};
function yf(a,b,d,e){b=a.ug.td[String(b)];if(!b)return!0;b=b.concat();for(var f=!0,g=0;g<b.length;++g){var k=b[g];if(k&&!k.Ik&&k.capture==d){var l=k.listener,m=k.Ho||k.src;k.Jn&&ue(a.ug,k);f=!1!==l.call(m,e)&&f}}return f&&0!=e.Ux}c.Rl=function(a,b,d,e){return this.ug.Rl(String(a),b,d,e)};function zf(){}oa(zf);zf.prototype.KD=0;zf.prototype.aD="";function Af(a){xf.call(this);this.fo=a||Re();this.Jk=Bf;this.tk=null;this.$a=!1;this.oa=null;this.th=void 0;this.gh=this.Tc=this.Vd=this.os=null;this.fj=this.bF=!1}n(Af,xf);Af.prototype.$C=zf.rh();var Bf=null;
function Cf(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}c=Af.prototype;c.Ka=function(){var a;(a=this.tk)||(a=this.$C,a=this.tk=a.aD+":"+(a.KD++).toString(36));return a};c.U=function(){return this.oa};
function Df(a){a.th||(a.th=new uf(a));return a.th}c.nj=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.Vd&&this.tk&&Ef(this.Vd,this.tk)&&this.Vd!=a)throw Error("Unable to set parent component");this.Vd=a;Af.A.dt.call(this,a)};c.getParent=function(){return this.Vd};c.dt=function(a){if(this.Vd&&this.Vd!=a)throw Error("Method not supported");Af.A.dt.call(this,a)};c.Hf=function(){return this.fo};c.ka=function(){this.oa=this.fo.createElement("DIV")};c.qa=function(a){this.Tf(a)};
c.Tf=function(a,b){if(this.$a)throw Error("Component already rendered");this.oa||this.ka();a?a.insertBefore(this.oa,b||null):this.fo.Af.body.appendChild(this.oa);this.Vd&&!this.Vd.$a||this.Ac()};c.Ac=function(){this.$a=!0;Ff(this,function(a){!a.$a&&a.U()&&a.Ac()})};c.qe=function(){Ff(this,function(a){a.$a&&a.qe()});this.th&&this.th.removeAll();this.$a=!1};
c.Xb=function(){this.$a&&this.qe();this.th&&(this.th.K(),delete this.th);Ff(this,function(a){a.K()});!this.bF&&this.oa&&af(this.oa);this.Vd=this.os=this.oa=this.gh=this.Tc=null;Af.A.Xb.call(this)};c.Gn=function(a,b){this.Uj(a,Gf(this),b)};
c.Uj=function(a,b,d){if(a.$a&&(d||!this.$a))throw Error("Component already rendered");if(0>b||b>Gf(this))throw Error("Child component index out of bounds");this.gh&&this.Tc||(this.gh={},this.Tc=[]);if(a.getParent()==this){var e=a.Ka();this.gh[e]=a;qc(this.Tc,a)}else{e=this.gh;var f=a.Ka();if(null!==e&&f in e)throw Error('The object already contains the key "'+f+'"');e[f]=a}a.nj(this);tc(this.Tc,b,0,a);a.$a&&this.$a&&a.getParent()==this?(d=this.Qd(),b=d.childNodes[b]||null,b!=a.U()&&d.insertBefore(a.U(),
b)):d?(this.oa||this.ka(),b=E(this,b+1),a.Tf(this.Qd(),b?b.oa:null)):this.$a&&!a.$a&&a.oa&&a.oa.parentNode&&1==a.oa.parentNode.nodeType&&a.Ac()};c.Qd=function(){return this.oa};function Hf(a){if(null==a.Jk){var b=a.$a?a.oa:a.fo.Af.body;b=lf(b,"direction")||(b.currentStyle?b.currentStyle.direction:null)||b.style&&b.style.direction;a.Jk="rtl"==b}return a.Jk}c.Lg=function(a){if(this.$a)throw Error("Component already rendered");this.Jk=a};function If(a){return!!a.Tc&&0!=a.Tc.length}
function Gf(a){return a.Tc?a.Tc.length:0}function Ef(a,b){a.gh&&b?(a=a.gh,b=(null!==a&&b in a?a[b]:void 0)||null):b=null;return b}function E(a,b){return a.Tc?a.Tc[b]||null:null}function Ff(a,b,d){a.Tc&&lc(a.Tc,b,d)}function Jf(a,b){return a.Tc&&b?kc(a.Tc,b):-1}c.removeChild=function(a,b){if(a){var d="string"===typeof a?a:a.Ka();a=Ef(this,d);if(d&&a){var e=this.gh;d in e&&delete e[d];qc(this.Tc,a);b&&(a.qe(),a.oa&&af(a.oa));a.nj(null)}}if(!a)throw Error("Child is not in parent component");return a};
c.Qx=function(a){for(var b=[];If(this);)b.push(this.removeChild(E(this,0),a));return b};var Kf;Mc("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));function Lf(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}
function F(a,b,d){qa(d)&&(d=d.join(" "));var e="aria-"+b;""===d||void 0==d?(Kf||(Kf={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),d=Kf,b in d?a.setAttribute(e,d[b]):a.removeAttribute(e)):a.setAttribute(e,d)};function Mf(a,b,d,e,f,g){if(D&&!Ud("525"))return!0;if(Od&&f)return Nf(a);if(f&&!e)return!1;if(!Nd){"number"===typeof b&&(b=Of(b));var k=17==b||18==b||Od&&91==b;if((!d||Od)&&k||Od&&16==b&&(e||g))return!1}if((D||Md)&&e&&d)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(C&&e&&b==a)return!1;switch(a){case 13:return Nd?g||f?!1:!(d&&e):!0;case 27:return!(D||Md||Nd)}return Nd&&(e||f||g)?!1:Nf(a)}
function Nf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(D||Md)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Nd;default:return!1}}function Of(a){if(Nd)a=Pf(a);else if(Od&&D)switch(a){case 93:a=91}return a}
function Pf(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Qf(a,b){xf.call(this);a&&Rf(this,a,b)}n(Qf,xf);c=Qf.prototype;c.oa=null;c.Uo=null;c.bs=null;c.Vo=null;c.Dd=-1;c.Pf=-1;c.rq=!1;
var Sf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Tf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Uf=!D||Ud("525"),Vf=Od&&Nd;c=Qf.prototype;
c.JC=function(a){if(D||Md)if(17==this.Dd&&!a.ctrlKey||18==this.Dd&&!a.altKey||Od&&91==this.Dd&&!a.metaKey)this.Pf=this.Dd=-1;-1==this.Dd&&(a.ctrlKey&&17!=a.keyCode?this.Dd=17:a.altKey&&18!=a.keyCode?this.Dd=18:a.metaKey&&91!=a.keyCode&&(this.Dd=91));Uf&&!Mf(a.keyCode,this.Dd,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.Pf=Of(a.keyCode),Vf&&(this.rq=a.altKey))};c.KC=function(a){this.Pf=this.Dd=-1;this.rq=a.altKey};
c.handleEvent=function(a){var b=a.Df,d=b.altKey;if(C&&"keypress"==a.type){var e=this.Pf;var f=13!=e&&27!=e?b.keyCode:0}else(D||Md)&&"keypress"==a.type?(e=this.Pf,f=0<=b.charCode&&63232>b.charCode&&Nf(e)?b.charCode:0):Ld&&!D?(e=this.Pf,f=Nf(e)?b.keyCode:0):("keypress"==a.type?(Vf&&(d=this.rq),b.keyCode==b.charCode?32>b.keyCode?(e=b.keyCode,f=0):(e=this.Pf,f=b.charCode):(e=b.keyCode||this.Pf,f=b.charCode||0)):(e=b.keyCode||this.Pf,f=b.charCode||0),Od&&63==f&&224==e&&(e=191));var g=e=Of(e);e?63232<=
e&&e in Sf?g=Sf[e]:25==e&&a.shiftKey&&(g=9):b.keyIdentifier&&b.keyIdentifier in Tf&&(g=Tf[b.keyIdentifier]);Nd&&Uf&&"keypress"==a.type&&!Mf(g,this.Dd,a.shiftKey,a.ctrlKey,d,a.metaKey)||(a=g==this.Dd,this.Dd=g,b=new Wf(g,f,a,b),b.altKey=d,this.dispatchEvent(b))};c.U=function(){return this.oa};function Rf(a,b,d){a.Vo&&a.detach();a.oa=b;a.Uo=ye(a.oa,"keypress",a,d);a.bs=ye(a.oa,"keydown",a.JC,d,a);a.Vo=ye(a.oa,"keyup",a.KC,d,a)}
c.detach=function(){this.Uo&&(He(this.Uo),He(this.bs),He(this.Vo),this.Vo=this.bs=this.Uo=null);this.oa=null;this.Pf=this.Dd=-1};c.Xb=function(){Qf.A.Xb.call(this);this.detach()};function Wf(a,b,d,e){je.call(this,e);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=d}n(Wf,je);function Xf(a){return"string"==typeof a.className?a.className:a.getAttribute&&a.getAttribute("class")||""}function Yf(a){return a.classList?a.classList:Xf(a).match(/\S+/g)||[]}function Zf(a,b){"string"==typeof a.className?a.className=b:a.setAttribute&&a.setAttribute("class",b)}function $f(a,b){return a.classList?a.classList.contains(b):pc(Yf(a),b)}function ag(a,b){if(a.classList)a.classList.add(b);else if(!$f(a,b)){var d=Xf(a);Zf(a,d+(0<d.length?" "+b:b))}}
function bg(a,b){if(a.classList)lc(b,function(f){ag(a,f)});else{var d={};lc(Yf(a),function(f){d[f]=!0});lc(b,function(f){d[f]=!0});b="";for(var e in d)b+=0<b.length?" "+e:e;Zf(a,b)}}function cg(a,b){a.classList?a.classList.remove(b):$f(a,b)&&Zf(a,mc(Yf(a),function(d){return d!=b}).join(" "))}function dg(a,b){a.classList?lc(b,function(d){cg(a,d)}):Zf(a,mc(Yf(a),function(d){return!pc(b,d)}).join(" "))};function eg(a,b){if(!a)throw Error("Invalid class name "+a);if(!sa(b))throw Error("Invalid decorator function "+b);}var fg={};function gg(a){this.Tu=a}oa(gg);c=gg.prototype;c.oo=function(){return this.Tu};function hg(a,b){a&&(a.tabIndex=b?0:-1)}c.ka=function(a){return a.Hf().ka("DIV",this.uo(a).join(" "))};c.Qd=function(a){return a};c.em=function(a){a=a.U();rf(a,!0,Nd);C&&(a.hideFocus=!0);var b=this.oo();b&&Lf(a,b)};c.jc=function(a){return a.U()};c.Wc=function(){return"goog-container"};c.uo=function(a){var b=this.Wc(),d=[b,a.cj==ig?b+"-horizontal":b+"-vertical"];a.isEnabled()||d.push(b+"-disabled");return d};function jg(){}var kg;oa(jg);var lg={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};c=jg.prototype;c.oo=function(){};c.ka=function(a){return a.Hf().ka("DIV",this.uo(a).join(" "),a.qh())};c.Qd=function(a){return a};c.Ll=function(a,b,d){if(a=a.U?a.U():a){var e=[b];C&&!Ud("7")&&(e=mg(Yf(a),b),e.push(b));(d?bg:dg)(a,e)}};c.em=function(a){Hf(a)&&this.Lg(a.U(),!0);a.isEnabled()&&this.Th(a,a.isVisible())};
function ng(a,b,d){if(a=d||a.oo())d=b.getAttribute("role")||null,a!=d&&Lf(b,a)}function og(a,b,d){var e=b.Su;null!=e&&a.Xs(d,e);b.isVisible()||F(d,"hidden",!b.isVisible());b.isEnabled()||pg(d,1,!b.isEnabled());b.Tb&8&&pg(d,8,b.Ro());b.Tb&16&&pg(d,16,!!(b.Sb&16));b.Tb&64&&pg(d,64,b.xk())}c.Xs=function(a,b){F(a,"label",b)};c.Ws=function(a,b){rf(a,!b,!C&&!Ld)};c.Lg=function(a,b){this.Ll(a,this.Wc()+"-rtl",b)};c.Ah=function(a){var b;return a.Tb&32&&(b=a.jc())?ff(b)&&gf(b):!1};
c.Th=function(a,b){var d;if(a.Tb&32&&(d=a.jc())){if(!b&&a.Sb&32){try{d.blur()}catch(e){}a.Sb&32&&a.Wl(null)}(ff(d)&&gf(d))!=b&&(a=d,b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex")))}};c.Ha=function(a,b){pf(a,b);a&&F(a,"hidden",!b)};c.df=function(a,b,d){var e=a.U();if(e){var f=this.to(b);f&&this.Ll(a,f,d);pg(e,b,d)}};
function pg(a,b,d){kg||(kg={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=kg[b];var e=a.getAttribute("role")||null;e&&(e=lg[e]||b,b="checked"==b||"selected"==b?e:b);b&&F(a,b,d)}c.Uf=function(a,b){var d=this.Qd(a);d&&($e(d),b&&("string"===typeof b?cf(d,b):(a=function(e){if(e){var f=Te(d);d.appendChild("string"===typeof e?f.createTextNode(e):e)}},qa(b)?lc(b,a):!ra(b)||"nodeType"in b?a(b):lc(sc(b),a))))};c.jc=function(a){return a.U()};c.Wc=function(){return"goog-control"};
c.uo=function(a){var b=this.Wc(),d=[b],e=this.Wc();e!=b&&d.push(e);b=a.getState();for(e=[];b;){var f=b&-b;e.push(this.to(f));b&=~f}d.push.apply(d,e);(a=a.Ef)&&d.push.apply(d,a);C&&!Ud("7")&&d.push.apply(d,mg(d));return d};function mg(a,b){var d=[];b&&(a=rc(a,[b]));lc([],function(e){!oc(e,Aa(pc,a))||b&&!pc(e,b)||d.push(e.join("_"))});return d}
c.to=function(a){if(!this.dv){var b=this.Wc();b.replace(/\xa0|\s/g," ");this.dv={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}}return this.dv[a]};function G(a,b,d){Af.call(this,d);if(!b){b=this.constructor;for(var e;b;){e=ua(b);if(e=fg[e])break;b=b.A?b.A.constructor:null}b=e?sa(e.rh)?e.rh():new e:null}this.Ta=b;this.ic=void 0!==a?a:null;this.Su=null}n(G,Af);c=G.prototype;c.ic=null;c.Sb=0;c.Tb=39;c.WA=255;c.Lm=0;c.Kb=!0;c.Ef=null;c.Xl=!0;c.qq=!1;c.nE=null;c.jc=function(){return this.Ta.jc(this)};c.yo=function(){return this.$c||(this.$c=new Qf)};
c.Ll=function(a,b){b?a&&(this.Ef?pc(this.Ef,a)||this.Ef.push(a):this.Ef=[a],this.Ta.Ll(this,a,!0)):a&&this.Ef&&qc(this.Ef,a)&&(0==this.Ef.length&&(this.Ef=null),this.Ta.Ll(this,a,!1))};c.ka=function(){var a=this.Ta.ka(this);this.oa=a;ng(this.Ta,a,this.Bo());this.qq||this.Ta.Ws(a,!1);this.isVisible()||this.Ta.Ha(a,!1)};c.Bo=function(){return this.nE};c.Xs=function(a){this.Su=a;var b=this.U();b&&this.Ta.Xs(b,a)};c.Qd=function(){return this.Ta.Qd(this.U())};
c.Ac=function(){G.A.Ac.call(this);og(this.Ta,this,this.oa);this.Ta.em(this);if(this.Tb&-2&&(this.Xl&&qg(this,!0),this.Tb&32)){var a=this.jc();if(a){var b=this.yo();Rf(b,a);Df(this).Qa(b,"key",this.Ue).Qa(a,"focus",this.Fo).Qa(a,"blur",this.Wl)}}};
function qg(a,b){var d=a.fj?he:ie,e=Df(a),f=a.U();b?(e.Qa(f,d.ii,a.mk).Qa(f,[d.ji,d.Kj],a.nk).Qa(f,"mouseover",a.Hr).Qa(f,"mouseout",a.Gr),a.fj&&e.Qa(f,"gotpointercapture",a.np),a.lk!=na&&e.Qa(f,"contextmenu",a.lk),C&&(Ud(9)||e.Qa(f,"dblclick",a.Bw),a.cm||(a.cm=new rg(a),ee(a,Aa(fe,a.cm))))):(e.be(f,d.ii,a.mk).be(f,[d.ji,d.Kj],a.nk).be(f,"mouseover",a.Hr).be(f,"mouseout",a.Gr),a.fj&&e.be(f,"gotpointercapture",a.np),a.lk!=na&&e.be(f,"contextmenu",a.lk),C&&(Ud(9)||e.be(f,"dblclick",a.Bw),fe(a.cm),a.cm=
null))}c.qe=function(){G.A.qe.call(this);this.$c&&this.$c.detach();this.isVisible()&&this.isEnabled()&&this.Ta.Th(this,!1)};c.Xb=function(){G.A.Xb.call(this);this.$c&&(this.$c.K(),delete this.$c);delete this.Ta;this.cm=this.Ef=this.ic=null};c.qh=function(){return this.ic};c.Uf=function(a){this.Ta.Uf(this.U(),a);this.ic=a};
c.ur=function(){var a=this.qh();if(!a)return"";if("string"!==typeof a)if(qa(a))a=nc(a,hf).join("");else{if(Pe&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];jf(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Pe||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}return Dd(a)};c.Lg=function(a){G.A.Lg.call(this,a);var b=this.U();b&&this.Ta.Lg(b,a)};c.Ws=function(a){this.qq=a;var b=this.U();b&&this.Ta.Ws(b,a)};
c.isVisible=function(){return this.Kb};c.Ha=function(a,b){return b||this.Kb!=a&&this.dispatchEvent(a?"show":"hide")?((b=this.U())&&this.Ta.Ha(b,a),this.isEnabled()&&this.Ta.Th(this,a),this.Kb=a,!0):!1};c.isEnabled=function(){return!(this.Sb&1)};c.Fd=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!sg(this,1,!a)||(a||(this.setActive(!1),this.Gd(!1)),this.isVisible()&&this.Ta.Th(this,a),this.df(1,!a,!0))};c.Gd=function(a){sg(this,2,a)&&this.df(2,a)};
c.setActive=function(a){sg(this,4,a)&&this.df(4,a)};c.Ro=function(){return!!(this.Sb&8)};function tg(a,b){sg(a,16,b)&&a.df(16,b)}c.xk=function(){return!!(this.Sb&64)};function ug(a,b){sg(a,64,b)&&a.df(64,b)}c.getState=function(){return this.Sb};c.df=function(a,b,d){d||1!=a?this.Tb&a&&b!=!!(this.Sb&a)&&(this.Ta.df(this,a,b),this.Sb=b?this.Sb|a:this.Sb&~a):this.Fd(!b)};
c.Xd=function(a,b){if(this.$a&&this.Sb&a&&!b)throw Error("Component already rendered");!b&&this.Sb&a&&this.df(a,!1);this.Tb=b?this.Tb|a:this.Tb&~a};function vg(a,b){return!!(a.WA&b)&&!!(a.Tb&b)}function sg(a,b,d){return!!(a.Tb&b)&&!!(a.Sb&b)!=d&&(!(a.Lm&b)||a.dispatchEvent(Cf(b,d)))&&!a.sg}c.Hr=function(a){!wg(a,this.U())&&this.dispatchEvent("enter")&&this.isEnabled()&&vg(this,2)&&this.Gd(!0)};
c.Gr=function(a){!wg(a,this.U())&&this.dispatchEvent("leave")&&(vg(this,4)&&this.setActive(!1),vg(this,2)&&this.Gd(!1))};c.np=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};c.lk=na;function wg(a,b){return!!a.relatedTarget&&bf(b,a.relatedTarget)}c.mk=function(a){this.isEnabled()&&(vg(this,2)&&this.Gd(!0),!me(a)||D&&Od&&a.ctrlKey||(vg(this,4)&&this.setActive(!0),this.Ta&&this.Ta.Ah(this)&&this.jc().focus()));this.qq||!me(a)||D&&Od&&a.ctrlKey||a.preventDefault()};
c.nk=function(a){this.isEnabled()&&(vg(this,2)&&this.Gd(!0),this.Sb&4&&xg(this,a)&&vg(this,4)&&this.setActive(!1))};c.Bw=function(a){this.isEnabled()&&xg(this,a)};function xg(a,b){vg(a,16)&&tg(a,!(a.Sb&16));vg(a,8)&&sg(a,8,!0)&&a.df(8,!0);vg(a,64)&&ug(a,!a.xk());var d=new ge("action",a);b&&(d.altKey=b.altKey,d.ctrlKey=b.ctrlKey,d.metaKey=b.metaKey,d.shiftKey=b.shiftKey,d.Ds=b.Ds);return a.dispatchEvent(d)}c.Fo=function(){vg(this,32)&&sg(this,32,!0)&&this.df(32,!0)};
c.Wl=function(){vg(this,4)&&this.setActive(!1);vg(this,32)&&sg(this,32,!1)&&this.df(32,!1)};c.Ue=function(a){return this.isVisible()&&this.isEnabled()&&this.Ii(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};c.Ii=function(a){return 13==a.keyCode&&xg(this,a)};if(!sa(G))throw Error("Invalid component class "+G);if(!sa(jg))throw Error("Invalid renderer class "+jg);var yg=ua(G);fg[yg]=jg;eg("goog-control",function(){return new G(null)});
function rg(a){be.call(this);this.Tn=a;this.Ln=!1;this.pk=new uf(this);ee(this,Aa(fe,this.pk));var b=this.Tn.oa;a=a.fj?he:ie;this.pk.Qa(b,a.ii,this.MC).Qa(b,a.ji,this.NC).Qa(b,"click",this.DC)}n(rg,be);var zg=!C||9<=Number(Vd);rg.prototype.MC=function(){this.Ln=!1};rg.prototype.NC=function(){this.Ln=!0};
function Ag(a,b){if(!zg)return a.button=0,a.type=b,a;var d=document.createEvent("MouseEvents");d.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return d}rg.prototype.DC=function(a){if(this.Ln)this.Ln=!1;else{var b=a.Df,d=b.button,e=b.type,f=Ag(b,"mousedown");this.Tn.mk(new je(f,a.currentTarget));f=Ag(b,"mouseup");this.Tn.nk(new je(f,a.currentTarget));zg||(b.button=d,b.type=e)}};
rg.prototype.Xb=function(){this.Tn=null;rg.A.Xb.call(this)};function Bg(a,b,d){Af.call(this,d);this.Ta=b||gg.rh();this.cj=a||Cg}n(Bg,Af);var ig="horizontal",Cg="vertical";c=Bg.prototype;c.cs=null;c.$c=null;c.Ta=null;c.cj=null;c.Kb=!0;c.Di=!0;c.rr=!0;c.ub=-1;c.ac=null;c.Dk=!1;c.SA=!1;c.gE=!0;c.og=null;c.jc=function(){return this.cs||this.Ta.jc(this)};c.yo=function(){return this.$c||(this.$c=new Qf(this.jc()))};c.ka=function(){this.oa=this.Ta.ka(this)};c.Qd=function(){return this.Ta.Qd(this.U())};
c.Ac=function(){Bg.A.Ac.call(this);Ff(this,function(d){d.$a&&Dg(this,d)},this);var a=this.U();this.Ta.em(this);this.Ha(this.Kb,!0);var b=this.fj?he:ie;Df(this).Qa(this,"enter",this.Er).Qa(this,"highlight",this.IC).Qa(this,"unhighlight",this.RC).Qa(this,"open",this.OC).Qa(this,"close",this.EC).Qa(a,b.ii,this.mk).Qa(Te(a),[b.ji,b.Kj],this.FC).Qa(a,[b.ii,b.ji,b.Kj,"mouseover","mouseout","contextmenu"],this.CC);this.fj&&Df(this).Qa(a,"gotpointercapture",this.np);this.Ah()&&Eg(this,!0)};
c.np=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};function Eg(a,b){var d=Df(a),e=a.jc();b?d.Qa(e,"focus",a.Fo).Qa(e,"blur",a.Wl).Qa(a.yo(),"key",a.Ue):d.be(e,"focus",a.Fo).be(e,"blur",a.Wl).be(a.yo(),"key",a.Ue)}c.qe=function(){this.Lk(-1);this.ac&&ug(this.ac,!1);this.Dk=!1;Bg.A.qe.call(this)};c.Xb=function(){Bg.A.Xb.call(this);this.$c&&(this.$c.K(),this.$c=null);this.Ta=this.ac=this.og=this.cs=null};c.Er=function(){return!0};
c.IC=function(a){var b=Jf(this,a.target);if(-1<b&&b!=this.ub){var d=E(this,this.ub);d&&d.Gd(!1);this.ub=b;d=E(this,this.ub);this.Dk&&d.setActive(!0);this.gE&&this.ac&&d!=this.ac&&(d.Tb&64?ug(d,!0):ug(this.ac,!1))}b=this.U();null!=a.target.U()&&F(b,"activedescendant",a.target.U().id)};c.RC=function(a){a.target==E(this,this.ub)&&(this.ub=-1);this.U().removeAttribute("aria-activedescendant")};c.OC=function(a){(a=a.target)&&a!=this.ac&&a.getParent()==this&&(this.ac&&ug(this.ac,!1),this.ac=a)};
c.EC=function(a){a.target==this.ac&&(this.ac=null);var b=this.U(),d=a.target.U();b&&a.target.Sb&2&&d&&(a="",d&&(a=d.id),F(b,"activedescendant",a))};c.mk=function(a){this.Di&&(this.Dk=!0);var b=this.jc();b&&ff(b)&&gf(b)?b.focus():a.preventDefault()};c.FC=function(){this.Dk=!1};
c.CC=function(a){var b=this.fj?he:ie;a:{var d=a.target;if(this.og)for(var e=this.U();d&&d!==e;){var f=d.id;if(f in this.og){d=this.og[f];break a}d=d.parentNode}d=null}if(d)switch(a.type){case b.ii:d.mk(a);break;case b.ji:case b.Kj:d.nk(a);break;case "mouseover":d.Hr(a);break;case "mouseout":d.Gr(a);break;case "contextmenu":d.lk(a)}};c.Fo=function(){};c.Wl=function(){this.Lk(-1);this.Dk=!1;this.ac&&ug(this.ac,!1)};
c.Ue=function(a){return this.isEnabled()&&this.isVisible()&&(0!=Gf(this)||this.cs)&&this.Ii(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
c.Ii=function(a){var b=E(this,this.ub);if(b&&"function"==typeof b.Ue&&b.Ue(a)||this.ac&&this.ac!=b&&"function"==typeof this.ac.Ue&&this.ac.Ue(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Ah())this.jc().blur();else return!1;break;case 36:Fg(this);break;case 35:Gg(this);break;case 38:if(this.cj==Cg)Hg(this);else return!1;break;case 37:if(this.cj==ig)Hf(this)?Ig(this):Hg(this);else return!1;break;case 40:if(this.cj==Cg)Ig(this);else return!1;break;
case 39:if(this.cj==ig)Hf(this)?Hg(this):Ig(this);else return!1;break;default:return!1}return!0};function Dg(a,b){var d=b.U();d=d.id||(d.id=b.Ka());a.og||(a.og={});a.og[d]=b}c.Gn=function(a,b){Bg.A.Gn.call(this,a,b)};
c.Uj=function(a,b,d){a.Lm|=2;a.Lm|=64;!this.Ah()&&this.SA||a.Xd(32,!1);a.$a&&0!=a.Xl&&qg(a,!1);a.Xl=!1;var e=a.getParent()==this?Jf(this,a):-1;Bg.A.Uj.call(this,a,b,d);a.$a&&this.$a&&Dg(this,a);a=e;-1==a&&(a=Gf(this));a==this.ub?this.ub=Math.min(Gf(this)-1,b):a>this.ub&&b<=this.ub?this.ub++:a<this.ub&&b>this.ub&&this.ub--};
c.removeChild=function(a,b){if(a="string"===typeof a?Ef(this,a):a){var d=Jf(this,a);-1!=d&&(d==this.ub?(a.Gd(!1),this.ub=-1):d<this.ub&&this.ub--);var e=a.U();e&&e.id&&this.og&&(d=this.og,e=e.id,e in d&&delete d[e])}b=a=Bg.A.removeChild.call(this,a,b);b.$a&&1!=b.Xl&&qg(b,!0);b.Xl=!0;return a};c.setOrientation=function(a){if(this.U())throw Error("Component already rendered");this.cj=a};c.isVisible=function(){return this.Kb};
c.Ha=function(a,b){if(b||this.Kb!=a&&this.dispatchEvent(a?"show":"hide")){this.Kb=a;var d=this.U();d&&(pf(d,a),this.Ah()&&hg(this.jc(),this.Di&&this.Kb),b||this.dispatchEvent(this.Kb?"aftershow":"afterhide"));return!0}return!1};c.isEnabled=function(){return this.Di};
c.Fd=function(a){this.Di!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.Di=!0,Ff(this,function(b){b.My?delete b.My:b.Fd(!0)})):(Ff(this,function(b){b.isEnabled()?b.Fd(!1):b.My=!0}),this.Dk=this.Di=!1),this.Ah()&&hg(this.jc(),a&&this.Kb))};c.Ah=function(){return this.rr};c.Th=function(a){a!=this.rr&&this.$a&&Eg(this,a);this.rr=a;this.Di&&this.Kb&&hg(this.jc(),a)};c.Lk=function(a){(a=E(this,a))?a.Gd(!0):-1<this.ub&&E(this,this.ub).Gd(!1)};c.Gd=function(a){this.Lk(Jf(this,a))};
function Fg(a){Jg(a,function(b,d){return(b+1)%d},Gf(a)-1)}function Gg(a){Jg(a,function(b,d){b--;return 0>b?d-1:b},0)}function Ig(a){Jg(a,function(b,d){return(b+1)%d},a.ub)}function Hg(a){Jg(a,function(b,d){b--;return 0>b?d-1:b},a.ub)}function Jg(a,b,d){d=0>d?Jf(a,a.ac):d;var e=Gf(a);d=b.call(a,d,e);for(var f=0;f<=e;){var g=E(a,d);if(g&&a.$u(g)){a.Lk(d);break}f++;d=b.call(a,d,e)}}c.$u=function(a){return a.isVisible()&&a.isEnabled()&&!!(a.Tb&2)};function Kg(){}n(Kg,jg);oa(Kg);Kg.prototype.Wc=function(){return"goog-menuheader"};function Lg(a,b,d){G.call(this,a,d||Kg.rh(),b);this.Xd(1,!1);this.Xd(2,!1);this.Xd(4,!1);this.Xd(32,!1);this.Sb=1}n(Lg,G);eg("goog-menuheader",function(){return new Lg(null)});function Mg(){this.ev=[]}n(Mg,jg);oa(Mg);function Ng(a,b){var d=a.ev[b];if(!d){switch(b){case 0:d=a.Wc()+"-highlight";break;case 1:d=a.Wc()+"-checkbox";break;case 2:d=a.Wc()+"-content"}a.ev[b]=d}return d}c=Mg.prototype;c.oo=function(){return"menuitem"};c.ka=function(a){var b=a.Hf().ka("DIV",this.uo(a).join(" "),Og(this,a.qh(),a.Hf()));Pg(this,a,b,!!(a.Tb&8)||!!(a.Tb&16));return b};c.Qd=function(a){return a&&a.firstChild};
c.Uf=function(a,b){var d=this.Qd(a),e=Qg(this,a)?d.firstChild:null;Mg.A.Uf.call(this,a,b);e&&!Qg(this,a)&&d.insertBefore(e,d.firstChild||null)};function Og(a,b,d){a=Ng(a,2);return d.ka("DIV",a,b)}c.gy=function(a,b,d){a&&b&&Pg(this,a,b,d)};c.Zs=function(a,b,d){a&&b&&Pg(this,a,b,d)};function Qg(a,b){return(b=a.Qd(b))?(b=b.firstChild,a=Ng(a,1),!!b&&ta(b)&&1==b.nodeType&&$f(b,a)):!1}
function Pg(a,b,d,e){ng(a,d,b.Bo());og(a,b,d);e!=Qg(a,d)&&(e?ag(d,"goog-option"):cg(d,"goog-option"),d=a.Qd(d),e?(a=Ng(a,1),d.insertBefore(b.Hf().ka("DIV",a),d.firstChild||null)):d.removeChild(d.firstChild))}c.to=function(a){switch(a){case 2:return Ng(this,0);case 16:case 8:return"goog-option-selected";default:return Mg.A.to.call(this,a)}};c.Wc=function(){return"goog-menuitem"};function Rg(a,b,d,e){G.call(this,a,e||Mg.rh(),d);this.setValue(b)}n(Rg,G);c=Rg.prototype;c.getValue=function(){var a=this.os;return null!=a?a:this.ur()};c.setValue=function(a){this.os=a};c.Xd=function(a,b){Rg.A.Xd.call(this,a,b);switch(a){case 8:this.Sb&16&&!b&&tg(this,!1);(a=this.U())&&this.Ta.gy(this,a,b);break;case 16:(a=this.U())&&this.Ta.Zs(this,a,b)}};c.gy=function(a){this.Xd(8,a)};c.Zs=function(a){this.Xd(16,a)};
c.ur=function(){var a=this.qh();return qa(a)?(a=nc(a,function(b){return ta(b)&&1==b.nodeType&&($f(b,"goog-menuitem-accel")||$f(b,"goog-menuitem-mnemonic-separator"))?"":hf(b)}).join(""),Dd(a)):Rg.A.ur.call(this)};c.nk=function(a){var b=this.getParent();if(b){var d=b.Ax;b.Ax=null;if(d&&"number"==typeof a.clientX&&Me(d,new Le(a.clientX,a.clientY)))return}Rg.A.nk.call(this,a)};c.Ii=function(a){return a.keyCode==this.ix&&xg(this,a)?!0:Rg.A.Ii.call(this,a)};c.vC=function(){return this.ix};
eg("goog-menuitem",function(){return new Rg(null)});Rg.prototype.Bo=function(){return this.Tb&16?"menuitemcheckbox":this.Tb&8?"menuitemradio":Rg.A.Bo.call(this)};Rg.prototype.getParent=function(){return G.prototype.getParent.call(this)};Rg.prototype.Ao=function(){return G.prototype.Ao.call(this)};function Sg(){}n(Sg,jg);oa(Sg);Sg.prototype.ka=function(a){return a.Hf().ka("DIV",this.Wc())};Sg.prototype.Uf=function(){};Sg.prototype.Wc=function(){return"goog-menuseparator"};function Tg(a,b){G.call(this,null,a||Sg.rh(),b);this.Xd(1,!1);this.Xd(2,!1);this.Xd(4,!1);this.Xd(32,!1);this.Sb=1}n(Tg,G);Tg.prototype.Ac=function(){Tg.A.Ac.call(this);var a=this.U();Lf(a,"separator")};eg("goog-menuseparator",function(){return new Tg});function Ug(a){this.Tu=a||"menu"}n(Ug,gg);oa(Ug);Ug.prototype.Wc=function(){return"goog-menu"};Ug.prototype.em=function(a){Ug.A.em.call(this,a);a=a.U();F(a,"haspopup","true")};eg("goog-menuseparator",function(){return new Tg});function Vg(a,b){Bg.call(this,Cg,b||Ug.rh(),a);this.Th(!1)}n(Vg,Bg);c=Vg.prototype;c.Hn=!0;c.TA=!1;c.Wc=function(){return this.Ta.Wc()};c.removeItem=function(a){(a=this.removeChild(a,!0))&&a.K()};c.setPosition=function(a,b){var d=this.isVisible();d||pf(this.U(),!0);var e=this.U(),f=a;a=nf(e);f instanceof Le&&(b=f.y,f=f.x);var g=e.offsetLeft+(f-a.x);g instanceof Le?(f=g.x,b=g.y):(f=g,b=e.offsetTop+(Number(b)-a.y));e.style.left=of(f);e.style.top=of(b);d||pf(this.U(),!1)};
c.sw=function(){return this.isVisible()?nf(this.U()):null};c.Ha=function(a,b,d){(b=Vg.A.Ha.call(this,a,b))&&a&&this.$a&&this.Hn&&this.jc().focus();this.Ax=a&&d&&"number"==typeof d.clientX?new Le(d.clientX,d.clientY):null;return b};c.Er=function(a){this.Hn&&this.jc().focus();return Vg.A.Er.call(this,a)};c.$u=function(a){return(this.TA||a.isEnabled())&&a.isVisible()&&!!(a.Tb&2)};
c.Ii=function(a){var b=Vg.A.Ii.call(this,a);b||Ff(this,function(d){!b&&d.vC&&d.ix==a.keyCode&&(this.isEnabled()&&this.Gd(d),b=d.Ue(a))},this);return b};
c.Lk=function(a){Vg.A.Lk.call(this,a);if(a=E(this,a)){var b=a.U();a=this.U()||We(document);var d=a||We(document);var e=nf(b),f=nf(d);if(!C||9<=Number(Vd)){k=lf(d,"borderLeftWidth");var g=lf(d,"borderRightWidth");l=lf(d,"borderTopWidth");m=lf(d,"borderBottomWidth");g=new kf(parseFloat(l),parseFloat(g),parseFloat(m),parseFloat(k))}else{var k=tf(d,"borderLeft");g=tf(d,"borderRight");var l=tf(d,"borderTop"),m=tf(d,"borderBottom");g=new kf(l,g,m,k)}d==We(document)?(k=e.x-d.scrollLeft,e=e.y-d.scrollTop,
!C||10<=Number(Vd)||(k+=g.left,e+=g.top)):(k=e.x-f.x-g.left,e=e.y-f.y-g.top);f=b.offsetWidth;g=b.offsetHeight;l=D&&!f&&!g;(void 0===f||l)&&b.getBoundingClientRect?(b=mf(b),b=new Qe(b.right-b.left,b.bottom-b.top)):b=new Qe(f,g);f=d.clientHeight-b.height;g=d.scrollLeft;l=d.scrollTop;g+=Math.min(k,Math.max(k-(d.clientWidth-b.width),0));l+=Math.min(e,Math.max(e-f,0));d=new Le(g,l);a.scrollLeft=d.x;a.scrollTop=d.y}};u.Ea=function(a,b){"function"!=typeof a&&u.Ea.Hy(a);this.Xi=a;this.mt=this.Es=null;a=this.Xi;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=u.g.bc(f):(null!=f.alt&&(a[e][0].alt=u.g.bc(f.alt)),d=!0)}if(!(d||2>a.length)){d=[];for(e=0;e<a.length;e++)d.push(a[e][0]);e=u.g.Xa.gt(d);f=u.g.Xa.wB(d,e);var g=u.g.Xa.xB(d,e);!f&&!g||e<=f+g||(f&&(this.Es=d[0].substring(0,f-1)),g&&(this.mt=d[0].substr(1-g)),this.Xi=u.Ea.UA(a,f,g))}}a=this.getOptions()[0];u.Ea.A.constructor.call(this,
a[1],b)};n(u.Ea,u.R);u.Ea.pa=function(a){return new u.Ea(a.options)};u.Ea.prototype.hg=!0;u.Ea.Gt=25;u.Ea.Sz=.45;u.Ea.Vt=5;u.Ea.Dz=2*u.Ea.Vt;u.Ea.yt=u.g.userAgent.Cj?"\u25bc":"\u25be";c=u.Ea.prototype;c.nn="default";c.Cd=null;c.vh=null;c.Mf=function(){u.Ea.A.Mf.call(this);this.Cd=u.g.j.I("image",{y:u.Ea.Vt},this.Re);this.Ne=u.g.j.I("tspan",{},this.Hb);this.Ne.appendChild(document.createTextNode(this.G.C?u.Ea.yt+" ":" "+u.Ea.yt));this.G.C?this.Hb.insertBefore(this.Ne,this.Rm):this.Hb.appendChild(this.Ne)};
c.ef=function(){u.$.show(this,this.G.C,this.tt.bind(this));this.qm=this.st();this.qm.qa(u.$.wa);u.g.j.fb(this.qm.U(),"blocklyDropdownMenu");var a=this.qm,b=u.g.ww(),d=fc(this);this.G.C?d.right+=u.Ea.Gt:d.left-=u.Ea.Gt;a=u.g.Tk.yg(a);var e=u.Ea.Sz*document.documentElement.clientHeight;a.height>e&&(a.height=e);this.G.C&&u.g.Tk.Qu(b,d,a);u.$.Hx(b,d,a,this.G.C);b=this.qm;b.Hn=!0;b.Th(!0);this.qm.U().focus()};
c.st=function(){var a=new Vg;a.Lg(this.G.C);for(var b=this.getOptions(),d=0;d<b.length;d++){var e=b[d][0],f=b[d][1];if("object"==typeof e){var g=new Image(e.width,e.height);g.src=e.src;g.alt=e.alt||"";e=g}e=new Rg(e);e.Lg(this.G.C);e.setValue(f);e.Zs(!0);a.Gn(e,!0);tg(e,f==this.Aa)}this.yD=ye(a,"action",this.LC,!1,this);return a};c.tt=function(){He(this.yD)};c.LC=function(a){u.$.Mi(this);this.vx(a.target)};c.vx=function(a){this.setValue(a.getValue())};
u.Ea.UA=function(a,b,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(b,g.length-d);e[f]=[g,k]}return e};c=u.Ea.prototype;c.getOptions=function(){if("function"==typeof this.Xi){var a=this.Xi.call(this);u.Ea.Hy(a);return a}return this.Xi};
c.Uc=function(a){for(var b=!1,d=this.getOptions(),e=0,f;f=d[e];e++)if(f[1]==a){b=!0;break}return b?a:(this.G&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.G.type+", Field name: "+this.name+", Value: "+a),null)};c.mh=function(a){u.Ea.A.mh.call(this,a);a=this.getOptions();for(var b=0,d;d=a[b];b++)d[1]==this.Aa&&(d=d[0],"object"==typeof d?(this.vh=d,this.xa=d.alt):(this.vh=null,this.xa=d))};
c.Be=function(){this.G&&this.Ne&&(this.Ne.style.fill=this.G.bb?Wg(this.G):this.G.hh)};
c.Tf=function(){this.Rm.nodeValue="";this.Cd.style.display="none";if(this.vh){this.Cd.style.display="";this.Cd.setAttributeNS(u.g.j.ta,"xlink:href",this.vh.src);this.Cd.setAttribute("height",this.vh.height);this.Cd.setAttribute("width",this.vh.width);var a=u.R.ro(this.Ne),b=Number(this.vh.width);this.rb.height=Number(this.vh.height)+u.Ea.Dz;this.rb.width=b+a+u.R.rl;this.G.C?(b=u.R.ci-1,this.Cd.setAttribute("x",u.R.ci+a),this.Hb.setAttribute("x",b)):(b=b+a+u.R.ci+1,this.Hb.setAttribute("text-anchor",
"end"),this.Hb.setAttribute("x",b),this.Cd.setAttribute("x",u.R.ci))}else this.Rm.nodeValue=ec(this),this.Hb.setAttribute("text-anchor","start"),this.Hb.setAttribute("x",u.R.ci),this.rb.height=u.R.fn,this.rb.width=u.R.ro(this.Hb)+u.R.rl;this.Nd.setAttribute("height",this.rb.height);this.Nd.setAttribute("width",this.rb.width)};
u.Ea.Hy=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var b=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+e[0]+" in: ",e)):(b=!0,console.error("Invalid option["+
d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(b)throw TypeError("Found invalid FieldDropdown options.");};u.R.register("field_dropdown",u.Ea);u.g.J={};u.g.J.Ra=function(a,b){return" "+a+","+b+" "};u.g.J.curve=function(a,b){return" "+a+b.join("")};u.g.J.moveTo=function(a,b){return" M "+a+","+b+" "};u.g.J.moveBy=function(a,b){return" m "+a+","+b+" "};u.g.J.lineTo=function(a,b){return" l "+a+","+b+" "};u.g.J.line=function(a){return" l"+a.join("")};u.g.J.$b=function(a,b){return" "+a+" "+b+" "};u.g.J.arc=function(a,b,d,e){return a+" "+d+" "+d+" "+b+e};u.m={};u.m.w={};u.m.w.ah=0;u.m.w.lA=3;u.m.w.hi=5;u.m.w.$t=8;u.m.w.xd=10;u.m.w.wA=u.m.w.hi;u.m.w.Ge=1;u.m.w.he=15;u.m.w.ml=5;u.m.w.RF=2.5;u.m.w.ga=8;u.m.w.Kd=15;u.m.w.$z=4;u.m.w.Tz=12;u.m.w.mz=16;u.m.w.O=8;u.m.w.Mj=u.m.w.Kd;u.m.w.cu=u.m.w.Mj-u.m.w.O;u.m.w.sA=5;u.m.w.tA=20;u.m.w.Wy=4;u.m.w.Rz=66.5;u.m.w.Pj=15;u.m.w.rA=100;u.m.w.nA=15;u.m.w.wn=24;u.m.w.oz=u.m.w.ga+14.5;u.m.w.nz=u.m.w.he+11;u.m.w.rz=10;u.m.w.pz=u.m.w.wn;u.m.w.qz=32;u.m.w.fA=25;u.m.w.hq=u.g.J.moveBy(0,0);u.m.w.mq="m 0,"+u.m.w.O;
u.m.w.Vp=12;u.m.w.Wp=6;var Xg=u.m.w,Yg=u.m.w.Vp,Zg=u.m.w.Wp,$g=u.g.J.line([u.g.J.Ra(6,3),u.g.J.Ra(-12,6),u.g.J.Ra(6,3)]);Xg.$g={height:Yg,width:Zg,path:$g};var ah=u.m.w,bh=u.m.w.Pj,ch=u.m.w.rA,dh=u.g.J.curve("c",[u.g.J.Ra(30,-bh),u.g.J.Ra(70,-bh),u.g.J.Ra(ch,0)]);ah.ri={height:bh,width:ch,path:dh};
u.m.w.ge=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=u.g.J.Ra(b,g*l);return u.g.J.curve("c",[u.g.J.Ra(0,g*(l+2.5)),u.g.J.Ra(-b,k*(l+.5)),u.g.J.Ra(-b,g*l)])+u.g.J.curve("s",[u.g.J.Ra(b,2.5*k),m])}var b=u.m.w.ga,d=u.m.w.he,e=a(!0),f=a(!1);return{width:b,height:d,Kh:f,Bs:e}}();u.m.w.uc=function(){function a(k){return u.g.J.line([u.g.J.Ra(k*e,d),u.g.J.Ra(3*k,0),u.g.J.Ra(k*e,-d)])}var b=u.m.w.Kd,d=u.m.w.$z,e=(b-3)/2,f=a(1),g=a(-1);return{width:b,height:d,dj:f,Fx:g}}();
var eh=u.m.w,fh=u.m.w.O,gh=u.g.J.arc("a","0 0,0",fh,u.g.J.Ra(-fh,fh)),hh=u.g.J.arc("a","0 0,0",fh,u.g.J.Ra(fh,fh));eh.Rp={height:fh,As:gh,ip:hh};var ih=u.m.w,jh=u.m.w.O,kh=u.g.J.arc("A","0 0,1",jh,u.g.J.Ra(jh,0)),lh=u.g.J.arc("a","0 0,1",jh,u.g.J.Ra(-jh,-jh));ih.mu={qt:kh,Aq:lh};u.m.Jd=function(){this.Ud=!1;this.height=this.width=0;this.type=null;this.vi=this.cg=0};function mh(a){return"field"==a.type}u.m.Jd.prototype.Of=function(){return"between-row spacer"==this.type||"in-row spacer"==this.type};function nh(a){return"external value input"==a.type}function oh(a){return"inline input"==a.type}function ph(a){return"statement input"==a.type}function qh(a){return"previous connection"==a.type}function rh(a){return"next connection"==a.type}
u.m.Zg=function(a){u.m.Zg.A.constructor.call(this);this.Ud=!0;this.input=a;this.align=a.align;if(this.Zj=a.connection&&x(a.connection)?x(a.connection):null){var b=this.Zj.Db();this.Lq=b.width;this.Sn=b.height}else this.Sn=this.Lq=0;this.connection=a.connection;this.xf=0};n(u.m.Zg,u.m.Jd);u.m.Nc=function(a){u.m.Nc.A.constructor.call(this);this.icon=a;this.isVisible=a.isVisible();this.type="icon";a=new u.g.sf(u.Nc.prototype.kl,u.Nc.prototype.kl-2);this.height=a.height;this.width=a.width};n(u.m.Nc,u.m.Jd);
u.m.Xp=function(){u.m.Xp.A.constructor.call(this);this.type="jagged edge";this.height=u.m.w.$g.height;this.width=u.m.w.$g.width};n(u.m.Xp,u.m.Jd);u.m.R=function(a,b){u.m.R.A.constructor.call(this);this.ew=a;this.Zc=dc(a);this.iC=a instanceof u.de&&a.fw;this.type="field";a=this.ew.yg();this.height=a.height;this.width=a.width;this.iE=b};n(u.m.R,u.m.Jd);
u.m.Tp=function(a){u.m.Tp.A.constructor.call(this,a);this.type="inline input";this.Zj?(this.width=this.Lq+u.m.w.ga+u.m.w.Ge,this.height=this.Sn+u.m.w.Ge):(this.height=u.m.w.nz,this.width=u.m.w.oz);this.xf=u.m.w.ml;this.Bl=u.m.w.ge.height;this.$j=u.m.w.ge.width};n(u.m.Tp,u.m.Zg);u.m.jq=function(a){u.m.jq.A.constructor.call(this,a);this.type="statement input";this.Zj?(this.width=u.m.w.fA,this.height=this.Sn+u.m.w.sA,this.Zj.ba&&(this.height-=u.m.w.uc.height)):(this.height=u.m.w.pz,this.width=u.m.w.qz)};
n(u.m.jq,u.m.Zg);u.m.Pp=function(a){u.m.Pp.A.constructor.call(this,a);this.type="external value input";this.height=this.Zj?this.Sn-2*u.m.w.ml:u.m.w.he;this.width=u.m.w.rz;this.xf=u.m.w.ml;this.Bl=u.m.w.ge.height;this.$j=u.m.w.ge.width};n(u.m.Pp,u.m.Zg);u.m.aq=function(){u.m.aq.A.constructor.call(this);this.type="output connection";this.height=u.m.w.ge.height;this.width=u.m.w.ge.width;this.xf=u.m.w.ml};n(u.m.aq,u.m.Jd);
u.m.bq=function(){u.m.bq.A.constructor.call(this);this.type="previous connection";this.height=u.m.w.uc.height;this.width=u.m.w.uc.width};n(u.m.bq,u.m.Jd);u.m.$p=function(){u.m.$p.A.constructor.call(this);this.type="next connection";this.height=u.m.w.uc.height;this.width=u.m.w.uc.width};n(u.m.$p,u.m.Jd);u.m.Qp=function(){u.m.Qp.A.constructor.call(this);this.type="hat";this.height=u.m.w.ah;this.width=u.m.w.ri.width};n(u.m.Qp,u.m.Jd);
u.m.Fn=function(){u.m.Fn.A.constructor.call(this);this.type="square corner";this.height=u.m.w.uc.height;this.width=u.m.w.ah};n(u.m.Fn,u.m.Jd);u.m.Bn=function(){u.m.Bn.A.constructor.call(this);this.type="round corner";this.width=u.m.w.O;this.height=u.m.w.uc.height};n(u.m.Bn,u.m.Jd);u.m.Oj=function(){this.type="row";this.zj=0;this.elements=[];this.height=this.width=0;this.Gw=this.Ew=this.Kr=this.Td=this.$l=!1};u.m.Oj.prototype.Of=function(){return!1};
u.m.Oj.prototype.measure=function(){for(var a=0,b=0;b<this.elements.length;b++){var d=this.elements[b];this.width+=d.width;!d.Ud||"statement input"!=d.type&&"external value input"!=d.type||(a+=d.Lq);d.Of()||(this.height=Math.max(this.height,d.height))}this.cF=this.width+a};function sh(a){for(var b=a.elements.length-1;0<=b;b--){var d=a.elements[b];if(!d.Of()){if(d.Ud)return d;if(mh(d))return d.iE}}return null}u.m.Dt=function(a,b){this.type="between-row spacer";this.width=b;this.height=a;this.iw=!1};
n(u.m.Dt,u.m.Jd);u.m.Sp=function(a){this.type="in-row spacer";this.width=a;this.height=u.m.w.nA};n(u.m.Sp,u.m.Jd);u.m.oq=function(a){u.m.oq.A.constructor.call(this);this.elements=[];this.type="top row";this.TC=!!a.Y;this.connection=a.Y;a.W.length&&a.W[0].type==u.Ma&&!a.isCollapsed()?this.height=u.m.w.xd:this.height=u.m.w.hi};n(u.m.oq,u.m.Oj);
u.m.Ip=function(a){u.m.Ip.A.constructor.call(this);this.type="bottom row";this.Lr=!!a.ba;this.connection=a.ba;var b=a.W.length&&a.W[a.W.length-1].type==u.Ma;this.Fw=b&&th(a);this.height=b?u.m.w.xd:u.m.w.uc.height};n(u.m.Ip,u.m.Oj);u.m.hA=function(a){this.V=a;this.X=a.X?new u.m.aq:null;this.Uw=th(a)&&!a.isCollapsed();this.isCollapsed=a.isCollapsed();this.Nf=a.Nf();this.C=a.C;this.Zd=this.width=this.Oy=this.height=0;this.rows=[];this.Mr=[];this.me=this.jf=null;a=this.V.Ag?"cap"===this.V.Ag:u.o.ri;var b=!!this.V.Y;var d=this.V;d=d.Y&&x(d.Y);d=!!this.V.X||a||d&&w(d)==this.V;this.jf=new u.m.oq(this.V);d?this.jf.elements.push(new u.m.Fn):this.jf.elements.push(new u.m.Bn);a?this.jf.elements.push(new u.m.Qp):b&&this.jf.elements.push(new u.m.bq);
this.rows.push(this.jf);a=new u.m.Oj;d=jb(this.V);if(d.length)for(b=0;b<d.length;b++){var e=d[b],f=new u.m.Nc(e);this.isCollapsed&&e.Hq?this.Mr.push(f):a.elements.push(f)}e=void 0;for(b=0;b<this.V.W.length;b++)if(d=this.V.W[b],d.isVisible()){!e||d.type!=u.Ma&&(d.type!=u.Oa&&d.type!=u.Ie||this.Uw)||(this.rows.push(a),a=new u.m.Oj);for(e=0;e<d.Ca.length;e++)a.elements.push(new u.m.R(d.Ca[e],d));e=d;f=a;this.Uw&&e.type==u.Oa?(f.elements.push(new u.m.Tp(e)),f.Kr=!0):e.type==u.Ma?(f.elements.push(new u.m.jq(e)),
f.Td=!0):e.type==u.Oa?(f.elements.push(new u.m.Pp(e)),f.$l=!0):e.type==u.Ie&&(f.Ew=!0);e=d}this.isCollapsed&&(a.Gw=!0,a.elements.push(new u.m.Xp));a.elements.length&&this.rows.push(a);a=!!this.V.X||!!w(this.V);this.me=new u.m.Ip(this.V);a?this.me.elements.push(new u.m.Fn):this.me.elements.push(new u.m.Bn);this.me.Lr&&this.me.elements.push(new u.m.$p);this.rows.push(this.me);for(a=0;a<this.rows.length;a++)for(b=this.rows[a],d=b.elements,b.elements=[],"top row"!=b.type&&"bottom row"!=b.type&&b.elements.push(new u.m.Sp(uh(this,
null,d[0]))),e=0;e<d.length;e++)b.elements.push(d[e]),b.elements.push(new u.m.Sp(uh(this,d[e],d[e+1])));for(e=d=b=a=0;e<this.rows.length;e++)f=this.rows[e],f.measure(),f.Td||(b=Math.max(b,f.width)),f.Td&&(a=Math.max(a,f.width-sh(f).width)),d=Math.max(d,f.cF);this.width=(this.Zd=a)?Math.max(b,a+2*u.m.w.uc.width):b;for(e=0;e<this.rows.length;e++)f=this.rows[e],f.Td&&(f.Zd=this.Zd);this.Oy=Math.max(b,d);for(a=0;a<this.rows.length;a++)if(b=this.rows[a],!b.Td&&!b.Kr&&(d=b.width,e=this.width,"bottom row"===
b.type&&b.Fw&&(e=u.m.w.Rz),d=e-d))if(e=b.elements,f=sh(b)){var g=b.elements[0],k=b.elements[b.elements.length-1];b.$l&&(k=e[e.length-3]);f.align==u.Bj?k.width+=d:f.align==u.Yk?(g.width+=d/2,k.width+=d/2):f.align==u.Zk&&(g.width+=d);b.width+=d}else if("top row"===b.type||"bottom row"===b.type)b.elements[b.elements.length-1].width+=d,b.width+=d;a=this.rows;this.rows=[];for(b=0;b<a.length;b++)this.rows.push(a[b]),b!==a.length-1&&this.rows.push(vh(this,a[b],a[b+1]));for(b=a=0;b<this.rows.length;b++)if(d=
this.rows[b],d.zj=a,a+=d.height,d==this.me&&a<u.m.w.wn&&(this.me.height+=u.m.w.wn-a,a=u.m.w.wn),!d.Of())for(f=e=0;f<d.elements.length;f++){g=d.elements[f];g.cg=e;k=d.zj;if(mh(g)){if(k+=g.height/2,d.Kr||d.Td)k+=u.m.w.wA}else k=oh(g)?k+g.height/2:rh(g)?k+(d.height+g.height/2):k+d.height/2;g.vi=k;e+=g.width}this.height=a};
function uh(a,b,d){if(!b)return mh(d)&&d.Zc?u.m.w.hi:d.Ud&&oh(d)?u.m.w.$t:ph(d)?u.m.w.tA:u.m.w.xd;if(!b.Ud&&!d)return mh(b)&&b.Zc?u.m.w.hi:"icon"==b.type?2*u.m.w.xd+1:"hat"==b.type?u.m.w.ah:qh(b)||rh(b)?u.m.w.xd:"round corner"==b.type?u.m.w.Tz:"jagged edge"==b.type?u.m.w.ah:u.m.w.xd;if(b.Ud&&!d){if(nh(b))return u.m.w.ah;if(oh(b))return u.m.w.xd;if(ph(b))return u.m.w.ah}if(!b.Ud&&d.Ud){if(b.Zc){if(oh(d)||nh(d))return u.m.w.lA}else{if(oh(d)||nh(d))return u.m.w.$t;if(ph(d))return u.m.w.xd}return u.m.w.xd-
1}if("icon"==b.type&&!d.Ud)return u.m.w.xd;if(oh(b)&&!d.Ud)return d.Zc?u.m.w.hi:u.m.w.xd;if("square corner"==b.type){if("hat"==d.type)return u.m.w.ah;if(qh(d))return u.m.w.Mj;if(rh(d))return a=(a.C?1:-1)*u.m.w.Ge/2,u.m.w.Mj+a}if("round corner"==b.type){if(qh(d))return u.m.w.cu;if(rh(d))return a=(a.C?1:-1)*u.m.w.Ge/2,u.m.w.cu+a}return!b.Ud&&!d.Ud&&b.Zc==d.Zc||"jagged edge"==d.type?u.m.w.xd:u.m.w.hi}
function vh(a,b,d){a=new u.m.Dt("top row"===b.type&&"bottom row"===d.type?u.m.w.mz:"top row"===b.type||"bottom row"===d.type?u.m.w.ah:b.$l&&d.$l?u.m.w.xd:!b.Td&&d.Td?u.m.w.Wy:b.Td&&d.Td||d.Ew?u.m.w.xd:u.m.w.hi,"bottom row"===d.type&&d.Fw?d.width:a.width);b.Td&&(a.iw=!0);return a};u.m.Fb={};u.m.Fb.Ke=.5;u.m.Fb.hq=u.g.J.moveBy(u.m.Fb.Ke,u.m.Fb.Ke);u.m.Fb.Lz=function(){var a=u.m.w.O,b=u.m.Fb.Ke,d=(1-Math.SQRT1_2)*(a+b)-b,e=u.g.J.moveBy(d,d)+u.g.J.arc("a","0 0,0",a,u.g.J.Ra(-d-b,a-d)),f=u.g.J.arc("a","0 0,0",a+b,u.g.J.Ra(a+b,a+b)),g=u.g.J.moveBy(d,-d)+u.g.J.arc("a","0 0,0",a+b,u.g.J.Ra(a-d,d+b));return{height:a,As:function(k){return k?e:""},ip:function(k){return k?f:g}}}();
u.m.Fb.eA=function(){var a=u.m.w.O,b=u.m.Fb.Ke,d=(1-Math.SQRT1_2)*(a-b)+b,e=u.g.J.moveBy(d,d),f=u.g.J.moveBy(b,a-b),g=u.g.J.arc("A","0 0,1",a-b,u.g.J.Ra(a,b));return{height:a,qt:function(k){return(k?e:f)+g},Aq:function(k){return u.g.J.moveTo(d+b,k-d)+u.g.J.arc("A","0 0,1",a-b,u.g.J.Ra(b,k-a))}}}();
u.m.Fb.ge=function(){var a=u.m.w.ga,b=u.m.w.he,d=u.g.J.moveTo(-.25*a,8.4)+u.g.J.lineTo(-.45*a,-2.1),e=u.g.J.$b("v",2.5)+u.g.J.moveBy(.97*-a,2.5)+u.g.J.curve("q",[u.g.J.Ra(.05*-a,10),u.g.J.Ra(.3*a,9.5)])+u.g.J.moveBy(.67*a,-1.9)+u.g.J.$b("v",2.5),f=u.g.J.$b("V",b+u.m.w.ml-1.5)+u.g.J.moveBy(-.92*a,-.5)+u.g.J.curve("q",[u.g.J.Ra(-.19*a,-5.5),u.g.J.Ra(0,-11)])+u.g.J.moveBy(.92*a,1)+u.g.J.$b("V",.5)+u.g.J.$b("H",1),g=u.g.J.moveBy(-5,b-.7)+u.g.J.lineTo(.46*a,-2.1);return{width:a,height:b,Bs:function(k){return k?
d:f},Kh:function(k){return k?e:g}}}();u.m.Fb.uc={dj:u.g.J.$b("h",u.m.Fb.Ke)+u.m.w.uc.dj};u.m.Fb.$g={dj:u.g.J.lineTo(5.1,2.6)+u.g.J.moveBy(-10.2,6.8)+u.g.J.lineTo(5.1,2.6)};u.m.Fb.ri=function(){var a=u.g.J.moveBy(25,-8.7)+u.g.J.curve("c",[u.g.J.Ra(29.7,-6.2),u.g.J.Ra(57.2,-.5),u.g.J.Ra(75,8.7)]),b=u.g.J.curve("c",[u.g.J.Ra(17.8,-9.2),u.g.J.Ra(45.3,-14.9),u.g.J.Ra(75,-8.7)])+u.g.J.moveTo(100.5,.5);return{path:function(d){return d?a:b}}}();u.m.Ut=function(a,b){this.Na=a;this.ej=b;this.na=this.ej.ue;this.Cg=this.ej.Or;this.Oc=this.Na.C;this.Ve=u.m.Fb.Ke;this.xs=u.m.Fb.eA;this.Lo=u.m.Fb.Lz;this.zm=u.m.Fb.ge;this.MD=u.m.Fb.uc;this.IE=u.m.Fb.ri;this.Vw=u.m.Fb.$g};u.m.Ut.prototype.er=function(a){this.Na.C&&(this.na.push("H",a.width-this.Ve),this.na.push(this.Vw.dj),this.na.push(u.g.J.$b("v",a.height-this.Vw.height-this.Ve)))};function wh(a,b){b.iw&&a.na.push("H",b.width);a.Oc&&(a.na.push("H",b.width-a.Ve),a.na.push("v",b.height))};u.m.lz=function(){this.zi=[];this.Pk=null};function xh(a,b){if(b.type==u.Oa){var d=4;var e="magenta";var f="none"}else b.type==u.ee?(d=2,f=e="magenta"):b.type==u.Ma?(d=4,e="goldenrod",f="none"):b.type==u.fe&&(d=2,f=e="goldenrod");a.zi.push(u.g.j.I("circle",{"class":"blockRenderDebug",cx:b.Eg.x,cy:b.Eg.y,r:d,fill:f,stroke:e},a.Pk))};u.m.Rt=function(a,b){this.V=a;this.Na=b;a.Fa();this.ej=new u.o.qu;this.na=this.ej.ff;this.Cg=this.ej.Vr;this.Cc=new u.m.Ut(this.Na,this.ej)};u.m.Rt.prototype.er=function(a){this.Cc&&this.Cc.er(a);this.na.push(u.m.w.$g.path);this.na.push("v",a.height-u.m.w.$g.height)};u.m.qa=function(a){a.Rx||(a.Rx=new u.m.lz);var b=new u.m.hA(a);a=new u.m.Rt(a,b);for(b=0;b<a.Na.Mr.length;b++)a.Na.Mr[b].icon.Dc.setAttribute("display","none");b=a.Na.jf;var d=b.elements;if(a.Cc){for(var e=a.Cc,f=0,g;g=b.elements[f];f++)"square corner"===g.type?e.na.push(u.m.Fb.hq):"round corner"===g.type?e.na.push(e.xs.qt(e.Oc)):"previous connection"===g.type?e.na.push(e.MD.dj):"hat"===g.type?e.na.push(e.IE.path(e.Oc)):g.Of()&&e.na.push("H",g.cg+g.width-e.Ve);e.na.push("H",b.width-e.Ve);wh(a.Cc,
b)}a.Na.jf.TC&&(e=u.m.w.Mj,Za(a.Na.jf.connection,a.Na.C?-e:e,0));for(e=0;f=d[e];e++)"square corner"===f.type?a.na.push(u.m.w.hq):"round corner"===f.type?a.na.push(u.m.w.mq,u.m.w.mu.qt):"previous connection"===f.type?a.na.push(u.m.w.uc.dj):"hat"===f.type?a.na.push(u.m.w.ri.path):f.Of()&&a.na.push("h",f.width);a.na.push("v",b.height);for(b=1;b<a.Na.rows.length-1;b++)if(e=a.Na.rows[b],e.Gw)a.er(e);else if(e.Td){d=a;if(d.Cc){f=d.Cc;g=e;if(f.Oc){var k=g.height-2*f.Lo.height;g=u.g.J.moveTo(g.Zd,g.zj)+f.Lo.As(f.Oc)+
u.g.J.$b("v",k)+f.Lo.ip(f.Oc)}else g=u.g.J.moveTo(g.Zd,g.zj+g.height)+f.Lo.ip(f.Oc);f.na.push(g)}d.na.push("H",e.Zd+u.m.w.Mj+u.m.w.uc.width);d.na.push(u.m.w.uc.Fx+" h -"+(u.m.w.Kd-u.m.w.O)+u.m.w.Rp.As);d.na.push("v",e.height-2*u.m.w.Rp.height);d.na.push(u.m.w.Rp.ip);f=sh(e);f.connection&&(g=e.Zd+u.m.w.Mj,d.Na.C&&(g*=-1),Za(f.connection,g+.5,e.zj+u.m.w.Ge))}else if(e.$l){d=a;f=sh(e);if(d.Cc){g=d.Cc;k=e;var l=sh(k);g.Oc?(k=k.height-l.Bl+g.Ve,k=u.g.J.$b("v",-g.Ve)+g.zm.Kh(g.Oc)+u.g.J.$b("v",k)):k=u.g.J.moveTo(k.width,
k.zj)+g.zm.Kh(g.Oc);g.na.push(k)}d.na.push("H",e.width);d.na.push(u.m.w.ge.Kh);d.na.push("v",e.height-f.Bl);f=sh(e);f.connection&&(g=e.width+u.m.w.Ge,d.Na.C&&(g*=-1),Za(f.connection,g,e.zj))}else d=a,d.Cc&&wh(d.Cc,e),d.na.push("H",e.width),d.na.push("v",e.height);d=a.Na.me;b=d.elements;a.Cc&&(e=a.Cc,f=e.Na.height,e.Oc?e.na.push("V",f):(g=e.Na.me.elements[0],"square corner"===g.type?e.na.push(u.g.J.moveTo(e.Ve,f-e.Ve)):"round corner"===g.type&&e.na.push(e.xs.Aq(f))));e=a.Na.me;e.Lr&&(f=(e.Lr?e.elements[2]:
null).cg,Za(e.connection,(a.Na.C?-f:f)+.5,a.Na.height+u.m.w.Ge));a.na.push("v",d.height);for(d=b.length-1;0<=d;d--)e=b[d],"next connection"===e.type?a.na.push(u.m.w.uc.Fx):"square corner"===e.type?a.na.push("H 0"):"round corner"===e.type?a.na.push(u.m.w.mu.Aq):e.Of()&&a.na.push("h",-1*e.width);a.Cc&&(b=a.Cc,b.Na.X&&b.na.push(b.zm.Bs(b.Oc)),b.Oc||("square corner"==b.Na.jf.elements[0].type?b.na.push("V",b.Ve):b.na.push("V",b.xs.height)));(b=a.Na.X)&&Za(a.V.X,0,a.Na.X.xf);b&&(a.na.push("V",b.xf+b.height),
a.na.push(u.m.w.ge.Bs));a.na.push("z");for(b=0;b<a.Na.rows.length;b++)if(d=a.Na.rows[b],!d.Of())for(e=0;e<d.elements.length;e++)if(g=d.elements[e],oh(g)){f=a;if(f.Cc){k=f.Cc;var m=g;l=k.Ve;var p=m.cg+m.$j,r=m.vi-m.height/2,t=m.width-m.$j,v=r+l;k.Oc?(r=m.xf-l,m=m.height-(m.xf+m.Bl)+l,l=u.g.J.moveTo(p-l,v)+u.g.J.$b("v",r)+k.zm.Kh(k.Oc)+u.g.J.$b("v",m)+u.g.J.$b("h",t)):l=u.g.J.moveTo(m.cg+m.width+l,v)+u.g.J.$b("v",m.height)+u.g.J.$b("h",-t)+u.g.J.moveTo(p,r+m.xf)+k.zm.Kh(k.Oc);k.Cg.push(l)}k=g.width;
l=g.height;p=g.xf;t=g.Bl+p;f.Cg.push("M",g.cg+g.$j+","+(g.vi-l/2));f.Cg.push("v ",p);f.Cg.push(u.m.w.ge.Kh);f.Cg.push("v",l-t);f.Cg.push("h",k-g.$j);f.Cg.push("v",-l);f.Cg.push("z");k=g.vi-g.height/2;g.connection&&(l=g.cg+g.$j+u.m.w.Ge,f.Na.C&&(l*=-1),Za(g.connection,l,k+g.xf+u.m.w.Ge))}else if("icon"==g.type||mh(g)){f=a;if("field"==g.type)var q=g.ew.Z();else"icon"==g.type&&(q=g.icon.Dc);k=g.vi-g.height/2;l=g.cg;p="";f.Na.C&&(l=-(l+g.width),g.iC&&(l+=g.width,p="scale(-1 1)"));"icon"==g.type?(q.setAttribute("display",
"block"),q.setAttribute("transform","translate("+l+","+k+")"),yh(g.icon)):q.setAttribute("transform","translate("+l+","+k+")"+p);f.Na.Nf&&q.setAttribute("display","none")}zh(a.V,a.ej);q=a.V.Rx;b=a.V;d=a.Na;for(e=0;f=q.zi[e];e++)u.g.j.removeNode(f);q.zi=[];q.Pk=b.Z();for(f=e=0;f<d.rows.length;f++){g=d.rows[f];if(g.Of())q.zi.push(u.g.j.I("rect",{"class":"rowSpacerRect blockRenderDebug",x:d.C?-g.width:0,y:e,width:g.width,height:g.height},q.Pk));else{k=q;l=g;p=e;t=d.C;for(v=0;v<l.elements.length;v++)if(m=
l.elements[v],m.Of()){r=m.cg;t&&(r=-(r+m.width));var y=Math.min(m.height,l.height);k.zi.push(u.g.j.I("rect",{"class":"elemSpacerRect blockRenderDebug",x:r,y:m.vi-y/2,width:m.width,height:y},k.Pk))}else r=k,y=m.cg,t&&(y=-(y+m.width)),r.zi.push(u.g.j.I("rect",{"class":"rowRenderingRect blockRenderDebug",x:y,y:m.vi-m.height/2,width:m.width,height:m.height},r.Pk)),m.Ud&&xh(r,m.connection);k.zi.push(u.g.j.I("rect",{"class":"elemRenderingRect blockRenderDebug",x:t?-l.width:0,y:p,width:l.width,height:l.height},
k.Pk))}e+=g.height}b.Y&&xh(q,b.Y);b.ba&&xh(q,b.ba);b.X&&xh(q,b.X);a.V.height=a.Na.height+u.m.w.Ge;a.V.width=a.Na.Oy+u.m.w.Ge;a.V.wp=a.Na.jf.DG};u.jb=Object.create(null);u.Nc=function(a){this.V=a};c=u.Nc.prototype;c.Hq=!0;c.kl=17;c.sb=null;c.sk=null;function Ah(a){a.Dc||(a.Dc=u.g.j.I("g",{"class":"blocklyIconGroup"},null),a.V.sd&&u.g.j.fb(a.Dc,"blocklyIconGroupReadonly"),a.dr(a.Dc),a.V.Z().appendChild(a.Dc),u.da(a.Dc,"mouseup",a,a.Qr),a.Rg())}c.K=function(){u.g.j.removeNode(this.Dc);this.Dc=null;this.Ha(!1);this.V=null};c.Rg=function(){};c.isVisible=function(){return!!this.sb};c.Qr=function(a){this.V.B.Fc()||this.V.sd||u.g.Ch(a)||this.Ha(!this.isVisible())};
c.Be=function(){this.isVisible()&&this.sb.dc(this.V.hh)};function lb(a,b){a.sk=b;a.isVisible()&&(a=a.sb,a.Mb=b,a.kj&&Cb(a))}function yh(a){var b=a.V.Fa(),d=u.g.Rd(a.Dc);b=new u.g.T(b.x+d.x+a.kl/2,b.y+d.y+a.kl/2);u.g.T.Qe(a.sk,b)||lb(a,b)};u.Comment=function(a){u.Comment.A.constructor.call(this,a);Ah(this)};n(u.Comment,u.Nc);c=u.Comment.prototype;c.xa="";c.va=160;c.Pa=80;
c.dr=function(a){u.g.j.I("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);u.g.j.I("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);u.g.j.I("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
c.Fl=function(){this.Pd=u.g.j.I("foreignObject",{x:u.la.Lc,y:u.la.Lc},null);var a=document.createElementNS(u.g.j.rf,"body");a.setAttribute("xmlns",u.g.j.rf);a.className="blocklyMinimalBody";var b=document.createElementNS(u.g.j.rf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.V.C?"RTL":"LTR");a.appendChild(b);this.Ib=b;this.Pd.appendChild(a);u.da(b,"mouseup",this,this.PE,!0,!0);u.da(b,"wheel",this,function(d){d.stopPropagation()});u.da(b,"change",this,function(){this.xa!=
b.value&&(u.i.ma(new u.i.lf(this.V,"comment",null,this.xa,b.value)),this.xa=b.value)});setTimeout(function(){b.focus()},0);return this.Pd};c.Rg=function(){this.isVisible()&&(this.Ha(!1),this.Ha(!0));u.Nc.prototype.Rg.call(this)};c.rp=function(){if(this.isVisible()){var a=this.sb.Fi(),b=2*u.la.Lc;this.Pd.setAttribute("width",a.width-b);this.Pd.setAttribute("height",a.height-b);this.Ib.style.width=a.width-b-4+"px";this.Ib.style.height=a.height-b-4+"px"}};
c.Ha=function(a){if(a!=this.isVisible())if(u.i.ma(new u.i.fc(this.V,"commentOpen",!a,a)),!this.V.Zc()&&!this.Ib||u.g.userAgent.Wg)u.ke.prototype.Ha.call(this,a);else{var b=this.kc(),d=this.Fi();a?(this.sb=new u.la(this.V.B,this.Fl(),this.V.fd,this.sk,this.va,this.Pa),Eb(this.sb,this.V.id),a=this.rp.bind(this),this.sb.Ms=a,this.Be()):(this.sb.K(),this.Pd=this.Ib=this.sb=null);this.Wf(b);this.Qh(d.width,d.height)}};c.PE=function(){Gb(this.sb)&&this.Ib.focus()};
c.Fi=function(){return this.isVisible()?this.sb.Fi():{width:this.va,height:this.Pa}};c.Qh=function(a,b){this.Ib?this.sb.Qh(a,b):(this.va=a,this.Pa=b)};c.kc=function(){return this.Ib?this.Ib.value:this.xa};c.Wf=function(a){this.xa!=a&&(u.i.ma(new u.i.lf(this.V,"comment",null,this.xa,a)),this.xa=a);this.Ib&&(this.Ib.value=a)};c.K=function(){u.i.isEnabled()&&this.Wf("");this.V.kb=null;u.Nc.prototype.K.call(this)};u.Ej=function(){this.Ob=[]};function Xa(a,b){if(b.wh)throw Error("Connection already in database.");b.G.sd||(a.Ob.splice(bb(a,b),0,b),b.wh=!0)}function Bh(a,b){if(!a.Ob.length)return-1;var d=bb(a,b);if(d>=a.Ob.length)return-1;for(var e=b.Va,f=d;0<=f&&a.Ob[f].Va==e;){if(a.Ob[f]==b)return f;f--}for(;d<a.Ob.length&&a.Ob[d].Va==e;){if(a.Ob[d]==b)return d;d++}return-1}
function bb(a,b){if(!a.Ob.length)return 0;for(var d=0,e=a.Ob.length;d<e;){var f=Math.floor((d+e)/2);if(a.Ob[f].Va<b.Va)d=f+1;else if(a.Ob[f].Va>b.Va)e=f;else{d=f;break}}return d}function Sa(a,b){if(!b.wh)throw Error("Connection not in database.");var d=Bh(a,b);if(-1==d)throw Error("Unable to find connection in connectionDB.");b.wh=!1;a.Ob.splice(d,1)}
function eb(a,b,d){function e(p){var r=g-f[p].zb,t=k-f[p].Va;Math.sqrt(r*r+t*t)<=d&&m.push(f[p]);return t<d}var f=a.Ob,g=b.zb,k=b.Va;a=0;for(var l=b=f.length-2;a<l;)f[l].Va<k?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(f.length){for(;0<=a&&e(a);)a--;do b++;while(b<f.length&&e(b))}return m}u.Ej.za=function(){var a=[];a[u.Oa]=new u.Ej;a[u.ee]=new u.Ej;a[u.Ma]=new u.Ej;a[u.fe]=new u.Ej;return a};u.Wa=function(a,b){u.Wa.A.constructor.call(this,b);this.s=a};n(u.Wa,u.cl);u.Wa.Mp=5;u.Wa.on=100;u.Wa.qF=24;u.Wa.SF=5;u.Wa.Cn=10;u.Wa.Lp="#cc0a0a";u.Wa.Qz="#4286f4";c=u.Wa.prototype;c.Vd=null;c.ih=null;c.Z=function(){return this.D};
c.ka=function(){this.D=u.g.j.I("g",{"class":"blocklyCursor"},null);var a=this.vk?u.Wa.Qz:u.Wa.Lp;this.Rq=u.g.j.I("g",{width:u.Wa.on,height:u.Wa.Mp},this.D);this.jh=u.g.j.I("rect",{x:"0",y:"0",fill:a,width:u.Wa.on,height:u.Wa.Mp,style:"display: none;"},this.Rq);this.kh=u.g.j.I("rect",{"class":"blocklyVerticalCursor",x:"0",y:"0",rx:"10",ry:"10",style:"display: none;",stroke:a},this.Rq);this.Xn=u.g.j.I("path",{width:u.Wa.on,height:u.Wa.Mp,d:"m 0,0 "+u.o.lq+" v 5",transform:"",style:"display: none;",
fill:a},this.Rq);this.vk||(u.g.j.I("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:u.Wa.Lp+";transparent;transparent;",repeatCount:"indefinite"},this.jh),u.g.j.I("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:u.Wa.Lp+";transparent;transparent;",repeatCount:"indefinite"},this.Xn));return this.D};function Ch(a,b){var d=a.Vd;if(b!=d){var e=a.Z();b?b.appendChild(e):d&&a.s.ab.appendChild(e);a.Vd=b}}
function Dh(a,b,d,e){a.jh.setAttribute("x",b);a.jh.setAttribute("y",d);a.jh.setAttribute("width",e)}function Eh(a,b,d,e,f){a.kh.setAttribute("x",b);a.kh.setAttribute("y",d);a.kh.setAttribute("width",e);a.kh.setAttribute("height",f)}function Fh(a){a.Ga();a.ih.style.display=""}c.Ga=function(){this.jh.style.display="none";this.kh.style.display="none";this.Xn.style.display="none"};
c.Gy=function(){if(this.xb){var a=this.xb;if(a.gd===u.F.types.De)a=this.xb.ra,this.ih=this.kh,Ch(this,a.Z()),Eh(this,0,0,a.width,a.height),Fh(this);else if(a.ra.type===u.Oa||a.gd===u.F.types.mi)a=this.xb.ra,this.ih=this.Xn,Ch(this,a.G.Z()),this.Xn.setAttribute("transform","translate("+a.Eg.x+","+a.Eg.y+")"+(a.G.C?" scale(-1 1)":"")),Fh(this);else if(a.ra.type===u.Ma){a=this.xb.ra;var b=a.Eg.y,d=a.G.Db().width;this.ih=this.jh;Ch(this,a.G.Z());Dh(this,0,b,d);Fh(this)}else if(a.gd===u.F.types.ni)a=this.xb.ra,
b=a.G.Db().width,this.ih=this.jh,Ch(this,a.G.Z()),Dh(this,0,0,b),Fh(this);else if(a.gd===u.F.types.eg)a=this.xb.ra,b=a.Nd.width.baseVal.value,d=a.Nd.height.baseVal.value,this.ih=this.kh,Ch(this,a.Z()),Eh(this,0,0,b,d),Fh(this);else if(a.gd===u.F.types.kg)a=this.xb.Xk,this.ih=this.jh,Ch(this,this.s.ab),Dh(this,a.x,a.y,u.Wa.on),Fh(this);else if(a.gd===u.F.types.Le){a=this.xb.ra;d=a.Db();b=d.width+u.Wa.Cn;d=d.height+u.Wa.Cn;var e=-1*u.Wa.Cn/2,f=-1*u.Wa.Cn/2;a.X&&(e-=u.o.ga);this.ih=this.kh;Ch(this,a.Z());
Eh(this,e,f,b,d);Fh(this)}}};c.next=function(){return this.vk?null:u.Wa.A.next.call(this)};c.dm=function(){return this.vk?null:u.Wa.A.dm.call(this)};c.Hk=function(){return this.vk?null:u.Wa.A.Hk.call(this)};c.wm=function(){return this.vk?null:u.Wa.A.wm.call(this)};c.K=function(){this.D&&u.g.j.removeNode(this.D)};u.fi=function(a,b){this.kk=a;this.kt=b.spacing;this.$w=b.length;this.qD=(this.js=a.firstChild)&&this.js.nextSibling;this.EE=b.snap};u.fi.prototype.Ph=1;u.fi.prototype.K=function(){this.kk=null};u.fi.prototype.update=function(a){this.Ph=a;var b=this.kt*a||100;this.kk.setAttribute("width",b);this.kk.setAttribute("height",b);b=Math.floor(this.kt/2)+.5;var d=b-this.$w/2,e=b+this.$w/2;b*=a;d*=a;e*=a;Gh(this.js,a,d,e,b,b);Gh(this.qD,a,b,b,d,e)};
function Gh(a,b,d,e,f,g){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}u.fi.prototype.moveTo=function(a,b){this.kk.setAttribute("x",a);this.kk.setAttribute("y",b);(u.g.userAgent.Wg||u.g.userAgent.rn)&&this.update(this.Ph)};
u.fi.ka=function(a,b,d){a=u.g.j.I("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<b.length&&0<b.spacing?(u.g.j.I("line",{stroke:b.colour},a),1<b.length&&u.g.j.I("line",{stroke:b.colour},a)):u.g.j.I("line",{},a);return a};u.Ld=function(a){var b=!!a.readOnly;if(b)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else{d=u.Ld.Dx(a.toolbox||null);e=!(!d||!d.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var p=a.maxTrashcanContents;f?void 0===p&&(p=32):p=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var r=!!a.rtl,t=a.horizontalLayout;void 0===t&&(t=!1);var v=a.toolboxPosition;v="end"===v?!1:!0;v=t?v?u.nd:u.dh:v==r?u.ig:u.yd;var q=
a.css;void 0===q&&(q=!0);var y="https://blockly-demo.appspot.com/static/media/";a.media?y=a.media:a.path&&(y=a.path+"media/");var J=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,Q=a.theme||u.eh.$h;this.C=r;this.Jh=J;this.collapse=g;this.vB=k;this.disable=l;this.readOnly=b;this.ms=a.maxBlocks||Infinity;this.ns=a.maxInstances;this.bf=y;this.Cw=e;this.oc=u.Ld.lE(a,e);this.Hw=f;this.Ck=p;this.UC=m;this.SC=q;this.Bd=t;this.Qf=d;this.yw=u.Ld.kE(a);this.lb=u.Ld.mE(a);this.ua=v;this.QE=Q};
u.Ld.prototype.bd=null;u.Ld.prototype.Jg=null;u.Ld.prototype.Eb=null;u.Ld.lE=function(a,b){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?b:!!d.scrollbars||!!a.scrollbars;e.xj=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.oh=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
u.Ld.mE=function(a){a=a.zoom||{};var b={};b.controls=void 0===a.controls?!1:!!a.controls;b.xj=void 0===a.wheel?!1:!!a.wheel;b.py=void 0===a.startScale?1:Number(a.startScale);b.pm=void 0===a.maxScale?3:Number(a.maxScale);b.rm=void 0===a.minScale?.3:Number(a.minScale);b.vE=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);return b};u.Ld.kE=function(a){a=a.grid||{};var b={};b.spacing=Number(a.spacing)||0;b.nb=a.colour||"#888";b.length=Number(a.length)||1;b.CG=0<b.spacing&&!!a.snap;return b};
u.Ld.Dx=function(a){if(a){if("string"!=typeof a&&(u.g.userAgent.Wg&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=u.S.Ng(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};u.Qj=function(a){this.s=a;this.Sd=new u.Ba(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.ce=new u.Ba(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.Dl=u.g.j.I("rect",{height:u.Ba.Qb,width:u.Ba.Qb,"class":"blocklyScrollbarBackground"},null);u.g.j.Qi(this.Dl,a.ae)};u.Qj.prototype.qb=null;u.Qj.prototype.K=function(){u.g.j.removeNode(this.Dl);this.qb=this.s=this.Dl=null;this.Sd.K();this.Sd=null;this.ce.K();this.ce=null};
u.Qj.prototype.resize=function(){var a=this.s.Eb();if(a){var b=!1,d=!1;this.qb&&this.qb.Ya==a.Ya&&this.qb.cb==a.cb&&this.qb.Cb==a.Cb&&this.qb.Bb==a.Bb?(this.qb&&this.qb.zd==a.zd&&this.qb.vb==a.vb&&this.qb.yc==a.yc||(b=!0),this.qb&&this.qb.pd==a.pd&&this.qb.Jb==a.Jb&&this.qb.hc==a.hc||(d=!0)):d=b=!0;b&&this.Sd.resize(a);d&&this.ce.resize(a);this.qb&&this.qb.Ya==a.Ya&&this.qb.Bb==a.Bb||this.Dl.setAttribute("x",this.ce.cd.x);this.qb&&this.qb.cb==a.cb&&this.qb.Cb==a.Cb||this.Dl.setAttribute("y",this.Sd.cd.y);
this.qb=a}};u.Qj.prototype.set=function(a,b){var d={};a*=this.Sd.pc;b*=this.ce.pc;var e=this.ce.ye,f=a/this.Sd.ye;d.x=isNaN(f)?0:f;e=b/e;d.y=isNaN(e)?0:e;this.s.Jg(d);Hh(this.Sd,a);Hh(this.ce,b)};
u.Ba=function(a,b,d,e){this.s=a;this.Fk=d||!1;this.Ni=b;this.qb=null;this.El(e);this.cd=new u.g.T(0,0);a=u.Ba.Qb;b?(this.$d.setAttribute("height",a),this.Rf.setAttribute("height",a),this.$f.setAttribute("height",a-5),this.$f.setAttribute("y",2.5),this.lm="width",this.Gx="x"):(this.$d.setAttribute("width",a),this.Rf.setAttribute("width",a),this.$f.setAttribute("width",a-5),this.$f.setAttribute("x",2.5),this.lm="height",this.Gx="y");this.xx=u.da(this.$d,"mousedown",this,this.XD);this.yx=u.da(this.$f,
"mousedown",this,this.YD)};c=u.Ba.prototype;c.ws=new u.g.T(0,0);c.oy=0;c.ye=0;c.uh=0;c.Zl=0;c.Dh=!0;c.wi=!0;u.Ba.Qb=15;u.Touch.nq&&(u.Ba.Qb=25);u.Ba.zD=function(a,b){return a&&b&&a.Ya==b.Ya&&a.cb==b.cb&&a.vb==b.vb&&a.Jb==b.Jb&&a.Cb==b.Cb&&a.Bb==b.Bb&&a.zd==b.zd&&a.pd==b.pd&&a.yc==b.yc&&a.hc==b.hc?!0:!1};u.Ba.prototype.K=function(){Ih();u.gb(this.xx);this.xx=null;u.gb(this.yx);this.yx=null;u.g.j.removeNode(this.Rf);this.s=this.$f=this.$d=this.D=this.Rf=null};
function Hh(a,b){a.Zl=b;a.$f.setAttribute(a.Gx,a.Zl)}function Jh(a,b){a.ye=b;a.Rf.setAttribute(a.lm,a.ye);a.$d.setAttribute(a.lm,a.ye)}u.Qj.prototype.lj=function(a){this.Sd.lj(a);this.ce.lj(a)};function Kh(a,b,d){a.cd.x=b;a.cd.y=d;u.g.j.Dm(a.Rf,"translate("+(a.cd.x+a.ws.x)+"px,"+(a.cd.y+a.ws.y)+"px)")}c=u.Ba.prototype;c.resize=function(a){if(!a&&(a=this.s.Eb(),!a))return;u.Ba.zD(a,this.qb)||(this.qb=a,this.Ni?Lh(this,a):Mh(this,a),Nh(this))};
function Lh(a,b){var d=b.Ya-1;a.Fk&&(d-=u.Ba.Qb);Jh(a,Math.max(0,d));d=b.Bb+.5;a.Fk&&a.s.C&&(d+=u.Ba.Qb);Kh(a,d,b.Cb+b.cb-u.Ba.Qb-.5);Oh(a,b)}function Oh(a,b){a.Fk||a.Ha(a.ye<b.zd);a.pc=a.ye/b.zd;if(-Infinity==a.pc||Infinity==a.pc||isNaN(a.pc))a.pc=0;a.uh=Math.max(0,b.Ya*a.pc);a.$f.setAttribute(a.lm,a.uh);Hh(a,Ph(a,(b.vb-b.yc)*a.pc))}function Mh(a,b){var d=b.cb-1;a.Fk&&(d-=u.Ba.Qb);Jh(a,Math.max(0,d));d=b.Bb+.5;a.s.C||(d+=b.Ya-u.Ba.Qb-1);Kh(a,d,b.Cb+.5);Qh(a,b)}
function Qh(a,b){a.Fk||a.Ha(a.ye<b.pd);a.pc=a.ye/b.pd;if(-Infinity==a.pc||Infinity==a.pc||isNaN(a.pc))a.pc=0;a.uh=Math.max(0,b.cb*a.pc);a.$f.setAttribute(a.lm,a.uh);Hh(a,Ph(a,(b.Jb-b.hc)*a.pc))}
c.El=function(a){var b="blocklyScrollbar"+(this.Ni?"Horizontal":"Vertical");a&&(b+=" "+a);this.Rf=u.g.j.I("svg",{"class":b},null);this.D=u.g.j.I("g",{},this.Rf);this.$d=u.g.j.I("rect",{"class":"blocklyScrollbarBackground"},this.D);a=Math.floor((u.Ba.Qb-5)/2);this.$f=u.g.j.I("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.D);u.g.j.Qi(this.Rf,z(this.s))};c.isVisible=function(){return this.Dh};c.lj=function(a){var b=a!=this.wi;this.wi=a;b&&this.Ym()};
c.Ha=function(a){var b=a!=this.isVisible();if(this.Fk)throw Error("Unable to toggle visibility of paired scrollbars.");this.Dh=a;b&&this.Ym()};c.Ym=function(){this.wi&&this.isVisible()?this.Rf.setAttribute("display","block"):this.Rf.setAttribute("display","none")};
c.XD=function(a){Ub(this.s);u.Touch.pg();Ih();if(u.g.Ch(a))a.stopPropagation();else{var b=u.g.sm(a,z(this.s),Rh(this.s));b=this.Ni?b.x:b.y;var d=u.g.Ql(this.$f);d=this.Ni?d.x:d.y;var e=this.Zl,f=.95*this.uh;b<=d?e-=f:b>=d+this.uh&&(e+=f);Hh(this,Ph(this,e));Nh(this);a.stopPropagation();a.preventDefault()}};
c.YD=function(a){Ub(this.s);Ih();u.g.Ch(a)?a.stopPropagation():(this.HE=this.Zl,Ob(this.s),this.oy=this.Ni?a.clientX:a.clientY,u.Ba.ad=u.da(document,"mouseup",this,this.cE),u.Ba.xe=u.da(document,"mousemove",this,this.ZD),a.stopPropagation(),a.preventDefault())};c.ZD=function(a){Hh(this,Ph(this,this.HE+((this.Ni?a.clientX:a.clientY)-this.oy)));Nh(this)};c.cE=function(){Vb(this.s);u.Touch.pg();Ih()};function Ih(){u.lc(!0);u.Ba.ad&&(u.gb(u.Ba.ad),u.Ba.ad=null);u.Ba.xe&&(u.gb(u.Ba.xe),u.Ba.xe=null)}
function Ph(a,b){return b=0>=b||isNaN(b)||a.ye<a.uh?0:Math.min(b,a.ye-a.uh)}function Nh(a){var b=a.Zl/a.ye;isNaN(b)&&(b=0);var d={};a.Ni?d.x=b:d.y=b;a.s.Jg(d)}c.set=function(a){Hh(this,Ph(this,a*this.pc));Nh(this)};u.Md=function(a,b){u.Md.A.constructor.call(this,a,b);this.Qo=!1;this.ne={};this.ny=this.ym=0;this.vs=null};n(u.Md,u.Gj);u.Md.KA=5;u.Md.LA=6;c=u.Md.prototype;c.ar=function(a){u.Md.A.ar.call(this,a);!this.Po&&u.Touch.To(a)&&Sh(this,a)};c.Xj=function(a){this.vs=u.da(document,"mousedown",null,this.PC.bind(this),!0);this.hp=u.da(document,"mousemove",null,this.Yl.bind(this),!0);this.Ek=u.da(document,"mouseup",null,this.Go.bind(this),!0);a.preventDefault();a.stopPropagation()};
c.PC=function(a){!this.Fc()&&u.Touch.To(a)&&(Sh(this,a),this.Qo&&u.Fh())};c.Yl=function(a){if(this.Fc())u.Touch.ht(a)&&u.Md.A.Yl.call(this,a);else if(this.Qo){if(u.Touch.To(a)){this.ne[u.Touch.Eo(a)]=Th(this,a);var b=Object.keys(this.ne);if(2==b.length){b=u.g.T.Xv(this.ne[b[0]],this.ne[b[1]])/this.ny;if(0<this.ym&&Infinity>this.ym){var d=b-this.ym;d=0<d?d*u.Md.KA:d*u.Md.LA;var e=this.ec,f=u.g.sm(a,z(e),Rh(e));e.zoom(f.x,f.y,d)}this.ym=b;a.preventDefault()}}u.Fh()}else u.Md.A.Yl.call(this,a)};
c.Go=function(a){if(u.Touch.To(a)&&!this.Fc()){var b=u.Touch.Eo(a);this.ne[b]&&delete this.ne[b];2>Object.keys(this.ne).length&&(this.ne={},this.ym=0)}!this.Qo||this.Fc()?u.Touch.ht(a)&&u.Md.A.Go.call(this,a):(a.preventDefault(),a.stopPropagation(),this.K())};c.K=function(){u.Md.A.K.call(this);this.vs&&u.gb(this.vs)};function Sh(a,b){a.ne[u.Touch.Eo(b)]=Th(a,b);var d=Object.keys(a.ne);2==d.length&&(a.ny=u.g.T.Xv(a.ne[d[0]],a.ne[d[1]]),a.Qo=!0,b.preventDefault())}
function Th(a,b){return a.ec?new u.g.T(b.pageX?b.pageX:b.changedTouches[0].pageX,b.pageY?b.pageY:b.changedTouches[0].pageY):null};u.Eu=function(a){this.s=a;this.Ir=!1;this.ak=[];0>=this.s.options.Ck||(a={scrollbars:!0,rg:this.s.options.rg,bd:this.s,C:this.s.C,Jh:this.s.options.Jh},this.s.Bd?(a.ua=this.s.ua==u.nd?u.dh:u.nd,this.P=new u.Hj(a)):(a.ua=this.s.ua==u.ig?u.yd:u.ig,this.P=new u.Tj(a)),this.s.Qc(Uh(this)))};c=u.Eu.prototype;c.ti=47;c.cn=44;c.Jj=16;c.Zp=20;c.gl=20;c.vn=10;c.fq=0;c.gq=32;c.zz=.1;c.xk=!1;c.ap=0;c.D=null;c.xp=null;c.hs=0;c.Eh=0;c.km=0;c.Sk=0;
c.ka=function(){this.D=u.g.j.I("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=u.g.j.I("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.D);u.g.j.I("rect",{width:this.ti,height:this.cn,y:this.Jj},b);var d=u.g.j.I("image",{width:u.md.width,x:-this.fq,height:u.md.height,y:-this.gq,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.D);d.setAttributeNS(u.g.j.ta,"xlink:href",this.s.options.bf+u.md.url);b=u.g.j.I("clipPath",{id:"blocklyTrashLidClipPath"+a},this.D);
u.g.j.I("rect",{width:this.ti,height:this.Jj},b);this.xp=u.g.j.I("image",{width:u.md.width,x:-this.fq,height:u.md.height,y:-this.gq,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.D);this.xp.setAttributeNS(u.g.j.ta,"xlink:href",this.s.options.bf+u.md.url);u.da(this.D,"mouseup",this,this.click);u.wc(d,"mouseover",this,this.CD);u.wc(d,"mouseout",this,this.BD);this.sq();return this.D};
c.za=function(a){0<this.s.options.Ck&&(u.g.j.Qi(this.P.ka("svg"),z(this.s)),this.P.za(this.s),this.P.Rw=function(){return!0});this.Sg=this.Zp+a;nb(this,!1);return this.Sg+this.cn+this.Jj};c.K=function(){this.D&&(u.g.j.removeNode(this.D),this.D=null);this.s=this.xp=null;clearTimeout(this.hs)};
c.position=function(){if(this.Sg){var a=this.s.Eb();a&&(this.km=a.ua==u.yd||this.s.Bd&&!this.s.C?a.Ya+a.Bb-this.ti-this.gl-u.Ba.Qb:this.gl+u.Ba.Qb,this.Sk=a.ua==u.dh?this.Sg:a.cb+a.Cb-(this.cn+this.Jj)-this.Sg,this.D.setAttribute("transform","translate("+this.km+","+this.Sk+")"))}};c.gk=function(){if(!this.D)return null;var a=this.D.getBoundingClientRect(),b=a.top+this.gq-this.vn;a=a.left+this.fq-this.vn;return new u.g.Rect(b,b+this.Jj+this.cn+2*this.vn,a,a+this.ti+2*this.vn)};
function nb(a,b){a.xk!=b&&(clearTimeout(a.hs),a.xk=b,a.sq())}c.sq=function(){this.Eh+=this.xk?.2:-.2;this.Eh=Math.min(Math.max(this.Eh,this.ap),1);Vh(this,45*this.Eh);this.D.style.opacity=.4+.4*this.Eh;this.Eh>this.ap&&1>this.Eh&&(this.hs=setTimeout(this.sq.bind(this),20))};function Vh(a,b){var d=a.s.ua==u.ig||a.s.Bd&&a.s.C;a.xp.setAttribute("transform","rotate("+(d?-b:b)+","+(d?4:a.ti-4)+","+(a.Jj-2)+")")}c.close=function(){nb(this,!1)};
c.click=function(){if(this.Ir){for(var a=[],b=0,d;d=this.ak[b];b++)a[b]=u.S.Ng(d);this.P.show(a)}};c.CD=function(){this.Ir&&nb(this,!0)};c.BD=function(){nb(this,!1)};
function Uh(a){return function(b){if(!(0>=a.s.options.Ck)&&b.type==u.i.Xy&&"shadow"!=b.ts.tagName.toLowerCase()){for(var d=b=b.ts.cloneNode(!0);d;){d.removeAttribute&&(d.removeAttribute("x"),d.removeAttribute("y"),d.removeAttribute("id"));var e=d.firstChild||d.nextSibling;if(!e)for(e=d.parentNode;e;){if(e.nextSibling){e=e.nextSibling;break}e=e.parentNode}d=e}b=u.S.Vc(b);-1==a.ak.indexOf(b)&&(a.ak.unshift(b),a.ak.length>a.s.options.Ck&&a.ak.splice(a.s.options.Ck,a.ak.length-a.s.options.Ck),a.Ir=!0,
a.ap=a.zz,Vh(a,45*a.ap))}}};u.Sj=function(a,b,d,e){this.B=a;this.name=b;this.type=d||"";this.tk=e||u.g.Gf();u.i.ma(new u.i.ie(this))};u.Sj.prototype.Ka=function(){return this.tk};u.Sj.Kq=function(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};u.aa={};u.aa.Lj=u.Gu;u.aa.Ru=function(a){var b=B(a,!1);a=Object.create(null);for(var d=0;d<b.length;d++){var e=Pa(b[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.Ka();k&&(a[k]=g)}}b=[];for(k in a)b.push(a[k]);return b};u.aa.VF=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};u.aa.wt={};
u.aa.PA=function(a){a=B(a,!1);for(var b=Object.create(null),d=0,e;e=a[d];d++){var f=e.mG;!f&&e.tC&&(f=e.tC,u.aa.wt[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),u.aa.wt[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)b[e[f]]=!0}return Object.keys(b)};
u.aa.ph=function(a){var b=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Wh(a,"CREATE_VARIABLE",function(e){u.aa.bk(e.Ia)});b.push(d);a=u.aa.pr(a);return b=b.concat(a)};
u.aa.pr=function(a){a=a.Ul("");var b=[];if(0<a.length){var d=a[a.length-1];if(u.jb.variables_set){var e=u.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",u.jb.math_change?8:24);e.appendChild(u.aa.Pl(d));b.push(e)}u.jb.math_change&&(e=u.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",u.jb.variables_get?20:8),e.appendChild(u.aa.Pl(d)),d=u.S.Ng('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),b.push(e));if(u.jb.variables_get){a.sort(u.Sj.Kq);d=0;for(var f;f=a[d];d++)e=u.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(u.aa.Pl(f)),b.push(e)}}return b};
u.aa.mC=function(a){a=a.vg();var b="";if(a.length)for(var d=1,e=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(e);!b;){for(var g=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){g=!0;break}g?(e++,25==e&&(e=0,d++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(e),1<d&&(f+=d)):b=f}else b="i";return b};
u.aa.bk=function(a,b,d){function e(g){u.aa.Nx(u.h.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=u.aa.GD(k,a);if(l){var m=k.toLowerCase();if(l.type==f)var p=u.h.VARIABLE_ALREADY_EXISTS.replace("%1",m);else p=u.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,p=p.replace("%1",m).replace("%2",l.type);u.alert(p,function(){e(k)})}else a.oe(k,f),b&&b(k)}else b&&b(null)})}var f=d||"";e("")};ma("Blockly.Variables.createVariableButtonHandler",u.aa.bk);u.aa.oe=u.aa.bk;ma("Blockly.Variables.createVariable",u.aa.oe);
u.aa.Ls=function(a,b){function d(e){var f=u.h.RENAME_VARIABLE_TITLE.replace("%1",b.name);u.aa.Nx(f,e,function(g){if(g){var k=u.aa.HD(g,b.type,a);k?(k=u.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",g.toLowerCase()).replace("%2",k.type),u.alert(k,function(){d(g)})):a.jj(b.Ka(),g)}})}d("")};u.aa.Nx=function(a,b,d){u.prompt(a,b,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==u.h.RENAME_VARIABLE||e==u.h.NEW_VARIABLE)&&(e=null);d(e)})};
u.aa.HD=function(a,b,d){d=d.La.vg();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=b)return f;return null};u.aa.GD=function(a,b){b=b.La.vg();a=a.toLowerCase();for(var d=0,e;e=b[d];d++)if(e.name.toLowerCase()==a)return e;return null};u.aa.Pl=function(a){var b=u.g.xml.createElement("field");b.setAttribute("name","VAR");b.setAttribute("id",a.Ka());b.setAttribute("variabletype",a.type);b.appendChild(u.g.xml.createTextNode(a.name));return b};
u.aa.rw=function(a,b,d,e){var f=u.aa.Te(a,b,d,e);f||(f=u.aa.BB(a,b,d,e));return f};u.aa.Te=function(a,b,d,e){var f=a.Lh;if(b){var g=a.zg(b);!g&&f&&(g=f.zg(b));if(g)return g}if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.Te(d,e);!g&&f&&(g=f.Te(d,e))}return g};u.aa.BB=function(a,b,d,e){var f=a.Lh;d||(d=u.aa.mC(a.Ye?a.tj:a));return f?f.oe(d,e,b):a.oe(d,e,b)};
u.aa.lw=function(a,b){a=a.vg();var d=[];if(b.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==b.indexOf(f)&&d.push(f)}return d};u.je={};u.je.QD=function(a){u.aa.bk(a.Ia,null,"String")};u.je.PD=function(a){u.aa.bk(a.Ia,null,"Number")};u.je.OD=function(a){u.aa.bk(a.Ia,null,"Colour")};
u.je.ph=function(a){var b=[],d=document.createElement("button");d.setAttribute("text",u.h.NEW_STRING_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(d);d=document.createElement("button");d.setAttribute("text",u.h.NEW_NUMBER_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(d);d=document.createElement("button");d.setAttribute("text",u.h.NEW_COLOUR_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");b.push(d);Wh(a,"CREATE_VARIABLE_STRING",u.je.QD);
Wh(a,"CREATE_VARIABLE_NUMBER",u.je.PD);Wh(a,"CREATE_VARIABLE_COLOUR",u.je.OD);a=u.je.pr(a);return b=b.concat(a)};
u.je.pr=function(a){a=a.vg();var b=[];if(0<a.length){if(u.jb.variables_set_dynamic){var d=a[a.length-1],e=u.g.xml.createElement("block");e.setAttribute("type","variables_set_dynamic");e.setAttribute("gap",24);e.appendChild(u.aa.Pl(d));b.push(e)}if(u.jb.variables_get_dynamic){a.sort(u.Sj.Kq);d=0;for(var f;f=a[d];d++)e=u.g.xml.createElement("block"),e.setAttribute("type","variables_get_dynamic"),e.setAttribute("gap",8),e.appendChild(u.aa.Pl(f)),b.push(e)}}return b};u.Mu=function(a){this.zs=a;this.ll=Object.create(null)};c=u.Mu.prototype;c.es=null;c.K=function(){this.ll=this.zs=null};c.load=function(a,b){if(a.length){try{var d=new u.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new u.g.global.Audio(g);break}}e&&e.play&&(this.ll[b]=e)}};
c.preload=function(){for(var a in this.ll){var b=this.ll[a];b.volume=.01;var d=b.play();void 0!==d?d.then(b.pause).catch(function(){}):b.pause();if(u.g.userAgent.gi||u.g.userAgent.Wt)break}};c.play=function(a,b){var d=this.ll[a];d?(a=new Date,null!=this.es&&a-this.es<u.mA||(this.es=a,d=u.g.userAgent.gi||u.g.userAgent.Cj?d:d.cloneNode(),d.volume=void 0===b?1:b,d.play())):this.zs&&this.zs.wb.play(a,b)};u.ja.qa={};u.ja.vc=8;u.ja.dn=3;u.ja.xA=2;u.ja.nl=10;c=u.ja.prototype;c.Db=function(){return{width:this.Yc(),height:this.ik()}};
c.qa=function(){if(!this.kj){var a=this.Db();this.Fl();this.D.appendChild(this.Pd);this.rj=u.g.j.I("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.D.appendChild(this.rj);this.Vh=u.g.j.I("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:u.ja.dn,ry:u.ja.dn});this.D.appendChild(this.Vh);this.cc=u.g.j.I("g",{"class":this.C?"blocklyResizeSW":"blocklyResizeSE"},this.D);u.g.j.I("polygon",{points:"0,x x,x x,0".replace(/x/g,u.ja.vc.toString())},this.cc);u.g.j.I("line",{"class":"blocklyResizeLine",
x1:u.ja.vc/3,y1:u.ja.vc-1,x2:u.ja.vc-1,y2:u.ja.vc/3},this.cc);u.g.j.I("line",{"class":"blocklyResizeLine",x1:2*u.ja.vc/3,y1:u.ja.vc-1,x2:u.ja.vc-1,y2:2*u.ja.vc/3},this.cc);this.Ec()&&(this.lh=u.g.j.I("g",{"class":"blocklyCommentDeleteIcon"},this.D),this.Pv=u.g.j.I("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.lh),u.g.j.I("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.lh),u.g.j.I("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},
this.lh));Xh(this,a.width,a.height);this.Ib.value=this.ic;this.kj=!0;this.cc&&u.da(this.cc,"mousedown",this,this.Ns);this.Ec()&&(u.da(this.lh,"mousedown",this,this.OB),u.da(this.lh,"mouseout",this,this.PB),u.da(this.lh,"mouseup",this,this.QB))}};
c.Fl=function(){this.Pd=u.g.j.I("foreignObject",{x:0,y:u.ja.nl,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(u.g.j.rf,"body");a.setAttribute("xmlns",u.g.j.rf);a.className="blocklyMinimalBody";var b=document.createElementNS(u.g.j.rf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.C?"RTL":"LTR");a.appendChild(b);this.Ib=b;this.Pd.appendChild(a);u.da(b,"wheel",this,function(d){d.stopPropagation()});u.da(b,"change",this,function(){this.Uf(b.value)});
return this.Pd};c.Ns=function(a){this.Uk();u.g.Ch(a)||(this.B.vp(a,new u.g.T(this.B.C?-this.va:this.va,this.Pa)),this.ad=u.da(document,"mouseup",this,this.tE),this.xe=u.da(document,"mousemove",this,this.Os),u.lc());a.stopPropagation()};c.OB=function(a){u.g.j.fb(this.Pv,"blocklyDeleteIconHighlighted");a.stopPropagation()};c.PB=function(){u.g.j.Gb(this.Pv,"blocklyDeleteIconHighlighted")};c.QB=function(a){this.K(!0,!0);a.stopPropagation()};
c.Uk=function(){this.ad&&(u.gb(this.ad),this.ad=null);this.xe&&(u.gb(this.xe),this.xe=null)};c.tE=function(){u.Touch.pg();this.Uk()};c.Os=function(a){this.In=!1;a=Hb(this.B,a);Xh(this,this.C?-a.x:a.x,a.y)};
function Xh(a,b,d){b=Math.max(b,45);d=Math.max(d,20+u.ja.nl);a.va=b;a.Pa=d;a.Qm.setAttribute("width",b);a.Qm.setAttribute("height",d);a.Vh.setAttribute("width",b);a.Vh.setAttribute("height",d);a.rj.setAttribute("width",b);a.rj.setAttribute("height",u.ja.nl);a.C&&(a.Qm.setAttribute("transform","scale(-1 1)"),a.Vh.setAttribute("transform","scale(-1 1)"));a.cc&&(a.C?(a.cc.setAttribute("transform","translate("+(-b+u.ja.vc)+","+(d-u.ja.vc)+") scale(-1 1)"),a.lh.setAttribute("transform","translate("+(-b+
u.ja.vc)+","+-u.ja.vc+") scale(-1 1)")):(a.cc.setAttribute("transform","translate("+(b-u.ja.vc)+","+(d-u.ja.vc)+")"),a.lh.setAttribute("transform","translate("+(b-u.ja.vc)+","+-u.ja.vc+")")));b=a.Db();d=2*u.ja.xA;a.Pd.setAttribute("width",b.width);a.Pd.setAttribute("height",b.height-u.ja.nl);a.C&&a.Pd.setAttribute("x",-b.width);a.Ib.style.width=b.width-d+"px";a.Ib.style.height=b.height-d-u.ja.nl+"px"}
c.bt=function(){var a=this;this.Ol=!0;setTimeout(function(){a.sg||(a.Ib.focus(),u.g.j.fb(a.D,"blocklyFocused"),u.g.j.fb(a.Vh,"blocklyCommentTargetFocused"),u.g.j.fb(a.rj,"blocklyCommentHandleTargetFocused"))},0)};function Kb(a){a.Ol=!1;setTimeout(function(){a.sg||(a.Ib.blur(),u.g.j.Gb(a.D,"blocklyFocused"),u.g.j.Gb(a.Vh,"blocklyCommentTargetFocused"),u.g.j.Gb(a.rj,"blocklyCommentHandleTargetFocused"))},0)};u.Nu=function(a){this.Cl=a;this.ka()};c=u.Nu.prototype;c.ib=null;c.pe=null;c.Cl=null;c.ka=function(){this.ib||(this.ib=u.g.j.I("svg",{xmlns:u.g.j.fa,"xmlns:html":u.g.j.rf,"xmlns:xlink":u.g.j.ta,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Cl.appendChild(this.ib))};c.Og=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.ib.style.display="block";u.g.j.Dm(this.ib,"translate3d("+a+"px, "+b+"px, 0px)")};c.Co=function(){return u.g.Rd(this.ib)};
c.xl=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.ib.childNodes[0],d=this.ib.childNodes[1];if(!(b&&d&&u.g.j.Dw(b,"blocklyBlockCanvas")&&u.g.j.Dw(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.cf?u.g.j.Qi(b,this.cf):a.insertBefore(b,a.firstChild);u.g.j.Qi(d,b);this.ib.style.display="none";if(this.ib.childNodes.length)throw Error("Drag surface was not cleared.");u.g.j.Dm(this.ib,
"");this.cf=null};
u.Ou=function(a){this.s=a};c=u.Ou.prototype;c.ti=32;c.Tt=110;c.Zp=20;c.gl=20;c.D=null;c.km=0;c.Sk=0;c.ka=function(){this.D=u.g.j.I("g",{},null);var a=String(Math.random()).substring(2);Yh(this,a);Zh(this,a);this.s.mc()&&$h(this,a);return this.D};c.za=function(a){this.Sg=this.Zp+a;return this.Sg+this.Tt};c.K=function(){this.D&&(u.g.j.removeNode(this.D),this.D=null);this.s=null};
c.position=function(){if(this.Sg){var a=this.s.Eb();a&&(this.km=a.ua==u.yd||this.s.Bd&&!this.s.C?a.Ya+a.Bb-this.ti-this.gl-u.Ba.Qb:this.gl+u.Ba.Qb,a.ua==u.dh?(this.Sk=this.Sg,this.Dp.setAttribute("transform","translate(0, 34)"),this.Ep&&this.Ep.setAttribute("transform","translate(0, 77)")):(this.Sk=a.cb+a.Cb-this.Tt-this.Sg,this.Dp.setAttribute("transform","translate(0, 43)"),this.vt.setAttribute("transform","translate(0, 77)")),this.D.setAttribute("transform","translate("+this.km+","+this.Sk+")"))}};
function Yh(a,b){var d=a.s;a.vt=u.g.j.I("g",{"class":"blocklyZoom"},a.D);var e=u.g.j.I("clipPath",{id:"blocklyZoomoutClipPath"+b},a.vt);u.g.j.I("rect",{width:32,height:32},e);a=u.g.j.I("image",{width:u.md.width,height:u.md.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},a.vt);a.setAttributeNS(u.g.j.ta,"xlink:href",d.options.bf+u.md.url);u.da(a,"mousedown",null,function(f){Ub(d);ai(d,-1);u.Touch.pg();f.stopPropagation();f.preventDefault()})}
function Zh(a,b){var d=a.s;a.Dp=u.g.j.I("g",{"class":"blocklyZoom"},a.D);var e=u.g.j.I("clipPath",{id:"blocklyZoominClipPath"+b},a.Dp);u.g.j.I("rect",{width:32,height:32},e);a=u.g.j.I("image",{width:u.md.width,height:u.md.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+b+")"},a.Dp);a.setAttributeNS(u.g.j.ta,"xlink:href",d.options.bf+u.md.url);u.da(a,"mousedown",null,function(f){Ub(d);ai(d,1);u.Touch.pg();f.stopPropagation();f.preventDefault()})}
function $h(a,b){var d=a.s;a.Ep=u.g.j.I("g",{"class":"blocklyZoom"},a.D);var e=u.g.j.I("clipPath",{id:"blocklyZoomresetClipPath"+b},a.Ep);u.g.j.I("rect",{width:32,height:32},e);a=u.g.j.I("image",{width:u.md.width,height:u.md.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},a.Ep);a.setAttributeNS(u.g.j.ta,"xlink:href",d.options.bf+u.md.url);u.da(a,"mousedown",null,function(f){Ub(d);d.setScale(d.options.lb.py);bi(d);ci(d);setTimeout(function(){u.g.j.Gb(d.ab,"blocklyCanvasTransitioning");
u.g.j.Gb(d.ae,"blocklyCanvasTransitioning")},500);u.Touch.pg();f.stopPropagation();f.preventDefault()})};
u.Za=function(a,b,d){u.Za.A.constructor.call(this,a);this.Eb=a.Eb||u.Za.AC;this.Jg=a.Jg||u.Za.BE;this.Al=u.Ej.za();b&&(this.Nb=b);d&&(this.yj=d);this.zp=this.yj&&u.g.zh();this.am=[];this.wb=new u.Mu(a.bd);this.te=this.options.zw?new u.fi(a.zw,a.yw):null;u.aa&&u.aa.ph&&di(this,u.Gu,u.aa.ph);u.je&&u.je.ph&&di(this,u.FA,u.je.ph);u.Ab&&u.Ab.ph&&di(this,u.pu,u.Ab.ph)};n(u.Za,u.Sa);c=u.Za.prototype;c.sp=null;c.ha=!0;c.Dh=!0;c.Ye=!1;c.Ti=!1;c.Ps=!0;c.scrollX=0;c.scrollY=0;c.$v=null;c.scale=1;c.Ic=null;
c.yb=null;c.P=null;c.ia=null;c.Pb=null;c.Nb=null;c.yj=null;c.zp=!1;c.Oo=!1;c.Ur=null;c.Yw=null;c.nr={};c.pt={};c.ov=null;c.tj=null;c.Qw=null;c.Xr=!0;c.vv=function(){return new u.Wa(this)};c.wv=function(){return new u.Wa(this,!0)};function Rh(a){if(a.Xr){var b=z(a).getScreenCTM();b&&(a.Qw=b.inverse(),a.Xr=!1)}return a.Qw}c.Zm=function(){this.Xr=!0};c.isVisible=function(){return this.Dh};
function Ja(a,b){var d=0,e=0,f=1;if(u.g.j.containsNode(a.ab,b)||u.g.j.containsNode(a.ae,b))f=a.scale;do{var g=u.g.Rd(b);if(b==a.ab||b==a.ae)f=1;d+=g.x*f;e+=g.y*f;b=b.parentNode}while(b&&b!=z(a));return new u.g.T(d,e)}function Ca(a){if(!a.Ur)for(var b=a.D;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Ur=b;break}b=b.parentNode}return a.Ur}
c.ka=function(a){this.D=u.g.j.I("g",{"class":"blocklyWorkspace"},null);a&&(this.$d=u.g.j.I("rect",{height:"100%",width:"100%","class":a},this.D),"blocklyMainBackground"==a&&this.te&&(this.$d.style.fill="url(#"+this.te.kk.id+")"));this.ab=u.g.j.I("g",{"class":"blocklyBlockCanvas"},this.D);this.ae=u.g.j.I("g",{"class":"blocklyBubbleCanvas"},this.D);this.Ye||(u.da(this.D,"mousedown",this,this.Ih,!1,!0),u.da(this.D,"wheel",this,this.eE));this.options.Cw&&(this.ia=new u.Lb(this));this.te&&this.te.update(this.scale);
ei(this);a=this.cursor.ka();this.D.appendChild(a);a=this.Xo.ka();this.D.appendChild(a);return this.D};
c.K=function(){this.ha=!1;this.Pb&&this.Pb.cancel();u.Za.A.K.call(this);this.D&&(u.g.j.removeNode(this.D),this.D=null);this.ae=this.ab=null;this.ia&&(this.ia.K(),this.ia=null);this.P&&(this.P.K(),this.P=null);this.Ic&&(this.Ic.K(),this.Ic=null);this.yb&&(this.yb.K(),this.yb=null);this.Aj&&(this.Aj.K(),this.Aj=null);this.Xo&&this.Xo.K();this.cursor&&this.cursor.K();this.wb&&(this.wb.K(),this.wb=null);this.te&&(this.te.K(),this.te=null);this.nr=this.pt=this.Al=null;if(!this.options.bd){var a=z(this).parentNode;
a&&u.g.j.removeNode(a)}this.sp&&(u.gb(this.sp),this.sp=null)};c.ep=function(a,b){return new u.o(this,a,b)};function fi(a){a.Ic=new u.Eu(a);var b=a.Ic.ka();a.D.insertBefore(b,a.ab)}function gi(a){a.Aj=new u.Ou(a);var b=a.Aj.ka();a.D.appendChild(b)}function hi(a,b){var d={rg:a.options.rg,bd:a,C:a.C,Jh:a.options.Jh,Bd:a.Bd,ua:a.options.ua};a.P=a.Bd?new u.Hj(d):new u.Tj(d);a.P.Wj=!1;return a.P.ka(b)}function ii(a){return a.P?a.P:a.ia?a.ia.P:null}
function Oa(a){if(a.Ps&&a.ha){if(a.yb){var b=a.Eb();Oh(a.yb.Sd,b);Qh(a.yb.ce,b)}a.Zm()}}c.resize=function(){this.ia&&this.ia.position();this.P&&this.P.position();this.Ic&&this.Ic.position();this.Aj&&this.Aj.position();this.yb&&this.yb.resize();this.Zm();ei(this)};function Rb(a){var b=u.g.wr();u.g.T.Qe(a.Yw,b)||(a.Yw=b,a.Zm(),ei(a))}function z(a){if(a.Xu)return a.Xu;for(var b=a.D;b;){if("svg"==b.tagName)return a.Xu=b;b=b.parentNode}return null}
c.translate=function(a,b){if(this.zp&&this.Oo)this.yj.Og(a,b);else{var d="translate("+a+","+b+") scale("+this.scale+")";this.ab.setAttribute("transform",d);this.ae.setAttribute("transform",d)}if(this.Nb){d=this.Nb;var e=this.scale;d.Ph=e;d.pe.setAttribute("transform","translate("+a.toFixed(0)+","+b.toFixed(0)+") scale("+e+")")}this.te&&this.te.moveTo(a,b)};
function Vb(a){if(a.zp){a.Oo=!1;var b=a.yj.Co();a.yj.xl(a.D);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.ab.setAttribute("transform",b);a.ae.setAttribute("transform",b)}}
function Ob(a){if(a.zp&&!a.Oo){a.Oo=!0;var b=a.ab.previousSibling,d=parseInt(z(a).getAttribute("width"),10),e=parseInt(z(a).getAttribute("height"),10),f=u.g.Rd(a.ab),g=a.yj,k=a.ab,l=a.ae,m=a.scale;if(g.ib.childNodes.length)throw Error("Already dragging a block.");g.cf=b;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.ib.setAttribute("width",d);g.ib.setAttribute("height",e);g.ib.appendChild(k);g.ib.appendChild(l);g.ib.style.display=
"block";a.yj.Og(f.x,f.y)}}c.Yc=function(){var a=this.Eb();return a?a.Ya/this.scale:0};c.Ha=function(a){this.yb&&this.yb.lj(a);ii(this)&&ii(this).lj(a);z(this).style.display=a?"block":"none";this.ia&&(this.ia.kd.style.display=a?"block":"none");a?(this.qa(),this.ia&&this.ia.position()):u.lc(!0);this.Dh=a};c.qa=function(){for(var a=B(this,!1),b=a.length-1;0<=b;b--)a[b].qa(!1);if(this.Pb)for(a=this.Pb.jk(),b=0;b<a.length;b++)a[b].qa(!1)};
function ji(a,b){var d=H;if(void 0===b){for(var e=0,f;f=d.am[e];e++)f.Gd(!1);d.am.length=0}if(f=a?Da(d,a):null)(a=void 0===b||b)?-1==d.am.indexOf(f)&&d.am.push(f):u.g.tl(d.am,f),f.Gd(a)}
function ki(a){var b=u.yl;if(a.ha&&!(b.getElementsByTagName("block").length>=zb(a)))if(a.Pb&&a.Pb.cancel(),"comment"==b.tagName.toLowerCase()){u.i.disable();try{var d=u.ja.Ei(b,a),e=parseInt(b.getAttribute("x"),10),f=parseInt(b.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.C&&(e=-e),d.moveBy(e+50,f+50))}finally{u.i.enable()}d.select()}else a:{u.i.disable();try{var g=u.S.dk(b,a),k=u.v.Gh.xb;if(u.Ui&&k){u.v.Pw(g,k.ra);break a}var l=parseInt(b.getAttribute("x"),10),m=parseInt(b.getAttribute("y"),10);
if(!isNaN(l)&&!isNaN(m)){a.C&&(l=-l);do{b=!1;var p=B(a,!1);d=0;for(var r;r=p[d];d++){var t=r.Fa();if(1>=Math.abs(l-t.x)&&1>=Math.abs(m-t.y)){b=!0;break}}if(!b){var v=g.re(!1);d=0;for(var q;q=v[d];d++)if(q.closest(u.Pc,new u.g.T(l,m)).connection){b=!0;break}}b&&(l=a.C?l-u.Pc:l+u.Pc,m+=2*u.Pc)}while(b);g.moveBy(l,m)}}finally{u.i.enable()}u.i.isEnabled()&&!g.bb&&u.i.ma(new u.i.hn(g));g.select()}}function li(a){if((a=a.Ye?a.tj:a)&&!a.Pb&&a.ia&&a.ia.P){a=a.ia;var b=a.Jc.dd;b&&b.vf&&a.P.show(b.vf)}}
c.jj=function(a,b){u.Za.A.jj.call(this,a,b);li(this)};c.Bi=function(a){u.Za.A.Bi.call(this,a);li(this)};c.oe=function(a,b,d){a=u.Za.A.oe.call(this,a,b,d);li(this);return a};function ei(a){a.Ov=a.Ic&&a.D.parentNode?a.Ic.gk():null;a.Nv=a.P?a.P.gk():a.ia?a.ia.gk():null}function mb(a,b){return a.Ov&&a.Ov.contains(b.clientX,b.clientY)?u.Np:a.Nv&&a.Nv.contains(b.clientX,b.clientY)?u.Pt:u.Ot}c.Ih=function(a){var b=this.If(a);b&&Yb(b,a,this)};
c.vp=function(a,b){a=u.g.sm(a,z(this),Rh(this));a.x/=this.scale;a.y/=this.scale;this.$v=u.g.T.Jl(b,a)};function Hb(a,b){b=u.g.sm(b,z(a),Rh(a));b.x/=a.scale;b.y/=a.scale;return u.g.T.sum(a.$v,b)}c.Fc=function(){return null!=this.Pb&&this.Pb.Fc()};function mi(a){return a.options.oc&&a.options.oc.scrollbars||a.options.oc&&a.options.oc.xj||a.options.oc&&a.options.oc.oh||a.options.lb&&a.options.lb.controls||a.options.lb&&a.options.lb.xj}
c.mc=function(){return this.options.oc&&this.options.oc.scrollbars||this.options.oc&&this.options.oc.xj||this.options.oc&&this.options.oc.oh||this.options.lb&&this.options.lb.xj};
c.eE=function(a){if(u.Gj.Sr())a.preventDefault(),a.stopPropagation();else{var b=this.options.lb&&this.options.lb.xj,d=this.options.oc&&this.options.oc.xj;if(b||d){var e=u.g.Ar(a);!b||!a.ctrlKey&&d?(b=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(b=this.scrollX-e.y,d=this.scrollY),this.scroll(b,d)):(e=-e.y/50,b=u.g.sm(a,z(this),Rh(this)),this.zoom(b.x,b.y,e));a.preventDefault()}}};
function La(a){var b=A(a,!1);a=Ka(a,!1);b=b.concat(a);if(!b.length)return new u.g.Rect(0,0,0,0);a=b[0].po();for(var d=1;d<b.length;d++){var e=b[d].po();e.top<a.top&&(a.top=e.top);e.bottom>a.bottom&&(a.bottom=e.bottom);e.left<a.left&&(a.left=e.left);e.right>a.right&&(a.right=e.right)}return a}c.pB=function(){this.rc(!1);u.i.ea(!0);for(var a=A(this,!0),b=0,d=0,e;e=a[d];d++)if(e.mc()){var f=e.Fa();e.moveBy(-f.x,b-f.y);ni(e);b=e.Fa().y+e.Db().height+u.o.hl}u.i.ea(!1);this.rc(!0)};
c.Nk=function(a){function b(q){if(q.Ec())v=v.concat(Ba(q,!1));else{q=q.wg(!1);for(var y=0;y<q.length;y++)b(q[y])}}function d(){u.i.ea(g);var q=v.shift();q&&(q.B?(q.K(!1,!0),setTimeout(d,10)):d());u.i.ea(!1)}if(!this.options.readOnly&&!this.Ye){var e=[],f=A(this,!0),g=u.g.Gf(),k=this,l={};l.text=u.h.UNDO;l.enabled=0<this.uj.length;l.gc=this.rt.bind(this,!1);e.push(l);l={};l.text=u.h.REDO;l.enabled=0<this.Am.length;l.gc=this.rt.bind(this,!0);e.push(l);this.mc()&&(l={},l.text=u.h.CLEAN_UP,l.enabled=
1<f.length,l.gc=this.pB.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,p=0;p<f.length;p++)for(var r=f[p];r;)r.isCollapsed()?l=!0:m=!0,r=w(r);var t=function(q){for(var y=0,J=0;J<f.length;J++)for(var Q=f[J];Q;)setTimeout(Q.Rh.bind(Q,q),y),Q=w(Q),y+=10};m={enabled:m};m.text=u.h.COLLAPSE_ALL;m.gc=function(){t(!0)};e.push(m);l={enabled:l};l.text=u.h.EXPAND_ALL;l.gc=function(){t(!1)};e.push(l)}var v=[];for(p=0;p<f.length;p++)b(f[p]);l={text:1==v.length?u.h.DELETE_BLOCK:u.h.DELETE_X_BLOCKS.replace("%1",
String(v.length)),enabled:0<v.length,gc:function(){k.Pb&&k.Pb.cancel();2>v.length?d():u.confirm(u.h.DELETE_ALL_BLOCKS.replace("%1",v.length),function(q){q&&d()})}};e.push(l);this.ov&&this.ov(e);u.ya.show(a,e,this.C)}};
c.Fy=function(a){if(a=u.Ld.Dx(a)){if(!this.options.Qf)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.ia)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.Qf=a;a=this.ia.kp(a);oi(this.ia);this.ia.position();this.ia.Jc.Vf(a)}else{if(!this.P)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.Qf=a;this.P.show(a.childNodes)}}else if(this.options.Qf)throw Error("Can't nullify an existing toolbox.");
};function Ub(a){if(a.options.bd)Ub(a.options.bd);else{u.mm=a;document.activeElement&&document.activeElement.blur();try{z(a).focus()}catch(b){try{z(a).parentNode.setActive()}catch(d){z(a).parentNode.focus()}}}}
c.zoom=function(a,b,d){if(!this.Ye&&!this.Ti){d=Math.pow(this.options.lb.vE,d);var e=this.scale*d;if(this.scale!=e){e>this.options.lb.pm?d=this.options.lb.pm/this.scale:e<this.options.lb.rm&&(d=this.options.lb.rm/this.scale);var f=this.ab.getCTM(),g=z(this).createSVGPoint();g.x=a;g.y=b;g=g.matrixTransform(f.inverse());a=g.x;b=g.y;f=f.translate(a*(1-d),b*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}}};
function ai(a,b){var d=a.Eb();if(a.P){var e=d.ME/2;d=d.LE/2}else e=d.Ya/2+d.Bb,d=d.cb/2+d.Cb;a.zoom(e,d,b)}function bi(a){u.g.j.fb(a.ab,"blocklyCanvasTransitioning");u.g.j.fb(a.ae,"blocklyCanvasTransitioning")}function ci(a){if(a.mc()){var b=a.Eb(),d=(b.zd-b.Ya)/2,e=(b.pd-b.cb)/2;d=-d-b.yc;e=-e-b.hc;a.scroll(d,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}
c.setScale=function(a){this.options.lb.pm&&a>this.options.lb.pm?a=this.options.lb.pm:this.options.lb.rm&&a<this.options.lb.rm&&(a=this.options.lb.rm);this.scale=a;u.lc(!1);this.P&&(this.P.Js(),ei(this));this.te&&this.te.update(this.scale);a=this.Eb();this.scrollX-=a.Bb;this.scrollY-=a.Cb;a.vb+=a.Bb;a.Jb+=a.Cb;this.scroll(this.scrollX,this.scrollY);this.yb&&(this.P?(Lh(this.yb.Sd,a),Mh(this.yb.ce,a)):(Oh(this.yb.Sd,a),Qh(this.yb.ce,a)))};
c.scroll=function(a,b){u.lc(!0);var d=this.Eb(),e=d.zd+d.yc-d.Ya,f=d.pd+d.hc-d.cb;a=Math.min(a,-d.yc);b=Math.min(b,-d.hc);a=Math.max(a,-e);b=Math.max(b,-f);this.scrollX=a;this.scrollY=b;this.yb&&(Hh(this.yb.Sd,-(a+d.yc)*this.yb.Sd.pc),Hh(this.yb.ce,-(b+d.hc)*this.yb.ce.pc));a+=d.Bb;b+=d.Cb;this.translate(a,b)};u.Za.pw=function(a){var b=0,d=0;a&&(b=a.Yc(),d=a.ik());return{width:b,height:d}};u.Za.sC=function(a,b){return mi(a)?u.Za.rC(a,b):u.Za.mw(a)};
u.Za.mw=function(a){var b=La(a),d=a.scale;a=b.top*d;var e=b.bottom*d,f=b.left*d;b=b.right*d;return{top:a,bottom:e,left:f,right:b,width:b-f,height:e-a}};u.Za.rC=function(a,b){a=u.Za.mw(a);var d=b.width;b=b.height;var e=d/2,f=b/2,g=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-b);return{left:g,top:k,height:Math.max(a.bottom+f,a.top+b)-k,width:Math.max(a.right+e,a.left+d)-g}};
u.Za.AC=function(){var a=u.Za.pw(this.ia),b=u.Za.pw(this.P),d=u.vy(z(this)),e={height:d.height,width:d.width};if(this.ia)if(this.ua==u.nd||this.ua==u.dh)e.height-=a.height;else{if(this.ua==u.yd||this.ua==u.ig)e.width-=a.width}else if(this.P)if(this.ua==u.nd||this.ua==u.dh)e.height-=b.height;else if(this.ua==u.yd||this.ua==u.ig)e.width-=b.width;var f=u.Za.sC(this,e),g=0;this.ia&&this.ua==u.yd?g=a.width:this.P&&this.ua==u.yd&&(g=b.width);var k=0;this.ia&&this.ua==u.nd?k=a.height:this.P&&this.ua==u.nd&&
(k=b.height);return{pd:f.height,zd:f.width,hc:f.top,yc:f.left,cb:e.height,Ya:e.width,Jb:-this.scrollY,vb:-this.scrollX,Cb:k,Bb:g,LE:d.height,ME:d.width,By:a.width,Ay:a.height,jG:b.width,iG:b.height,ua:this.ua}};u.Za.BE=function(a){var b=this.Eb();"number"==typeof a.x&&(this.scrollX=-b.zd*a.x-b.yc);"number"==typeof a.y&&(this.scrollY=-b.pd*a.y-b.hc);this.translate(this.scrollX+b.Bb,this.scrollY+b.Cb)};u.Za.prototype.rc=function(a){var b=!this.Ps&&a;this.Ps=a;b&&Oa(this)};
u.Za.prototype.clear=function(){this.rc(!1);u.Za.A.clear.call(this);this.rc(!0)};function Wh(a,b,d){if("function"!=typeof d)throw TypeError("Button callbacks must be functions.");a.nr[b]=d}function pi(a,b){return(a=a.nr[b])?a:null}function di(a,b,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.pt[b]=d}
u.Za.prototype.If=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Pb;return d?b&&d.Ki?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:b?this.Pb=new u.Md(a,this):null};u.Za.prototype.setVisible=u.Za.prototype.Ha;u.li=function(a){u.li.A.constructor.call(this,null);this.Ox=a};n(u.li,u.Nc);c=u.li.prototype;c.Wk=0;c.an=0;
c.dr=function(a){u.g.j.I("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);u.g.j.I("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
u.g.j.I("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};c.Qr=function(a){this.V.Zc()&&u.Nc.prototype.Qr.call(this,a)};
c.Fl=function(){this.Pm=u.g.j.I("svg",{x:u.la.Lc,y:u.la.Lc},null);if(this.Ox.length)for(var a=u.g.xml.createElement("xml"),b=0,d;d=this.Ox[b];b++){var e=u.g.xml.createElement("block");e.setAttribute("type",d);a.appendChild(e)}else a=null;a={disable:!1,rg:this.V.B.options.rg,Qf:a,bd:this.V.B,bf:this.V.B.options.bf,C:this.V.C,ua:this.V.C?u.ig:u.yd,Bd:!1,Eb:this.uC.bind(this),Jg:null};this.s=new u.Za(a);this.s.Ti=!0;this.s.Qc(u.i.UB);a=hi(this.s,"g");b=this.s.ka("blocklyMutatorBackground");b.insertBefore(a,
this.s.ab);this.Pm.appendChild(b);return this.Pm};c.Rg=function(){this.V.sd||(this.V.Zc()?this.Dc&&u.g.j.Gb(this.Dc,"blocklyIconGroupReadonly"):(this.Ha(!1),this.Dc&&u.g.j.fb(this.Dc,"blocklyIconGroupReadonly")));u.Nc.prototype.Rg.call(this)};
c.rp=function(){var a=2*u.la.Lc,b=this.s.ab.getBBox();var d=this.V.C?-b.x:b.width+b.x;b=b.height+3*a;if(this.s.P){var e=this.s.P.xg();b=Math.max(b,e.pd+20)}d+=3*a;if(Math.abs(this.Wk-d)>a||Math.abs(this.an-b)>a)this.Wk=d,this.an=b,this.sb.Qh(d+a,b+a),this.Pm.setAttribute("width",this.Wk),this.Pm.setAttribute("height",this.an);this.V.C&&this.s.ab.setAttribute("transform","translate("+this.Wk+",0)");this.s.resize()};
c.Ha=function(a){if(a!=this.isVisible())if(u.i.ma(new u.i.fc(this.V,"mutatorOpen",!a,a)),a){this.sb=new u.la(this.V.B,this.Fl(),this.V.fd,this.sk,null,null);Eb(this.sb,this.V.id);if(a=this.s.options.Qf)this.s.P.za(this.s),this.s.P.show(a.childNodes);this.Ig=this.V.Yn(this.s);a=Ba(this.Ig,!1);for(var b=0,d;d=a[b];b++)d.qa();this.Ig.mj(!1);this.Ig.$s(!1);this.s.P?(a=2*this.s.P.O,b=ii(this.s).Yc()+a):b=a=16;this.V.C&&(b=-b);this.Ig.moveBy(b,a);if(this.V.Wx){var e=this;this.V.Wx(this.Ig);this.up=function(){e.V.Wx(e.Ig)};
this.V.B.Qc(this.up)}this.rp();this.s.Qc(this.dF.bind(this));this.Be()}else this.Pm=null,this.s.K(),this.Ig=this.s=null,this.sb.K(),this.sb=null,this.an=this.Wk=0,this.up&&(this.V.B.hj(this.up),this.up=null)};
c.dF=function(a){if(a.type!=u.i.ol&&(a.type!=u.i.Dj||"disabled"!=a.element)){if(!this.s.Fc()){a=A(this.s,!1);for(var b=0,d;d=a[b];b++){var e=d.Fa(),f=d.Db();20>e.y+f.height&&d.moveBy(0,20-f.height-e.y)}}if(this.Ig.B==this.s){u.i.ea(!0);d=this.V;a=(a=d.Ed())&&u.S.Vc(a);b=d.ha;d.ha=!1;d.Qn(this.Ig);d.ha=b;d.Bg();b=(b=d.Ed())&&u.S.Vc(b);if(a!=b){u.i.ma(new u.i.lf(d,"mutation",null,a,b));var g=u.i.Zb();setTimeout(function(){u.i.ea(g);d.od();u.i.ea(!1)},u.gn)}d.ha&&d.qa();this.s.Fc()||this.rp();u.i.ea(!1)}}};
c.uC=function(){return{cb:this.an,Ya:this.Wk-ii(this.s).Yc(),Cb:0,Bb:this.s.C?0:ii(this.s).Yc()}};c.K=function(){this.V.$e=null;u.Nc.prototype.K.call(this)};u.li.pE=function(a,b,d){if(!a||!a.G.B)return!1;d=Ia(b,d).connection;var e=x(a);return e&&e!=b||d.sa==a?!1:(d.isConnected()&&d.disconnect(),d.connect(a),!0)};u.li.gG=function(a){var b=null;if(a&&a.options){var d=a.options.bd;a.Ye?d&&d.options&&(b=d.options.bd):d&&(b=d)}return b};u.g.global.Blockly||(u.g.global.Blockly={});
u.g.global.Blockly.Mutator||(u.g.global.Blockly.Mutator={});u.g.global.Blockly.Mutator.reconnect=u.li.pE;u.Ja={};u.Ja.Fp={};u.Ja.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(u.Ja.Fp[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');u.Ja.Fp[a]=b};u.Ja.uG=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');u.Ja.register(a,function(){qi(this,b)})};
u.Ja.vG=function(a,b,d,e){var f='Error when registering mutator "'+a+'": ';u.Ja.av(f,b.tg,"domToMutation");u.Ja.av(f,b.Ed,"mutationToDom");var g=u.Ja.cv(b,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');u.Ja.register(a,function(){g&&this.ey(new u.li(e));qi(this,b);d&&d.apply(this)})};
u.Ja.apply=function(a,b,d){var e=u.Ja.Fp[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)u.Ja.nB(a,b);else var f=u.Ja.yr(b);e.apply(b);if(d)u.Ja.lB('Error after applying mutator "'+a+'": ',b);else if(!u.Ja.FD(f,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
u.Ja.av=function(a,b,d){if(!b)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof b)throw Error(a+'" required property "'+d+'" must be a function');};u.Ja.nB=function(a,b){if(u.Ja.yr(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
u.Ja.cv=function(a,b){var d=void 0!==a.Qn,e=void 0!==a.Yn;if(d&&e){if("function"!=typeof a.Qn)throw Error(b+"compose must be a function.");if("function"!=typeof a.Yn)throw Error(b+"decompose must be a function.");return!0}if(d||e)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
u.Ja.lB=function(a,b){if("function"!=typeof b.tg)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.Ed)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');u.Ja.cv(b,a)};u.Ja.yr=function(a){var b=[];void 0!==a.tg&&b.push(a.tg);void 0!==a.Ed&&b.push(a.Ed);void 0!==a.Qn&&b.push(a.Qn);void 0!==a.Yn&&b.push(a.Yn);return b};u.Ja.FD=function(a,b){b=u.Ja.yr(b);if(b.length!=a.length)return!1;for(var d=0;d<b.length;d++)if(a[d]!=b[d])return!1;return!0};
u.Ja.XF=function(a,b){var d=[];"object"==typeof document&&u.g.Vx(function(){for(var e in b)u.g.bv(b[e])});return function(){this.type&&-1===d.indexOf(this.type)&&(u.Ja.mB(this,a,b),d.push(this.type));this.ed(function(){var e=vb(this,a),f=b[e];null==f?-1===d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=u.g.bc(f);return f}.bind(this))}};
u.Ja.mB=function(a,b,d){var e=Fa(a,b);if("function"!=typeof e.Xi){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+b+" of block type "+a.type)}}};u.Ja.YF=function(a,b){"object"==typeof document&&u.g.Vx(function(){u.g.bv(a)});return function(){this.ed(function(){var d=Fa(this,b);return u.g.bc(a).replace("%1",d?d.kc():"")}.bind(this))}};
u.Ja.dC=function(){this.VE=this.gf;this.ed(function(){var a=this.getParent();return a&&th(a)&&a.gf||this.VE}.bind(this))};u.Ja.register("parent_tooltip_when_inline",u.Ja.dC);u.pf=function(a,b){this.rb=new u.g.sf(0,u.R.Cu);this.fv=b;a=this.Uc(a);null===a&&(a="");this.setValue(a)};n(u.pf,u.R);u.pf.pa=function(a){var b=u.g.bc(a.text);return new u.pf(b,a["class"])};u.pf.prototype.Vg=!1;u.pf.prototype.Mf=function(){cc(this);this.Hb.setAttribute("y",this.rb.height);this.fv&&u.g.j.fb(this.Hb,this.fv)};u.pf.prototype.Uc=function(a){return null===a||void 0===a?null:String(a)};u.R.register("field_label",u.pf);u.Zg=function(a,b,d,e){if(a!=u.Ie&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.G=d;this.connection=e;this.Ca=[]};c=u.Zg.prototype;c.align=u.Bj;c.Kb=!0;function I(a,b,d){ri(a,a.Ca.length,b,d);return a}
function ri(a,b,d,e){if(0>b||b>a.Ca.length)throw Error("index "+b+" out of bounds.");if(!d&&!e)return b;"string"==typeof d&&(d=new u.pf(d));d.ft(a.G);a.G.ha&&d.za();d.name=e;d.Es&&(b=ri(a,b,d.Es));a.Ca.splice(b,0,d);++b;d.mt&&(b=ri(a,b,d.mt));a.G.ha&&(a.G.qa(),a.G.od());return b}c.isVisible=function(){return this.Kb};
c.Ha=function(a){var b=[];if(this.Kb==a)return b;for(var d=(this.Kb=a)?"block":"none",e=0,f;f=this.Ca[e];e++)f.Ha(a);if(this.connection){if(a)b=cb(this.connection);else if(e=this.connection,db(e,!0),e.sa)for(e=Ba(x(e),!1),f=0;f<e.length;f++){for(var g=e[f],k=g.re(!0),l=0;l<k.length;l++)db(k[l],!0);g=jb(g);for(l=0;l<g.length;l++)g[l].Ha(!1)}if(e=x(this.connection))e.Z().style.display=d,a||(e.ha=!1)}return b};
c.Kk=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Kk(a)};c.za=function(){if(this.G.B.ha)for(var a=0;a<this.Ca.length;a++)this.Ca[a].za()};c.K=function(){for(var a=0,b;b=this.Ca[a];a++)b.K();this.connection&&this.connection.K();this.G=null};u.ke=function(a){u.ke.A.constructor.call(this,a);Ah(this);this.xa={}};n(u.ke,u.Nc);u.ke.prototype.Hq=!1;u.ke.prototype.dr=function(a){u.g.j.I("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);u.g.j.I("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);u.g.j.I("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
u.ke.OE=function(a){var b=u.g.j.I("text",{"class":"blocklyText blocklyBubbleText",y:u.la.Lc},null);a=a.split("\n");for(var d=0;d<a.length;d++)u.g.j.I("tspan",{dy:"1em",x:u.la.Lc},b).appendChild(document.createTextNode(a[d]));return b};
u.ke.prototype.Ha=function(a){if(a!=this.isVisible())if(u.i.ma(new u.i.fc(this.V,"warningOpen",!a,a)),a){a=u.ke.OE(this.kc());this.sb=new u.la(this.V.B,a,this.V.fd,this.sk,null,null);Eb(this.sb,this.V.id);if(this.V.C)for(var b=a.getBBox().width,d=0,e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+u.la.Lc);this.Be();a=this.sb.Fi();this.sb.Qh(a.width,a.height)}else this.sb.K(),this.sb=null};
u.ke.prototype.Wf=function(a,b){this.xa[b]!=a&&(a?this.xa[b]=a:delete this.xa[b],this.isVisible()&&(this.Ha(!1),this.Ha(!0)))};u.ke.prototype.kc=function(){var a=[],b;for(b in this.xa)a.push(this.xa[b]);return a.join("\n")};u.ke.prototype.K=function(){this.V.Kc=null;u.Nc.prototype.K.call(this)};u.$k=function(a,b,d){if("undefined"!==typeof u.Generator.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=d&&!Da(a,d)?d:u.g.Gf();a.yq[this.id]=this;this.Y=this.ba=this.X=null;this.W=[];this.Dg=void 0;this.disabled=!1;this.gf="";this.contextMenu=!0;this.Sf=null;this.ng=[];this.bw=this.tm=this.Il=!0;this.qg=this.bb=!1;this.kb=null;this.Ce=new u.g.T(0,0);this.B=a;this.sd=a.Ye;this.C=a.C;this.im=!1;this.Ag=void 0;if(b){this.type=b;d=u.jb[b];if(!d||
"object"!=typeof d)throw TypeError("Unknown block type: "+b);for(var e in d)this[e]=d[e]}a.Qk.push(this);a.Qg[this.type]||(a.Qg[this.type]=[]);a.Qg[this.type].push(this);"function"==typeof this.za&&this.za();this.iD=this.Dg;if(u.i.isEnabled()){(a=u.i.Zb())||u.i.ea(!0);try{u.i.ma(new u.i.hn(this))}finally{a||u.i.ea(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.vm&&this.B.hj(this.vm);if(this.onchange=a)this.vm=a.bind(this),
this.B.Qc(this.vm)}};u.$k.rG=function(a,b){console.warn("Deprecated call to Blockly.Block.obtain, use workspace.newBlock instead.");return a.ep(b)};c=u.$k.prototype;c.data=null;c.hh="#000000";c.kv=null;c.lv=null;c.Nm=null;
c.K=function(a){if(this.B){this.vm&&this.B.hj(this.vm);Ha(this,a);u.i.isEnabled()&&u.i.ma(new u.i.Et(this));u.i.disable();try{if(this.B){yb(this.B,this);var b=this.B;b.Qg[this.type].splice(b.Qg[this.type].indexOf(this),1);b.Qg[this.type].length||delete b.Qg[this.type];delete this.B.yq[this.id];this.B=null}u.selected==this&&(u.selected=null);for(var d=this.ng.length-1;0<=d;d--)this.ng[d].K(!1);d=0;for(var e;e=this.W[d];d++)e.K();this.W.length=0;var f=this.re(!0);d=0;for(var g;g=f[d];d++)g.K()}finally{u.i.enable()}}};
c.Pi=function(){for(var a=0,b;b=this.W[a];a++)for(var d=0,e;e=b.Ca[d];d++)e.Pi&&e.Pi()};
function Ha(a,b){if(a.X){var d=null;a.X.isConnected()&&(d=a.X.sa,a.X.disconnect());if(d&&b){a:{b=null;for(var e=0;e<a.W.length;e++){var f=a.W[e].connection;if(f&&f.type==u.Oa&&f.sa){if(b){a=null;break a}b=f}}a=b}a&&a.isConnected()&&!x(a).bb&&(a=a.sa,Qa(a,d)&&(a.disconnect(),d.connect(a)))}}else a.Y&&(d=null,a.Y.isConnected()&&(d=a.Y.sa,a.Y.disconnect()),e=w(a),b&&e&&!e.bb&&(a=a.ba.sa,a.disconnect(),d&&Qa(d,a)&&d.connect(a)))}
c.re=function(){var a=[];this.X&&a.push(this.X);this.Y&&a.push(this.Y);this.ba&&a.push(this.ba);for(var b=0,d;d=this.W[b];b++)d.connection&&a.push(d.connection);return a};c.od=function(){console.warn("Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.")};c.getParent=function(){return this.Sf};function si(a){do{var b=a;a=a.getParent();if(!a)return null}while(w(a)==b);return a}function w(a){return a.ba&&x(a.ba)}
function Wa(a){var b=a;do a=b,b=a.Sf;while(b);return a}c.wg=function(a){if(!a)return this.ng;a=[];for(var b=0,d;d=this.W[b];b++)d.connection&&(d=x(d.connection))&&a.push(d);(b=w(this))&&a.push(b);return a};c.nj=function(a){if(a!=this.Sf){if(this.Sf){u.g.tl(this.Sf.ng,this);if(this.Y&&this.Y.isConnected())throw Error("Still connected to previous block.");if(this.X&&this.X.isConnected())throw Error("Still connected to parent block.");this.Sf=null}else yb(this.B,this);(this.Sf=a)?a.ng.push(this):this.B.Qk.push(this)}};
function Ba(a,b){var d=[a];a=a.wg(b);for(var e,f=0;e=a[f];f++)d.push.apply(d,Ba(e,b));return d}c.Ec=function(){return this.Il&&!this.bb&&!(this.B&&this.B.options.readOnly)};c.$s=function(a){this.Il=a};c.mc=function(){return this.tm&&!this.bb&&!(this.B&&this.B.options.readOnly)};c.mj=function(a){this.tm=a};c.et=function(a){this.bb=a};c.Nf=function(){return this.im};c.by=function(a){this.im=a};c.Zc=function(){return this.bw&&!(this.B&&this.B.options.readOnly)};
c.at=function(a){this.bw=a;a=0;for(var b;b=this.W[a];a++)for(var d=0,e;e=b.Ca[d];d++)e.Rg()};function Ma(a,b){if(!b&&a.isCollapsed()){if(a.X&&db(a.X,b),a.Y&&db(a.Y,b),a.ba){db(a.ba,b);var d=x(a.ba);d&&Ma(d,b)}}else{a=a.re(!0);for(var e=0;d=a[e];e++)db(d,b),Ta(d)&&(d=x(d))&&Ma(d,b)}}c.ed=function(a){this.gf=a};function Wg(a){var b=a.kv;return b?b:u.g.nb.xq("white",a.hh,.6)}
function ti(a){var b=a.lv;if(b)return{On:b,Iq:null,jv:null};a=a.hh;return{On:null,Iq:u.g.nb.xq("white",a,.3),jv:u.g.nb.xq("black",a,.2)}}c.dc=function(a){var b="string"==typeof a?u.g.bc(a):a,d=Number(b);if(!isNaN(d)&&0<=d&&360>=d)this.hh=u.Mw(d);else if(d=u.g.nb.parse(b))this.hh=d;else throw d='Invalid colour: "'+b+'"',a!=b&&(d+=' (from "'+a+'")'),Error(d);};
function ui(a,b){var d=u.Do();if(!d)throw Error("Trying to set block style to "+b+" before theme was defined via Blockly.setTheme().");d=d.cB[b];a.Nm=b;if(d)a.kv=d.colourSecondary,a.lv=d.colourTertiary,a.Ag=d.Ag,a.dc(d.colourPrimary);else throw Error("Invalid style name: "+b);}function Fa(a,b){for(var d=0,e;e=a.W[d];d++)for(var f=0,g;g=e.Ca[f];f++)if(g.name===b)return g;return null}
function Pa(a){for(var b=[],d=0,e;e=a.W[d];d++)for(var f=0,g;g=e.Ca[f];f++)g.pp()&&(g=a.B.zg(g.getValue()))&&b.push(g);return b}function vb(a,b){return(a=Fa(a,b))?a.getValue():null}c.ze=function(a,b){if(a){void 0===b&&(b=null);if(!this.Y){if(this.X)throw Error("Remove output connection prior to adding previous connection.");this.Y=this.nm(u.fe)}this.Y.Kk(b)}else if(this.Y){if(this.Y.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.Y.K();this.Y=null}};
c.Kg=function(a,b){if(a)void 0===b&&(b=null),this.ba||(this.ba=this.nm(u.Ma)),this.ba.Kk(b);else if(this.ba){if(this.ba.isConnected())throw Error("Must disconnect next statement before removing connection.");this.ba.K();this.ba=null}};
c.ct=function(a,b){if(a){void 0===b&&(b=null);if(!this.X){if(this.Y)throw Error("Remove previous connection prior to adding output connection.");this.X=this.nm(u.ee)}this.X.Kk(b)}else if(this.X){if(this.X.isConnected())throw Error("Must disconnect output value before removing connection.");this.X.K();this.X=null}};c.Mk=function(a){this.Dg!=a&&(u.i.ma(new u.i.lf(this,"inline",null,this.Dg,a)),this.Dg=a)};
function th(a){if(void 0!=a.Dg)return a.Dg;for(var b=1;b<a.W.length;b++)if(a.W[b-1].type==u.Ie&&a.W[b].type==u.Ie)return!1;for(b=1;b<a.W.length;b++)if(a.W[b-1].type==u.Oa&&a.W[b].type==u.Ie)return!0;return!1}c.isEnabled=function(){return!this.disabled};c.Fd=function(a){this.isEnabled()!=a&&(u.i.ma(new u.i.lf(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function vi(a){for(a=si(a);a;){if(a.disabled)return!0;a=si(a)}return!1}c.isCollapsed=function(){return this.qg};
c.Rh=function(a){this.qg!=a&&(u.i.ma(new u.i.lf(this,"collapsed",null,this.qg,a)),this.qg=a)};c.toString=function(a,b){var d=[],e=b||"?";if(this.qg)d.push(Ia(this,"_TEMP_COLLAPSED_INPUT").Ca[0].xa);else for(var f=0,g;g=this.W[f];f++){for(var k=0,l;l=g.Ca[k];k++)l instanceof u.Ea&&!l.getValue()?d.push(e):d.push(l.kc());g.connection&&((g=x(g.connection))?d.push(g.toString(void 0,b)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};
function wi(a,b){return a.sl(u.Ma,b)}function xi(a,b){return a.sl(u.Ie,b||"")}
function yi(a,b){var d=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");b.style&&b.style.Ag&&(a.Ag=b.style.Ag,b.style=null);if(b.style&&b.colour)throw Error(d+"Must not have both a colour and a style.");if(b.style){var e=b.style;try{ui(a,e)}catch(q){console.warn(d+"Style does not exist: ",e)}}else if("colour"in b)if(void 0===b.colour)console.warn(d+"Undefined colour value.");else{e=b.colour;try{a.dc(e)}catch(q){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==b["message"+e];){for(var f=a,g=b["args"+e]||[],k=b["lastDummyAlign"+e],l=u.g.SE(b["message"+e]),m=[],p=0,r=[],t=0;t<l.length;t++){var v=l[t];if("number"==typeof v){if(0>=v||v>g.length)throw Error('Block "'+f.type+'": Message index %'+v+" out of range.");if(m[v])throw Error('Block "'+f.type+'": Message index %'+v+" duplicated.");m[v]=!0;p++;r.push(g[v-1])}else(v=v.trim())&&r.push(v)}if(p!=g.length)throw Error('Block "'+f.type+'": Message does not reference all '+
g.length+" arg(s).");r.length&&("string"==typeof r[r.length-1]||u.g.Xa.startsWith(r[r.length-1].type,"field_"))&&(t={type:"input_dummy"},k&&(t.align=k),r.push(t));k={LEFT:u.Bj,RIGHT:u.Zk,CENTRE:u.Yk};g=[];for(t=0;t<r.length;t++)if(m=r[t],"string"==typeof m)g.push([m,void 0]);else{l=p=null;do if(v=!1,"string"==typeof m)p=new u.pf(m);else switch(m.type){case "input_value":l=f.sl(u.Oa,m.name);break;case "input_statement":l=wi(f,m.name);break;case "input_dummy":l=xi(f,m.name);break;default:p=u.R.pa(m),
p||(m.alt?(m=m.alt,v=!0):console.warn("Blockly could not create a field of type "+m.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}while(v);if(p)g.push([p,m.name]);else if(l){m.check&&l.Kk(m.check);m.align&&(p=l,p.align=k[m.align],p.G.ha&&p.G.qa());for(m=0;m<g.length;m++)I(l,g[m][0],g[m][1]);g.length=0}}e++}void 0!==b.inputsInline&&a.Mk(b.inputsInline);void 0!==b.output&&a.ct(!0,b.output);void 0!==b.previousStatement&&a.ze(!0,b.previousStatement);
void 0!==b.nextStatement&&a.Kg(!0,b.nextStatement);void 0!==b.tooltip&&(e=b.tooltip,e=u.g.bc(e),a.ed(e));void 0!==b.enableContextMenu&&(e=b.enableContextMenu,a.contextMenu=!!e);void 0!==b.helpUrl&&(e=b.helpUrl,e=u.g.bc(e),a.qk=e);"string"==typeof b.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&u.Ja.apply(b.mutator,a,!0);if(Array.isArray(b.extensions))for(b=
b.extensions,d=0;d<b.length;++d)u.Ja.apply(b[d],a,!1)}function qi(a,b){var d=[],e;for(e in b)void 0!==a[e]&&d.push(e);if(d.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(d));for(var f in b)a[f]=b[f]}c.sl=function(a,b){var d=null;if(a==u.Oa||a==u.Ma)d=this.nm(a);a=new u.Zg(a,b,this,d);this.W.push(a);return a};c.Ks=function(a,b){for(var d=0,e;e=this.W[d];d++)if(e.name==a){e.K();this.W.splice(d,1);return}if(!b)throw Error("Input not found: "+a);};
function Ia(a,b){for(var d=0,e;e=a.W[d];d++)if(e.name==b)return e;return null}function zi(a,b){return(a=Ia(a,b))&&a.connection&&x(a.connection)}c.vo=function(){return this.kb||""};c.Cm=function(a){this.kb!=a&&(u.i.ma(new u.i.lf(this,"comment",null,this.kb,a||"")),this.kb=a)};c.Fm=function(){};c.ey=function(){};c.Fa=function(){return this.Ce};c.moveBy=function(a,b){if(this.Sf)throw Error("Block has parent.");var d=new u.i.al(this);this.Ce.translate(a,b);d.Gg();u.i.ma(d)};
c.nm=function(a){return new u.Da(this,a)};u.ya={};u.ya.Vn=null;u.ya.dw=null;u.ya.show=function(a,b,d){u.$.show(u.ya,d,null);if(b.length){var e=u.ya.kp(b,d);ye(e,"action",u.ya.Ga);u.ya.cd(e,a,d);setTimeout(function(){e.U().focus()},1);u.ya.Vn=null}else u.ya.Ga()};u.ya.kp=function(a,b){var d=new Vg;d.Lg(b);for(var e=0,f;f=a[e];e++){var g=new Rg(f.text);g.Lg(b);d.Gn(g,!0);g.Fd(f.enabled);f.enabled&&(ye(g,"action",f.gc),g.lk=function(){this.dispatchEvent("action")})}return d};
u.ya.cd=function(a,b,d){var e=u.g.ww();b={top:b.clientY+e.top,bottom:b.clientY+e.top,left:b.clientX+e.left,right:b.clientX+e.left};u.ya.CB(a);var f=u.g.Tk.yg(a);d&&u.g.Tk.Qu(e,b,f);u.$.Hx(e,b,f,d);a.U().focus()};u.ya.CB=function(a){a.qa(u.$.wa);var b=a.U();u.g.j.fb(b,"blocklyContextMenu");u.da(b,"contextmenu",null,u.g.LD);a.Hn=!0;a.Th(!0)};u.ya.Ga=function(){u.$.Mi(u.ya);u.ya.Vn=null;u.ya.dw&&u.gb(u.ya.dw)};
u.ya.$F=function(a,b){return function(){u.i.disable();try{var d=u.S.dk(b,a.B),e=a.Fa();e.x=a.C?e.x-u.Pc:e.x+u.Pc;e.y+=2*u.Pc;d.moveBy(e.x,e.y)}finally{u.i.enable()}u.i.isEnabled()&&!d.bb&&u.i.ma(new u.i.hn(d));d.select()}};u.ya.$A=function(a){var b=Ba(a,!1).length,d=w(a);d&&(b-=Ba(d,!1).length);return{text:1==b?u.h.DELETE_BLOCK:u.h.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,gc:function(){u.i.ea(!0);a.K(!0,!0);u.i.ea(!1)}}};
u.ya.bB=function(a){return{enabled:!("function"==typeof a.qk?!a.qk():!a.qk),text:u.h.HELP,gc:function(){var b="function"==typeof a.qk?a.qk():a.qk;b&&window.open(b)}}};u.ya.aB=function(a){var b=Bb(a.B)?Ab(a.B,u.g.tr(a,!0)):!0;return{text:u.h.DUPLICATE_BLOCK,enabled:b,gc:function(){u.aw(a)}}};u.ya.ZA=function(a){var b={enabled:!u.g.userAgent.Wg};a.kb?(b.text=u.h.REMOVE_COMMENT,b.gc=function(){a.Cm(null)}):(b.text=u.h.ADD_COMMENT,b.gc=function(){a.Cm("")});return b};
u.ya.tB=function(a){return{text:u.h.QF,enabled:!0,gc:function(){u.i.ea(!0);a.K(!0,!0);u.i.ea(!1)}}};u.ya.uB=function(a){return{text:u.h.oF,enabled:!0,gc:function(){u.aw(a)}}};u.ya.FG=function(a,b){var d={enabled:!u.g.userAgent.Wg};d.text=u.h.hF;d.gc=function(){var e=new u.ja(a,u.h.UF,u.ja.Nt,u.ja.Nt),f=Ca(a).getBoundingClientRect();f=new u.g.T(b.clientX-f.left,b.clientY-f.top);var g=u.g.Ql(a.ab);f=u.g.T.Jl(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.ha&&(e.Bg(),e.qa(!1),e.select())};return d};u.o=function(a,b,d){this.D=u.g.j.I("g",{},null);this.D.Pg="";this.sj=u.g.j.I("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.D);this.fd=u.g.j.I("path",{"class":"blocklyPath"},this.D);this.Mg=u.g.j.I("path",{"class":"blocklyPathLight"},this.D);this.fd.gf=this;this.ha=!1;this.ag=u.g.zh()&&!!a.Nb;u.M.Xj(this.fd);u.o.A.constructor.call(this,a,b,d);this.D.dataset&&(this.D.dataset.id=this.id)};n(u.o,u.$k);u.o.prototype.height=0;u.o.prototype.width=0;u.o.prototype.Id=null;u.o.tn=-1;
u.o.Kp="TEMP_COLLAPSED_WARNING_";c=u.o.prototype;c.Bg=function(){if(!this.B.ha)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.W[a];a++)b.za();b=jb(this);for(a=0;a<b.length;a++)Ah(b[a]);this.Be();Jb(this);this.B.options.readOnly||this.jr||u.da(this.Z(),"mousedown",this,this.Ih);this.jr=!0;this.Z().parentNode||this.B.ab.appendChild(this.Z())};
c.select=function(){if(this.bb&&this.getParent())this.getParent().select();else if(u.selected!=this){var a=null;if(u.selected){a=u.selected.id;u.i.disable();try{u.selected.Ae()}finally{u.i.enable()}}a=new u.i.fc(null,"selected",a,this.id);a.Ub=this.B.id;u.i.ma(a);u.selected=this;this.Vj()}};c.Ae=function(){if(u.selected==this){var a=new u.i.fc(null,"selected",this.id,null);a.Ub=this.B.id;u.i.ma(a);u.selected=null;this.ij()}};c.$e=null;c.kb=null;c.Kc=null;
function jb(a){var b=[];a.$e&&b.push(a.$e);a.kb&&b.push(a.kb);a.Kc&&b.push(a.Kc);return b}c.nj=function(a){var b=this.Sf;if(a!=b){u.R.Km();u.o.A.nj.call(this,a);u.R.Mm();var d=this.Z();if(!this.B.Yr&&d){var e=this.Fa();a?(a.Z().appendChild(d),a=this.Fa(),ab(this,a.x-e.x,a.y-e.y)):b&&(this.B.ab.appendChild(d),this.translate(e.x,e.y))}}};
c.Fa=function(){var a=0,b=0,d=this.ag?this.B.Nb.Zb():null,e=this.Z();if(e){do{var f=u.g.Rd(e);a+=f.x;b+=f.y;this.ag&&this.B.Nb.pe.firstChild==e&&(f=this.B.Nb.Co(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.B.ab&&e!=d)}return new u.g.T(a,b)};c.moveBy=function(a,b){if(this.Sf)throw Error("Block has parent.");var d=u.i.isEnabled();if(d)var e=new u.i.al(this);var f=this.Fa();this.translate(f.x+a,f.y+b);ab(this,a,b);d&&(e.Gg(),u.i.ma(e));Oa(this.B)};
c.translate=function(a,b){this.Z().setAttribute("transform","translate("+a+","+b+")")};c.cp=function(){if(this.ag){var a=this.Fa();this.Z().removeAttribute("transform");this.B.Nb.Og(a.x,a.y);Lb(this.B.Nb,this.Z())}};c.moveTo=function(a){var b=this.Fa();this.moveBy(a.x-b.x,a.y-b.y)};c.mx=function(a){this.ag&&(this.translate(a.x,a.y),this.B.Nb.xl(this.B.ab))};c.bp=function(a){this.ag?this.B.Nb.Og(a.x,a.y):(this.D.Pg="translate("+a.x+","+a.y+")",this.D.setAttribute("transform",this.D.Pg+this.D.oj))};
function ni(a){if(a.B&&!a.B.Fc()&&!a.getParent()&&!a.sd){var b=a.B.te;if(b&&b.EE){var d=b.kt,e=d/2,f=a.Fa();b=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;b=Math.round(b);d=Math.round(d);0==b&&0==d||a.moveBy(b,d)}}}c.po=function(){var a=this.Fa(),b=this.X?u.o.ga:0,d=this.Db(),e=a.y,f=a.y+d.height;if(this.C){var g=a.x-(d.width-b);a=a.x+b}else g=a.x-b,a=a.x+d.width-b;return new u.g.Rect(e,f,g,a)};
c.Rh=function(a){if(this.qg!=a){for(var b=[],d=0,e;e=this.W[d];d++)b.push.apply(b,e.Ha(!a));if(a){e=jb(this);for(d=0;d<e.length;d++)e[d].Ha(!1);d=this.toString(u.bz);I(xi(this,"_TEMP_COLLAPSED_INPUT"),d).za();e=Ba(this,!0);if(d=w(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.Kc){this.Fm(u.h.COLLAPSED_WARNINGS_WARNING,u.o.Kp);break}}else this.Ks("_TEMP_COLLAPSED_INPUT"),this.Kc&&(this.Kc.Wf("",u.o.Kp),Object.keys(this.Kc.xa).length||this.Fm(null));u.o.A.Rh.call(this,a);
b.length||(b[0]=this);if(this.ha)for(d=0;f=b[d];d++)f.qa()}};function Ai(a,b,d){for(var e=[],f=0,g;g=a.W[f];f++){for(var k=0,l;l=g.Ca[k];k++)l instanceof u.Mc&&l.isVisible()&&e.push(l);g.connection&&(g=x(g.connection))&&e.push(g)}b=e.indexOf(b);-1==b&&(b=d?-1:e.length);(e=e[d?b+1:b-1])?e instanceof u.R?e.ef():Ai(e,null,d):(e=a.getParent())&&Ai(e,a,d)}
c.Ih=function(a){var b=this.B&&this.B.If(a);if(b){if(b.Ki)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");$b(b,this);b.Ze=a}};
function Bi(a){if(a.B.options.readOnly||!a.contextMenu)return null;var b=[];if(!a.sd){a.Ec()&&a.mc()&&b.push(u.ya.aB(a));a.B.options.vB&&!a.qg&&a.Zc()&&b.push(u.ya.ZA(a));if(a.mc())if(a.qg)a.B.options.collapse&&(d={enabled:!0},d.text=u.h.EXPAND_BLOCK,d.gc=function(){a.Rh(!1)},b.push(d));else{for(var d=1;d<a.W.length;d++)if(a.W[d-1].type!=u.Ma&&a.W[d].type!=u.Ma){d={enabled:!0};var e=th(a);d.text=e?u.h.EXTERNAL_INPUTS:u.h.INLINE_INPUTS;d.gc=function(){a.Mk(!e)};b.push(d);break}a.B.options.collapse&&
(d={enabled:!0},d.text=u.h.COLLAPSE_BLOCK,d.gc=function(){a.Rh(!0)},b.push(d))}a.B.options.disable&&a.Zc()&&(d={text:a.isEnabled()?u.h.DISABLE_BLOCK:u.h.ENABLE_BLOCK,enabled:!vi(a),gc:function(){var f=u.i.Zb();f||u.i.ea(!0);a.Fd(!a.isEnabled());f||u.i.ea(!1)}},b.push(d));a.Ec()&&b.push(u.ya.$A(a))}b.push(u.ya.bB(a));a.KB&&a.KB(b);return b}c.Nk=function(a){var b=Bi(this);b&&b.length&&(u.ya.show(a,b,this.C),u.ya.Vn=this)};
function ab(a,b,d){if(a.ha){for(var e=a.re(!1),f=0;f<e.length;f++)e[f].moveBy(b,d);e=jb(a);for(f=0;f<e.length;f++)yh(e[f]);for(f=0;f<a.ng.length;f++)ab(a.ng[f],b,d)}}c.Sh=function(a){if(a){var b=this.Z();b.Pg="";b.oj="";u.Kl=u.Kl.concat(this.re(!0));u.g.j.fb(this.D,"blocklyDragging")}else u.Kl=[],u.g.j.Gb(this.D,"blocklyDragging");for(b=0;b<this.ng.length;b++)this.ng[b].Sh(a)};c.mj=function(a){u.o.A.mj.call(this,a);Jb(this)};c.at=function(a){u.o.A.at.call(this,a);a=jb(this);for(var b=0;b<a.length;b++)a[b].Rg()};
c.et=function(a){u.o.A.et.call(this,a);this.Be()};c.by=function(a){this.im!=a&&(this.im=a)&&(this.dc(u.Kz),u.g.j.fb(this.D,"blocklyInsertionMarker"))};c.Z=function(){return this.D};
c.K=function(a,b){if(this.B){u.M.Ga();u.R.Km();var d=this.B;if(u.selected==this){this.Ae();var e=this.B;e.Pb&&e.Pb.cancel()}u.ya.Vn==this&&u.ya.Ga();b&&this.ha&&(Ha(this,a),u.eb.XB(this));this.ha=!1;if(this.Id){for(var f in this.Id)clearTimeout(this.Id[f]);this.Id=null}Ha(this,a);var g;u.i.isEnabled()&&(g=new u.i.Et(this));u.i.disable();try{var k=jb(this);for(b=0;b<k.length;b++)k[b].K();u.o.A.K.call(this,a)}finally{u.i.enable()}u.i.isEnabled()&&g&&u.i.ma(g);u.g.j.removeNode(this.D);Oa(d);this.sj=
this.Mg=this.fd=this.D=null;u.R.Mm()}};
c.Be=function(){if(this.isEnabled()){if(this.bb){var a=Wg(this);this.Mg.style.display="none";this.sj.setAttribute("fill",a);this.fd.setAttribute("stroke","none");this.fd.setAttribute("fill",a)}else a=ti(this),a.On?(this.Mg.style.display="none",this.sj.style.display="none",this.fd.setAttribute("stroke",a.On)):(this.Mg.style.display="",this.sj.style.display="",this.fd.setAttribute("stroke","none"),this.Mg.setAttribute("stroke",a.Iq),this.sj.setAttribute("fill",a.jv)),this.fd.setAttribute("fill",this.hh);
a=jb(this);for(var b=0;b<a.length;b++)a[b].Be();for(a=0;b=this.W[a];a++)for(var d=0,e;e=b.Ca[d];d++)e.Be()}};function Na(a){!a.isEnabled()||vi(a)?u.g.j.fb(a.D,"blocklyDisabled")&&a.fd.setAttribute("fill","url(#"+a.B.options.rg+")"):u.g.j.Gb(a.D,"blocklyDisabled")&&a.Be();a=a.wg(!1);for(var b=0,d;d=a[b];b++)Na(d)}c.vo=function(){return this.kb?this.kb.kc().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};
c.Cm=function(a){var b=!1;"string"==typeof a?(this.kb||(this.kb=new u.Comment(this),b=!0),this.kb.Wf(a)):this.kb&&(this.kb.K(),b=!0);b&&this.ha&&(this.qa(),this.od())};
c.Fm=function(a,b){this.Id||(this.Id=Object.create(null));var d=b||"";if(d)this.Id[d]&&(clearTimeout(this.Id[d]),delete this.Id[d]);else for(var e in this.Id)clearTimeout(this.Id[e]),delete this.Id[e];if(this.B.Fc()){var f=this;this.Id[d]=setTimeout(function(){f.B&&(delete f.Id[d],f.Fm(a,d))},100)}else{this.sd&&(a=null);b=si(this);for(e=null;b;)b.isCollapsed()&&(e=b),b=si(b);e&&e.Fm(u.h.COLLAPSED_WARNINGS_WARNING,u.o.Kp);b=!1;"string"==typeof a?(this.Kc||(this.Kc=new u.ke(this),b=!0),this.Kc.Wf(a,
d)):this.Kc&&!d?(this.Kc.K(),b=!0):this.Kc&&(b=this.Kc.kc(),this.Kc.Wf("",d),(e=this.Kc.kc())||this.Kc.K(),b=b!=e);b&&this.ha&&(this.qa(),this.od())}};c.ey=function(a){this.$e&&this.$e!==a&&this.$e.K();a&&(a.V=this,this.$e=a,Ah(a))};c.Fd=function(a){this.isEnabled()!=a&&(u.o.A.Fd.call(this,a),this.ha&&Na(this))};c.Gd=function(a){this.ha&&(a?(this.fd.setAttribute("filter","url(#"+this.B.options.cw+")"),this.Mg.style.display="none"):(this.fd.setAttribute("filter","none"),this.Mg.style.display="inline"))};
c.Vj=function(){u.g.j.fb(this.D,"blocklySelected")};c.ij=function(){u.g.j.Gb(this.D,"blocklySelected")};c.Em=function(a){a?u.g.j.fb(this.D,"blocklyDraggingDelete"):u.g.j.Gb(this.D,"blocklyDraggingDelete")};c.dc=function(a){u.o.A.dc.call(this,a);this.ha&&this.Be()};function pb(a){do{var b=a.Z();b.parentNode.appendChild(b);a=a.getParent()}while(a)}c.ze=function(a,b){u.o.A.ze.call(this,a,b);this.ha&&(this.qa(),this.od())};c.Kg=function(a,b){u.o.A.Kg.call(this,a,b);this.ha&&(this.qa(),this.od())};
c.ct=function(a,b){u.o.A.ct.call(this,a,b);this.ha&&(this.qa(),this.od())};c.Mk=function(a){u.o.A.Mk.call(this,a);this.ha&&(this.qa(),this.od())};c.Ks=function(a,b){u.o.A.Ks.call(this,a,b);this.ha&&(this.qa(),this.od())};c.sl=function(a,b){a=u.o.A.sl.call(this,a,b);this.ha&&(this.qa(),this.od());return a};c.re=function(a){var b=[];if(a||this.ha)if(this.X&&b.push(this.X),this.Y&&b.push(this.Y),this.ba&&b.push(this.ba),a||!this.qg){a=0;for(var d;d=this.W[a];a++)d.connection&&b.push(d.connection)}return b};
c.nm=function(a){return new u.bh(this,a)};c.od=function(){if(this.B&&!this.B.Fc()){var a=Wa(this);if(!a.sd)for(var b=this.re(!1),d=0,e;e=b[d];d++){e.isConnected()&&Ta(e)&&x(e).od();for(var f=e.nx(u.Pc),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||Wa(k.G)!=a&&(Ta(e)?Ra(k,e):Ra(e,k))}}};function qb(a){var b=u.i.Zb();setTimeout(function(){u.i.ea(b);ni(a);u.i.ea(!1)},u.gn/2);setTimeout(function(){u.i.ea(b);a.od();u.i.ea(!1)},u.gn)}
c.qa=function(a){u.R.Km();this.ha=!0;if("compatibility"==u.xG)u.m.qa(this);else{var b=u.o.hb;this.C&&(b=-b);for(var d=jb(this),e=0;e<d.length;e++){var f=d[e];if(f.Hq&&f.V.isCollapsed()||f.V.Nf())f.Dc.setAttribute("display","none");else{f.Dc.setAttribute("display","block");var g=f.kl;f.V.C&&(b-=g);f.Dc.setAttribute("transform","translate("+b+",5)");yh(f);b=f.V.C?b-u.o.hb:b+(g+u.o.hb)}}var k=b+=this.C?u.o.hb:-u.o.hb,l=this.W;d=[];d.Hc=k+2*u.o.hb;if(this.Y||this.ba)d.Hc=Math.max(d.Hc,u.o.Kd+u.o.hb);
f=e=0;for(var m=g=!1,p=!1,r=void 0,t=th(this)&&!this.isCollapsed(),v=0,q;q=l[v];v++)if(q.isVisible()){if(t&&r&&r!=u.Ma&&q.type!=u.Ma)var y=d[d.length-1];else r=q.type,y=[],y.type=t&&q.type!=u.Ma?u.o.tn:q.type,y.height=0,d.push(y);y.push(q);q.Oh=u.o.hl;q.qc=t&&q.type==u.Oa?u.o.ga+1.25*u.o.hb:0;if(q.connection&&q.connection.isConnected()){var J=x(q.connection).Db();q.Oh=Math.max(q.Oh,J.height);q.qc=Math.max(q.qc,J.width)}t||v!=l.length-1?!t&&q.type==u.Oa&&l[v+1]&&l[v+1].type==u.Ma&&q.Oh--:q.Oh--;y.height=
Math.max(y.height,q.Oh);q.Se=0;1==d.length&&(q.Se+=this.C?-k:k);J=!1;for(var Q=0,da;da=q.Ca[Q];Q++){0!=Q&&(q.Se+=u.o.hb);var Tb=da.yg();da.qc=Tb.width;da.qp=J&&da.Vg?u.o.hb:0;q.Se+=da.qc+da.qp;y.height=Math.max(y.height,Tb.height);J=da.Vg}y.type!=u.o.tn&&(y.type==u.Ma?(m=!0,f=Math.max(f,q.Se)):(y.type==u.Oa?g=!0:y.type==u.Ie&&(p=!0),e=Math.max(e,q.Se)))}for(k=0;y=d[k];k++)if(y.yy=!1,y.type==u.o.tn)for(l=0;q=y[l];l++)if(q.type==u.Oa){y.height+=2*u.o.Xg;y.yy=!0;break}d.Zd=2*u.o.hb+f;m&&(d.Hc=Math.max(d.Hc,
d.Zd+u.o.Kd));g?d.Hc=Math.max(d.Hc,e+2*u.o.hb+u.o.ga):p&&(d.Hc=Math.max(d.Hc,e+2*u.o.hb));d.VC=g;d.Td=m;d.nG=p;e=b;this.wp=!1;this.height=0;this.X?this.lt=this.Jm=!0:(b=this.Ag?"cap"===this.Ag:u.o.ri,this.lt=this.Jm=!1,this.Y?(b=x(this.Y))&&w(b)==this&&(this.Jm=!0):b&&(this.wp=this.Jm=!0,this.height+=u.o.Pj,d.Hc=Math.max(d.Hc,100)),w(this)&&(this.lt=!0));b=new u.o.qu;f=d.Hc;g=b.ff;m=b.ue;this.Jm?(g.push("m 0,0"),m.push("m 0.5,0.5"),this.wp&&(g.push(u.o.qA),m.push(this.C?u.o.pA:u.o.oA))):(g.push(u.o.mq),
m.push(this.C?u.o.CA:u.o.BA),g.push(u.o.zA),m.push(u.o.AA));this.Y&&(g.push("H",u.o.Kd-15),m.push("H",u.o.Kd-15),g.push(u.o.aA),m.push(u.o.bA),Za(this.Y,this.C?-u.o.jl:u.o.jl,0));g.push("H",f);m.push("H",f-.5);this.width=f;f={x:0,y:0};g={x:0,y:0};for(m=0;p=d[m];m++){f.x=u.o.hb;0==m&&(f.x+=this.C?-e:e);b.ue.push("M",d.Hc-.5+","+(f.y+.5));if(this.isCollapsed())k=p,q=b.ff,y=b.ue,Ci(this,k[0].Ca,f.x,f.y),q.push(u.o.$g),y.push("h 8"),k=k.height-u.o.Vp,q.push("v",k),this.C&&(y.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),
y.push("v",k-.7)),this.width+=u.o.Wp;else if(p.type==u.o.tn){y=p;k=f;l=g;r=d.Hc;t=b.Vr;v=b.Or;J=b.ff;Q=b.ue;for(da=0;q=y[da];da++){Tb=k.x;var Oi=k.y;y.yy&&(Oi+=u.o.Xg);k.x=Ci(this,q.Ca,Tb,Oi);q.type!=u.Ie&&(k.x+=q.qc+u.o.hb);q.type==u.Oa&&(t.push("M",k.x-u.o.hb+","+(k.y+u.o.Xg)),t.push("h",u.o.ga-2-q.qc),t.push(u.o.lq),t.push("v",q.Oh+1-u.o.he),t.push("h",q.qc+2-u.o.ga),t.push("z"),this.C?(v.push("M",k.x-u.o.hb-2.5+u.o.ga-q.qc+","+(k.y+u.o.Xg+.5)),v.push(u.o.Bu),v.push("v",q.Oh-u.o.he+2.5),v.push("h",
q.qc-u.o.ga+2)):(v.push("M",k.x-u.o.hb+.5+","+(k.y+u.o.Xg+.5)),v.push("v",q.Oh+1),v.push("h",u.o.ga-2-q.qc),v.push("M",k.x-q.qc-u.o.hb+.9+","+(k.y+u.o.Xg+u.o.he-.7)),v.push("l",.46*u.o.ga+",-2.1")),l.x=this.C?-k.x-u.o.ga+u.o.hb+q.qc+1:k.x+u.o.ga-u.o.hb-q.qc-1,l.y=k.y+u.o.Xg+u.o.kq+1,Za(q.connection,l.x,l.y))}k.x=Math.max(k.x,r);this.width=Math.max(this.width,k.x);J.push("H",k.x);Q.push("H",k.x-.5);J.push("v",y.height);this.C&&Q.push("v",y.height-1)}else p.type==u.Oa?(v=p,q=f,y=g,k=d.Hc,l=b.ff,r=b.ue,
t=v[0],J=q.x,Q=q.y,t.align!=u.Bj&&(da=k-t.Se-u.o.ga-2*u.o.hb,t.align==u.Zk?J+=da:t.align==u.Yk&&(J+=da/2)),Ci(this,t.Ca,J,Q),l.push(u.o.lq),v=v.height-u.o.he,l.push("v",v),this.C?(r.push(u.o.Bu),r.push("v",v+.5)):(r.push("M",k-5+","+(q.y+u.o.he-.7)),r.push("l",.46*u.o.ga+",-2.1")),y.x=this.C?-k-1:k+1,Za(t.connection,y.x,q.y+u.o.kq),t.connection.isConnected()&&(this.width=Math.max(this.width,k+x(t.connection).Db().width-u.o.ga+1))):p.type==u.Ie?(q=p,y=b.ff,k=b.ue,l=q[0],r=f.x,t=f.y,l.align!=u.Bj&&
(v=d.Hc-l.Se-2*u.o.hb,d.VC&&(v-=u.o.ga),l.align==u.Zk?r+=v:l.align==u.Yk&&(r+=v/2)),Ci(this,l.Ca,r,t),y.push("v",q.height),this.C&&k.push("v",q.height-1)):p.type==u.Ma&&(J=p,q=f,y=g,k=d,l=m,r=b.ff,t=b.ue,v=J[0],0==l&&(r.push("v",u.o.pi),this.C&&t.push("v",u.o.pi-1),q.y+=u.o.pi),Q=q.x,da=q.y,v.align!=u.Bj&&(Tb=k.Zd-v.Se-2*u.o.hb,v.align==u.Zk?Q+=Tb:v.align==u.Yk&&(Q+=Tb/2)),Ci(this,v.Ca,Q,da),q.x=k.Zd+u.o.Kd,r.push("H",q.x),r.push(u.o.Iz),r.push("v",J.height-2*u.o.O),r.push(u.o.Fz),r.push("H",k.Hc),
this.C?(t.push("M",q.x-u.o.Kd+u.o.Ug+","+(q.y+u.o.Ug)),t.push(u.o.Jz),t.push("v",J.height-2*u.o.O),t.push(u.o.Hz)):(t.push("M",q.x-u.o.Kd+u.o.Ug+","+(q.y+J.height-u.o.Ug)),t.push(u.o.Gz)),t.push("H",k.Hc-.5),J=k.Zd+u.o.jl,y.x=this.C?-J:J+1,Za(v.connection,y.x,q.y+1),v.connection.isConnected()&&(this.width=Math.max(this.width,k.Zd+x(v.connection).Db().width)),l==k.length-1||k[l+1].type==u.Ma)&&(r.push("v",u.o.pi),this.C&&t.push("v",u.o.pi-1),q.y+=u.o.pi);f.y+=p.height}d.length||(f.y=u.o.hl,b.ff.push("V",
f.y),this.C&&b.ue.push("V",f.y-1));d=f.y;e=b.ff;f=b.ue;this.height+=d+1;this.ba&&(e.push("H",u.o.Kd+(this.C?.5:-.5)+" "+u.o.du),Za(this.ba,this.C?-u.o.jl:u.o.jl,d+1),this.height+=4);this.lt?(e.push("H 0"),this.C||f.push("M","0.5,"+(d-.5))):(e.push("H",u.o.O),e.push("a",u.o.O+","+u.o.O+" 0 0,1 -"+u.o.O+",-"+u.o.O),this.C||(f.push("M",u.o.qn+","+(d-u.o.qn)),f.push("A",u.o.O-.5+","+(u.o.O-.5)+" 0 0,1 0.5,"+(d-u.o.O))));d=b.ff;e=b.ue;this.X?(Za(this.X,0,u.o.kq),d.push("V",u.o.he),d.push("c 0,-10 -"+u.o.ga+
",8 -"+u.o.ga+",-7.5 s "+u.o.ga+",2.5 "+u.o.ga+",-7.5"),this.C?(e.push("M",-.25*u.o.ga+",8.4"),e.push("l",-.45*u.o.ga+",-2.1")):(e.push("V",u.o.he-1.5),e.push("m",-.92*u.o.ga+",-0.5 q "+-.19*u.o.ga+",-5.5 0,-11"),e.push("m",.92*u.o.ga+",1 V 0.5 H 1")),this.width+=u.o.ga):this.C||(this.Jm?e.push("V",.5):e.push("V",u.o.O));d.push("z");zh(this,b)}d=this.Fa();this.Y&&Ya(this.Y,d);this.X&&Ya(this.X,d);for(b=0;b<this.W.length;b++)if(e=this.W[b].connection)Ya(e,d),e.isConnected()&&$a(e);this.ba&&(Ya(this.ba,
d),this.ba.isConnected()&&$a(this.ba));!1!==a&&((a=this.getParent())?a.qa(!0):Oa(this.B));u.R.Mm()};u.o.qa={};u.o.qu=function(){this.ff=[];this.ue=[];this.Vr=[];this.Or=[]};u.o.hb=10;u.o.pi=10;u.o.Xg=5;u.o.hl=25;u.o.he=20;u.o.ga=8;u.o.Kd=30;u.o.jl=15;u.o.kq=5;u.o.O=8;u.o.ri=!1;u.o.Pj=15;u.o.qA="c 30,-"+u.o.Pj+" 70,-"+u.o.Pj+" 100,0";u.o.oA="c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5";u.o.pA="m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7";u.o.qn=(1-Math.SQRT1_2)*(u.o.O-.5)+.5;u.o.Ug=(1-Math.SQRT1_2)*(u.o.O+.5)-.5;u.o.aA="l 6,4 3,0 6,-4";u.o.bA="l 6,4 3,0 6,-4";u.o.du="l -6,4 -3,0 -6,-4";u.o.$g="l 8,0 0,4 8,4 -16,8 8,4";
u.o.Vp=20;u.o.Wp=15;u.o.lq="v 5 c 0,10 -"+u.o.ga+",-8 -"+u.o.ga+",7.5 s "+u.o.ga+",-2.5 "+u.o.ga+",7.5";u.o.Bu="v 6.5 m -"+.97*u.o.ga+",3 q -"+.05*u.o.ga+",10 "+.3*u.o.ga+",9.5 m "+.67*u.o.ga+",-1.9 v 1.4";u.o.mq="m 0,"+u.o.O;u.o.CA="m "+u.o.qn+","+u.o.qn;u.o.BA="m 0.5,"+(u.o.O-.5);u.o.zA="A "+u.o.O+","+u.o.O+" 0 0,1 "+u.o.O+",0";u.o.AA="A "+(u.o.O-.5)+","+(u.o.O-.5)+" 0 0,1 "+u.o.O+",0.5";u.o.Iz=u.o.du+" h -"+(u.o.Kd-15-u.o.O)+" a "+u.o.O+","+u.o.O+" 0 0,0 -"+u.o.O+","+u.o.O;
u.o.Fz="a "+u.o.O+","+u.o.O+" 0 0,0 "+u.o.O+","+u.o.O;u.o.Jz="a "+u.o.O+","+u.o.O+" 0 0,0 "+(-u.o.Ug-.5)+","+(u.o.O-u.o.Ug);u.o.Hz="a "+(u.o.O+.5)+","+(u.o.O+.5)+" 0 0,0 "+(u.o.O+.5)+","+(u.o.O+.5);u.o.Gz="a "+(u.o.O+.5)+","+(u.o.O+.5)+" 0 0,0 "+(u.o.O-u.o.Ug)+","+(u.o.Ug+.5);u.o.prototype.Db=function(){var a=this.height,b=this.width,d=w(this);d?(d=d.Db(),a+=d.height-4,b=Math.max(b,d.width)):this.ba||this.X||(a+=2);return{height:a,width:b}};
function Ci(a,b,d,e){e+=u.o.Xg;a.C&&(d=-d);for(var f=0,g;g=b[f];f++){var k=g.Z();if(k){var l="";if(a.C){var m=d-=g.qp+g.qc;g.qc&&(d-=u.o.hb)}else m=d+g.qp,g.qc&&(d+=g.qp+g.qc+u.o.hb);a.C&&g instanceof u.de&&g.fw&&(l="scale(-1 1)",m+=g.qc);k.setAttribute("transform","translate("+m+","+e+")"+l);a.Nf()&&k.setAttribute("display","none")}}return a.C?-d:d}
function zh(a,b){var d=b.ff.join(" ")+"\n"+b.Vr.join(" ");a.fd.setAttribute("d",d);a.sj.setAttribute("d",d);d=b.ue.join(" ")+"\n"+b.Or.join(" ");a.Mg.setAttribute("d",d);a.C&&(a.fd.setAttribute("transform","scale(-1 1)"),a.Mg.setAttribute("transform","scale(-1 1)"),a.sj.setAttribute("transform","translate(1,1) scale(-1 1)"))}function ib(a,b){b?u.g.j.fb(a.D,"blocklyReplaceable"):u.g.j.Gb(a.D,"blocklyReplaceable")};
u.H=function(){};u.H.He=null;u.H.Bq=null;u.H.vd=null;u.H.lp=null;u.H.bn=16;u.H.Ct=1;u.H.zt=12;u.H.nu=16;u.H.Gp=.25;u.H.tq=null;u.H.bj=0;
u.H.ka=function(){if(!u.H.He){var a=document.createElement("div");a.className="blocklyDropDownDiv";document.body.appendChild(a);u.H.He=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);u.H.ic=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);u.H.Ne=b;u.H.He.style.opacity=0;u.H.He.style.transition="transform "+u.H.Gp+"s, opacity "+u.H.Gp+"s"}};u.H.Zx=function(a){u.H.Bq=a};u.H.nw=function(){return u.H.ic};
u.H.qB=function(){u.H.ic.innerHTML="";u.H.ic.style.width=""};u.H.dc=function(a,b){u.H.He.style.backgroundColor=a;u.H.He.style.borderColor=b};u.H.AG=function(a){u.H.He.setAttribute("data-category",a)};u.H.BG=function(a,b,d,e){var f=b.B.scale,g=b.width,k=b.height;g*=f;k*=f;f=b.Z().getBoundingClientRect();g=f.left+g/2;k=f.top+k;f=f.top;e&&(f+=e);u.H.Zx(z(b.B).parentNode);return u.H.show(a,g,k,g,f,d)};
u.H.ky=function(a,b){var d=a.Re.getBoundingClientRect(),e=d.left+d.width/2,f=d.bottom;d=d.top;u.H.lp=!0;u.H.Zx(z(a.G.B).parentNode);u.H.show(a,e,f,e,d,b)};u.H.show=function(a,b,d,e,f,g){u.H.vd=a;u.H.bj=g;a=u.H.vw(b,d,e,f);a.vq?(u.H.Ne.style.display="",u.H.Ne.style.transform="translate("+a.ul+"px,"+a.Uu+"px) rotate(45deg)",u.H.Ne.setAttribute("class",a.uq?"blocklyDropDownArrow arrowTop":"blocklyDropDownArrow arrowBottom")):u.H.Ne.style.display="none";u.H.xm(a.Jo,a.Ko,a.jo,a.ko);return a.uq};
u.H.oC=function(){var a=u.H.Bq.getBoundingClientRect(),b=u.g.style.yg(u.H.Bq);return{left:a.left,right:a.left+b.width,top:a.top,bottom:a.top+b.height,width:b.width,height:b.height}};u.H.vw=function(a,b,d,e){var f=u.H.oC(),g=u.g.style.yg(u.H.He);return b+g.height<f.bottom?u.H.uw(a,b,f,g):e-g.height>f.top?u.H.tw(d,e,f,g):b+g.height<document.documentElement.clientHeight?u.H.uw(a,b,f,g):e-g.height>document.documentElement.clientTop?u.H.tw(d,e,f,g):u.H.xC(a,f,g)};
u.H.uw=function(a,b,d,e){a=u.H.zr(a,d.left,d.right,e.width);return{Jo:a.ck,Ko:b,jo:a.ck,ko:b+u.H.nu,ul:a.ul,Uu:-(u.H.bn/2+u.H.Ct),uq:!0,vq:!0}};u.H.tw=function(a,b,d,e){a=u.H.zr(a,d.left,d.right,e.width);return{Jo:a.ck,Ko:b-e.height,jo:a.ck,ko:b-e.height-u.H.nu,ul:a.ul,Uu:e.height-2*u.H.Ct-u.H.bn/2,uq:!1,vq:!0}};u.H.xC=function(a,b,d){a=u.H.zr(a,b.left,b.right,d.width);return{Jo:a.ck,Ko:0,jo:a.ck,ko:0,vq:!1}};
u.H.zr=function(a,b,d,e){var f=a;a=u.g.we.Fq(b,a-e/2,d-e);f-=u.H.bn/2;b=u.g.we.Fq(u.H.zt,f-a,e-u.H.zt-u.H.bn);return{ul:b,ck:a}};u.H.isVisible=function(){return!!u.H.vd};u.H.Mi=function(a){u.H.vd===a&&u.H.Ga()};u.H.Ga=function(){var a=u.H.He;a.style.transform="translate(0px, 0px)";a.style.opacity=0;u.H.tq=setTimeout(function(){u.H.Kw()},1E3*u.H.Gp);u.H.bj&&(u.H.bj(),u.H.bj=null)};
u.H.Kw=function(){if(u.H.isVisible()){u.H.tq&&clearTimeout(u.H.tq);var a=u.H.He;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";u.H.qB();u.H.vd=null;u.H.bj&&(u.H.bj(),u.H.bj=null)}};u.H.xm=function(a,b,d,e){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);e=Math.floor(e);var f=u.H.He;f.style.left=a+"px";f.style.top=b+"px";f.style.display="block";f.style.opacity=1;f.style.transform="translate("+(d-a)+"px,"+(e-b)+"px)"};
u.H.yG=function(){if(u.H.vd){var a=u.H.vd.G,b=a.B.scale,d=u.H.lp?u.H.vd.rb.width:a.width,e=u.H.lp?u.H.vd.rb.height:a.height;d*=b;e*=b;a=u.H.lp?u.H.vd.Re.getBoundingClientRect():a.Z().getBoundingClientRect();d=a.left+d/2;e=u.H.vw(d,a.top+e,d,a.top);u.H.xm(e.Jo,e.Ko,e.jo,e.ko)}else u.H.Ga()};u.Mc=function(a,b){a=this.Uc(a);null===a&&(a="");u.Mc.A.constructor.call(this,a,b)};n(u.Mc,u.R);u.Mc.pa=function(a){var b=u.g.bc(a.text);b=new u.Mc(b);"boolean"===typeof a.spellcheck&&(b.my=a.spellcheck);return b};u.Mc.prototype.hg=!0;u.Mc.vz=11;c=u.Mc.prototype;c.nn="text";c.my=!0;c.Uc=function(a){return null===a||void 0===a?null:String(a)};c.Yv=function(){if(this.Mo){this.$r=!1;var a=this.Aa;this.Aa=this.ve.ZE;this.G&&u.i.isEnabled()&&u.i.ma(new u.i.lf(this.G,"field",this.name,a,this.Aa))}};
c.mh=function(a){this.$r=!0;this.Aa=a;this.Mo||(this.xa=String(a),this.Xe=!0)};c.Tf=function(){u.Mc.A.Tf.call(this);if(this.Mo){if(this.G.C){var a=this;setTimeout(function(){Di(a)},0)}else Di(this);this.$r?u.g.j.Gb(this.ve,"blocklyInvalidInput"):u.g.j.fb(this.ve,"blocklyInvalidInput")}};c.ef=function(a){this.s=this.G.B;a=a||!1;!a&&(u.g.userAgent.au||u.g.userAgent.Cj||u.g.userAgent.gi)?Ei(this):(this.Mo=!0,u.$.show(this,this.G.C,this.tt.bind(this)),this.ve=this.st(),a||(this.ve.focus(),this.ve.select()))};
function Ei(a){u.prompt(u.h.CHANGE_VALUE_TITLE,a.xa,function(b){a.setValue(b)})}c.st=function(){var a=u.$.wa,b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.my);var d=u.Mc.vz*this.s.scale+"pt";a.style.fontSize=d;b.style.fontSize=d;a.appendChild(b);b.value=b.defaultValue=this.Aa;b.ZE=this.Aa;b.sx=null;var e=this;setTimeout(function(){Di(e)},0);Fi(this,b);return b};
c.tt=function(){this.Mo=!1;this.Aa!==this.xa&&(this.xa=String(this.Aa),this.$r=!0,ub(this));this.RD&&this.RD(this.Aa);u.gb(this.UD);u.gb(this.WD);var a=u.$.wa.style;a.width="auto";a.height="auto";a.fontSize=""};function Fi(a,b){a.UD=u.da(b,"keydown",a,a.TD);a.WD=u.da(b,"input",a,a.SD)}c.TD=function(a){13==a.keyCode?u.$.Ga():27==a.keyCode?(this.ve.value=this.ve.defaultValue,u.$.Ga()):9==a.keyCode&&(u.$.Ga(),Ai(this.G,this,!a.shiftKey),a.preventDefault())};
c.SD=function(){var a=this.ve.value;a!==this.ve.sx&&(this.ve.sx=a,u.i.ea(!0),this.setValue(a),this.xa=this.ve.value,ub(this),u.i.ea(!1))};function Di(a){var b=u.$.wa,d=fc(a);b.style.width=d.right-d.left+"px";b.style.height=d.bottom-d.top+"px";a=new u.g.T(a.G.C?d.right-b.offsetWidth:d.left,d.top);a.y+=1;u.g.userAgent.St&&u.$.wa.style.top&&(--a.x,--a.y);u.g.userAgent.Ku&&(a.y-=3);b.style.left=a.x+"px";b.style.top=a.y+"px"}
u.Mc.ND=function(a){console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.");if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);return isNaN(a)?null:String(a)};u.Mc.qG=function(a){(a=u.Mc.ND(a))&&(a=String(Math.max(0,Math.floor(a))));return a};u.R.register("field_input",u.Mc);u.ca=function(a,b){a=this.Uc(a);null===a&&(a=0);u.ca.A.constructor.call(this,a,b)};n(u.ca,u.Mc);u.ca.pa=function(a){return new u.ca(a.angle)};u.ca.prototype.hg=!0;u.ca.eq=15;u.ca.Vb=50;u.ca.jn=!1;u.ca.Ke=0;u.ca.Lu=360;u.ca.gg=u.ca.Vb-1;c=u.ca.prototype;c.Mf=function(){u.ca.A.Mf.call(this);this.wy=u.g.j.I("tspan",{},null);this.wy.appendChild(document.createTextNode("\u00b0"));this.Hb.appendChild(this.wy)};c.Tf=function(){u.ca.A.Tf.call(this);Gi(this)};
c.ef=function(){u.ca.A.ef.call(this,u.g.userAgent.au||u.g.userAgent.Cj||u.g.userAgent.gi);var a=this.fr();u.H.nw().appendChild(a);a=ti(this.G);a=a.On||a.Iq;u.H.dc(this.G.hh,a);u.H.ky(this,this.gr.bind(this));Gi(this)};
c.fr=function(){var a=u.g.j.I("svg",{xmlns:u.g.j.fa,"xmlns:html":u.g.j.rf,"xmlns:xlink":u.g.j.ta,version:"1.1",height:2*u.ca.Vb+"px",width:2*u.ca.Vb+"px"},null),b=u.g.j.I("circle",{cx:u.ca.Vb,cy:u.ca.Vb,r:u.ca.gg,"class":"blocklyAngleCircle"},a);this.no=u.g.j.I("path",{"class":"blocklyAngleGauge"},a);this.ax=u.g.j.I("line",{x1:u.ca.Vb,y1:u.ca.Vb,"class":"blocklyAngleLine"},a);for(var d=0;360>d;d+=15)u.g.j.I("line",{x1:u.ca.Vb+u.ca.gg,y1:u.ca.Vb,x2:u.ca.Vb+u.ca.gg-(0==d%45?10:5),y2:u.ca.Vb,"class":"blocklyAngleMarks",
transform:"rotate("+d+","+u.ca.Vb+","+u.ca.Vb+")"},a);this.sB=u.wc(a,"click",this,this.WC);this.DD=u.wc(b,"mousemove",this,this.zx);this.ED=u.wc(this.no,"mousemove",this,this.zx);return a};c.gr=function(){u.gb(this.sB);u.gb(this.DD);u.gb(this.ED)};c.WC=function(){u.H.Mi(this);u.$.Ga()};
c.zx=function(a){var b=this.no.ownerSVGElement.getBoundingClientRect(),d=a.clientX-b.left-u.ca.Vb;b=a.clientY-b.top-u.ca.Vb;a=Math.atan(-b/d);isNaN(a)||(a=u.g.we.RE(a),0>d?a+=180:0<b&&(a+=360),a=u.ca.jn?u.ca.Ke+360-a:360-(u.ca.Ke-a),360<a&&(a-=360),u.ca.eq&&(a=Math.round(a/u.ca.eq)*u.ca.eq),a>u.ca.Lu&&(a-=360),d=String(a),d!=this.xa&&(this.ve.value=a,this.setValue(a),this.xa=d,ub(this)))};
function Gi(a){if(a.no){var b=Number(a.kc())+u.ca.Ke,d=u.g.we.Sm(b%360);b=["M ",u.ca.Vb,",",u.ca.Vb];var e=u.ca.Vb,f=u.ca.Vb;if(!isNaN(d)){var g=u.g.we.Sm(u.ca.Ke),k=Math.cos(g)*u.ca.gg,l=Math.sin(g)*-u.ca.gg;u.ca.jn&&(d=2*g-d);e+=Math.cos(d)*u.ca.gg;f-=Math.sin(d)*u.ca.gg;d=Math.abs(Math.floor((d-g)/Math.PI)%2);u.ca.jn&&(d=1-d);b.push(" l ",k,",",l," A ",u.ca.gg,",",u.ca.gg," 0 ",d," ",Number(u.ca.jn)," ",e,",",f," z")}a.no.setAttribute("d",b.join(""));a.ax.setAttribute("x2",e);a.ax.setAttribute("y2",
f)}}c.Uc=function(a){a=Number(a)%360;if(isNaN(a))return null;0>a&&(a+=360);a>u.ca.Lu&&(a-=360);return a};u.R.register("field_angle",u.ca);u.jd=function(a,b){a=this.Uc(a);null===a&&(a="FALSE");u.jd.A.constructor.call(this,a,b);this.rb.width=u.jd.GA};n(u.jd,u.R);u.jd.pa=function(a){return new u.jd(a.checked)};u.jd.GA=15;u.jd.Zy="\u2713";u.jd.$y=u.R.ci-3;u.jd.az=14;c=u.jd.prototype;c.hg=!0;c.nn="default";c.Xe=!1;
c.Mf=function(){u.jd.A.Mf.call(this);this.Hb.setAttribute("x",u.jd.$y);this.Hb.setAttribute("y",u.jd.az);u.g.j.fb(this.Hb,"blocklyCheckbox");this.Hb.appendChild(document.createTextNode(u.jd.Zy));this.Hb.style.display=this.Aa?"block":"none"};c.ef=function(){this.setValue(!this.Aa)};c.Uc=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};c.mh=function(a){this.Aa=Hi(a);this.Hb&&(this.Hb.style.display=this.Aa?"block":"none")};c.getValue=function(){return this.Aa?"TRUE":"FALSE"};
c.kc=function(){return String(Hi(this.Aa))};function Hi(a){return"string"==typeof a?"TRUE"==a:!!a}u.R.register("field_checkbox",u.jd);u.g.nb={};u.g.nb.parse=function(a){a=String(a).toLowerCase().trim();var b=u.g.nb.names[a];if(b)return b;b="#"==a[0]?a:"#"+a;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),b=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=b&&256>b&&0<=d&&256>d)?u.g.nb.Ss(a,b,d):null};
u.g.nb.Ss=function(a,b,d){b=a<<16|b<<8|d;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)};u.g.nb.Jw=function(a){a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
u.g.nb.YC=function(a){var b=u.Bz,d=255*u.Cz,e=0,f=0,g=0;if(0==b)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-b);var m=d*(1-b*l);b=d*(1-b*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=b;break;case 3:e=a;f=m;g=d;break;case 4:e=b;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=b,g=a}}return u.g.nb.Ss(Math.floor(e),Math.floor(f),Math.floor(g))};
u.g.nb.xq=function(a,b,d){a=u.g.nb.Jw(u.g.nb.parse(a));b=u.g.nb.Jw(u.g.nb.parse(b));return u.g.nb.Ss(Math.round(b[0]+d*(a[0]-b[0])),Math.round(b[1]+d*(a[1]-b[1])),Math.round(b[2]+d*(a[2]-b[2])))};u.g.nb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};u.tc=function(a,b){a=this.Uc(a);null===a&&(a=u.tc.Ht[0]);u.tc.A.constructor.call(this,a,b)};n(u.tc,u.R);u.tc.pa=function(a){var b=new u.tc(a.colour);if(a.colourOptions){var d=a.colourTitles;b.mv=a.colourOptions;d&&(b.zy=d)}a.columns&&b.setColumns(a.columns);return b};u.tc.gz=26;u.tc.jF=u.R.fn;c=u.tc.prototype;c.hg=!0;c.nn="default";c.Xe=!1;c.mv=null;c.zy=null;c.nv=0;c.kz="silver";c.jz="white";
c.Mf=function(){this.rb=new u.g.sf(u.tc.gz,u.R.fn);bc(this);this.Nd.style.fillOpacity=1;this.Nd.style.fill=this.Aa};c.Uc=function(a){return"string"!=typeof a?null:u.g.nb.parse(a)};c.mh=function(a){this.Aa=a;this.Nd&&(this.Nd.style.fill=a)};c.kc=function(){var a=this.Aa;/^#(.)\1(.)\2(.)\3$/.test(a)&&(a="#"+a[1]+a[3]+a[5]);return a};u.tc.Ht="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");
u.tc.yA=[];u.tc.cz=7;c=u.tc.prototype;c.setColumns=function(a){this.nv=a;return this};c.ef=function(){var a=this.fr();u.H.nw().appendChild(a);u.H.dc(this.jz,this.kz);u.H.ky(this,this.gr.bind(this))};c.um=function(a){(a=a.target)&&!a.label&&(a=a.parentNode);a=a&&a.label;null!==a&&(this.setValue(a),u.H.Mi(this))};
c.fr=function(){var a=this.nv||u.tc.cz,b=this.mv||u.tc.Ht,d=this.zy||u.tc.yA,e=this.getValue(),f=document.createElement("table");f.className="blocklyColourTable";for(var g,k=0;k<b.length;k++){0==k%a&&(g=document.createElement("tr"),f.appendChild(g));var l=document.createElement("td");g.appendChild(l);var m=document.createElement("div");l.appendChild(m);l.label=b[k];l.title=d[k]||b[k];m.style.backgroundColor=b[k];b[k]==e&&(m.className="blocklyColourSelected")}this.Ek=u.wc(f,"mouseup",this,this.um);
return f};c.gr=function(){u.gb(this.Ek)};u.R.register("field_colour",u.tc);u.di=function(a,b){u.di.A.constructor.call(this,a,b)};n(u.di,u.pf);u.di.pa=function(a){var b=u.g.bc(a.text);return new u.di(b,a["class"])};u.di.prototype.Vg=!1;u.di.prototype.hg=!0;u.R.register("field_label_serializable",u.di);u.de=function(a,b,d,e,f,g){this.G=null;if(!a)throw Error("Src value of an image field is required");if(isNaN(d)||isNaN(b))throw Error("Height and width values of an image field must cast to numbers.");d=Number(d);b=Number(b);if(0>=d||0>=b)throw Error("Height and width values of an image field must be greater than 0.");this.bD=d;this.rb=new u.g.sf(b,d+u.de.JA);this.fw=g;this.xa=e||"";this.setValue(a||"");"function"==typeof f&&(this.hv=f)};n(u.de,u.R);
u.de.pa=function(a){var b=u.g.bc(a.src),d=Number(u.g.bc(a.width)),e=Number(u.g.bc(a.height)),f=u.g.bc(a.alt);return new u.de(b,d,e,f,null,!!a.flipRtl)};u.de.JA=1;c=u.de.prototype;c.Vg=!1;c.Xe=!1;c.Mf=function(){this.Cd=u.g.j.I("image",{height:this.bD+"px",width:this.rb.width+"px",alt:this.xa},this.Re);this.Cd.setAttributeNS(u.g.j.ta,"xlink:href",this.Aa)};c.Uc=function(a){return"string"!=typeof a?null:a};c.mh=function(a){this.Aa=a;this.Cd&&this.Cd.setAttributeNS(u.g.j.ta,"xlink:href",this.Aa||"")};
c.Wf=function(a){null!==a&&(this.xa=a,this.Cd&&this.Cd.setAttribute("alt",a||""))};c.ef=function(){this.hv&&this.hv(this)};u.R.register("field_image",u.de);u.ei=function(a,b,d,e,f){e=Number(e);this.mp=isNaN(e)?0:e;e=this.mp.toString();var g=e.indexOf(".");this.jw=-1==g?-1:e.length-(g+1);b=Number(b);this.AD=isNaN(b)?-Infinity:b;d=Number(d);this.xD=isNaN(d)?Infinity:d;this.setValue(this.getValue());a=this.Uc(a);null===a&&(a=0);u.ei.A.constructor.call(this,a,f)};n(u.ei,u.Mc);u.ei.pa=function(a){return new u.ei(a.value,a.min,a.max,a.precision)};u.ei.prototype.hg=!0;
u.ei.prototype.Uc=function(a){if(null===a||void 0===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.AD),this.xD);this.mp&&isFinite(a)&&(a=Math.round(a/this.mp)*this.mp);return a=-1==this.jw?a:Number(a.toFixed(this.jw))};u.R.register("field_number",u.ei);u.qf=function(a,b,d,e){this.Xi=u.qf.aC;this.rb=new u.g.sf(0,u.o.hl);b&&(this.Ap=b);this.NB=a||"";a=e||"";if(null==d||void 0==d)d=null;else if(Array.isArray(d)){b=!1;for(e=0;e<d.length;e++)d[e]==a&&(b=!0);if(!b)throw Error("Invalid default type '"+a+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.MB=a;this.$E=d;this.Aa=null};n(u.qf,u.Ea);
u.qf.pa=function(a){var b=u.g.bc(a.variable);return new u.qf(b,null,a.variableTypes,a.defaultType)};c=u.qf.prototype;c.s=null;c.hg=!0;c.Pi=function(){if(!this.hd){var a=u.aa.rw(this.s,null,this.NB,this.MB);u.i.disable();this.setValue(a.Ka());u.i.enable()}};
c.Ei=function(a){var b=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=u.aa.rw(this.s,b,d,e);if(null!=e&&e!==b.type)throw Error("Serialized variable type with id '"+b.Ka()+"' had type "+b.type+", and does not match variable field that references it: "+u.S.Vc(a)+".");this.setValue(b.Ka())};c.Tm=function(a){this.Pi();a.id=this.hd.Ka();a.textContent=this.hd.name;this.hd.type&&a.setAttribute("variabletype",this.hd.type);return a};
c.ft=function(a){if(a.bb)throw Error("Variable fields are not allowed to exist on shadow blocks.");u.qf.A.ft.call(this,a);this.s=a.B};c.getValue=function(){return this.hd?this.hd.Ka():null};c.kc=function(){return this.hd?this.hd.name:""};c.Te=function(){return this.hd};c.Br=function(){return this.hd?this.Ap:null};
c.Uc=function(a){var b=u.aa.Te(this.s,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;var d;a:if(d=Ii(this)){for(var e=0;e<d.length;e++)if(b==d[e]){d=!0;break a}d=!1}else d=!0;return d?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)};c.mh=function(a){this.hd=u.aa.Te(this.s,a);this.Aa=a;this.xa=this.hd.name;this.Xe=!0};
function Ii(a){var b=a.$E;if(null===b&&a.s)return a.s.Cr();b=b||[""];if(0==b.length)throw a=a.kc(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
u.qf.aC=function(){if(!this.hd)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.kc(),b=[];if(this.s)for(var d=Ii(this),e=0;e<d.length;e++)b=b.concat(this.s.Ul(d[e]));b.sort(u.Sj.Kq);d=[];for(e=0;e<b.length;e++)d[e]=[b[e].name,b[e].Ka()];d.push([u.h.RENAME_VARIABLE,u.xu]);u.h.DELETE_VARIABLE&&d.push([u.h.DELETE_VARIABLE.replace("%1",a),u.Qt]);return d};
u.qf.prototype.vx=function(a){a=a.getValue();if(this.s){if(a==u.xu){u.aa.Ls(this.s,this.hd);return}if(a==u.Qt){this.s.Bi(this.hd.Ka());return}}this.setValue(a)};u.qf.prototype.pp=function(){return!0};u.R.register("field_variable",u.qf);u.Generator=function(a){this.ID=a};u.Generator.Lj="generated_function";c=u.Generator.prototype;c.Ij=null;c.Dn=null;c.En=null;c.Ez="  ";c.dz=60;c.An=[];
function Ji(){var a=u.L,b=H;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=u.Ad());var d=[];a.za(b);b=A(b,!0);for(var e=0,f;f=b[e];e++){var g=Ki(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.X&&(g=a.Xx(g),a.Dn&&!f.nt&&(g=Li(a.Dn,f)+g),a.En&&!f.nt&&(g+=Li(a.En,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");return d=d.replace(/[ \t]+\n/g,"\n")}function Mi(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function Ki(a,b){if(!b)return"";if(!b.isEnabled())return Ki(a,w(b));var d=a[b.type];if("function"!=typeof d)throw Error('Language "'+a.ID+'" does not know how to generate  code for block type "'+b.type+'".');d=d.call(b,b);if(Array.isArray(d)){if(!b.X)throw TypeError("Expecting string from statement block: "+b.type);return[a.Us(b,d[0],void 0),d[1]]}if("string"==typeof d)return a.Dn&&!b.nt&&(d=Li(a.Dn,b)+d),a.En&&!b.nt&&(d+=Li(a.En,b)),a.Us(b,d,void 0);if(null===d)return"";throw SyntaxError("Invalid code generated: "+
d);}
function Ni(a,b,d){var e=u.L;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=zi(a,b);if(!f)return"";b=Ki(e,f);if(""===b)return"";if(!Array.isArray(b))throw TypeError("Expecting tuple from value block: "+f.type);a=b[0];b=b[1];if(isNaN(b))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var g=Math.floor(d),k=Math.floor(b);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<e.An.length;g++)if(e.An[g][0]==d&&e.An[g][1]==b){f=!1;break}f&&(a=
"("+a+")");return a}function Pi(a,b){var d=u.L;a=zi(a,b);b=Ki(d,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=Mi(b,d.Ez));return b}function Li(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}c.cq="";function Qi(a){var b=u.L;b.cq+=a+","}c.za=function(){};c.Us=function(a,b){return b};c.finish=function(a){return a};c.Xx=function(a){return a};u.F=function(a,b,d){if(!b)throw Error("Cannot create a node without a location.");this.gd=a;this.fm=u.F.kD(a);this.ra=b;if(a=d||null)a.wsCoordinate?this.Xk=a.wsCoordinate:a.input&&(this.jE=a.input)};u.F.types={eg:"field",De:"block",Yg:"input",mi:"output",fg:"next",ni:"previous",Le:"stack",kg:"workspace"};u.F.Ry=10;u.F.fz=-20;u.F.kD=function(a){switch(a){case u.F.types.ni:case u.F.types.fg:case u.F.types.Yg:case u.F.types.mi:return!0}return!1};u.F.Gl=function(a){return new u.F(u.F.types.eg,a)};
u.F.zf=function(a){return a?a.type===u.Oa||a.type===u.Ma&&a.Jf()?u.F.xi(a.Jf()):a.type===u.Ma?new u.F(u.F.types.fg,a):a.type===u.ee?new u.F(u.F.types.mi,a):a.type===u.fe?new u.F(u.F.types.ni,a):null:null};u.F.xi=function(a){return a?new u.F(u.F.types.Yg,a.connection,{input:a}):null};u.F.yf=function(a){return new u.F(u.F.types.De,a)};u.F.Un=function(a){return new u.F(u.F.types.Le,a)};u.F.Hl=function(a,b){return new u.F(u.F.types.kg,a,{wsCoordinate:b})};c=u.F.prototype;c.Jf=function(){return this.jE};
function Ri(a,b){a=a.ra;a instanceof u.$k||(a=a.G);if(!a)return null;var d=Wa(a);a=A(d.B,!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return b=e+(b?1:-1),-1==b||b==a.length?null:u.F.Un(a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!?!?!");}function Si(a){if(a.Y)for(;a&&a.Y&&a.Y.sa&&x(a.Y).ba==a.Y.sa;)a=x(a.Y);var b=a.Y||a.X;return b&&b.sa&&b.sa.Jf()?u.F.xi(b.sa.Jf()):u.F.Un(a)}
c.next=function(){switch(this.gd){case u.F.types.kg:return u.F.Hl(this.ra,new u.g.T(this.Xk.x+u.F.Ry,this.Xk.y));case u.F.types.Le:return Ri(this,!0);case u.F.types.mi:return u.F.yf(this.ra.G);case u.F.types.eg:a:{var a=this.ra;var b=a.Jf();var d=a.G;a=b.Ca.indexOf(a)+1;for(var e=d.W.indexOf(b);b=d.W[e];e++){for(var f=b.Ca;a<f.length;){if(dc(f[a])){b=u.F.Gl(f[a]);break a}a++}a=0;if(b.connection){b=u.F.xi(b);break a}}b=null}return b;case u.F.types.Yg:a:{d=this.ra.Jf();b=d.G;for(d=b.W.indexOf(d)+1;a=
b.W[d];d++){e=a.Ca;f=0;for(var g;g=e[f];f++)if(dc(g)){b=u.F.Gl(g);break a}if(a.connection){b=u.F.xi(a);break a}}b=null}return b;case u.F.types.De:if(b=this.ra.ba)return u.F.zf(b);break;case u.F.types.ni:return u.F.yf(this.ra.G);case u.F.types.fg:if(b=this.ra.sa)return u.F.zf(b)}return null};
c.dm=function(){switch(this.gd){case u.F.types.kg:var a=A(this.ra,!0);if(0<a.length)return u.F.Un(a[0]);break;case u.F.types.Le:a=this.ra;var b=a.Y||a.X;return b?u.F.zf(b):u.F.yf(a);case u.F.types.De:a:{a=this.ra.W;b=0;for(var d;d=a[b];b++){for(var e=d.Ca,f=0,g;g=e[f];f++)if(dc(g)){a=u.F.Gl(g);break a}if(d.connection){a=u.F.xi(d);break a}}a=null}return a;case u.F.types.Yg:if(a=this.ra.sa)return u.F.zf(a)}return null};
c.Hk=function(){switch(this.gd){case u.F.types.kg:return u.F.Hl(this.ra,new u.g.T(this.Xk.x-u.F.Ry,this.Xk.y));case u.F.types.Le:return Ri(this,!1);case u.F.types.eg:a:{var a=this.ra;var b=a.Jf();var d=a.G;a=b.Ca.indexOf(a)-1;for(var e=d.W.indexOf(b),f;f=d.W[e];e--){if(f.connection&&f!==b){b=u.F.xi(f);break a}for(f=f.Ca;-1<a;){if(dc(f[a])){b=u.F.Gl(f[a]);break a}a--}0<=e-1&&(a=d.W[e-1].Ca.length-1)}b=null}return b;case u.F.types.Yg:a:{b=this.ra.Jf();d=b.G;for(a=d.W.indexOf(b);e=d.W[a];a--){if(e.connection&&
e!==b){b=u.F.xi(e);break a}e=e.Ca;f=e.length-1;for(var g;g=e[f];f--)if(dc(g)){b=u.F.Gl(g);break a}}b=null}return b;case u.F.types.De:b=this.ra.X;if(b=this.ra.Y||b)return u.F.zf(b);break;case u.F.types.ni:if(b=this.ra.sa)return u.F.zf(b);break;case u.F.types.fg:return u.F.yf(this.ra.G)}return null};
c.wm=function(){switch(this.gd){case u.F.types.Le:var a=this.ra.Fa();return u.F.Hl(this.ra.B,new u.g.T(a.x,a.y+u.F.fz));case u.F.types.mi:return(a=this.ra.sa)?u.F.zf(a):u.F.Un(this.ra.G);case u.F.types.eg:return u.F.yf(this.ra.G);case u.F.types.Yg:return u.F.yf(this.ra.G);case u.F.types.De:return Si(this.ra);case u.F.types.ni:return Si(this.ra.G);case u.F.types.fg:return Si(this.ra.G)}return null};u.v={};u.v.zc=null;u.v.Gh=null;u.v.qd=null;u.v.Ff=null;u.v.Ak=null;u.v.zu=1;u.v.iq=2;u.v.Au=3;u.v.Wn=u.v.iq;u.v.ay=function(a){u.v.zc=a};u.v.AE=function(a){u.v.Gh=a};u.v.ks=function(){sb(u.v.Gh,u.v.zc.xb)};u.v.rE=function(){sb(u.v.Gh,null);u.v.Gh.Ga()};u.v.hw=function(){u.v.Tx(!1);u.v.Wn=u.v.Au;var a=u.Ad(),b=a.ia;u.v.Gh.xb||u.v.ks();a&&!u.v.qd&&(u.v.qd=b.Jc.mr);b.Jc.Vf(u.v.qd)};u.v.JD=function(){if(u.v.qd){var a=Ti(u.v.qd);a&&(a.select(),u.v.qd=a)}};
u.v.oE=function(){if(u.v.qd){var a=Ui(u.v.qd);a&&(a.select(),u.v.qd=a)}};u.v.eD=function(){if(u.v.qd){var a=u.v.qd;If(a)?a.Bc()?(E(a,0).select(),u.v.qd=E(a,0)):a.Wd(!0):u.v.gw()}};u.v.hE=function(){if(u.v.qd){var a=u.v.qd;if(If(a)&&a.Bc()&&a.yk)a.Wd(!1);else{var b=a.getParent();a=a.Xc();b&&(a.Uh||b!=a)&&(b.select(),u.v.qd=b)}}};
u.v.gw=function(){u.v.Wn=u.v.zu;var a=u.Ad();var b=a.ia,d=u.v.zc;a=b?b.P:ii(a);u.v.Gh.xb||u.v.ks();a&&a.sh()&&(a=A(a.sh()),0<a.length&&(a=a[0],u.v.Ff=a,a=u.F.yf(u.v.Ff),sb(d,a)))};u.v.xE=function(){if(u.v.Ff){var a=u.v.qw(),b=a.indexOf(u.v.Ff),d=u.v.zc,e;-1<b&&a[++b]&&(e=a[b]);e&&(u.v.Ff=e,a=u.F.yf(e),sb(d,a))}};u.v.yE=function(){if(u.v.Ff){var a=u.v.qw(),b=a.indexOf(u.v.Ff),d=u.v.zc,e;-1<b&&a[--b]&&(e=a[b]);e&&(u.v.Ff=e,a=u.F.yf(e),sb(d,a))}};
u.v.qw=function(){var a=u.Ad(),b=a.ia,d=[];(a=b?b.P:ii(a))&&a.sh()&&(d=A(a.sh()));return d};u.v.jD=function(){var a=ii(u.Ad());if(a&&a.isVisible()){var b=Sb(a,u.v.Ff);b.qa();Ma(b,!1);sb(u.v.zc,u.F.yf(b));u.v.modify()||u.v.warn("Something went wrong while inserting a block from the flyout.");u.v.mo();a=b.Y;b=b.X;a=u.F.zf(a?a:b);sb(u.v.zc,a);u.v.rE()}else u.v.warn("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
u.v.Tx=function(a){var b=u.v.zc;u.v.Ff=null;b.Ga();a&&ii(b.s).Ga()};
u.v.modify=function(){var a=u.v.Gh.xb,b=u.v.zc.xb;if(!a)return u.v.warn("Cannot insert with no marked node."),!1;if(!b)return u.v.warn("Cannot insert with no cursor node."),!1;var d=a.gd,e=b.gd;if(d==u.F.types.eg)return u.v.warn("Should not have been able to mark a field."),!1;if(d==u.F.types.De)return u.v.warn("Should not have been able to mark a block."),!1;if(d==u.F.types.Le)return u.v.warn("Should not have been able to mark a stack."),!1;if(e==u.F.types.eg)return u.v.warn("Cannot attach a field to anything else."),
!1;if(e==u.F.types.kg)return u.v.warn("Cannot attach a workspace to anything else."),!1;var f=b.ra,g=a.ra;if(a.fm){if(b.fm)return u.v.connect(f,g);if(e==u.F.types.De||e==u.F.types.Le)return u.v.Pw(f,g)}else if(d==u.F.types.kg){if(b.fm){if(e==u.F.types.Yg||e==u.F.types.fg)return u.v.warn("Cannot move a next or input connection to the workspace."),!1;b=f.G}else if(e==u.F.types.De||e==u.F.types.Le)b=f;else return!1;if(b.bb)return u.v.warn("Cannot move a shadow block to the workspace."),!1;b.getParent()&&
Ha(b,!1);b.moveTo(a.Xk);return!0}u.v.warn("Unexpected state in Blockly.Navigation.modify.");return!1};u.v.connect=function(a,b){if(a){var d=a.G;if(b.type==u.fe||b.type==u.ee)a.type!=u.Ma&&a.type!=u.Oa||d.moveBy(b.zb-a.zb,b.Va-a.Va);try{return b.connect(a),!0}catch(e){u.v.warn("Connection failed with error: "+e)}}return!1};
u.v.fC=function(a,b){if(!a||!b)return null;if(b.type===u.fe)return a.ba;if(b.type===u.Ma)return a.Y;if(b.type===u.Oa)return a.X;if(b.type===u.ee)for(b=0;b<a.W.length;b++){var d=a.W[b].connection;if(d.type===u.Oa)return d}return null};u.v.Pw=function(a,b){(a=u.v.fC(a,b))&&a.isConnected()&&!x(a).bb?a.disconnect():a||u.v.warn("This block can not be inserted at the marked location.");return u.v.connect(a,b)};
u.v.VB=function(){var a=u.v.zc.xb;if(a.fm){var b=a.ra;b.isConnected()?(a=Ta(b)?b:b.sa,b=Ta(b)?b.sa:b,b.G.bb?u.v.log("Cannot disconnect a shadow block"):(a.disconnect(),Ra(b,a),pb(Wa(a.G)),a=u.F.zf(a),sb(u.v.zc,a))):u.v.log("Cannot disconnect unconnected connection")}else u.v.log("Cannot disconnect blocks when the cursor is not on a connection")};
u.v.mo=function(){var a=u.v.zc;u.v.Tx(u.Ad().ia?!0:!1);u.v.Wn=u.v.iq;u.v.bC();if(u.selected){var b=u.selected.Y,d=u.selected.X;b=u.F.zf(b?b:d);sb(a,b);u.selected.Ae()}else b=u.F.Hl(a.s,new u.g.T(100,100)),sb(a,b)};u.v.GC=function(){var a=u.v.zc.xb,b=a.gd;b===u.F.types.eg?a.ra.ef():a.fm||b==u.F.types.kg?u.v.ks():b==u.F.types.De?u.v.warn("Cannot mark a block."):b==u.F.types.Le&&u.v.warn("Cannot mark a stack.")};
u.v.navigate=function(a){var b=u.v.Wn;if(84===a.keyCode)return u.Ad().ia?(u.v.hw(),u.v.log("T: Focus Toolbox")):(u.v.gw(),u.v.log("T: Focus Flyout")),!0;if(b===u.v.zu)return u.v.jC(a);if(b===u.v.iq)return u.v.eF(a);if(b===u.v.Au)return u.v.UE(a);u.v.log("Not a valid key ");return!1};
u.v.jC=function(a){return 87===a.keyCode?(u.v.yE(),u.v.log("W: Flyout : Previous"),!0):65===a.keyCode?(u.v.hw(),u.v.log("A: Flyout : Go To Toolbox"),!0):83===a.keyCode?(u.v.xE(),u.v.log("S: Flyout : Next"),!0):13===a.keyCode?(u.v.jD(),u.v.log("Enter: Flyout : Select"),!0):69===a.keyCode||27===a.keyCode?(u.v.mo(),u.v.log("E or ESC: Flyout: Exit"),!0):!1};
u.v.UE=function(a){return 87===a.keyCode?(u.v.oE(),u.v.log("W: Toolbox : Previous"),!0):65===a.keyCode?(u.v.hE(),u.v.log("A: Toolbox : Out"),!0):83===a.keyCode?(u.v.JD(),u.v.log("S: Toolbox : Next"),!0):68===a.keyCode?(u.v.eD(),u.v.log("D: Toolbox : Go to flyout"),!0):13===a.keyCode?!0:69===a.keyCode||27===a.keyCode?(u.v.log("E or ESC: Toolbox: Exit"),u.v.mo(),!0):!1};
u.v.eF=function(a){return 87===a.keyCode?(u.v.zc.Hk(),u.v.log("W: Workspace : Out"),!0):65===a.keyCode?(u.v.zc.wm(),u.v.log("S: Workspace : Previous"),!0):83===a.keyCode?(u.v.zc.next(),u.v.log("S: Workspace : In"),!0):68===a.keyCode?(u.v.zc.dm(),u.v.log("S: Workspace : Next"),!0):73===a.keyCode?(u.v.modify(),u.v.log("I: Workspace : Insert/Connect Blocks"),!0):13===a.keyCode?(u.v.GC(),u.v.log("Enter: Workspace : Mark"),!0):88===a.keyCode?(u.v.log("X: Workspace: Disconnect Blocks"),u.v.VB(),!0):!1};
u.v.bC=function(){u.Ui=!0};u.v.dG=function(){u.Ui=!1};u.v.log=function(a){u.v.Ak?u.v.Ak("log",a):console.log(a)};u.v.warn=function(a){u.v.Ak?u.v.Ak("warn",a):console.warn(a)};u.v.error=function(a){u.v.Ak?u.v.Ak("error",a):console.error(a)};u.Je=function(a,b){this.Iy=b||"";this.Sx=Object.create(null);if(a)for(a=a.split(","),b=0;b<a.length;b++)this.Sx[a[b]]=!0;this.reset()};u.Je.Op="DEVELOPER_VARIABLE";u.Je.prototype.reset=function(){this.Pe=Object.create(null);this.Mv=Object.create(null);this.La=null};
function Vi(a,b){var d=u.L.$m;if(b==u.aa.Lj){var e=a;d.La?e=(e=d.La.zg(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+b;var f=b==u.aa.Lj||b==u.Je.Op?d.Iy:"";if(e in d.Pe)return f+d.Pe[e];a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),
-1!="0123456789".indexOf(a[0])&&(a="my_"+a)):a=u.h.UNNAMED_KEY||"unnamed";for(var g="";d.Mv[a+g]||a+g in d.Sx;)g=g?g+1:2;a+=g;d.Mv[a]=!0;b=(b==u.aa.Lj||b==u.Je.Op?d.Iy:"")+a;d.Pe[e]=b.substr(f.length);return b}u.Je.Qe=function(a,b){return a.toLowerCase()==b.toLowerCase()};u.Ab={};u.Ab.Lj=u.pu;u.Ab.RA=function(a){a=B(a,!1);for(var b=[],d=[],e=0;e<a.length;e++)if(a[e].Hi){var f=a[e].Hi();f&&(f[2]?b.push(f):d.push(f))}d.sort(u.Ab.Mx);b.sort(u.Ab.Mx);return[d,b]};u.Ab.Mx=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};u.Ab.gC=function(a,b){if(b.sd)return a;for(a=a||u.h.UNNAMED_KEY||"unnamed";!u.Ab.lD(a,b.B,b);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};u.Ab.lD=function(a,b,d){return!u.Ab.nD(a,b,d)};
u.Ab.nD=function(a,b,d){b=B(b,!1);for(var e=0;e<b.length;e++)if(b[e]!=d&&b[e].Hi){var f=b[e].Hi();if(u.Je.Qe(f[0],a))return!0}return!1};u.Ab.wG=function(a){a=a.trim();var b=u.Ab.gC(a,this.G),d=this.getValue();if(d!=a&&d!=b){a=B(this.G.B,!1);for(var e=0;e<a.length;e++)a[e].sE&&a[e].sE(d,b)}return b};
u.Ab.ph=function(a){function b(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],p=g[l][1],r=u.g.xml.createElement("block");r.setAttribute("type",k);r.setAttribute("gap",16);var t=u.g.xml.createElement("mutation");t.setAttribute("name",m);r.appendChild(t);for(m=0;m<p.length;m++){var v=u.g.xml.createElement("arg");v.setAttribute("name",p[m]);t.appendChild(v)}d.push(r)}}var d=[];if(u.jb.procedures_defnoreturn){var e=u.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=u.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(u.g.xml.createTextNode(u.h.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}u.jb.procedures_defreturn&&(e=u.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=u.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(u.g.xml.createTextNode(u.h.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));u.jb.procedures_ifreturn&&(e=u.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=u.Ab.RA(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return d};u.Ab.pC=function(a,b){var d=[];b=B(b,!1);for(var e=0;e<b.length;e++)if(b[e].yC){var f=b[e].yC();f&&u.Je.Qe(f,a)&&d.push(b[e])}return d};
u.Ab.pG=function(a){var b=u.i.Gc,d=a.Hi()[0],e=a.Ed(!0);a=u.Ab.pC(d,a.B);d=0;for(var f;f=a[d];d++){var g=f.Ed();g=g&&u.S.Vc(g);f.tg(e);var k=f.Ed();k=k&&u.S.Vc(k);g!=k&&(u.i.Gc=!1,u.i.ma(new u.i.lf(f,"mutation",null,g,k)),u.i.Gc=b)}};u.Ab.lG=function(a,b){b=A(b,!1);for(var d=0;d<b.length;d++)if(b[d].Hi){var e=b[d].Hi();if(e&&u.Je.Qe(e[0],a))return b[d]}return null};u.fl=function(a,b,d,e){this.s=a;this.Ia=b;this.xa=d.getAttribute("text");this.cd=new u.g.T(0,0);this.Bh=e;this.Kn=d.getAttribute("callbackKey")||d.getAttribute("callbackkey");this.Av=d.getAttribute("web-class")||null};u.fl.ld=5;c=u.fl.prototype;c.width=0;c.height=0;c.ad=null;
c.ka=function(){var a=this.Bh?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.Av&&(a+=" "+this.Av);this.D=u.g.j.I("g",{"class":a},this.s.ab);if(!this.Bh)var b=u.g.j.I("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.D);a=u.g.j.I("rect",{"class":this.Bh?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.D);var d=u.g.j.I("text",{"class":this.Bh?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.D);d.textContent=u.g.bc(this.xa);
this.width=u.R.ro(d);this.height=20;this.Bh||(this.width+=2*u.fl.ld,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);d.setAttribute("x",this.width/2);d.setAttribute("y",this.height-u.fl.ld);Wi(this);this.ad=u.da(this.D,"mouseup",this,this.dE);return this.D};c.show=function(){Wi(this);this.D.setAttribute("display","block")};
function Wi(a){a.D.setAttribute("transform","translate("+a.cd.x+","+a.cd.y+")")}c.moveTo=function(a,b){this.cd.x=a;this.cd.y=b;Wi(this)};c.sw=function(){return this.cd};c.K=function(){this.ad&&u.gb(this.ad);this.D&&(u.g.j.removeNode(this.D),this.D=null);this.Ia=this.s=null};
c.dE=function(a){(a=this.Ia.If(a))&&a.cancel();this.Bh&&this.Kn?console.warn("Labels should not have callbacks. Label text: "+this.xa):this.Bh||this.Kn&&pi(this.Ia,this.Kn)?this.Bh||pi(this.Ia,this.Kn)(this):console.warn("Buttons should have callbacks. Button text: "+this.xa)};u.Fj=function(a){a.Eb=this.xg.bind(this);a.Jg=this.tp.bind(this);this.s=new u.Za(a);this.s.Ye=!0;this.C=!!a.C;this.Hd=a.ua;this.ir=[];this.$o=[];this.wl=[];this.ud=[];this.Cs=[]};c=u.Fj.prototype;c.Wj=!0;c.Dh=!1;c.wi=!0;c.O=8;c.ld=u.Fj.prototype.O;c.xz=3*u.Fj.prototype.ld;c.yz=3*u.Fj.prototype.ld;c.oi=2;c.va=0;c.Pa=0;c.Zv=70;
c.ka=function(a){this.D=u.g.j.I(a,{"class":"blocklyFlyout",style:"display: none"},null);this.$d=u.g.j.I("path",{"class":"blocklyFlyoutBackground"},this.D);this.D.appendChild(this.s.ka());return this.D};
c.za=function(a){this.Ia=a;this.s.tj=a;this.Rb=new u.Ba(this.s,this.We,!1,"blocklyFlyoutScrollbar");this.Ga();Array.prototype.push.apply(this.ir,u.da(this.D,"wheel",this,this.Ny));this.Wj||(this.io=this.kr.bind(this),this.Ia.Qc(this.io));Array.prototype.push.apply(this.ir,u.da(this.$d,"mousedown",this,this.Ih));this.s.If=this.Ia.If.bind(this.Ia);this.s.La=this.Ia.La;a=this.s;a.Lh=new u.pq(a)};
c.K=function(){this.Ga();u.gb(this.ir);this.io&&(this.Ia.hj(this.io),this.io=null);this.Rb&&(this.Rb.K(),this.Rb=null);this.s&&(this.s.tj=null,this.s.K(),this.s=null);this.D&&(u.g.j.removeNode(this.D),this.D=null);this.Ia=this.$d=null};c.Yc=function(){return this.va};c.ik=function(){return this.Pa};c.sh=function(){return this.s};c.isVisible=function(){return this.Dh};c.Ha=function(a){var b=a!=this.isVisible();this.Dh=a;b&&this.Ym()};c.lj=function(a){var b=a!=this.wi;this.wi=a;b&&this.Ym()};
c.Ym=function(){var a=this.wi?this.isVisible():!1;this.D.style.display=a?"block":"none";this.Rb.lj(a)};function Xi(a,b,d,e,f){a.D.setAttribute("width",b);a.D.setAttribute("height",d);"svg"==a.D.tagName?u.g.j.Dm(a.D,"translate("+e+"px,"+f+"px)"):a.D.setAttribute("transform","translate("+e+","+f+")");a.Rb&&(a.Rb.ws=new u.g.T(e,f),a.Rb.resize(),Kh(a.Rb,a.Rb.cd.x,a.Rb.cd.y))}
c.Ga=function(){if(this.isVisible()){this.Ha(!1);for(var a=0,b;b=this.ud[a];a++)u.gb(b);this.ud.length=0;this.Mh&&(this.s.hj(this.Mh),this.Mh=null)}};
c.show=function(a){this.s.rc(!1);this.Ga();Yi(this);if("string"==typeof a){a=this.s.tj.pt[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.s.tj);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.Ha(!0);var b=[],d=[];this.Cs.length=0;for(var e=this.We?this.xz:this.yz,f=0,g;g=a[f];f++)if(g.tagName)switch(g.tagName.toUpperCase()){case "BLOCK":var k=u.S.dk(g,this.s);k.isEnabled()||
this.Cs.push(k);b.push({type:"block",block:k});g=parseInt(g.getAttribute("gap"),10);d.push(isNaN(g)?e:g);break;case "SEP":g=parseInt(g.getAttribute("gap"),10);!isNaN(g)&&0<d.length?d[d.length-1]=g:d.push(e);break;case "LABEL":case "BUTTON":g=new u.fl(this.s,this.Ia,g,"LABEL"==g.tagName.toUpperCase()),b.push({type:"button",button:g}),d.push(e)}this.Zw(b,d);this.ud.push(u.da(this.$d,"mouseover",this,function(){for(var l=A(this.s,!1),m=0,p;p=l[m];m++)p.ij()}));this.We?this.Pa=0:this.va=0;this.s.rc(!0);
this.Js();this.kr();this.position();this.Mh=this.Js.bind(this);this.s.Qc(this.Mh)};function Yi(a){for(var b=A(a.s,!1),d=0,e;e=b[d];d++)e.B==a.s&&e.K(!1,!1);for(d=0;d<a.$o.length;d++)(b=a.$o[d])&&u.g.j.removeNode(b);for(d=a.$o.length=0;b=a.wl[d];d++)b.K();a.wl.length=0;a.s.Lh.clear()}
function Zi(a,b,d,e){a.ud.push(u.da(b,"mousedown",null,$i(a,d)));a.ud.push(u.da(e,"mousedown",null,$i(a,d)));a.ud.push(u.wc(b,"mouseover",d,d.Vj));a.ud.push(u.wc(b,"mouseout",d,d.ij));a.ud.push(u.wc(e,"mouseover",d,d.Vj));a.ud.push(u.wc(e,"mouseout",d,d.ij))}function $i(a,b){return function(d){var e=a.Ia.If(d);e&&($b(e,b),Zb(e,d,a))}}c.Ih=function(a){var b=this.Ia.If(a);b&&Zb(b,a,this)};c.Rw=function(a){return a.isEnabled()};
function Sb(a,b){var d=null;u.i.disable();var e=a.Ia.vg();a.Ia.rc(!1);try{var f=a.Ia;if(!b.Z())throw Error("oldBlock is not rendered.");var g=u.S.fh(b,!0);f.rc(!1);var k=u.S.dk(g,f);if(!k.Z())throw Error("block is not rendered.");var l=u.g.Ql(f.ab),m=u.g.Ql(a.s.ab),p=b.Fa();p.scale(a.s.scale);var r=u.g.T.sum(m,p),t=u.g.T.Jl(r,l);t.scale(1/f.scale);k.moveBy(t.x,t.y);d=k;u.lc()}finally{u.i.enable()}b=u.aa.lw(a.Ia,e);if(u.i.isEnabled())for(u.i.ea(!0),u.i.ma(new u.i.Fe(d)),e=0;e<b.length;e++)u.i.ma(new u.i.ie(b[e]));
a.Wj?a.Ga():a.kr();return d}function aj(a,b,d,e){var f=b.ka();b.moveTo(d,e);b.show();a.ud.push(u.da(f,"mousedown",a,a.Ih));a.wl.push(b)}function bj(a,b,d,e,f,g){d=u.g.j.I("rect",{"fill-opacity":0,x:d,y:e,height:f.height,width:f.width},null);d.gf=b;u.M.Xj(d);a.s.ab.insertBefore(d,b.Z());b.lo=d;return a.$o[g]=d}
function cj(a,b,d){var e=d.Db();b.setAttribute("width",e.width);b.setAttribute("height",e.height);var f=d.wp?u.o.Pj:0;f&&d.moveBy(0,f);f=d.X?u.o.ga:0;d=d.Fa();b.setAttribute("y",d.y);b.setAttribute("x",a.C?d.x-e.width+f:d.x-f)}c.kr=function(){for(var a=A(this.s,!1),b=0,d;d=a[b];b++)if(-1==this.Cs.indexOf(d))for(var e=Ab(this.Ia,u.g.tr(d));d;)d.Fd(e),d=w(d)};c.Js=function(){this.Mh&&this.s.hj(this.Mh);this.Px();this.Mh&&this.s.Qc(this.Mh)};function Qb(a){return a.Rb?a.Rb.isVisible():!1};u.Hj=function(a){a.Eb=this.xg.bind(this);a.Jg=this.tp.bind(this);u.Hj.A.constructor.call(this,a);this.We=!0};n(u.Hj,u.Fj);c=u.Hj.prototype;
c.xg=function(){if(!this.isVisible())return null;try{var a=this.s.ab.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.oi,d=this.oi;this.Hd==u.dh&&(b=0);var e=this.Pa;this.Hd==u.nd&&(e-=this.oi);return{cb:e,Ya:this.va-2*this.oi,pd:(a.height+2*this.ld)*this.s.scale,zd:(a.width+2*this.ld)*this.s.scale,Jb:-this.s.scrollY,vb:-this.s.scrollX,hc:0,yc:0,Cb:b,Bb:d}};
c.tp=function(a){var b=this.xg();b&&("number"==typeof a.x&&(this.s.scrollX=-b.zd*a.x),this.s.translate(this.s.scrollX+b.Bb,this.s.scrollY+b.Cb))};c.position=function(){if(this.isVisible()){var a=this.Ia.Eb();a&&(this.va=a.Ya,this.Ys(a.Ya-2*this.O,this.Pa-this.O),Xi(this,this.va,this.Pa,0,this.Ia.ua==this.Hd?a.Ay?this.Hd==u.nd?a.Ay:a.cb-this.Pa:this.Hd==u.nd?0:a.cb:this.Hd==u.nd?0:a.cb+a.Cb-this.Pa))}};
c.Ys=function(a,b){var d=this.Hd==u.nd,e=["M 0,"+(d?0:this.O)];d?(e.push("h",a+2*this.O),e.push("v",b),e.push("a",this.O,this.O,0,0,1,-this.O,this.O),e.push("h",-1*a),e.push("a",this.O,this.O,0,0,1,-this.O,-this.O)):(e.push("a",this.O,this.O,0,0,1,this.O,-this.O),e.push("h",a),e.push("a",this.O,this.O,0,0,1,this.O,this.O),e.push("v",b),e.push("h",-a-2*this.O));e.push("z");this.$d.setAttribute("d",e.join(" "))};c.Ts=function(){this.Rb.set(this.C?Infinity:0)};
c.Ny=function(a){var b=u.g.Ar(a),d=b.x||b.y;d&&(b=this.xg(),d=b.vb+d,d=Math.min(d,b.zd-b.Ya),d=Math.max(d,0),this.Rb.set(d),u.$.Ga());a.preventDefault();a.stopPropagation()};
c.Zw=function(a,b){this.s.scale=this.Ia.scale;var d=this.ld,e=this.C?d:d+u.o.ga;this.C&&(a=a.reverse());for(var f=0,g;g=a[f];f++)if("block"==g.type){g=g.block;for(var k=Ba(g,!1),l=0,m;m=k[l];l++)m.sd=!0;g.qa();k=g.Z();l=g.Db();m=g.X?u.o.ga:0;m=this.C?e+l.width:e+m;g.moveBy(m,d);m=bj(this,g,m,d,l,f);e+=l.width+b[f];Zi(this,k,g,m)}else"button"==g.type&&(aj(this,g.button,e,d),e+=g.button.width+b[f])};
c.Sw=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Zv;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};c.gk=function(){if(!this.D)return null;var a=this.D.getBoundingClientRect(),b=a.top;return this.Hd==u.nd?new u.g.Rect(-1E9,b+a.height,-1E9,1E9):new u.g.Rect(b,-1E9,-1E9,1E9)};
c.Px=function(){this.s.scale=this.Ia.scale;for(var a=0,b=A(this.s,!1),d=0,e;e=b[d];d++)a=Math.max(a,e.Db().height);a+=1.5*this.ld;a*=this.s.scale;a+=u.Ba.Qb;if(this.Pa!=a){for(d=0;e=b[d];d++)e.lo&&cj(this,e.lo,e);this.Pa=a;this.position()}};u.Tj=function(a){a.Eb=this.xg.bind(this);a.Jg=this.tp.bind(this);u.Tj.A.constructor.call(this,a);this.We=!1};n(u.Tj,u.Fj);c=u.Tj.prototype;c.xg=function(){if(!this.isVisible())return null;try{var a=this.s.ab.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.oi,d=this.Pa-2*this.oi,e=this.va;this.C||(e-=this.oi);return{cb:d,Ya:e,pd:a.height*this.s.scale+2*this.ld,zd:a.width*this.s.scale+2*this.ld,Jb:-this.s.scrollY+a.y,vb:-this.s.scrollX,hc:a.y,yc:a.x,Cb:b,Bb:0}};
c.tp=function(a){var b=this.xg();b&&("number"==typeof a.y&&(this.s.scrollY=-b.pd*a.y),this.s.translate(this.s.scrollX+b.Bb,this.s.scrollY+b.Cb))};c.position=function(){if(this.isVisible()){var a=this.Ia.Eb();a&&(this.Pa=a.cb,this.Ys(this.va-this.O,a.cb-2*this.O),Xi(this,this.va,this.Pa,this.Ia.ua==this.Hd?a.By?this.Hd==u.yd?a.By:a.Ya-this.va:this.Hd==u.yd?0:a.Ya:this.Hd==u.yd?0:a.Ya+a.Bb-this.va,0))}};
c.Ys=function(a,b){var d=this.Hd==u.ig,e=a+this.O;e=["M "+(d?e:0)+",0"];e.push("h",d?-a:a);e.push("a",this.O,this.O,0,0,d?0:1,d?-this.O:this.O,this.O);e.push("v",Math.max(0,b));e.push("a",this.O,this.O,0,0,d?0:1,d?this.O:-this.O,this.O);e.push("h",d?a:-a);e.push("z");this.$d.setAttribute("d",e.join(" "))};c.Ts=function(){this.Rb.set(0)};c.Ny=function(a){var b=u.g.Ar(a);if(b.y){var d=this.xg();b=d.Jb-d.hc+b.y;b=Math.min(b,d.pd-d.cb);b=Math.max(b,0);this.Rb.set(b);u.$.Ga()}a.preventDefault();a.stopPropagation()};
c.Zw=function(a,b){this.s.scale=this.Ia.scale;for(var d=this.ld,e=this.C?d:d+u.o.ga,f=0,g;g=a[f];f++)if("block"==g.type){g=g.block;for(var k=Ba(g,!1),l=0,m;m=k[l];l++)m.sd=!0;g.qa();k=g.Z();l=g.Db();g.moveBy(e,d);m=bj(this,g,this.C?e-l.width:e,d,l,f);Zi(this,k,g,m);d+=l.height+b[f]}else"button"==g.type&&(aj(this,g.button,e,d),d+=g.button.height+b[f])};c.Sw=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Zv;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};
c.gk=function(){if(!this.D)return null;var a=this.D.getBoundingClientRect(),b=a.left;if(this.Hd==u.yd)return new u.g.Rect(-1E9,1E9,-1E9,b+a.width);u.g.userAgent.St&&this.Ia&&this.Ia.Ti&&(a=this.Ia.D.getBoundingClientRect().x,10>Math.abs(a-b)&&(b+=this.oG*this.Ia.options.bd.scale));return new u.g.Rect(-1E9,1E9,b,1E9)};
c.Px=function(){this.s.scale=this.Ia.scale;for(var a=0,b=A(this.s,!1),d=0,e;e=b[d];d++){var f=e.Db().width;e.X&&(f-=u.o.ga);a=Math.max(a,f)}for(d=0;e=this.wl[d];d++)a=Math.max(a,e.width);a+=1.5*this.ld+u.o.ga;a*=this.s.scale;a+=u.Ba.Qb;if(this.va!=a){for(d=0;e=b[d];d++)this.C&&(f=e.Fa().x,e.moveBy(a/this.s.scale-this.ld-u.o.ga-f,0)),e.lo&&cj(this,e.lo,e);if(this.C)for(d=0;e=this.wl[d];d++)b=e.sw().y,e.moveTo(a/this.s.scale-e.width-this.ld-u.o.ga,b);this.va=a;this.position()}};function dj(a,b){null!=a&&this.append.apply(this,arguments)}c=dj.prototype;c.Wb="";c.set=function(a){this.Wb=""+a};c.append=function(a,b,d){this.Wb+=String(a);if(null!=b)for(var e=1;e<arguments.length;e++)this.Wb+=arguments[e];return this};c.clear=function(){this.Wb=""};c.toString=function(){return this.Wb};function ej(a,b,d){Af.call(this,d);this.ob=b||fj;a instanceof nd||(a=qd(a),a=rd(pd(a).toString().replace(/(\r\n|\r|\n)/g,"<br>"),a.Gi()));this.bm=a;this.Ml=this.Vs=!1;this.TE=null;this.OA=yd;this.yk=!0;this.ao=-1}n(ej,Af);var gj={};c=ej.prototype;c.Xb=function(){ej.A.Xb.call(this);this.Wh&&(this.Wh.removeNode(this),this.Wh=null);this.oa=null};
c.Io=function(){var a=this.U();if(a){var b=hj(this);b&&!b.id&&(b.id=this.Ka()+".label");Lf(a,"treeitem");F(a,"selected",!1);F(a,"level",this.hk());b&&F(a,"labelledby",b.id);(b=this.xo())&&Lf(b,"presentation");(b=this.wo())&&Lf(b,"presentation");if(b=ij(this))if(Lf(b,"group"),b.hasChildNodes())for(F(a,"expanded",!1),a=Gf(this),b=1;b<=a;b++){var d=E(this,b-1).U();F(d,"setsize",a);F(d,"posinset",b)}}};
c.ka=function(){var a=this.Hf();var b=this.yp(),d=a.Af;a=Ze(d,"DIV");C?(b=wd(zd,b),Bd(a,b),a.removeChild(a.firstChild)):Bd(a,b);if(1==a.childNodes.length)a=a.removeChild(a.firstChild);else{for(b=d.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a=b}this.oa=a};c.Ac=function(){ej.A.Ac.call(this);gj[this.Ka()]=this;this.Io()};c.qe=function(){ej.A.qe.call(this);delete gj[this.Ka()]};
c.Uj=function(a,b){var d=E(this,b-1),e=E(this,b);ej.A.Uj.call(this,a,b);a.cf=d;a.af=e;d?d.af=a:this.mr=a;e?e.cf=a:this.Ww=a;(b=this.Xc())&&jj(a,b);kj(a,this.hk()+1);if(b=this.U())if(this.Vk(),F(b,"expanded",this.Bc()),this.Bc()){b=ij(this);a.U()||a.ka();var f=a.U(),g=e&&e.U();b.insertBefore(f,g);this.$a&&a.Ac();e||(d?d.Vk():(pf(b,!0),this.Wd(this.Bc())))}};c.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.Uj(a,b?Jf(this,b):Gf(this));return a};
c.removeChild=function(a){var b=this.Xc(),d=b?b.dd:null;if(d==a||a.contains(d))if(b.hasFocus()){this.select();d=this.fE;if(sa(d))this&&(d=za(d,this));else if(d&&"function"==typeof d.handleEvent)d=za(d.handleEvent,d);else throw Error("Invalid listener argument");2147483647<Number(10)||h.setTimeout(d,10)}else this.select();ej.A.removeChild.call(this,a);this.Ww==a&&(this.Ww=a.cf);this.mr==a&&(this.mr=a.af);a.cf&&(a.cf.af=a.af);a.af&&(a.af.cf=a.cf);d=!a.af;a.Wh=null;a.ao=-1;if(b&&(b.removeNode(a),this.$a)){b=
ij(this);if(a.$a){var e=a.U();b.removeChild(e);a.qe()}d&&(d=E(this,Gf(this)-1))&&d.Vk();If(this)||(b.style.display="none",this.Vk(),this.xo().className=this.so(),(b=this.U())&&b.removeAttribute("aria-expanded"))}return a};c.remove=ej.prototype.removeChild;c.fE=function(){this.select()};c.hk=function(){var a=this.ao;0>a&&(a=(a=this.getParent())?a.hk()+1:0,kj(this,a));return a};
function kj(a,b){if(b!=a.ao){a.ao=b;var d=lj(a);if(d){var e=mj(a)+"px";Hf(a)?d.style.paddingRight=e:d.style.paddingLeft=e}Ff(a,function(f){kj(f,b+1)})}}c.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};c.wg=function(){var a=[];Ff(this,function(b){a.push(b)});return a};c.Ro=function(){return this.Vs};c.select=function(){var a=this.Xc();a&&a.Vf(this)};
function nj(a,b){if(a.Vs!=b){a.Vs=b;oj(a);var d=a.U();d&&(F(d,"selected",b),b&&(b=a.Xc().U(),F(b,"activedescendant",a.Ka())))}}c.Bc=function(){return this.Ml};
c.Wd=function(a){var b=a!=this.Ml;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){this.Ml=a;var d=this.Xc();var e=this.U();if(If(this)){if(!a&&d&&this.contains(d.dd)&&this.select(),e){if(d=ij(this))if(pf(d,a),F(e,"expanded",a),a&&this.$a&&!d.hasChildNodes()){var f=[];Ff(this,function(g){f.push(g.yp())});Cd(d,wd(f));Ff(this,function(g){g.Ac()})}this.Vk()}}else(d=ij(this))&&pf(d,!1);e&&(this.xo().className=this.so());b&&this.dispatchEvent(a?"expand":"collapse")}};c.toggle=function(){this.Wd(!this.Bc())};
c.expand=function(){this.Wd(!0)};c.collapse=function(){this.Wd(!1)};c.Rs=function(){var a=this.getParent();a&&(a.Wd(!0),a.Rs())};c.yp=function(){var a=this.Xc(),b=!a.Hm||a==this.getParent()&&!a.jt?this.ob.zv:this.ob.yv;a=this.Bc()&&If(this);b={"class":b,style:pj(this)};var d=[];a&&Ff(this,function(e){d.push(e.yp())});a=vd("div",b,d);return vd("div",{"class":this.ob.Iv,id:this.Ka()},[qj(this),a])};function mj(a){return Math.max(0,(a.hk()-1)*a.ob.Tr)}
function qj(a){var b={};b["padding-"+(Hf(a)?"right":"left")]=mj(a)+"px";b={"class":a.Sl(),style:b};var d=a.xr(),e=vd("span",{style:{display:"inline-block"},"class":a.so()}),f=vd("span",{"class":a.ob.Jv,title:a.TE||null},a.bm);a=wd(f,vd("span",{},a.OA));return vd("div",b,[d,e,a])}c.Sl=function(){return this.ob.Qq+(this.Ro()?" "+this.ob.Lv:"")};c.xr=function(){return vd("span",{type:"expand",style:{display:"inline-block"},"class":rj(this)})};
function rj(a){var b=a.Xc(),d=!b.Hm||b==a.getParent()&&!b.jt,e=a.ob,f=new dj;f.append(e.yi," ",e.DB," ");if(If(a)){var g=0;b.it&&a.yk&&(g=a.Bc()?2:1);d||(g=a.af?g+8:g+4);switch(g){case 1:f.append(e.HB);break;case 2:f.append(e.GB);break;case 4:f.append(e.Ev);break;case 5:f.append(e.FB);break;case 6:f.append(e.EB);break;case 8:f.append(e.Fv);break;case 9:f.append(e.JB);break;case 10:f.append(e.IB);break;default:f.append(e.Dv)}}else d?f.append(e.Dv):a.af?f.append(e.Fv):f.append(e.Ev);return f.toString()}
function pj(a){var b=a.Bc()&&If(a);return ed({"background-position":sj(a),display:b?null:"none"})}function sj(a){return(a.af?(a.hk()-1)*a.ob.Tr:"-100")+"px 0"}c.U=function(){var a=ej.A.U.call(this);a||(this.oa=a=this.Hf().U(this.Ka()));return a};function lj(a){return(a=a.U())?a.firstChild:null}c.wo=function(){var a=lj(this);return a?a.firstChild:null};c.xo=function(){var a=lj(this);return a?a.childNodes[1]:null};function hj(a){return(a=lj(a))&&a.lastChild?a.lastChild.previousSibling:null}
function ij(a){return(a=a.U())?a.lastChild:null}c.Wf=function(a){this.bm=a=qd(a);var b=hj(this);b&&Bd(b,a);(a=this.Xc())&&tj(a,this)};c.kc=function(){var a=pd(this.bm).toString();return Ec(a,"&")?"document"in h?Fd(a):Hd(a):a};function oj(a){var b=lj(a);b&&(b.className=a.Sl())}c.Vk=function(){var a=this.wo();a&&(a.className=rj(this));if(a=ij(this))a.style.backgroundPosition=sj(this)};c.wx=function(a){"expand"==a.target.getAttribute("type")&&If(this)?this.yk&&this.toggle():(this.select(),oj(this))};
c.um=function(a){a.preventDefault()};c.ux=function(a){"expand"==a.target.getAttribute("type")&&If(this)||this.yk&&this.toggle()};
c.us=function(a){var b=!0;switch(a.keyCode){case 39:if(a.altKey)break;If(this)&&(this.Bc()?E(this,0).select():this.Wd(!0));break;case 37:if(a.altKey)break;if(If(this)&&this.Bc()&&this.yk)this.Wd(!1);else{var d=this.getParent(),e=this.Xc();d&&(e.Uh||d!=e)&&d.select()}break;case 40:(d=Ti(this))&&d.select();break;case 38:(d=Ui(this))&&d.select();break;default:b=!1}b&&(a.preventDefault(),(e=this.Xc())&&e.Wm.clear());return b};function uj(a){return a.Bc()&&If(a)?uj(E(a,Gf(a)-1)):a}
function Ti(a){if(If(a)&&a.Bc())return E(a,0);for(var b=a,d;b!=a.Xc();){d=b.af;if(null!=d)return d;b=b.getParent()}return null}function Ui(a){var b=a.cf;if(null!=b)return uj(b);b=a.getParent();var d=a.Xc();return!d.Uh&&b==d||a==d?null:b}function jj(a,b){a.Wh!=b&&(a.Wh=b,tj(b,a),Ff(a,function(d){jj(d,b)}))}
var fj={Tr:19,Kv:"goog-tree-root goog-tree-item",Hv:"goog-tree-hide-root",Iv:"goog-tree-item",yv:"goog-tree-children",zv:"goog-tree-children-nolines",Qq:"goog-tree-row",Jv:"goog-tree-item-label",yi:"goog-tree-icon",DB:"goog-tree-expand-icon",HB:"goog-tree-expand-icon-plus",GB:"goog-tree-expand-icon-minus",JB:"goog-tree-expand-icon-tplus",IB:"goog-tree-expand-icon-tminus",FB:"goog-tree-expand-icon-lplus",EB:"goog-tree-expand-icon-lminus",Fv:"goog-tree-expand-icon-t",Ev:"goog-tree-expand-icon-l",Dv:"goog-tree-expand-icon-blank",
Oq:"goog-tree-expanded-folder-icon",Bv:"goog-tree-collapsed-folder-icon",Pq:"goog-tree-file-icon",Gv:"goog-tree-expanded-folder-icon",Cv:"goog-tree-collapsed-folder-icon",Lv:"selected"};function vj(a){xf.call(this);this.oa=a;a=C?"focusout":"blur";this.rD=ye(this.oa,C?"focusin":"focus",this,!C);this.sD=ye(this.oa,a,this,!C)}n(vj,xf);vj.prototype.handleEvent=function(a){var b=new je(a.Df);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};vj.prototype.Xb=function(){vj.A.Xb.call(this);He(this.rD);He(this.sD);delete this.oa};function wj(a,b,d){ej.call(this,a,b,d)}n(wj,ej);wj.prototype.Xc=function(){if(this.Wh)return this.Wh;var a=this.getParent();return a&&(a=a.Xc())?(jj(this,a),a):null};wj.prototype.so=function(){var a=this.Bc(),b=this.cC;if(a&&b)return b;b=this.ZC;if(!a&&b)return b;b=this.ob;if(If(this)){if(a&&b.Oq)return b.yi+" "+b.Oq;if(!a&&b.Bv)return b.yi+" "+b.Bv}else if(b.Pq)return b.yi+" "+b.Pq;return""};function xj(a){if(a.Tl&&"function"==typeof a.Tl)return a.Tl();if("string"===typeof a)return a.split("");if(ra(a)){for(var b=[],d=a.length,e=0;e<d;e++)b.push(a[e]);return b}b=[];d=0;for(e in a)b[d++]=a[e];return b};function yj(a){this.Aa=void 0;this.Sc={};if(a){if(a.zo&&"function"==typeof a.zo)var b=a.zo();else if(a.Tl&&"function"==typeof a.Tl)b=void 0;else if(ra(a)||"string"===typeof a){b=[];for(var d=a.length,e=0;e<d;e++)b.push(e)}else for(e in b=[],d=0,a)b[d++]=e;a=xj(a);for(d=0;d<b.length;d++)this.set(b[d],a[d])}}c=yj.prototype;c.set=function(a,b){zj(this,a,b,!1)};c.add=function(a,b){zj(this,a,b,!0)};
function zj(a,b,d,e){for(var f=0;f<b.length;f++){var g=b.charAt(f);a.Sc[g]||(a.Sc[g]=new yj);a=a.Sc[g]}if(e&&void 0!==a.Aa)throw Error('The collection already contains the key "'+b+'"');a.Aa=d}c.get=function(a){a:{for(var b=this,d=0;d<a.length;d++)if(b=b.Sc[a.charAt(d)],!b){a=void 0;break a}a=b}return a?a.Aa:void 0};c.Tl=function(){var a=[];Aj(this,a);return a};function Aj(a,b){void 0!==a.Aa&&b.push(a.Aa);for(var d in a.Sc)Aj(a.Sc[d],b)}
c.zo=function(a){var b=[];if(a){for(var d=this,e=0;e<a.length;e++){var f=a.charAt(e);if(!d.Sc[f])return[];d=d.Sc[f]}Bj(d,a,b)}else Bj(this,"",b);return b};function Bj(a,b,d){void 0!==a.Aa&&d.push(b);for(var e in a.Sc)Bj(a.Sc[e],b+e,d)}c.clear=function(){this.Sc={};this.Aa=void 0};
c.remove=function(a){for(var b=this,d=[],e=0;e<a.length;e++){var f=a.charAt(e);if(!b.Sc[f])throw Error('The collection does not have the key "'+a+'"');d.push([b,f]);b=b.Sc[f]}a=b.Aa;for(delete b.Aa;0<d.length;)if(f=d.pop(),b=f[0],f=f[1],b.Sc[f].Tw())delete b.Sc[f];else break;return a};c.clone=function(){return new yj(this)};c.Tw=function(){var a;if(a=void 0===this.Aa)a:{for(var b in this.Sc){a=!1;break a}a=!0}return a};function Cj(){this.aj=new yj;this.Wb="";this.Zo=this.ls=null;this.Bk=this.om=0}function Dj(a,b){var d=b.kc();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.aj.get(d);if(e){for(var f=Gf(b),g=0;g<f;g++)Dj(a,E(b,g));qc(e,b);e.length||a.aj.remove(d)}}}function Ej(a,b){var d=!1;(b=a.aj.zo(b))&&b.length&&(a.Bk=0,a.om=0,d=a.aj.get(b[0]),d=Fj(a,d))&&(a.ls=b);return d}function Fj(a,b){if(b){if(a.Bk<b.length){var d=b[a.Bk];a.Zo=b}d&&(d.Rs(),d.select())}return!!d}
Cj.prototype.clear=function(){this.Wb=""};function Gj(a,b,d){ej.call(this,a,b,d);this.Ml=!0;nj(this,!0);this.dd=this;this.Wm=new Cj;this.qr=this.$c=null;this.Ol=!1;this.kC=null;this.jt=this.Uh=this.it=this.Hm=!0;if(C)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}n(Gj,ej);c=Gj.prototype;c.Xc=function(){return this};c.hk=function(){return 0};c.Rs=function(){};c.HC=function(){this.Ol=!0;ag(this.U(),"focused");this.dd&&this.dd.select()};c.BC=function(){this.Ol=!1;cg(this.U(),"focused")};c.hasFocus=function(){return this.Ol};
c.Bc=function(){return!this.Uh||Gj.A.Bc.call(this)};c.Wd=function(a){this.Uh?Gj.A.Wd.call(this,a):this.Ml=a};c.xr=function(){return yd};c.xo=function(){var a=lj(this);return a?a.firstChild:null};c.wo=function(){return null};c.Vk=function(){};c.Sl=function(){return Gj.A.Sl.call(this)+(this.Uh?"":" "+this.ob.Hv)};c.so=function(){var a=this.Bc(),b=this.cC;if(a&&b)return b;b=this.ZC;if(!a&&b)return b;b=this.ob;return a&&b.Gv?b.yi+" "+b.Gv:!a&&b.Cv?b.yi+" "+b.Cv:""};
c.Vf=function(a){if(this.dd!=a){var b=!1;this.dd&&(b=this.dd==this.kC,nj(this.dd,!1));if(this.dd=a)nj(a,!0),b&&a.select();this.dispatchEvent("change")}};function Hj(a){0!=a.Hm&&(a.Hm=!1,a.$a&&Ij(a))}function Ij(a){function b(g){var k=ij(g);if(k){var l=!e||d==g.getParent()&&!f?g.ob.zv:g.ob.yv;k.className=l;if(k=g.wo())k.className=rj(g)}Ff(g,b)}var d=a,e=d.Hm,f=d.jt;b(a)}function Jj(a){0!=a.it&&(a.it=!1,a.$a&&Ij(a))}
function Kj(a){if(0!=a.Uh){a.Uh=!1;if(a.$a){var b=lj(a);b&&(b.className=a.Sl())}a.dd==a&&E(a,0)&&a.Vf(E(a,0))}}c.Io=function(){Gj.A.Io.call(this);var a=this.U();Lf(a,"tree");F(a,"labelledby",hj(this).id)};
c.Ac=function(){Gj.A.Ac.call(this);var a=this.U();a.className=this.ob.Kv;a.setAttribute("hideFocus","true");a=this.U();a.tabIndex=0;var b=this.$c=new Qf(a),d=this.qr=new vj(a);Df(this).Qa(d,"focusout",this.BC).Qa(d,"focusin",this.HC).Qa(b,"key",this.Ue).Qa(a,"mousedown",this.Fr).Qa(a,"click",this.Fr).Qa(a,"dblclick",this.Fr);this.Io()};c.qe=function(){Gj.A.qe.call(this);this.$c.K();this.$c=null;this.qr.K();this.qr=null};
c.Fr=function(a){var b=Lj(this,a);if(b)switch(a.type){case "mousedown":b.wx(a);break;case "click":b.um(a);break;case "dblclick":b.ux(a)}};
c.Ue=function(a){var b=this.Wm;var d=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){d=40==a.keyCode?1:-1;var e=b.ls;if(e){var f=null,g=!1;if(b.Zo){var k=b.Bk+d;0<=k&&k<b.Zo.length?(b.Bk=k,f=b.Zo):g=!0}f||(k=b.om+d,0<=k&&k<e.length&&(b.om=k),e.length>b.om&&(f=b.aj.get(e[b.om])),f&&f.length&&g&&(b.Bk=-1==d?f.length-1:0));Fj(b,f)&&(b.ls=e)}d=!0}break;case 8:e=b.Wb.length-1;d=!0;0<e?(b.Wb=b.Wb.substring(0,e),Ej(b,b.Wb)):0==e?b.Wb="":d=!1;break;case 27:b.Wb="",d=!0}(b=d||this.dd&&this.dd.us(a))||(b=
this.Wm,d=!1,a.ctrlKey||a.altKey||(e=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==e.length&&" "<=e&&"~">=e||"\u0080"<=e&&"\ufffd">=e)&&(" "!=e||b.Wb)&&(b.Wb+=e,d=Ej(b,b.Wb))),b=d);b&&a.preventDefault();return b};function Lj(a,b){for(var d=b.target;null!=d;){if(b=gj[d.id])return b;if(d==a.U())break;d=d.parentNode}return null}c.createNode=function(a){return new wj(a||yd,this.ob,this.Hf())};
function tj(a,b){a=a.Wm;var d=b.kc();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.aj.get(d);e?e.push(b):a.aj.set(d,[b])}}c.removeNode=function(a){Dj(this.Wm,a)};u.Lb=function(a){this.s=a;this.C=a.options.C;this.We=a.options.Bd;this.ua=a.options.ua;this.ob={Tr:19,Kv:"blocklyTreeRoot",Hv:"blocklyHidden",Iv:"",Qq:"blocklyTreeRow",Jv:"blocklyTreeLabel",yi:"blocklyTreeIcon",Oq:"blocklyTreeIconOpen",Pq:"blocklyTreeIconNone",Lv:"blocklyTreeSelected"};this.Dy={Qq:"blocklyTreeSeparator"};this.We&&(this.ob.cssTreeRow+=a.C?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.Dy.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.C?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.ob.cssTreeIcon="")};c=u.Lb.prototype;c.width=0;c.height=0;c.jm=null;
c.za=function(){var a=this.s,b=z(this.s);this.kd=document.createElement("div");this.kd.className="blocklyToolboxDiv";this.kd.setAttribute("dir",a.C?"RTL":"LTR");b.parentNode.insertBefore(this.kd,b);u.da(this.kd,"mousedown",this,function(d){u.g.Ch(d)||d.target==this.kd?u.lc(!1):u.lc(!0);u.Touch.pg()},!1,!0);b={rg:a.options.rg,bd:a,C:a.C,Jh:a.options.Jh,Bd:a.Bd,ua:a.options.ua};this.P=null;this.P=a.Bd?new u.Hj(b):new u.Tj(b);u.g.j.Qi(this.P.ka("svg"),z(this.s));this.P.za(a);this.ob.cleardotPath=a.options.bf+
"1x1.gif";this.ob.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.C?"Rtl":"Ltr");this.Jc=b=new u.Lb.si(this,this.ob);Kj(b);Hj(b);Jj(b);b.Vf(null);a=this.kp(a.options.Qf);b.qa(this.kd);a&&b.Vf(a);oi(this);this.position()};c.K=function(){this.P.K();this.Jc.K();u.g.j.removeNode(this.kd);this.jm=this.s=null};c.Yc=function(){return this.width};c.ik=function(){return this.height};
c.position=function(){var a=this.kd;if(a){var b=z(this.s);b=u.vy(b);this.We?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.ua==u.nd?a.style.top="0":a.style.bottom="0"):(this.ua==u.ig?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.P.position()}};
c.kp=function(a){this.Jc.Qx();this.Jc.vf=[];this.Jr=!1;a=Mj(this,a,this.Jc,this.s.options.bf);if(this.Jc.vf.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");Oa(this.s);return a};
function Mj(a,b,d,e){for(var f=null,g=null,k=0,l;l=b.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":g=u.g.bc(l.getAttribute("name"));var m=a.Jc.createNode(g);m.vf=[];d.add(m);var p=l.getAttribute("custom");p?m.vf=p:(p=Mj(a,l,m,e))&&(f=p);p=l.getAttribute("categorystyle");var r=l.getAttribute("colour");r&&p?(m.Li="",console.warn('Toolbox category "'+g+'" can not have both a style and a colour')):p?Nj(a,p,m,g):Oj(a,r,m,g);"true"==l.getAttribute("expanded")?(m.vf.length&&
(f=m),m.Wd(!0)):m.Wd(!1);g=l;break;case "SEP":if(g&&"CATEGORY"==g.tagName.toUpperCase()){d.add(new u.Lb.Fu(a.Dy));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.vf.push(l),g=l}return f}function Oj(a,b,d,e){b=u.g.bc(b);if(null===b||""===b)d.Li="";else{var f=Number(b);isNaN(f)?(f=u.g.nb.parse(b))?(d.Li=f,a.Jr=!0):(d.Li="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+b)):(d.Li=u.Mw(f),a.Jr=!0)}}
function Nj(a,b,d,e){if((d.uy=b)&&u.Do()){var f;(f=u.Do().iB[b])&&f.nb?Oj(a,f.nb,d,e):console.warn('Style "'+b+'" must exist and contain a colour value')}}function Pj(a,b){if(b=b||a.Jc){b=b.wg(!1);for(var d=0,e;e=b[d];d++)e.uy&&(Nj(a,e.uy,e,""),oi(a)),Pj(a,e)}}function Qj(a){var b=a.Jc;if(b&&(Pj(a,b),a=b.dd)){var d=a.Li||"#57e";lj(a).style.backgroundColor=d;oi(b.ia,a)}}
function oi(a,b){b=(b||a.Jc).wg(!1);for(var d=0,e;e=b[d];d++){var f=lj(e);if(f){var g=a.Jr?"8px solid "+(e.Li||"#ddd"):"none";a.s.C?f.style.borderRight=g:f.style.borderLeft=g}oi(a,e)}}c.gk=function(){if(!this.kd)return null;var a=this.kd.getBoundingClientRect(),b=a.top,d=b+a.height,e=a.left;a=e+a.width;return this.ua==u.nd?new u.g.Rect(-1E7,d,-1E7,1E7):this.ua==u.dh?new u.g.Rect(b,1E7,-1E7,1E7):this.ua==u.yd?new u.g.Rect(-1E7,1E7,-1E7,a):new u.g.Rect(-1E7,1E7,e,1E7)};
u.Lb.si=function(a,b){this.ia=a;Gj.call(this,yd,b)};n(u.Lb.si,Gj);u.Lb.si.prototype.Ac=function(){u.Lb.si.A.Ac.call(this);if(u.Touch.nq){var a=this.U();u.da(a,"touchend",this,this.QC)}};u.Lb.si.prototype.QC=function(a){var b=Lj(this,a);b&&"touchend"===a.type&&setTimeout(function(){b.um(a)},1)};u.Lb.si.prototype.createNode=function(a){a=a?qd(a):yd;return new u.Lb.Rj(this.ia,a,this.ob)};
u.Lb.si.prototype.Vf=function(a){var b=this.ia;if(a!=this.dd&&a!=b.Jc){b.jm&&(lj(b.jm).style.backgroundColor="");if(a){var d=a.Li||"#57e";lj(a).style.backgroundColor=d;oi(b,a)}d=this.dd;Gj.prototype.Vf.call(this,a);a&&a.vf&&a.vf.length?(b.P.show(a.vf),b.jm!=a&&b.P.Ts()):b.P.Ga();d!=a&&d!=this&&(d=new u.i.fc(null,"category",d&&pd(d.bm).toString(),a&&pd(a.bm).toString()),d.Ub=b.s.id,u.i.ma(d));a&&(b.jm=a)}};
u.Lb.Rj=function(a,b,d){ej.call(this,b,d,void 0);a&&(b=function(){u.Ok(a.s)},ye(a.Jc,"expand",b),ye(a.Jc,"collapse",b))};n(u.Lb.Rj,wj);c=u.Lb.Rj.prototype;c.xr=function(){return vd("span")};c.um=function(){If(this)&&this.yk?(this.toggle(),this.select()):this.Ro()?this.Xc().Vf(null):this.select();oj(this)};c.wx=function(){};c.ux=function(){};
c.us=function(a){if(this.Wh.ia.We){var b={};b[39]=this.Jk?38:40;b[37]=this.Jk?40:38;b[38]=37;b[40]=39;a.keyCode=b[a.keyCode]||a.keyCode}return u.Lb.Rj.A.us.call(this,a)};u.Lb.Fu=function(a){u.Lb.Rj.call(this,null,yd,a)};n(u.Lb.Fu,u.Lb.Rj);u.wd={};u.wd.cl={OPEN:"handopen",CLOSED:"handclosed",pn:"handdelete"};u.wd.bG="";u.wd.Nw=!1;u.wd.hx="";u.wd.yh=function(a,b){if(!u.wd.Nw){u.wd.Nw=!0;var d=".blocklyDraggable {}\n";a&&(d+=u.wd.Lt.join("\n"),u.wd.Lt=null,u.wz&&(d+=u.wz.CSS.join("\n")));u.wd.hx=b.replace(/[\\\/]$/,"");d=d.replace(/<<<PATH>>>/g,u.wd.hx);a=document.createElement("style");a.appendChild(document.createTextNode(d));document.head.insertBefore(a,document.head.firstChild)}};u.wd.ay=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
u.wd.Lt=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;",
"top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","-webkit-user-select: none;","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;",
"width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;",
"border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",
".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',
"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {",
"display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: 0.5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {",
"display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;",
"z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {",
"display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;",
"stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;",
"outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;",
"height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {",
"position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {",
"fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;",
"pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyVerticalCursor {","stroke-width: 3px;","fill: rgba(255,255,255,0.5);","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;",
"overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {",
"float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;",
"vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;",
"}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {","border-collapse: collapse;","}",".blocklyColourTable>tr>td {","border: 1px solid #666;",
"padding: 0;","}",".blocklyColourTable>tr>td>div {","border: 1px solid #666;","height: 13px;","width: 15px;","}",".blocklyColourTable>tr>td>div:hover {","border: 1px solid #fff;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border: 1px solid #000 !important;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;",
"padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem, ",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","padding: 5px 5px 5px 28px;","white-space: nowrap;",
"}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ",".blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {",
"padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ",
".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight, ",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 4px;","padding-top: 4px;","}",".blocklyDropDownDiv .goog-menuitem-highlight, ",".blocklyDropDownDiv .goog-menuitem-hover {","background-color: rgba(0, 0, 0, 0.2);","}",".blocklyWidgetDiv .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {",
"left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",
".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyWidgetDiv .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ",
".blocklyDropDownDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator, ",".blocklyDropDownDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];u.$={};u.$.wa=null;u.$.vd=null;u.$.eo=null;u.$.ka=function(){u.$.wa||(u.$.wa=document.createElement("div"),u.$.wa.className="blocklyWidgetDiv",document.body.appendChild(u.$.wa))};u.$.show=function(a,b,d){u.$.Ga();u.$.vd=a;u.$.eo=d;u.$.wa.style.top=u.g.style.xw().y+"px";u.$.wa.style.direction=b?"rtl":"ltr";u.$.wa.style.display="block"};u.$.Ga=function(){u.$.vd&&(u.$.vd=null,u.$.wa.style.display="none",u.$.wa.style.left="",u.$.wa.style.top="",u.$.eo&&u.$.eo(),u.$.eo=null,u.$.wa.innerHTML="")};
u.$.isVisible=function(){return!!u.$.vd};u.$.Mi=function(a){u.$.vd==a&&u.$.Ga()};u.$.xm=function(a,b,d){u.$.wa.style.left=a+"px";u.$.wa.style.top=b+"px";u.$.wa.style.height=d+"px"};u.$.Hx=function(a,b,d,e){var f=u.$.gB(a,b,d);a=u.$.fB(a,b,d,e);0>f?u.$.xm(a,0,d.height+f):u.$.xm(a,f,d.height)};u.$.fB=function(a,b,d,e){if(e)return b=Math.max(b.right-d.width,a.left),Math.min(b,a.right-d.width);b=Math.min(b.left,a.right-d.width);return Math.max(b,a.left)};
u.$.gB=function(a,b,d){return b.bottom+d.height>=a.bottom?b.top-d.height:b.bottom};u.Ft=function(a){this.Cl=a;this.ka()};c=u.Ft.prototype;c.ib=null;c.pe=null;c.Cl=null;c.Ph=1;c.Om=null;c.ka=function(){this.ib||(this.ib=u.g.j.I("svg",{xmlns:u.g.j.fa,"xmlns:html":u.g.j.rf,"xmlns:xlink":u.g.j.ta,version:"1.1","class":"blocklyBlockDragSurface"},this.Cl),this.pe=u.g.j.I("g",{},this.ib))};function Lb(a,b){if(a.pe.childNodes.length)throw Error("Already dragging a block.");a.pe.appendChild(b);a.ib.style.display="block";a.Om=new u.g.T(0,0)}
c.Og=function(a,b){this.Om=new u.g.T(a*this.Ph,b*this.Ph);a=this.Om.x;b=this.Om.y;a=a.toFixed(0);b=b.toFixed(0);this.ib.style.display="block";u.g.j.Dm(this.ib,"translate3d("+a+"px, "+b+"px, 0px)")};c.Co=function(){var a=u.g.Rd(this.ib);return new u.g.T(a.x/this.Ph,a.y/this.Ph)};c.Zb=function(){return this.pe};
c.xl=function(a){a?a.appendChild(this.pe.firstChild):this.pe.removeChild(this.pe.firstChild);this.ib.style.display="none";if(this.pe.childNodes.length)throw Error("Drag group was not cleared.");this.Om=null};u.yh=function(a,b){u.kB();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!u.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");b=new u.Ld(b||{});var d=document.createElement("div");d.className="injectionDiv";a.appendChild(d);a=u.El(d,b);var e=new u.Ft(d);d=new u.Nu(d);d=u.AB(a,b,e,d);u.hy(b.QE);u.gD(d);u.mm=d;u.Ok(d);return d};
u.El=function(a,b){a.setAttribute("dir","LTR");Bf=b.C;u.wd.yh(b.SC,b.bf);a=u.g.j.I("svg",{xmlns:u.g.j.fa,"xmlns:html":u.g.j.rf,"xmlns:xlink":u.g.j.ta,version:"1.1","class":"blocklySvg"},a);var d=u.g.j.I("defs",{},a),e=String(Math.random()).substring(2),f=u.g.j.I("filter",{id:"blocklyEmbossFilter"+e},d);u.g.j.I("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var g=u.g.j.I("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",
result:"specOut"},f);u.g.j.I("fePointLight",{x:-5E3,y:-1E4,z:2E4},g);u.g.j.I("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);u.g.j.I("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},f);b.cw=f.id;f=u.g.j.I("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},d);u.g.j.I("rect",{width:10,height:10,fill:"#aaa"},f);u.g.j.I("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},f);b.rg=f.id;
b.zw=u.fi.ka(e,b.yw,d);return a};
u.AB=function(a,b,d,e){b.bd=null;var f=new u.Za(b,d,e);f.scale=b.lb.py;a.appendChild(f.ka("blocklyMainBackground"));!b.Cw&&b.Qf&&(d=hi(f,"svg"),u.g.j.Qi(d,a));b.Hw&&fi(f);b.lb&&b.lb.controls&&gi(f);u.v.ay(f.cursor);u.v.AE(f.Xo);f.translate(0,0);u.mm=f;b.readOnly||f.mc()||f.Qc(function(g){if(!f.Fc()&&!f.mc()&&-1!=u.i.Yy.indexOf(g.type)){var k=Object.create(null),l=f.Eb(),m=f.scale;k.vb=l.vb/m;k.Jb=l.Jb/m;k.Ky=(l.vb+l.Ya)/m;k.Jy=(l.Jb+l.cb)/m;mi(f)?(l=La(f),k.yc=l.left,k.hc=l.top,k.tv=l.right,k.rv=
l.bottom):(k.yc=l.yc/m,k.hc=l.hc/m,k.tv=(l.yc+l.zd)/m,k.rv=(l.hc+l.pd)/m);if(k.hc<k.Jb||k.rv>k.Jy||k.yc<k.vb||k.tv>k.Ky){l=null;g&&(l=u.i.Zb(),u.i.ea(g.group));switch(g.type){case u.i.At:case u.i.Bt:var p=Da(f,g.xc);p=Wa(p);break;case u.i.kn:case u.i.ln:p=wb(f,g.wf)}if(p){m=p.po();var r=k.Jb-m.top;0<r&&p.moveBy(0,r);r=k.Jy-m.bottom;0>r&&p.moveBy(0,r);r=k.vb-m.left;0<r&&p.moveBy(r,0);k=k.Ky-m.right;0>k&&p.moveBy(k,0)}g&&(g.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),
u.i.ea(l))}}});u.Ok(f);u.$.ka();u.H.ka();u.M.ka();return f};u.gD=function(a){var b=a.options,d=z(a);u.da(d.parentNode,"contextmenu",null,function(e){u.g.So(e)||e.preventDefault()});d=u.da(window,"resize",null,function(){u.lc(!0);u.Ok(a)});a.sp=d;u.yh.YA();b.Qf&&(a.ia?a.ia.za(a):a.P&&(a.P.za(a),a.P.show(b.Qf.childNodes),a.P.Ts()));d=u.Ba.Qb;b.Hw&&(d=a.Ic.za(d));b.lb&&b.lb.controls&&a.Aj.za(d);b.oc&&b.oc.scrollbars?(a.yb=new u.Qj(a),a.yb.resize()):a.Jg({x:.5,y:.5});b.UC&&u.yh.uD(b.bf,a)};
u.yh.YA=function(){u.YB||(u.da(document,"scroll",null,function(){for(var a=u.Sa.getAll(),b=0,d;d=a[b];b++)d.Zm&&d.Zm()}),u.da(document,"keydown",null,u.VD),u.wc(document,"touchend",null,u.Fh),u.wc(document,"touchcancel",null,u.Fh),u.g.userAgent.gi&&u.da(window,"orientationchange",document,function(){u.Ok(u.Ad())}));u.YB=!0};
u.yh.uD=function(a,b){function d(){for(;f.length;)u.gb(f.pop());e.preload()}var e=b.wb;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(u.da(document,"mousemove",null,d,!0));f.push(u.da(document,"touchstart",null,d,!0))};
u.Fy=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");u.Ad().Fy(a)};u.VERSION="uncompiled";u.mm=null;u.selected=null;u.cursor=null;u.Ui=!1;u.Kl=[];u.yl=null;u.Nn=null;u.Gq=null;u.ZF=null;u.xy=null;u.vy=function(a){return{width:a.Yu,height:a.Wu}};u.zG=function(a){Oa(a)};u.Ok=function(a){for(;a.options.bd;)a=a.options.bd;var b=z(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;b.Yu!=e&&(b.setAttribute("width",e+"px"),b.Yu=e);b.Wu!=d&&(b.setAttribute("height",d+"px"),b.Wu=d);a.resize()}};
u.VD=function(a){var b=u.mm;if(!(b.options.readOnly||u.g.So(a)||b.ha&&!b.isVisible())){var d=!1;if(27==a.keyCode)u.lc(),u.Ui&&u.v.navigate(a);else if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(u.Gj.Sr())return;u.selected&&u.selected.Ec()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(u.Gj.Sr())return;u.selected&&u.selected.Ec()&&u.selected.mc()&&(67==a.keyCode?(u.lc(),u.Nq(u.selected)):88!=a.keyCode||u.selected.B.Ye||(u.Nq(u.selected),d=!0));86==a.keyCode?u.yl&&(a=u.Nn,a.Ye&&(a=a.tj),
u.Gq&&Ab(a,u.Gq)&&(u.i.ea(!0),ki(a),u.i.ea(!1))):90==a.keyCode&&(u.lc(),b.rt(a.shiftKey))}else if(u.Ui&&u.v.navigate(a))return;d&&!u.selected.B.Ye&&(u.i.ea(!0),u.lc(),u.selected.K(!0,!0),u.i.ea(!1))}};u.Nq=function(a){if(a.Zr)var b=a.Um();else{b=u.S.fh(a,!0);u.S.RB(b);var d=a.Fa();b.setAttribute("x",a.C?-d.x:d.x);b.setAttribute("y",d.y)}u.yl=b;u.Nn=a.B;u.Gq=a.Zr?null:u.g.tr(a,!0)};u.aw=function(a){var b=u.yl,d=u.Nn;u.Nq(a);ki(a.B);u.yl=b;u.Nn=d};u.sG=function(a){u.g.So(a)||a.preventDefault()};
u.lc=function(a){u.M.Ga();u.$.Ga();u.H.Kw();var b=u.Ad();b.Ic&&b.Ic.P&&b.Ic.P.Ga();a||b.ia&&b.ia.P&&b.ia.P.Wj&&b.ia.Jc.Vf(null)};u.Qc=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return u.Ad().Qc(a)};u.Ad=function(){return u.mm};u.alert=function(a,b){alert(a);b&&b()};u.confirm=function(a,b){b(confirm(a))};u.prompt=function(a,b,d){d(prompt(a,b))};u.pD=function(a){return function(){yi(this,a)}};
u.cG=function(a){for(var b=0;b<a.length;b++){var d=a[b];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(u.jb[e]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+e+'".'),u.jb[e]={za:u.pD(d)})}else console.warn("Block definition #"+b+" in JSON array is "+d+". Skipping.")}};
u.da=function(a,b,d,e,f,g){function k(v){var q=!f;v=u.Touch.FE(v);for(var y=0,J;J=v[y];y++)if(!q||u.Touch.ht(J))u.Touch.zE(J),d?e.call(d,J):e(J),l=!0}var l=!1,m=[];if(u.g.global.PointerEvent&&b in u.Touch.tf)for(var p=0,r;r=u.Touch.tf[b][p];p++)a.addEventListener(r,k,!1),m.push([a,r,k]);else if(a.addEventListener(b,k,!1),m.push([a,b,k]),b in u.Touch.tf){var t=function(v){k(v);var q=!g;l&&q&&v.preventDefault()};for(p=0;r=u.Touch.tf[b][p];p++)a.addEventListener(r,t,!1),m.push([a,r,t])}return m};
u.wc=function(a,b,d,e){function f(p){d?e.call(d,p):e(p)}var g=[];if(u.g.global.PointerEvent&&b in u.Touch.tf)for(var k=0,l;l=u.Touch.tf[b][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(b,f,!1),g.push([a,b,f]),b in u.Touch.tf){var m=function(p){if(p.changedTouches&&1==p.changedTouches.length){var r=p.changedTouches[0];p.clientX=r.clientX;p.clientY=r.clientY}f(p);p.preventDefault()};for(k=0;l=u.Touch.tf[b][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
u.gb=function(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};u.oD=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};u.Mw=function(a){return u.g.nb.YC(a)};
u.kB=function(){u.Rc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);u.Rc("LOGIC_HUE",["Constants","Logic","HUE"],210);u.Rc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);u.Rc("LOOPS_HUE",["Constants","Loops","HUE"],120);u.Rc("MATH_HUE",["Blocks","math","HUE"],void 0);u.Rc("MATH_HUE",["Constants","Math","HUE"],230);u.Rc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);u.Rc("TEXTS_HUE",["Constants","Text","HUE"],160);u.Rc("LISTS_HUE",["Blocks","lists","HUE"],void 0);u.Rc("LISTS_HUE",["Constants","Lists","HUE"],
260);u.Rc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);u.Rc("COLOUR_HUE",["Constants","Colour","HUE"],20);u.Rc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);u.Rc("VARIABLES_HUE",["Constants","Variables","HUE"],330);u.Rc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);u.Rc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
u.Rc=function(a,b,d){for(var e="Blockly",f=u,g=0;g<b.length;++g)e+="."+b[g],f&&(f=f[b[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};u.hy=function(a){u.xy=a;(a=u.Ad())&&u.qE(a)};u.qE=function(a){u.Ey(B(a).filter(function(d){return void 0!==d.Nm}));!a.ia&&a.P&&a.P.s?u.Ey(B(a.P.s)):li(a);a.ia&&Qj(a.ia);var b=new u.i.fc(null,"theme");b.Ub=a.id;u.i.ma(b)};
u.Ey=function(a){for(var b=0,d;d=a[b];b++)if(ui(d,d.Nm),d.$e){var e=d.$e.s;if(e&&B(e)){var f=B(e);for(d=0;d<f.length;d++){var g=f[d];ui(g,g.Nm)}e=B(e.P.s);for(d=0;d<e.length;d++)g=e[d],ui(g,g.Nm)}}};u.Do=function(){return u.xy};u.g.global.Blockly||(u.g.global.Blockly={});u.g.global.Blockly.getMainWorkspace=u.Ad;u.g.global.Blockly.addChangeListener=u.Qc;var Rj={en:"English"},Sj="ace ar fa he mzn ps ur".split(" "),Tj=window.BlocklyGamesLang,Uj=window.BlocklyGamesLanguages,Vj=!!window.location.pathname.match(/\.html$/),H=null,K,Wj=Number,Xj,Yj=window.location.search.match(/[?&]level=([^&]+)/);Xj=Yj?decodeURIComponent(Yj[1].replace(/\+/g,"%20")):"NaN";var Zj=Wj(Xj);K=isNaN(Zj)?1:u.g.we.Fq(1,Zj,7);
function ak(){document.title=document.getElementById("title").textContent;document.dir=-1!=Sj.indexOf(Tj)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",Tj);var a=document.getElementById("languageMenu");if(a){for(var b=[],d=0;d<Uj.length;d++){var e=Uj[d];b.push([Rj[e],e])}b.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<b.length;d++){var f=b[d];e=f[1];f=new Option(f[0],e);e==Tj&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}for(d=1;7>=d;d++)a=document.getElementById("level"+d),b=!!bk(d),a&&b&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(ck,1)}function bk(a){var b=dk;try{var d=window.localStorage[b+a]}catch(e){}return d}function L(a){var b;(b=document.getElementById(a))?(b=b.textContent,b=b.replace(/\\n/g,"\n")):b=null;return null===b?"[Unknown message: "+a+"]":b}
function ek(a,b){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",b,!0)}
function ck(){if(!Vj){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")}};u.h.fG={};u.h.ADD_COMMENT="Add Comment";u.h.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";u.h.CHANGE_VALUE_TITLE="Change value:";u.h.CLEAN_UP="Clean up Blocks";u.h.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";u.h.COLLAPSE_ALL="Collapse Blocks";u.h.COLLAPSE_BLOCK="Collapse Block";u.h.COLOUR_BLEND_COLOUR1="colour 1";u.h.COLOUR_BLEND_COLOUR2="colour 2";u.h.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp";
u.h.COLOUR_BLEND_RATIO="ratio";u.h.COLOUR_BLEND_TITLE="blend";u.h.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).";u.h.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color";u.h.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.";u.h.COLOUR_RANDOM_HELPURL="http://randomcolour.com";u.h.COLOUR_RANDOM_TITLE="random colour";u.h.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.";u.h.COLOUR_RGB_BLUE="blue";u.h.COLOUR_RGB_GREEN="green";
u.h.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html";u.h.COLOUR_RGB_RED="red";u.h.COLOUR_RGB_TITLE="colour with";u.h.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";u.h.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";u.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";u.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";
u.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";u.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";u.h.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";u.h.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";u.h.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";u.h.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";
u.h.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";u.h.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";u.h.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";u.h.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";u.h.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";u.h.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";
u.h.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";u.h.CONTROLS_IF_MSG_ELSE="else";u.h.CONTROLS_IF_MSG_ELSEIF="else if";u.h.CONTROLS_IF_MSG_IF="if";u.h.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";u.h.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";u.h.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";
u.h.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";u.h.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";u.h.CONTROLS_REPEAT_INPUT_DO="do";u.h.CONTROLS_REPEAT_TITLE="repeat %1 times";u.h.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";u.h.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";
u.h.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";u.h.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";u.h.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";u.h.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";u.h.DELETE_ALL_BLOCKS="Delete all %1 blocks?";u.h.DELETE_BLOCK="Delete Block";u.h.DELETE_VARIABLE="Delete the '%1' variable";u.h.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";
u.h.DELETE_X_BLOCKS="Delete %1 Blocks";u.h.DISABLE_BLOCK="Disable Block";u.h.DUPLICATE_BLOCK="Duplicate";u.h.DUPLICATE_COMMENT="Duplicate Comment";u.h.ENABLE_BLOCK="Enable Block";u.h.EXPAND_ALL="Expand Blocks";u.h.EXPAND_BLOCK="Expand Block";u.h.EXTERNAL_INPUTS="External Inputs";u.h.HELP="Help";u.h.INLINE_INPUTS="Inline Inputs";u.h.IOS_CANCEL="Cancel";u.h.IOS_ERROR="Error";u.h.IOS_OK="OK";u.h.IOS_PROCEDURES_ADD_INPUT="+ Add Input";u.h.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements";
u.h.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.";u.h.IOS_PROCEDURES_INPUTS="INPUTS";u.h.IOS_VARIABLES_ADD_BUTTON="Add";u.h.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable";u.h.IOS_VARIABLES_DELETE_BUTTON="Delete";u.h.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.";u.h.IOS_VARIABLES_RENAME_BUTTON="Rename";u.h.IOS_VARIABLES_VARIABLE_NAME="Variable name";u.h.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";
u.h.LISTS_CREATE_EMPTY_TITLE="create empty list";u.h.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";u.h.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";u.h.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";u.h.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";u.h.LISTS_CREATE_WITH_INPUT_WITH="create list with";u.h.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";
u.h.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";u.h.LISTS_GET_INDEX_FIRST="first";u.h.LISTS_GET_INDEX_FROM_END="# from end";u.h.LISTS_GET_INDEX_FROM_START="#";u.h.LISTS_GET_INDEX_GET="get";u.h.LISTS_GET_INDEX_GET_REMOVE="get and remove";u.h.LISTS_GET_INDEX_LAST="last";u.h.LISTS_GET_INDEX_RANDOM="random";u.h.LISTS_GET_INDEX_REMOVE="remove";u.h.LISTS_GET_INDEX_TAIL="";u.h.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";
u.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";u.h.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";u.h.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";u.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";u.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";u.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";
u.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";u.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";u.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";u.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";u.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";u.h.LISTS_GET_SUBLIST_END_FROM_END="to # from end";
u.h.LISTS_GET_SUBLIST_END_FROM_START="to #";u.h.LISTS_GET_SUBLIST_END_LAST="to last";u.h.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";u.h.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";u.h.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";u.h.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";u.h.LISTS_GET_SUBLIST_TAIL="";u.h.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";
u.h.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";u.h.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";u.h.LISTS_INDEX_OF_FIRST="find first occurrence of item";u.h.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";u.h.LISTS_INDEX_OF_LAST="find last occurrence of item";u.h.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";u.h.LISTS_INLIST="in list";
u.h.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";u.h.LISTS_ISEMPTY_TITLE="%1 is empty";u.h.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";u.h.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";u.h.LISTS_LENGTH_TITLE="length of %1";u.h.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";u.h.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";u.h.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";
u.h.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";u.h.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";u.h.LISTS_REVERSE_MESSAGE0="reverse %1";u.h.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";u.h.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";u.h.LISTS_SET_INDEX_INPUT_TO="as";u.h.LISTS_SET_INDEX_INSERT="insert at";u.h.LISTS_SET_INDEX_SET="set";
u.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";u.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";u.h.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";u.h.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";u.h.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";u.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";
u.h.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";u.h.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";u.h.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";u.h.LISTS_SORT_ORDER_ASCENDING="ascending";u.h.LISTS_SORT_ORDER_DESCENDING="descending";u.h.LISTS_SORT_TITLE="sort %1 %2 %3";u.h.LISTS_SORT_TOOLTIP="Sort a copy of a list.";u.h.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";u.h.LISTS_SORT_TYPE_NUMERIC="numeric";
u.h.LISTS_SORT_TYPE_TEXT="alphabetic";u.h.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";u.h.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";u.h.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";u.h.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";u.h.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";u.h.LISTS_SPLIT_WITH_DELIMITER="with delimiter";
u.h.LOGIC_BOOLEAN_FALSE="false";u.h.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";u.h.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";u.h.LOGIC_BOOLEAN_TRUE="true";u.h.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";u.h.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";u.h.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";u.h.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";
u.h.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";u.h.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";u.h.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";u.h.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";u.h.LOGIC_NEGATE_TITLE="not %1";u.h.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";
u.h.LOGIC_NULL="null";u.h.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";u.h.LOGIC_NULL_TOOLTIP="Returns null.";u.h.LOGIC_OPERATION_AND="and";u.h.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";u.h.LOGIC_OPERATION_OR="or";u.h.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";u.h.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";u.h.LOGIC_TERNARY_CONDITION="test";u.h.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";
u.h.LOGIC_TERNARY_IF_FALSE="if false";u.h.LOGIC_TERNARY_IF_TRUE="if true";u.h.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";u.h.MATH_ADDITION_SYMBOL="+";u.h.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";u.h.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";u.h.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";
u.h.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";u.h.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";u.h.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";u.h.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";u.h.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";u.h.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";u.h.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";
u.h.MATH_CHANGE_TITLE="change %1 by %2";u.h.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";u.h.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";u.h.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";u.h.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";u.h.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";
u.h.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";u.h.MATH_DIVISION_SYMBOL="\u00f7";u.h.MATH_IS_DIVISIBLE_BY="is divisible by";u.h.MATH_IS_EVEN="is even";u.h.MATH_IS_NEGATIVE="is negative";u.h.MATH_IS_ODD="is odd";u.h.MATH_IS_POSITIVE="is positive";u.h.MATH_IS_PRIME="is prime";u.h.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";u.h.MATH_IS_WHOLE="is whole";
u.h.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";u.h.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";u.h.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";u.h.MATH_MULTIPLICATION_SYMBOL="\u00d7";u.h.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";u.h.MATH_NUMBER_TOOLTIP="A number.";u.h.MATH_ONLIST_HELPURL="";u.h.MATH_ONLIST_OPERATOR_AVERAGE="average of list";u.h.MATH_ONLIST_OPERATOR_MAX="max of list";u.h.MATH_ONLIST_OPERATOR_MEDIAN="median of list";
u.h.MATH_ONLIST_OPERATOR_MIN="min of list";u.h.MATH_ONLIST_OPERATOR_MODE="modes of list";u.h.MATH_ONLIST_OPERATOR_RANDOM="random item of list";u.h.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";u.h.MATH_ONLIST_OPERATOR_SUM="sum of list";u.h.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";u.h.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";u.h.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";
u.h.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";u.h.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";u.h.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";u.h.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";u.h.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";u.h.MATH_POWER_SYMBOL="^";u.h.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";
u.h.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";u.h.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";u.h.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";u.h.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";u.h.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";u.h.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";u.h.MATH_ROUND_OPERATOR_ROUND="round";
u.h.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";u.h.MATH_ROUND_OPERATOR_ROUNDUP="round up";u.h.MATH_ROUND_TOOLTIP="Round a number up or down.";u.h.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";u.h.MATH_SINGLE_OP_ABSOLUTE="absolute";u.h.MATH_SINGLE_OP_ROOT="square root";u.h.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";u.h.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";u.h.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";
u.h.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";u.h.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";u.h.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";u.h.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";u.h.MATH_SUBTRACTION_SYMBOL="-";u.h.MATH_TRIG_ACOS="acos";u.h.MATH_TRIG_ASIN="asin";u.h.MATH_TRIG_ATAN="atan";u.h.MATH_TRIG_COS="cos";u.h.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
u.h.MATH_TRIG_SIN="sin";u.h.MATH_TRIG_TAN="tan";u.h.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";u.h.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";u.h.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";u.h.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";u.h.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";u.h.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";u.h.NEW_COLOUR_VARIABLE="Create colour variable...";
u.h.NEW_NUMBER_VARIABLE="Create number variable...";u.h.NEW_STRING_VARIABLE="Create string variable...";u.h.NEW_VARIABLE="Create variable...";u.h.NEW_VARIABLE_TITLE="New variable name:";u.h.NEW_VARIABLE_TYPE_TITLE="New variable type:";u.h.ORDINAL_NUMBER_SUFFIX="";u.h.PROCEDURES_ALLOW_STATEMENTS="allow statements";u.h.PROCEDURES_BEFORE_PARAMS="with:";u.h.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";u.h.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";
u.h.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";u.h.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";u.h.PROCEDURES_CALL_BEFORE_PARAMS="with:";u.h.PROCEDURES_CREATE_DO="Create '%1'";u.h.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";u.h.PROCEDURES_DEFNORETURN_DO="";u.h.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";u.h.PROCEDURES_DEFNORETURN_PROCEDURE="do something";
u.h.PROCEDURES_DEFNORETURN_TITLE="to";u.h.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";u.h.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";u.h.PROCEDURES_DEFRETURN_RETURN="return";u.h.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";u.h.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.";u.h.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";u.h.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";
u.h.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";u.h.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";u.h.PROCEDURES_MUTATORARG_TITLE="input name:";u.h.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";u.h.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";u.h.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";u.h.REDO="Redo";u.h.REMOVE_COMMENT="Remove Comment";
u.h.RENAME_VARIABLE="Rename variable...";u.h.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";u.h.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";u.h.TEXT_APPEND_TITLE="to %1 append text %2";u.h.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.";u.h.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case";u.h.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case";u.h.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case";
u.h.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE";u.h.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.";u.h.TEXT_CHARAT_FIRST="get first letter";u.h.TEXT_CHARAT_FROM_END="get letter # from end";u.h.TEXT_CHARAT_FROM_START="get letter #";u.h.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text";u.h.TEXT_CHARAT_LAST="get last letter";u.h.TEXT_CHARAT_RANDOM="get random letter";u.h.TEXT_CHARAT_TAIL="";u.h.TEXT_CHARAT_TITLE="in text %1 %2";
u.h.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.";u.h.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings";u.h.TEXT_COUNT_MESSAGE0="count %1 in %2";u.h.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.";u.h.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.";u.h.TEXT_CREATE_JOIN_TITLE_JOIN="join";u.h.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.";
u.h.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end";u.h.TEXT_GET_SUBSTRING_END_FROM_START="to letter #";u.h.TEXT_GET_SUBSTRING_END_LAST="to last letter";u.h.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";u.h.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text";u.h.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter";u.h.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end";u.h.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #";
u.h.TEXT_GET_SUBSTRING_TAIL="";u.h.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.";u.h.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text";u.h.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text";u.h.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text";u.h.TEXT_INDEXOF_TITLE="in text %1 %2 %3";u.h.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";
u.h.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";u.h.TEXT_ISEMPTY_TITLE="%1 is empty";u.h.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.";u.h.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation";u.h.TEXT_JOIN_TITLE_CREATEWITH="create text with";u.h.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.";u.h.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";
u.h.TEXT_LENGTH_TITLE="length of %1";u.h.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.";u.h.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text";u.h.TEXT_PRINT_TITLE="print %1";u.h.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.";u.h.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";u.h.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.";
u.h.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.";u.h.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message";u.h.TEXT_PROMPT_TYPE_TEXT="prompt for text with message";u.h.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings";u.h.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3";u.h.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.";u.h.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text";
u.h.TEXT_REVERSE_MESSAGE0="reverse %1";u.h.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.";u.h.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)";u.h.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.";u.h.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";u.h.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of";u.h.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of";u.h.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of";
u.h.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.";u.h.TODAY="Today";u.h.UNDO="Undo";u.h.VARIABLES_DEFAULT_NAME="item";u.h.VARIABLES_GET_CREATE_SET="Create 'set %1'";u.h.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";u.h.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";u.h.VARIABLES_SET="set %1 to %2";u.h.VARIABLES_SET_CREATE_GET="Create 'get %1'";u.h.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";
u.h.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";u.h.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";u.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";u.h.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";u.h.CONTROLS_FOREACH_INPUT_DO=u.h.CONTROLS_REPEAT_INPUT_DO;u.h.CONTROLS_FOR_INPUT_DO=u.h.CONTROLS_REPEAT_INPUT_DO;u.h.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=u.h.CONTROLS_IF_MSG_ELSEIF;
u.h.CONTROLS_IF_ELSE_TITLE_ELSE=u.h.CONTROLS_IF_MSG_ELSE;u.h.CONTROLS_IF_IF_TITLE_IF=u.h.CONTROLS_IF_MSG_IF;u.h.CONTROLS_IF_MSG_THEN=u.h.CONTROLS_REPEAT_INPUT_DO;u.h.CONTROLS_WHILEUNTIL_INPUT_DO=u.h.CONTROLS_REPEAT_INPUT_DO;u.h.LISTS_CREATE_WITH_ITEM_TITLE=u.h.VARIABLES_DEFAULT_NAME;u.h.LISTS_GET_INDEX_HELPURL=u.h.LISTS_INDEX_OF_HELPURL;u.h.LISTS_GET_INDEX_INPUT_IN_LIST=u.h.LISTS_INLIST;u.h.LISTS_GET_SUBLIST_INPUT_IN_LIST=u.h.LISTS_INLIST;u.h.LISTS_INDEX_OF_INPUT_IN_LIST=u.h.LISTS_INLIST;
u.h.LISTS_SET_INDEX_INPUT_IN_LIST=u.h.LISTS_INLIST;u.h.MATH_CHANGE_TITLE_ITEM=u.h.VARIABLES_DEFAULT_NAME;u.h.PROCEDURES_DEFRETURN_COMMENT=u.h.PROCEDURES_DEFNORETURN_COMMENT;u.h.PROCEDURES_DEFRETURN_DO=u.h.PROCEDURES_DEFNORETURN_DO;u.h.PROCEDURES_DEFRETURN_PROCEDURE=u.h.PROCEDURES_DEFNORETURN_PROCEDURE;u.h.PROCEDURES_DEFRETURN_TITLE=u.h.PROCEDURES_DEFNORETURN_TITLE;u.h.TEXT_APPEND_VARIABLE=u.h.VARIABLES_DEFAULT_NAME;u.h.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=u.h.VARIABLES_DEFAULT_NAME;u.h.MATH_HUE="230";
u.h.LOOPS_HUE="120";u.h.LISTS_HUE="260";u.h.LOGIC_HUE="210";u.h.VARIABLES_HUE="330";u.h.TEXTS_HUE="160";u.h.PROCEDURES_HUE="290";u.h.COLOUR_HUE="20";u.h.VARIABLES_DYNAMIC_HUE="310";var N={ek:null,za:function(){ak();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=L("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=L("Games_linkAlert"),BlocklyStorage.HASH_ERROR=L("Games_hashError"),BlocklyStorage.XML_ERROR=L("Games_xmlError"),BlocklyStorage.alert=M.sy.bind(M,a),a&&ek(a,BlocklyStorage.link)):a&&(a.style.display="none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",N.jB,!0);u.jb&&(u.jb.cA=!1);u.L&&
(u.L.cA=!1)},tD:function(a,b){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var d=null;try{d=window.sessionStorage.ex}catch(g){}d&&delete window.sessionStorage.ex;var e=bk(K),f=b&&bk(K-1);f&&"function"==typeof b&&(f=b(f));(a=d||e||f||a)&&N.$x(a)}},$x:function(a){N.ek?N.ek.setValue(a,-1):(a=u.S.Ng(a),H.clear(),u.S.nh(a,H),H.gv())},vr:function(){if(N.ek)var a=N.ek.getValue();else{a=u.S.Bp(H,!0);if(1==A(H,!1).length&&a.querySelector){var b=
a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}a=u.S.Vc(a)}return a},sh:function(){return H},Bm:function(){window.localStorage&&(window.localStorage[dk+K]=N.vr())},uk:function(){window.location=(Vj?"index.html":"./")+"?lang="+Tj},jB:function(){if(window.sessionStorage){if(N.ek)var a=N.ek.getValue();else a=u.S.Bp(H),a=u.S.Vc(a);window.sessionStorage.ex=a}a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var b=window.location.search;
b=1>=b.length?"?lang="+a:b.match(/[?&]lang=[^&]*/)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b},gp:function(){"maze"==dk?7>K?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+Tj+"&level="+(K+1):N.uk():4>K?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+Tj+"&level="+(K+1):N.uk()},
Kf:function(a,b){if(a){var d=a.match(/^block_id_([^']+)$/);d&&(a=d[1])}ji(a,b)},hD:function(a,b){a=document.getElementById(a);a.firstChild||(a=u.yh(a,{rtl:-1!=Sj.indexOf(Tj),readOnly:!0}),"string"!=typeof b&&(b=b.join("")),u.S.nh(u.S.Ng(b),a))},KE:function(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")},Cf:function(a){if("click"==a.type&&"touchend"==N.Cf.Gs&&N.Cf.Fs+2E3>Date.now()||N.Cf.Gs==a.type&&N.Cf.Fs+400>Date.now())return a.preventDefault(),a.stopPropagation(),
!0;N.Cf.Gs=a.type;N.Cf.Fs=Date.now();return!1}};N.Cf.Gs=null;N.Cf.Fs=0;N.cD=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","third-party/JS-Interpreter/compressed.js");document.head.appendChild(a)};
N.dD=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=N;N.setCode=N.$x;N.getCode=N.vr;N.getWorkspace=N.sh;var M={Ri:!1,Rv:null,bo:null,Gm:function(a,b,d,e,f,g){function k(){M.Ri&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);M.Ri&&M.tb(!1);u.Ad()&&u.lc(!0);M.Ri=!0;M.Rv=b;M.bo=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),p;for(p in f)l.style[p]=f[p];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),M.Tq=u.wc(e,"mousedown",null,M.SB));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&b?(M.Yo(b,!1,.2),M.Yo(l,!0,.8),setTimeout(k,175)):k()},Sv:0,Tv:0,SB:function(a){M.Wq();if(!u.g.Ch(a)){var b=document.getElementById("dialog");M.Sv=b.offsetLeft-a.clientX;M.Tv=b.offsetTop-a.clientY;M.Vq=u.wc(document,"mouseup",null,M.Wq);M.Uq=u.wc(document,"mousemove",null,M.TB);a.stopPropagation()}},TB:function(a){var b=document.getElementById("dialog"),
d=M.Sv+a.clientX;a=M.Tv+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-b.offsetWidth);b.style.left=d+"px";b.style.top=a+"px"},Wq:function(){M.Vq&&(u.gb(M.Vq),M.Vq=null);M.Uq&&(u.gb(M.Uq),M.Uq=null)},tb:function(a){function b(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(M.Ri){M.Wq();M.Tq&&(u.gb(M.Tq),M.Tq=null);M.Ri=!1;M.bo&&M.bo();M.bo=null;var d=!1===a?
null:M.Rv;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(M.Yo(a,!1,.8),M.Yo(d,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Yo:function(a,b,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=
g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=M.nC(a);b?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},nC:function(a){var b=nf(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},sy:function(a,b){var d=document.getElementById("containerStorage");d.textContent="";b=b.split("\n");for(var e=0;e<b.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(b[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");M.Gm(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},M.JE);M.GE()},MA:function(){if(!bk(K))if(M.Ri||H.Fc())setTimeout(M.MA,15E3);else{var a=document.getElementById("dialogAbort"),b=document.getElementById("abortCancel");b.addEventListener("click",M.tb,!0);b.addEventListener("touchend",M.tb,!0);b=document.getElementById("abortOk");b.addEventListener("click",N.uk,!0);b.addEventListener("touchend",N.uk,
!0);M.Gm(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",M.Pu,!0)});document.body.addEventListener("keydown",M.Pu,!0)}},jy:function(){document.getElementById("galleryXml").value=N.vr();var a=document.getElementById("galleryDialog");if(!M.jy.uE){var b=document.getElementById("galleryCancel");b.addEventListener("click",M.tb,!0);b.addEventListener("touchend",M.tb,!0);b=document.getElementById("galleryOk");b.addEventListener("click",M.sr,!0);b.addEventListener("touchend",
M.sr,!0);M.jy.uE=!0}b=document.getElementById("submitButton");M.Gm(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",M.kw,!0)});document.body.addEventListener("keydown",M.kw,!0);setTimeout(function(){document.getElementById("galleryTitle").focus()},250)},zl:function(){var a=document.getElementById("dialogDone");if(H){var b=document.getElementById("dialogLinesText");b.textContent="";var d=Ji();d=N.KE(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,
"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=2<K?L("Games_linesOfCode3").replace("%1",String(e)):1==e?L("Games_linesOfCode1"):L("Games_linesOfCode2").replace("%1",String(e));b.appendChild(document.createTextNode(d))}d="maze"==dk?7>K?L("Games_nextLevel").replace("%1",String(K+1)):L("Games_finalLevel"):
4>K?L("Games_nextLevel").replace("%1",String(K+1)):L("Games_finalLevel");b=document.getElementById("doneCancel");b.addEventListener("click",M.tb,!0);b.addEventListener("touchend",M.tb,!0);b=document.getElementById("doneOk");b.addEventListener("click",N.gp,!0);b.addEventListener("touchend",N.gp,!0);M.Gm(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",M.pv,!0)});document.body.addEventListener("keydown",M.pv,!0);document.getElementById("dialogDoneText").textContent=
d},Qv:function(a){!M.Ri||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(M.tb(!0),a.stopPropagation(),a.preventDefault())},GE:function(){document.body.addEventListener("keydown",M.Qv,!0)},JE:function(){document.body.removeEventListener("keydown",M.Qv,!0)},pv:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)M.tb(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&N.gp()},Pu:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)M.tb(!0),a.stopPropagation(),a.preventDefault(),27!=
a.keyCode&&N.uk()},kw:function(a){27==a.keyCode?M.tb(!0):13==a.keyCode&&M.sr()},sr:function(){var a=document.getElementById("galleryTitle");if(a.value.trim()){a=document.getElementById("galleryForm");for(var b=[],d=0,e;e=a.elements[d];d++)e.name&&(b[d]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));var f=new XMLHttpRequest;f.open("POST",a.action);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onload=function(){if(4==f.readyState){var g=200==f.status?L("Games_submitted"):
L("Games_httpRequestError")+"\nStatus: "+f.status;M.sy(null,g)}};f.send(b.join("&"));M.tb(!0)}else a.value="",a.focus()}};window.BlocklyDialogs=M;M.hideDialog=M.tb;
u.L=new u.Generator("JavaScript");Qi("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
u.L.sF=0;u.L.KF=1.1;u.L.zn=1.2;u.L.yn=2;u.L.HF=3;u.L.BF=3;u.L.vF=4.1;u.L.NF=4.2;u.L.lu=4.3;u.L.hu=4.4;u.L.MF=4.5;u.L.OF=4.6;u.L.CF=4.7;u.L.tF=4.8;u.L.FF=5;u.L.ju=5.1;u.L.DF=5.2;u.L.JF=5.3;u.L.ku=6.1;u.L.xn=6.2;u.L.xF=7;u.L.LF=8;u.L.GF=8;u.L.IF=8;u.L.EF=9;u.L.uF=10;u.L.yF=11;u.L.wF=12;u.L.gu=13;u.L.iu=14;u.L.AF=15;u.L.rF=16;u.L.PF=17;u.L.zF=18;u.L.dA=99;u.L.An=[[u.L.yn,u.L.zn],[u.L.yn,u.L.yn],[u.L.zn,u.L.zn],[u.L.zn,u.L.yn],[u.L.hu,u.L.hu],[u.L.ju,u.L.ju],[u.L.xn,u.L.xn],[u.L.gu,u.L.gu],[u.L.iu,u.L.iu]];
u.L.za=function(a){u.L.Zn=Object.create(null);u.L.lC=Object.create(null);u.L.$m?u.L.$m.reset():u.L.$m=new u.Je(u.L.cq);u.L.$m.La=a.La;for(var b=[],d=u.aa.PA(a),e=0;e<d.length;e++)b.push(Vi(d[e],u.Je.Op));a=u.aa.Ru(a);for(e=0;e<a.length;e++)b.push(Vi(a[e].Ka(),u.aa.Lj));b.length&&(u.L.Zn.variables="var "+b.join(", ")+";")};u.L.finish=function(a){var b=[],d;for(d in u.L.Zn)b.push(u.L.Zn[d]);delete u.L.Zn;delete u.L.lC;u.L.$m.reset();return b.join("\n\n")+"\n\n\n"+a};u.L.Xx=function(a){return a+";\n"};
u.L.tG=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
u.L.Us=function(a,b,d){var e="";if(!a.X||!a.X.sa){var f=a.vo();(f=u.g.Xa.Py(f,u.L.dz-3))&&(e=a.Hi?e+("/**\n"+Mi(f+"\n"," * ")+" */\n"):e+Mi(f+"\n","// "));for(var g=0;g<a.W.length;g++)if(a.W[g].type==u.Oa){var k=x(a.W[g].connection);if(k){f=[];k=Ba(k,!0);for(var l=0;l<k.length;l++){var m=k[l].vo();m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Mi(f,"// "))}}}a=a.ba&&x(a.ba);d=d?"":Ki(u.L,a);return e+b+d};
u.L.kG=function(a,b,d,e,f){d=d||0;f=f||u.L.dA;a.B.options.Jh&&d--;var g=a.B.options.Jh?"1":"0";a=0<d?Ni(a,b,u.L.xn)||g:0>d?Ni(a,b,u.L.ku)||g:e?Ni(a,b,u.L.lu)||g:Ni(a,b,f)||g;if(u.oD(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=u.L.xn}else 0>d&&(a=a+" - "+-d,k=u.L.ku);e&&(a=d?"-("+a+")":"-"+a,k=u.L.lu);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};var fk={};u.jb.maze_moveForward={za:function(){yi(this,{message0:L("Maze_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:L("Maze_moveForwardTooltip")})}};u.L.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};u.jb.maze_turn={za:function(){var a=[[L("Maze_turnLeft"),"turnLeft"],[L("Maze_turnRight"),"turnRight"]];a[0][0]+=" \u21ba";a[1][0]+=" \u21bb";this.dc(290);I(xi(this),new u.Ea(a),"DIR");this.ze(!0);this.Kg(!0);this.ed(L("Maze_turnTooltip"))}};
u.L.maze_turn=function(a){return vb(a,"DIR")+"('block_id_"+a.id+"');\n"};u.jb.maze_if={za:function(){var a=[[L("Maze_pathAhead"),"isPathForward"],[L("Maze_pathLeft"),"isPathLeft"],[L("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.dc(210);I(xi(this),new u.Ea(a),"DIR");I(wi(this,"DO"),L("Maze_doCode"));this.ed(L("Maze_ifTooltip"));this.ze(!0);this.Kg(!0)}};u.L.maze_if=function(a){var b=vb(a,"DIR")+"('block_id_"+a.id+"')";a=Pi(a,"DO");return"if ("+b+") {\n"+a+"}\n"};
u.jb.maze_ifElse={za:function(){var a=[[L("Maze_pathAhead"),"isPathForward"],[L("Maze_pathLeft"),"isPathLeft"],[L("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.dc(210);I(xi(this),new u.Ea(a),"DIR");I(wi(this,"DO"),L("Maze_doCode"));I(wi(this,"ELSE"),L("Maze_elseCode"));this.ed(L("Maze_ifelseTooltip"));this.ze(!0);this.Kg(!0)}};u.L.maze_ifElse=function(a){var b=vb(a,"DIR")+"('block_id_"+a.id+"')",d=Pi(a,"DO");a=Pi(a,"ELSE");return"if ("+b+") {\n"+d+"} else {\n"+a+"}\n"};
u.jb.maze_forever={za:function(){this.dc(120);I(I(xi(this),L("Maze_repeatUntil")),new u.de(fk.pF.TF.hG,12,16));I(wi(this,"DO"),L("Maze_doCode"));this.ze(!0);this.ed(L("Maze_whileTooltip"))}};u.L.maze_forever=function(a){var b=Pi(a,"DO");u.L.Ij&&(b=u.L.Ij.replace(/%1/g,"'block_id_"+a.id+"'")+b);return"while (notDone()) {\n"+b+"}\n"};
u.jb.maze_forever_4activities={za:function(){this.dc(182);I(I(I(xi(this),L("Maze_repeatTaskUntil")),new u.de(gk,20,17)),L("Maze_4activitiesComplete"));I(wi(this,"DO"),L("Maze_doCode"));this.ze(!0);this.ed(L("Maze_whileAct4Tooltip"))}};u.L.maze_forever_4activities=function(a){var b=Pi(a,"DO");u.L.Ij&&(b=u.L.Ij.replace(/%1/g,"'block_id_"+a.id+"'")+b);return"while (notDone()) {\n"+b+"}\n"};
u.jb.maze_forever_2activities={za:function(){this.dc(182);I(I(I(xi(this),L("Maze_repeatTaskUntil")),new u.de(gk,20,17)),L("Maze_2activitiesComplete"));I(wi(this,"DO"),L("Maze_doCode"));this.ze(!0);this.ed(L("Maze_whileAct2Tooltip"))}};u.L.maze_forever_2activities=function(a){var b=Pi(a,"DO");u.L.Ij&&(b=u.L.Ij.replace(/%1/g,"'block_id_"+a.id+"'")+b);return"while (notDone()) {\n"+b+"}\n"};
u.jb.maze_1student={za:function(){var a=[[L("Maze_student0"),"isStudent0"]];this.dc(45);I(xi(this),new u.Ea(a),"STD");I(wi(this,"DO"),L("Maze_doCode"));this.ed(L("Maze_ifStdTooltip"));this.ze(!0);this.Kg(!0)}};u.L.maze_1student=function(a){var b=vb(a,"STD")+"('block_id_"+a.id+"')";a=Pi(a,"DO");return"if ("+b+") {\n"+a+"}\n"};
u.jb.maze_2students={za:function(){var a=[[L("Maze_student0"),"isStudent0"],[L("Maze_student1"),"isStudent1"]];this.dc(45);I(xi(this),new u.Ea(a),"STD");I(wi(this,"DO"),L("Maze_doCode"));this.ed(L("Maze_ifStdTooltip"));this.ze(!0);this.Kg(!0)}};u.L.maze_2students=function(a){var b=vb(a,"STD")+"('block_id_"+a.id+"')";a=Pi(a,"DO");return"if ("+b+") {\n"+a+"}\n"};
u.jb.maze_student={za:function(){var a=[[L("Maze_student0"),"isStudent0"],[L("Maze_student1"),"isStudent1"],[L("Maze_student2"),"isStudent2"]];this.dc(45);I(xi(this),new u.Ea(a),"STD");I(wi(this,"DO"),L("Maze_doCode"));this.ed(L("Maze_ifStdTooltip"));this.ze(!0);this.Kg(!0)}};u.L.maze_student=function(a){var b=vb(a,"STD")+"('block_id_"+a.id+"')";a=Pi(a,"DO");return"if ("+b+") {\n"+a+"}\n"};var hk={};function ik(){throw Error("Do not instantiate directly");}ik.prototype.Mq=null;ik.prototype.qh=function(){return this.content};ik.prototype.toString=function(){return this.content};ik.prototype.yp=function(){if(this.sv!==hk)throw Error("Sanitized content was not of kind HTML.");return rd(this.toString(),this.Mq||null)};function jk(a){if(null!=a)switch(a.Mq){case 1:return 1;case -1:return-1;case 0:return 0}return null}function kk(){ik.call(this)}n(kk,ik);kk.prototype.sv=hk;function lk(a){return null!=a&&a.sv===hk?a:mk(String(String(a)).replace(nk,ok),jk(a))}
var mk=function(a){function b(){}b.prototype=a.prototype;return function(d,e){var f=new b;f.content=String(d);void 0!==e&&(f.Mq=e);return f}}(kk),pk={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ok(a){return pk[a]}var nk=/[\x00\x22\x26\x27\x3c\x3e]/g;function qk(){for(var a='<div style="display: none"><span id="Games_maze">Maze</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2"> You solved this level with %1 lines of JavaScript:</span><span id="Games_linesOfCode3"> ...and using %1 lines of JavaScript:</span><span id="Games_execTime"> You solved this level in %2 execution time!</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Congratulations for completing this challenge.</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Maze_moveForward">move forward</span><span id="Maze_turnLeft">turn left</span><span id="Maze_turnRight">turn right</span><span id="Maze_doCode">do</span><span id="Maze_elseCode">else</span><span id="Maze_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Maze_pathAhead">if path ahead</span><span id="Maze_pathLeft">if path to the left</span><span id="Maze_pathRight">if path to the right</span><span id="Maze_repeatUntil">repeat until</span><span id="Maze_moveForwardTooltip">Moves the player forward one space.</span><span id="Maze_turnTooltip">Turns the player left or right by 90 degrees.</span><span id="Maze_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Maze_ifelseTooltip">If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Maze_whileTooltip">Repeat the enclosed actions until finish point is reached.</span><span id="Maze_capacity0">You have %0 blocks left.</span><span id="Maze_capacity1">You have %1 block left.</span><span id="Maze_capacity2">You have %2 blocks left.</span><span id="Maze_2activitiesComplete">== 2</span><span id="Maze_4activitiesComplete">== 4</span><span id="Maze_booksZero">== 0</span><span id="Maze_booksZeroPar">== 0 in parallel</span><span id="Maze_student0">student 1</span><span id="Maze_student1">student 2</span><span id="Maze_student2">student 3</span><span id="Maze_repeatTaskUntil">repeat until</span><span id="Maze_time">Time: %2</span><span id="Maze_whileBooksTooltip">Repeat the enclosed actions until return all books to library.</span><span id="Maze_whileBooksTooltipPar">Repeat the enclosed actions in parallel until return all books to library.</span><span id="Maze_whileAct4Tooltip">Repeat the enclosed commands until the student complete all the 4 activities to attend the class</span><span id="Maze_whileAct2Tooltip">Repeat the enclosed commands until the student complete all the 2 activities to attend the class</span><span id="Maze_ifStdTooltip">Do the actions related with the student selected.</span><span id="Maze_help1Student">The student block will set the action of the student.</span><span id="Maze_help2Students">The student block will set the action to a specific student.</span><span id="Maze_helpBooks">This block will execute both students in parallel.</span><span id="Games_dialogStart">Start</span></div><div class="header"><a id="back" href="index.html" class="logo"><img id="banner" src="index/blocklypar.png" width="70" alt="Blockly Games"></a>&nbsp<td><a><h1><span id="title">'+
(lk({appName:"Introduction to Tasks"}.appName)+"</span>"),b="&skin="+lk(0),d=" &nbsp; ",e=1;5>e;e++)d+=" "+(e==K?'<a class="level_number level_done" id="level'+lk(e)+'">'+lk(e)+"</a>":4==e?'<a class="level_number" id="level'+lk(e)+'" href="?lang='+lk(Tj)+"&level="+lk(e)+lk(b)+'">'+lk(e)+"</a>":'<a class="level_dot" id="level'+lk(e)+'" href="?lang='+lk(Tj)+"&level="+lk(e)+lk(b)+'"></a>');return a+d+'</h1></a></td><div class="nav-spacer"></div></div>&nbsp<div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze" width="400px" height="400px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg></div><table width="400"><tr><div class=\'parent\'><div align=\'left\' class=\'child inline-block-child\' id="counter"></div><div align=\'center\' class=\'child inline-block-child\' id="number"></div><div align=\'center\' class=\'child inline-block-child\' id="timeBubble"> <div id="time"></div> </div><div align=\'right\' class=\'child inline-block-child\' id="capacityBubble"> <div id="capacity"></div> </div></div><td style="width: 220px; text-align: right; vertical-align: top;"><td><button id="runButton" class="primary" title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Put the player back at the start of the maze."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" style="display: none;" xmlns="https://developers.google.com/blockly/xml"><block type="maze_moveForward"></block><block type="maze_turn"><field name="DIR">turnLeft</field></block><block type="maze_turn"><field name="DIR">turnRight</field></block>'+
((4>K?'<block type="maze_forever_2activities"></block>':"")+(1<K?(4==K?'<block type="maze_forever_2activities"></block><block type="maze_1student"><field name="STD">isStudent0</field></block>':"")+'<block type="maze_if"><field name="DIR">isPathRight</field></block><block type="maze_ifElse"></block>':"")+'</xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>CONGRATULATIONS!</center></h3></div><div id="dialogRunText" style="font-size: large; margin: 1em;"></div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div><div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div></div>')+
(1==K?'<div id="dialog1Intro" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>LEVEL 1</center></h3></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;">Can you help the student to finish her/his 2 homework tasks before attending the class?</div><br><table><tr><td><img src="maze/img/modals/level1.png"></td><td><div style="font-size: large; margin: 0.8em;">Collect all the homework tasks on the way to arrive in the classroom successfully.</div></td></tr></table><button id="playStart" class="secondary">Ok</button></div></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td>You need to stack together all the blocks that you want to use.</td><td><div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpStack" class="dialogHiddenContent"><table><tr><td>Stack a \'move forward\' block in the \'repeat until\' block to finish the task.</td></tr></table></div>':
2==K?'<div id="dialog2Intro" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>LEVEL 2</center></h3></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;">There are 2 more homework tasks before attending another class.<table><tr><td><div style="font-size: large; margin: 0.8em;">Use the <b>conditional block</b> to help the student to achieve the classroom:</div></td><td><img src="maze/img/modals/level2.png"></td></tr></table><button id="playStart" class="secondary">Ok</button></div></div>':
3==K?'<div id="dialog3Intro" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>LEVEL 3</center></h3></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;"><div style="font-size: large; margin: 1em;">Let\'s practice a little more the resolution of tasks!</div><button id="playStart" class="secondary">Ok</button></div></div>':4==K?'<div id="dialog4Intro" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>LEVEL 4</center></h3></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;"><table><tr><td><div style="font-size: large; margin: 1em;">From now on you need to assign the blocks tasks to the student using the block:</div></td><td><img class="img-responsive" src="maze/img/modals/level3.png"></td></tr></table><button id="playStart" class="secondary">Ok</button></div></div><div id="dialogHelp1Student" class="dialogHiddenContent">To move the student you need to stack the blocks inside the \'student do\' block.</div>':
"")};function rk(a,b){var d=O;this.id=0;this.locked=!1;this.time=this.active=0;this.u={x:a,y:b};this.N=d;this.reset(this.N,this.u.x,this.u.y)}rk.prototype.reset=function(a,b,d){this.locked=!1;this.u={x:b,y:d};this.N=a};var sk,P,R,S=[],T=[],tk=0,uk=0,vk=0,wk=0;
function xk(a){function b(p,r){return 0>p||p>=yk||0>r||r>=zk?"0":U[r][p]==Ak?"0":"1"}var d=document.createElementNS(u.g.j.fa,"image");d.setAttributeNS(u.g.j.ta,"xlink:href","maze/img/bg/level123.png");d.setAttribute("height",Bk);d.setAttribute("width",Ck);d.setAttribute("x",0);d.setAttribute("y",0);a.appendChild(d);for(var e=0,f=0;f<zk;f++)for(var g=0;g<yk;g++){var k=b(g,f)+b(g,f-1)+b(g+1,f)+b(g,f+1)+b(g-1,f);Dk[k]||(k="00000"==k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));var l=
Dk[k][0];k=Dk[k][1];d=document.createElementNS(u.g.j.fa,"clipPath");d.id="tileClipPath"+e;var m=document.createElementNS(u.g.j.fa,"rect");m.setAttribute("width",V);m.setAttribute("height",V);m.setAttribute("x",g*V);m.setAttribute("y",f*V);d.appendChild(m);a.appendChild(d);d=document.createElementNS(u.g.j.fa,"image");d.setAttributeNS(u.g.j.ta,"xlink:href","maze/tiles_ufsm.png");d.setAttribute("height",4*V);d.setAttribute("width",5*V);d.setAttribute("clip-path","url(#tileClipPath"+e+")");d.setAttribute("x",
(g-l)*V);d.setAttribute("y",(f-k)*V);a.appendChild(d);e++}for(f=0;f<zk;f++)for(g=0;g<yk;g++)U[f][g]==Ek?(sk={x:g,y:f},R=new rk(g,f)):U[f][g]==Fk?P={x:g,y:f}:U[f][g]==Gk&&(0==uk?uk={x:g,y:f}:vk={x:g,y:f})}
function Hk(){var a=document.getElementById("svgMaze"),b=document.createElementNS(u.g.j.fa,"image");b.id="activity0";b.setAttributeNS(u.g.j.ta,"xlink:href","maze/activity.png");b.setAttribute("height",45);b.setAttribute("width",35);a.appendChild(b);b.setAttribute("x",V*(uk.x+.5)-b.getAttribute("width")/2);b.setAttribute("y",V*(uk.y+.6)-b.getAttribute("height"));b=document.createElementNS(u.g.j.fa,"image");b.id="activity1";b.setAttributeNS(u.g.j.ta,"xlink:href","maze/activity.png");b.setAttribute("height",
45);b.setAttribute("width",35);a.appendChild(b);b.setAttribute("x",V*(vk.x+.5)-b.getAttribute("width")/2);b.setAttribute("y",V*(vk.y+.6)-b.getAttribute("height"))}
function Ik(a){for(var b=0;b<S.length;b++)window.clearTimeout(S[b]);S=[];R.reset(O,sk.x,sk.y);a?(R.N++,S.push(setTimeout(function(){Jk([R.u.x,R.u.y,4*R.N-4]);R.N++},5*W))):Kk(R.u.x,R.u.y,4*O);a=document.getElementById("finish");a.setAttribute("x",V*(P.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",V*(P.y+.6)-a.getAttribute("height")/2)}
function Lk(){if("Interpreter"in window){T=[];u.selected&&u.selected.Ae();X=Mk;var a=Ji();a=new Interpreter(a,Nk);try{for(var b=1E5;a.step();)if(0==b--)throw Infinity;X=2!=wk?Ok:Pk}catch(d){Infinity===d?X=Qk:!1===d?X=Rk:(X=Rk,alert(d))}X==Pk&&(H.wb.play("win",.5),T.push(["finish",null]));Ik(!1);S.push(setTimeout(Sk,100))}else setTimeout(Tk,250)}
function Nk(a,b){var d=function(e){Uk(0,e)};a.setProperty(b,"moveForward",a.createNativeFunction(d));d=function(e){Uk(2,e)};a.setProperty(b,"moveBackward",a.createNativeFunction(d));d=function(e){Vk(0,e)};a.setProperty(b,"turnLeft",a.createNativeFunction(d));d=function(e){Vk(1,e)};a.setProperty(b,"turnRight",a.createNativeFunction(d));d=function(e){return Wk(0,e)};a.setProperty(b,"isPathForward",a.createNativeFunction(d));d=function(e){return Wk(1,e)};a.setProperty(b,"isPathRight",a.createNativeFunction(d));
d=function(e){return Wk(2,e)};a.setProperty(b,"isPathBackward",a.createNativeFunction(d));d=function(e){return Wk(3,e)};a.setProperty(b,"isPathLeft",a.createNativeFunction(d));a.setProperty(b,"notDone",a.createNativeFunction(function(){return 2!=wk}));a.setProperty(b,"2activitiesComplete",a.createNativeFunction(function(){}))}
function Sk(){var a=T.shift();if(a){N.Kf(a[1]);switch(a[0]){case "north":Jk([R.u.x,R.u.y-1,4*R.N]);R.u.y--;break;case "east":Jk([R.u.x+1,R.u.y,4*R.N]);R.u.x++;break;case "south":Jk([R.u.x,R.u.y+1,4*R.N]);R.u.y++;break;case "west":Jk([R.u.x-1,R.u.y,4*R.N]);R.u.x--;break;case "fail_forward":Xk(!0);break;case "fail_backward":Xk(!1);break;case "left":Jk([R.u.x,R.u.y,4*R.N-4]);R.N=Y(R.N-1);break;case "right":Jk([R.u.x,R.u.y,4*R.N+4]);R.N=Y(R.N+1);break;case "finish":N.Bm(),setTimeout(M.zl,1E3)}S.push(setTimeout(Sk,
5*W))}else N.Kf(null),Yk()}function Uk(a,b){if(!Wk(a,null))throw T.push(["fail_"+(a?"backward":"forward"),b]),!1;switch(Y(R.N+a)){case Zk:R.u.y--;var d="north";break;case O:R.u.x++;d="east";break;case $k:R.u.y++;d="south";break;case al:R.u.x--,d="west"}T.push([d,b])}function Vk(a,b){a?(R.N++,T.push(["right",b])):(R.N--,T.push(["left",b]));R.N=Y(R.N)}
function Wk(a,b){switch(Y(R.N+a)){case Zk:var d=U[R.u.y-1]&&U[R.u.y-1][R.u.x];var e="look_north";break;case O:d=U[R.u.y][R.u.x+1];e="look_east";break;case $k:d=U[R.u.y+1]&&U[R.u.y+1][R.u.x];e="look_south";break;case al:d=U[R.u.y][R.u.x-1],e="look_west"}b&&T.push([e,b]);return d!==Ak&&void 0!==d}
function Jk(a){var b=[R.u.x,R.u.y,4*R.N],d=[(a[0]-b[0])/4,(a[1]-b[1])/4,(a[2]-b[2])/4];S.push(setTimeout(function(){Kk(b[0]+d[0],b[1]+d[1],Z(b[2]+d[2]))},W));S.push(setTimeout(function(){Kk(b[0]+2*d[0],b[1]+2*d[1],Z(b[2]+2*d[2]))},W));S.push(setTimeout(function(){Kk(b[0]+3*d[0],b[1]+3*d[1],Z(b[2]+3*d[2]))},2*W));S.push(setTimeout(function(){Kk(a[0],a[1],Z(a[2]))},3*W))}
function Xk(a){var b=0,d=0;switch(R.N){case Zk:d=-1;break;case O:b=1;break;case $k:d=1;break;case al:b=-1}a||(b=-b,d=-d);b/=4;d/=4;var e=Z(4*R.N);Kk(R.u.x,R.u.y+d,e);H.wb.play("fail",.5);S.push(setTimeout(function(){Kk(R.u.x,R.u.y,e)},W));S.push(setTimeout(function(){Kk(R.u.x+b,R.u.y+d,e);H.wb.play("fail",.5)},2*W));S.push(setTimeout(function(){Kk(R.u.x,R.u.y,e)},3*W))}
function Kk(a,b,d){var e=document.getElementById("student");e.setAttribute("x",a*V-d*bl+1);e.setAttribute("y",V*(b+.5)-cl/2-8);e.setAttribute("transform","rotate(0, 0, 0)");d=document.getElementById("clipRect");d.setAttribute("x",a*V+1);d.setAttribute("y",e.getAttribute("y"));if(a==uk.x&&b==uk.y||a==vk.x&&b==vk.y)e=document.getElementById("svgMaze"),d=document.createElementNS(u.g.j.fa,"image"),d.id="activity",d.setAttributeNS(u.g.j.ta,"xlink:href","maze/activity.png"),d.setAttribute("height",45),
d.setAttribute("width",35),e.appendChild(d),d.setAttribute("x",1.1*V-d.getAttribute("width")/2),tk+=1,d.setAttribute("y",V*(tk+2.5)-d.getAttribute("height")),e=document.getElementById("svgMaze"),d=document.getElementById("activity".concat(wk.toString())),e.removeChild(d),wk++;a==P.x&&b==P.y&&Lk()};S=[];T=[];var dl=0,el=0,fl=0,gl=0,gk="maze/activity.png";
function hl(a){function b(p,r){return 0>p||p>=yk||0>r||r>=zk?"0":U[r][p]==Ak?"0":"1"}var d=document.createElementNS(u.g.j.fa,"image");d.setAttributeNS(u.g.j.ta,"xlink:href","maze/img/bg/level123.png");d.setAttribute("height",Bk);d.setAttribute("width",Ck);d.setAttribute("x",0);d.setAttribute("y",0);a.appendChild(d);for(var e=0,f=0;f<zk;f++)for(var g=0;g<yk;g++){var k=b(g,f)+b(g,f-1)+b(g+1,f)+b(g,f+1)+b(g-1,f);Dk[k]||(k="00000"==k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));var l=
Dk[k][0];k=Dk[k][1];d=document.createElementNS(u.g.j.fa,"clipPath");d.id="tileClipPath"+e;var m=document.createElementNS(u.g.j.fa,"rect");m.setAttribute("width",V);m.setAttribute("height",V);m.setAttribute("x",g*V);m.setAttribute("y",f*V);d.appendChild(m);a.appendChild(d);d=document.createElementNS(u.g.j.fa,"image");d.setAttributeNS(u.g.j.ta,"xlink:href","maze/tiles_ufsm2.png");d.setAttribute("height",4*V);d.setAttribute("width",5*V);d.setAttribute("clip-path","url(#tileClipPath"+e+")");d.setAttribute("x",
(g-l)*V);d.setAttribute("y",(f-k)*V);a.appendChild(d);e++}for(f=0;f<zk;f++)for(g=0;g<yk;g++)U[f][g]==Ek?(sk={x:g,y:f},R=new rk(g,f)):U[f][g]==Fk?P={x:g,y:f}:U[f][g]==Gk&&(0==fl?fl={x:g,y:f}:gl={x:g,y:f})}
function il(){var a=document.getElementById("svgMaze"),b=document.createElementNS(u.g.j.fa,"image");b.id="activity0";b.setAttributeNS(u.g.j.ta,"xlink:href",gk);b.setAttribute("height",45);b.setAttribute("width",35);a.appendChild(b);b.setAttribute("x",V*(fl.x+.5)-b.getAttribute("width")/2);b.setAttribute("y",V*(fl.y+.6)-b.getAttribute("height"));b=document.createElementNS(u.g.j.fa,"image");b.id="activity1";b.setAttributeNS(u.g.j.ta,"xlink:href",gk);b.setAttribute("height",45);b.setAttribute("width",
35);a.appendChild(b);b.setAttribute("x",V*(gl.x+.5)-b.getAttribute("width")/2);b.setAttribute("y",V*(gl.y+.6)-b.getAttribute("height"))}function jl(a){for(var b=0;b<S.length;b++)window.clearTimeout(S[b]);S=[];R.reset(O,sk.x,sk.y);a?(R.N++,S.push(setTimeout(function(){kl([R.u.x,R.u.y,4*R.N-4]);R.N++},4*W))):ll(R.u.x,R.u.y,4*O);a=document.getElementById("finish");a.setAttribute("x",V*(P.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",V*(P.y+.6)-a.getAttribute("height")/2)}
function ml(){if("Interpreter"in window){T=[];u.selected&&u.selected.Ae();X=Mk;var a=Ji();a=new Interpreter(a,nl);try{for(var b=1E5;a.step();)if(0==b--)throw Infinity;X=2!=dl?Ok:Pk}catch(d){Infinity===d?X=Qk:!1===d?X=Rk:(X=Rk,alert(d))}X==Pk&&(H.wb.play("win",.5),T.push(["finish",null]));jl(!1);S.push(setTimeout(ol,150))}else setTimeout(Tk,250)}
function ol(){var a=T.shift();if(a){N.Kf(a[1]);switch(a[0]){case "north":kl([R.u.x,R.u.y-1,4*R.N]);R.u.y--;break;case "east":kl([R.u.x+1,R.u.y,4*R.N]);R.u.x++;break;case "south":kl([R.u.x,R.u.y+1,4*R.N]);R.u.y++;break;case "west":kl([R.u.x-1,R.u.y,4*R.N]);R.u.x--;break;case "fail_forward":pl(!0);break;case "fail_backward":pl(!1);break;case "left":kl([R.u.x,R.u.y,4*R.N-4]);R.N=Y(R.N-1);break;case "right":kl([R.u.x,R.u.y,4*R.N+4]);R.N=Y(R.N+1);break;case "finish":N.Bm(),setTimeout(M.zl,1E3)}S.push(setTimeout(ol,
4*W))}else N.Kf(null),Yk()}
function nl(a,b){var d=function(e){ql(0,e)};a.setProperty(b,"moveForward",a.createNativeFunction(d));d=function(e){ql(2,e)};a.setProperty(b,"moveBackward",a.createNativeFunction(d));d=function(e){rl(0,e)};a.setProperty(b,"turnLeft",a.createNativeFunction(d));d=function(e){rl(1,e)};a.setProperty(b,"turnRight",a.createNativeFunction(d));d=function(e){return sl(0,e)};a.setProperty(b,"isPathForward",a.createNativeFunction(d));d=function(e){return sl(1,e)};a.setProperty(b,"isPathRight",a.createNativeFunction(d));
d=function(e){return sl(2,e)};a.setProperty(b,"isPathBackward",a.createNativeFunction(d));d=function(e){return sl(3,e)};a.setProperty(b,"isPathLeft",a.createNativeFunction(d));a.setProperty(b,"notDone",a.createNativeFunction(function(){return 2!=dl}));a.setProperty(b,"2activitiesComplete",a.createNativeFunction(function(){}))}
function ql(a,b){if(sl(a,null)){switch(Y(R.N+a)){case Zk:R.u.y--;var d="north";break;case O:R.u.x++;d="east";break;case $k:R.u.y++;d="south";break;case al:R.u.x--,d="west"}T.push([d,b])}else T.push(["fail_"+(a?"backward":"forward"),b])}function rl(a,b){a?(R.N++,T.push(["right",b])):(R.N--,T.push(["left",b]));R.N=Y(R.N)}
function sl(a,b){switch(Y(R.N+a)){case Zk:var d=U[R.u.y-1]&&U[R.u.y-1][R.u.x];var e="look_north";break;case O:d=U[R.u.y][R.u.x+1];e="look_east";break;case $k:d=U[R.u.y+1]&&U[R.u.y+1][R.u.x];e="look_south";break;case al:d=U[R.u.y][R.u.x-1],e="look_west"}b&&T.push([e,b]);return d!==Ak&&void 0!==d}
function kl(a){var b=[R.u.x,R.u.y,4*R.N],d=[(a[0]-b[0])/4,(a[1]-b[1])/4,(a[2]-b[2])/4];S.push(setTimeout(function(){ll(b[0]+d[0],b[1]+d[1],Z(b[2]+d[2]))},W));S.push(setTimeout(function(){ll(b[0]+2*d[0],b[1]+2*d[1],Z(b[2]+2*d[2]))},W));S.push(setTimeout(function(){ll(b[0]+3*d[0],b[1]+3*d[1],Z(b[2]+3*d[2]))},2*W));S.push(setTimeout(function(){ll(a[0],a[1],Z(a[2]))},3*W))}
function pl(a){var b=0,d=0;switch(R.N){case Zk:d=-1;break;case O:b=1;break;case $k:d=1;break;case al:b=-1}a||(b=-b,d=-d);b/=4;d/=4;var e=Z(4*R.N);ll(R.u.x,R.u.y+d,e);H.wb.play("fail",.5);S.push(setTimeout(function(){ll(R.u.x,R.u.y,e)},W));S.push(setTimeout(function(){ll(R.u.x+b,R.u.y+d,e);H.wb.play("fail",.5)},2*W));S.push(setTimeout(function(){ll(R.u.x,R.u.y,e)},3*W))}
function ll(a,b,d){var e=document.getElementById("student");e.setAttribute("x",a*V-d*bl+1);e.setAttribute("y",V*(b+.5)-cl/2-8);e.setAttribute("transform","rotate(0, 0, 0)");d=document.getElementById("clipRect");d.setAttribute("x",a*V+1);d.setAttribute("y",e.getAttribute("y"));if(a==fl.x&&b==fl.y||a==gl.x&&b==gl.y)e=document.getElementById("svgMaze"),d=document.createElementNS(u.g.j.fa,"image"),d.id="activity",d.setAttributeNS(u.g.j.ta,"xlink:href",gk),d.setAttribute("height",45),d.setAttribute("width",
35),e.appendChild(d),d.setAttribute("x",1.1*V-d.getAttribute("width")/2),el+=1,d.setAttribute("y",V*(el+2.5)-d.getAttribute("height")),e=document.getElementById("svgMaze"),d=2==dl?document.getElementById("activity".concat("0")):3==dl?document.getElementById("activity".concat("1")):document.getElementById("activity".concat(dl.toString())),e.removeChild(d),dl++;a==P.x&&b==P.y&&(jl(!1),ml())};S=[];T=[];var tl=0,ul=0,vl=0,wl=0;
function xl(a){function b(p,r){return 0>p||p>=yk||0>r||r>=zk?"0":U[r][p]==Ak?"0":"1"}var d=document.createElementNS(u.g.j.fa,"image");d.setAttributeNS(u.g.j.ta,"xlink:href","maze/img/bg/level123.png");d.setAttribute("height",Bk);d.setAttribute("width",Ck);d.setAttribute("x",0);d.setAttribute("y",0);a.appendChild(d);for(var e=0,f=0;f<zk;f++)for(var g=0;g<yk;g++){var k=b(g,f)+b(g,f-1)+b(g+1,f)+b(g,f+1)+b(g-1,f);Dk[k]||(k="00000"==k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));var l=
Dk[k][0];k=Dk[k][1];d=document.createElementNS(u.g.j.fa,"clipPath");d.id="tileClipPath"+e;var m=document.createElementNS(u.g.j.fa,"rect");m.setAttribute("width",V);m.setAttribute("height",V);m.setAttribute("x",g*V);m.setAttribute("y",f*V);d.appendChild(m);a.appendChild(d);d=document.createElementNS(u.g.j.fa,"image");d.setAttributeNS(u.g.j.ta,"xlink:href","maze/tiles_ufsm2.png");d.setAttribute("height",4*V);d.setAttribute("width",5*V);d.setAttribute("clip-path","url(#tileClipPath"+e+")");d.setAttribute("x",
(g-l)*V);d.setAttribute("y",(f-k)*V);a.appendChild(d);e++}for(f=0;f<zk;f++)for(g=0;g<yk;g++)U[f][g]==Ek?(sk={x:g,y:f},R=new rk(g,f)):U[f][g]==Fk?P={x:g,y:f}:U[f][g]==Gk&&(0==vl?vl={x:g,y:f}:wl={x:g,y:f})}
function yl(){var a=document.getElementById("svgMaze"),b=document.createElementNS(u.g.j.fa,"image");b.id="activity0";b.setAttributeNS(u.g.j.ta,"xlink:href","maze/activity.png");b.setAttribute("height",45);b.setAttribute("width",35);a.appendChild(b);b.setAttribute("x",V*(vl.x+.5)-b.getAttribute("width")/2);b.setAttribute("y",V*(vl.y+.6)-b.getAttribute("height"));b=document.createElementNS(u.g.j.fa,"image");b.id="activity1";b.setAttributeNS(u.g.j.ta,"xlink:href","maze/activity.png");b.setAttribute("height",
45);b.setAttribute("width",35);a.appendChild(b);b.setAttribute("x",V*(wl.x+.5)-b.getAttribute("width")/2);b.setAttribute("y",V*(wl.y+.6)-b.getAttribute("height"))}
function zl(a){for(var b=0;b<S.length;b++)window.clearTimeout(S[b]);S=[];R.reset(O,sk.x,sk.y);a?(R.N++,S.push(setTimeout(function(){Al([R.u.x,R.u.y,4*R.N-4]);R.N++},4*W))):Bl(R.u.x,R.u.y,4*O);a=document.getElementById("finish");a.setAttribute("x",V*(P.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",V*(P.y+.6)-a.getAttribute("height")/2)}
function Cl(){if("Interpreter"in window){T=[];u.selected&&u.selected.Ae();X=Mk;var a=Ji();a=new Interpreter(a,Dl);try{for(var b=1E5;a.step();)if(0==b--)throw Infinity;X=2!=tl?Ok:Pk}catch(d){Infinity===d?X=Qk:!1===d?X=Rk:(X=Rk,alert(d))}X==Pk&&(H.wb.play("win",.5),T.push(["finish",null]));zl(!1);S.push(setTimeout(El,150))}else setTimeout(Tk,250)}
function El(){var a=T.shift();if(a){N.Kf(a[1]);switch(a[0]){case "north":Al([R.u.x,R.u.y-1,4*R.N]);R.u.y--;break;case "east":Al([R.u.x+1,R.u.y,4*R.N]);R.u.x++;break;case "south":Al([R.u.x,R.u.y+1,4*R.N]);R.u.y++;break;case "west":Al([R.u.x-1,R.u.y,4*R.N]);R.u.x--;break;case "fail_forward":Fl(!0);break;case "fail_backward":Fl(!1);break;case "left":Al([R.u.x,R.u.y,4*R.N-4]);R.N=Y(R.N-1);break;case "right":Al([R.u.x,R.u.y,4*R.N+4]);R.N=Y(R.N+1);break;case "finish":N.Bm(),setTimeout(M.zl,1E3)}S.push(setTimeout(El,
4*W))}else N.Kf(null),Yk()}
function Dl(a,b){var d=function(e){Gl(0,e)};a.setProperty(b,"moveForward",a.createNativeFunction(d));d=function(e){Gl(2,e)};a.setProperty(b,"moveBackward",a.createNativeFunction(d));d=function(e){Hl(0,e)};a.setProperty(b,"turnLeft",a.createNativeFunction(d));d=function(e){Hl(1,e)};a.setProperty(b,"turnRight",a.createNativeFunction(d));d=function(e){return Il(0,e)};a.setProperty(b,"isPathForward",a.createNativeFunction(d));d=function(e){return Il(1,e)};a.setProperty(b,"isPathRight",a.createNativeFunction(d));
d=function(e){return Il(2,e)};a.setProperty(b,"isPathBackward",a.createNativeFunction(d));d=function(e){return Il(3,e)};a.setProperty(b,"isPathLeft",a.createNativeFunction(d));a.setProperty(b,"notDone",a.createNativeFunction(function(){return 2!=tl}));a.setProperty(b,"2activitiesComplete",a.createNativeFunction(function(){}))}
function Gl(a,b){if(Il(a,null)){switch(Y(R.N+a)){case Zk:R.u.y--;var d="north";break;case O:R.u.x++;d="east";break;case $k:R.u.y++;d="south";break;case al:R.u.x--,d="west"}T.push([d,b])}else T.push(["fail_"+(a?"backward":"forward"),b])}function Hl(a,b){a?(R.N++,T.push(["right",b])):(R.N--,T.push(["left",b]));R.N=Y(R.N)}
function Il(a,b){switch(Y(R.N+a)){case Zk:var d=U[R.u.y-1]&&U[R.u.y-1][R.u.x];var e="look_north";break;case O:d=U[R.u.y][R.u.x+1];e="look_east";break;case $k:d=U[R.u.y+1]&&U[R.u.y+1][R.u.x];e="look_south";break;case al:d=U[R.u.y][R.u.x-1],e="look_west"}b&&T.push([e,b]);return d!==Ak&&void 0!==d}
function Al(a){var b=[R.u.x,R.u.y,4*R.N],d=[(a[0]-b[0])/4,(a[1]-b[1])/4,(a[2]-b[2])/4];S.push(setTimeout(function(){Bl(b[0]+d[0],b[1]+d[1],Z(b[2]+d[2]))},W));S.push(setTimeout(function(){Bl(b[0]+2*d[0],b[1]+2*d[1],Z(b[2]+2*d[2]))},W));S.push(setTimeout(function(){Bl(b[0]+3*d[0],b[1]+3*d[1],Z(b[2]+3*d[2]))},2*W));S.push(setTimeout(function(){Bl(a[0],a[1],Z(a[2]))},3*W))}
function Fl(a){var b=0,d=0;switch(R.N){case Zk:d=-1;break;case O:b=1;break;case $k:d=1;break;case al:b=-1}a||(b=-b,d=-d);b/=4;d/=4;var e=Z(4*R.N);Bl(R.u.x,R.u.y+d,e);H.wb.play("fail",.5);S.push(setTimeout(function(){Bl(R.u.x,R.u.y,e)},W));S.push(setTimeout(function(){Bl(R.u.x+b,R.u.y+d,e);H.wb.play("fail",.5)},2*W));S.push(setTimeout(function(){Bl(R.u.x,R.u.y,e)},3*W))}
function Bl(a,b,d){var e=document.getElementById("student");e.setAttribute("x",a*V-d*bl+1);e.setAttribute("y",V*(b+.5)-cl/2-8);e.setAttribute("transform","rotate(0, 0, 0)");d=document.getElementById("clipRect");d.setAttribute("x",a*V+1);d.setAttribute("y",e.getAttribute("y"));if(a==vl.x&&b==vl.y||a==wl.x&&b==wl.y)e=document.getElementById("svgMaze"),d=document.createElementNS(u.g.j.fa,"image"),d.id="activity",d.setAttributeNS(u.g.j.ta,"xlink:href","maze/activity.png"),d.setAttribute("height",45),
d.setAttribute("width",35),e.appendChild(d),d.setAttribute("x",1.1*V-d.getAttribute("width")/2),ul+=1,d.setAttribute("y",V*(ul+2.5)-d.getAttribute("height")),e=document.getElementById("svgMaze"),d=2==tl?document.getElementById("activity".concat("0")):3==tl?document.getElementById("activity".concat("1")):document.getElementById("activity".concat(tl.toString())),e.removeChild(d),tl++;a==P.x&&b==P.y&&(zl(!1),Cl())};S=[];T=[];var Jl=[],Kl,Ll=[],Ml=0,Nl=0,Ol=0,Pl=0;
function Ql(a){function b(p,r){return 0>p||p>=yk||0>r||r>=zk?"0":U[r][p]==Ak?"0":"1"}var d=document.createElementNS(u.g.j.fa,"image");d.setAttributeNS(u.g.j.ta,"xlink:href","maze/img/bg/level123.png");d.setAttribute("height",Bk);d.setAttribute("width",Ck);d.setAttribute("x",0);d.setAttribute("y",0);a.appendChild(d);for(var e=0,f=0;f<zk;f++)for(var g=0;g<yk;g++){var k=b(g,f)+b(g,f-1)+b(g+1,f)+b(g,f+1)+b(g-1,f);Dk[k]||(k="00000"==k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));var l=
Dk[k][0];k=Dk[k][1];d=document.createElementNS(u.g.j.fa,"clipPath");d.id="tileClipPath"+e;var m=document.createElementNS(u.g.j.fa,"rect");m.setAttribute("width",V);m.setAttribute("height",V);m.setAttribute("x",g*V);m.setAttribute("y",f*V);d.appendChild(m);a.appendChild(d);d=document.createElementNS(u.g.j.fa,"image");d.setAttributeNS(u.g.j.ta,"xlink:href","maze/tiles_ufsm2.png");d.setAttribute("height",4*V);d.setAttribute("width",5*V);d.setAttribute("clip-path","url(#tileClipPath"+e+")");d.setAttribute("x",
(g-l)*V);d.setAttribute("y",(f-k)*V);a.appendChild(d);e++}for(f=0;f<zk;f++)for(g=0;g<yk;g++)U[f][g]==Ek?(sk={x:g,y:f},R=new rk(g,f)):U[f][g]==Fk?P={x:g,y:f}:U[f][g]==Gk&&(0==Ol?Ol={x:g,y:f}:Pl={x:g,y:f})}
function Rl(){var a=document.getElementById("svgMaze"),b=document.createElementNS(u.g.j.fa,"image");b.id="activity0";b.setAttributeNS(u.g.j.ta,"xlink:href","maze/activity.png");b.setAttribute("height",45);b.setAttribute("width",35);a.appendChild(b);b.setAttribute("x",V*(Ol.x+.5)-b.getAttribute("width")/2);b.setAttribute("y",V*(Ol.y+.6)-b.getAttribute("height"));b=document.createElementNS(u.g.j.fa,"image");b.id="activity1";b.setAttributeNS(u.g.j.ta,"xlink:href","maze/activity.png");b.setAttribute("height",
45);b.setAttribute("width",35);a.appendChild(b);b.setAttribute("x",V*(Pl.x+.5)-b.getAttribute("width")/2);b.setAttribute("y",V*(Pl.y+.6)-b.getAttribute("height"))}
function Sl(a){for(var b=0;b<S.length;b++)window.clearTimeout(S[b]);S=[];R.reset(O,sk.x,sk.y);Kl=0;Jl=[];Ll=[];a?(R.N++,S.push(setTimeout(function(){Tl([R.u.x,R.u.y,4*R.N],[R.u.x,R.u.y,4*R.N-4]);R.N++},4*W))):Ul(R.u.x,R.u.y,4*O);a=document.getElementById("finish");a.setAttribute("x",V*(P.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",V*(P.y+.6)-a.getAttribute("height")/2)}
function Vl(a){var b=T.shift();if(b){"student0"==b[0]&&(a=1);switch(a){case 1:Jl.push(b);break;default:Ll.push(b)}Vl(a)}else N.Kf(null),Yk()}
function Wl(){var a=Jl[Kl++];if(a){var b=R;N.Kf(a[1]);switch(a[0]){case "north":Tl([b.u.x,b.u.y,4*b.N],[b.u.x,b.u.y-1,4*b.N]);b.u.y--;break;case "east":Tl([b.u.x,b.u.y,4*b.N],[b.u.x+1,b.u.y,4*b.N]);b.u.x++;break;case "south":Tl([b.u.x,b.u.y,4*b.N],[b.u.x,b.u.y+1,4*b.N]);b.u.y++;break;case "west":Tl([b.u.x,b.u.y,4*b.N],[b.u.x-1,b.u.y,4*b.N]);b.u.x--;break;case "fail_forward":Xl(!0);break;case "fail_backward":Xl(!1);break;case "left":Tl([b.u.x,b.u.y,4*b.N],[b.u.x,b.u.y,4*b.N-4]);b.N=Y(b.N-1);break;
case "right":Tl([b.u.x,b.u.y,4*b.N],[b.u.x,b.u.y,4*b.N+4]);b.N=Y(b.N+1);break;case "finish":N.Bm(),setTimeout(M.zl,1E3)}}S.push(setTimeout(Wl,4*W))}
function Yl(a,b){var d=function(e){Zl(0,e)};a.setProperty(b,"moveForward",a.createNativeFunction(d));d=function(e){Zl(2,e)};a.setProperty(b,"moveBackward",a.createNativeFunction(d));d=function(e){$l(0,e)};a.setProperty(b,"turnLeft",a.createNativeFunction(d));d=function(e){$l(1,e)};a.setProperty(b,"turnRight",a.createNativeFunction(d));d=function(e){return am(0,e)};a.setProperty(b,"isPathForward",a.createNativeFunction(d));d=function(e){return am(1,e)};a.setProperty(b,"isPathRight",a.createNativeFunction(d));
d=function(e){return am(2,e)};a.setProperty(b,"isPathBackward",a.createNativeFunction(d));d=function(e){return am(3,e)};a.setProperty(b,"isPathLeft",a.createNativeFunction(d));a.setProperty(b,"notDone",a.createNativeFunction(function(){return 2!=Ml}));a.setProperty(b,"2activitiesComplete",a.createNativeFunction(function(){}));d=function(e){e&&T.push(["student0",e]);return!0};a.setProperty(b,"isStudent0",a.createNativeFunction(d))}
function Zl(a,b){if(am(a,null)){switch(Y(R.N+a)){case Zk:R.u.y--;var d="north";break;case O:R.u.x++;d="east";break;case $k:R.u.y++;d="south";break;case al:R.u.x--,d="west"}T.push([d,b])}else T.push(["fail_"+(a?"backward":"forward"),b])}function $l(a,b){a?(R.N++,T.push(["right",b])):(R.N--,T.push(["left",b]));R.N=Y(R.N)}
function am(a,b){switch(Y(R.N+a)){case Zk:var d=U[R.u.y-1]&&U[R.u.y-1][R.u.x];var e="look_north";break;case O:d=U[R.u.y][R.u.x+1];e="look_east";break;case $k:d=U[R.u.y+1]&&U[R.u.y+1][R.u.x];e="look_south";break;case al:d=U[R.u.y][R.u.x-1],e="look_west"}b&&T.push([e,b]);return d!==Ak&&void 0!==d}
function Tl(a,b){var d=[(b[0]-a[0])/4,(b[1]-a[1])/4,(b[2]-a[2])/4];S.push(setTimeout(function(){Ul(a[0]+d[0],a[1]+d[1],Z(a[2]+d[2]))},W));S.push(setTimeout(function(){Ul(a[0]+2*d[0],a[1]+2*d[1],Z(a[2]+2*d[2]))},W));S.push(setTimeout(function(){Ul(a[0]+3*d[0],a[1]+3*d[1],Z(a[2]+3*d[2]))},2*W));S.push(setTimeout(function(){Ul(b[0],b[1],Z(b[2]))},3*W))}
function Xl(a){var b=0,d=0;switch(R.N){case Zk:d=-1;break;case O:b=1;break;case $k:d=1;break;case al:b=-1}a||(b=-b,d=-d);b/=4;d/=4;var e=Z(4*R.N);Ul(R.u.x,R.u.y+d,e);H.wb.play("fail",.5);S.push(setTimeout(function(){Ul(R.u.x,R.u.y,e)},W));S.push(setTimeout(function(){Ul(R.u.x+b,R.u.y+d,e);H.wb.play("fail",.5)},2*W));S.push(setTimeout(function(){Ul(R.u.x,R.u.y,e)},3*W))}
function Ul(a,b,d){var e=document.getElementById("student");e.setAttribute("x",a*V-d*bl+1);e.setAttribute("y",V*(b+.5)-cl/2-8);e.setAttribute("transform","rotate(0, 0, 0)");d=document.getElementById("clipRect");d.setAttribute("x",a*V+1);d.setAttribute("y",e.getAttribute("y"));if(a==Ol.x&&b==Ol.y||a==Pl.x&&b==Pl.y)e=document.getElementById("svgMaze"),d=document.createElementNS(u.g.j.fa,"image"),d.id="activity",d.setAttributeNS(u.g.j.ta,"xlink:href","maze/activity.png"),d.setAttribute("height",45),
d.setAttribute("width",35),e.appendChild(d),d.setAttribute("x",1.1*V-d.getAttribute("width")/2),Nl+=1,d.setAttribute("y",V*(Nl+2.5)-d.getAttribute("height")),e=document.getElementById("svgMaze"),d=document.getElementById("activity".concat(Ml.toString())),e.removeChild(d),Ml++;a==P.x&&b==P.y&&(Sl(!1),"Interpreter"in window?(X=2!=Ml?Ok:Pk,X==Pk?(H.wb.play("win",.5),N.Bm(),setTimeout(M.zl,1E3)):S.push(setTimeout(Wl,100))):setTimeout(Tk,250))};var dk="tasks",bm=["tasks/win.mp3","tasks/win.ogg"],cm=["tasks/fail_pegman.mp3","tasks/fail_pegman.ogg"];N.gp=function(){4>K?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+Tj+"&level="+(K+1)+"&skin=0":N.uk()};var dm=[void 0,Infinity,Infinity,Infinity,Infinity][K],W=80,em=!0,fm=!0,gm=!0,hm=!0;document.getElementById("number");
var Ak=0,Ek=2,Fk=3,Gk=4,U=[void 0,[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,2,1,4,1,4,3,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0],[0,0,0,2,1,4,1,0,0],[0,0,0,0,1,0,1,0,0],[0,0,0,0,1,1,1,0,0],[0,0,0,0,0,0,4,0,0],[0,0,0,0,0,0,3,0,0],[0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0],[0,0,0,0,4,0,1,0,0],[0,0,0,2,1,0,4,0,0],[0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,1,3,0],[0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0],
[0,0,0,0,4,0,4,0,0],[0,0,0,2,1,0,1,0,0],[0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,3,0,0],[0,0,0,0,0,0,0,0,0]]][K],zk=U.length,yk=U[0].length,V=50,cl=52,bl=49,Ck=V*yk,Bk=V*zk,Zk=0,O=1,$k=2,al=3,Mk=0,Pk=1,Ok=-1,Qk=2,Rk=-2,X=Mk,Dk={10010:[4,0],10001:[3,3],11E3:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]};
function im(){var a=document.getElementById("svgMaze"),b=Math.max(zk,yk)*V;a.setAttribute("viewBox","0 0 "+b+" "+b);b=document.createElementNS(u.g.j.fa,"rect");b.setAttribute("width",Ck);b.setAttribute("height",Bk);b.setAttribute("fill","#F1EEE7");b.setAttribute("stroke-width",1);b.setAttribute("stroke","#CCB");a.appendChild(b);switch(K){case 1:xk(a);b=document;var d=b.createElementNS(u.g.j.fa,"image");d.id="finish";d.setAttributeNS(u.g.j.ta,"xlink:href","maze/classroom.png");d.setAttribute("height",
85);d.setAttribute("width",60);a.appendChild(d);d=b.createElementNS(u.g.j.fa,"clipPath");d.id="studentClipPath";var e=b.createElementNS(u.g.j.fa,"rect");e.id="clipRect";e.setAttribute("width",bl);e.setAttribute("height",cl);d.appendChild(e);a.appendChild(d);b=b.createElementNS(u.g.j.fa,"image");b.id="student";b.setAttributeNS(u.g.j.ta,"xlink:href","maze/pegman.png");b.setAttribute("height",cl);b.setAttribute("width",21*bl);b.setAttribute("clip-path","url(#studentClipPath)");a.appendChild(b);Hk();
break;case 2:hl(a);b=document;d=b.createElementNS(u.g.j.fa,"image");d.id="finish";d.setAttributeNS(u.g.j.ta,"xlink:href","maze/classroom.png");d.setAttribute("height",85);d.setAttribute("width",60);a.appendChild(d);d=b.createElementNS(u.g.j.fa,"clipPath");d.id="pegmanClipPath";e=b.createElementNS(u.g.j.fa,"rect");e.id="clipRect";e.setAttribute("width",bl);e.setAttribute("height",cl);d.appendChild(e);a.appendChild(d);b=b.createElementNS(u.g.j.fa,"image");b.id="student";b.setAttributeNS(u.g.j.ta,"xlink:href",
"maze/pegman.png");b.setAttribute("height",cl);b.setAttribute("width",21*bl);b.setAttribute("clip-path","url(#pegmanClipPath)");a.appendChild(b);il();break;case 3:xl(a);b=document;d=b.createElementNS(u.g.j.fa,"image");d.id="finish";d.setAttributeNS(u.g.j.ta,"xlink:href","maze/classroom.png");d.setAttribute("height",85);d.setAttribute("width",60);a.appendChild(d);d=b.createElementNS(u.g.j.fa,"clipPath");d.id="pegmanClipPath";e=b.createElementNS(u.g.j.fa,"rect");e.id="clipRect";e.setAttribute("width",
bl);e.setAttribute("height",cl);d.appendChild(e);a.appendChild(d);b=b.createElementNS(u.g.j.fa,"image");b.id="student";b.setAttributeNS(u.g.j.ta,"xlink:href","maze/pegman.png");b.setAttribute("height",cl);b.setAttribute("width",21*bl);b.setAttribute("clip-path","url(#pegmanClipPath)");a.appendChild(b);yl();break;case 4:Ql(a),b=document,d=b.createElementNS(u.g.j.fa,"image"),d.id="finish",d.setAttributeNS(u.g.j.ta,"xlink:href","maze/classroom.png"),d.setAttribute("height",85),d.setAttribute("width",
60),a.appendChild(d),d=b.createElementNS(u.g.j.fa,"clipPath"),d.id="pegmanClipPath",e=b.createElementNS(u.g.j.fa,"rect"),e.id="clipRect",e.setAttribute("width",bl),e.setAttribute("height",cl),d.appendChild(e),a.appendChild(d),b=b.createElementNS(u.g.j.fa,"image"),b.id="student",b.setAttributeNS(u.g.j.ta,"xlink:href","maze/pegman.png"),b.setAttribute("height",cl),b.setAttribute("width",21*bl),b.setAttribute("clip-path","url(#pegmanClipPath)"),a.appendChild(b),Rl()}}
function Yk(a){if(!(a&&a.type==u.i.ol||H.Fc()||X==Pk||bk(K))){var b=-1!=Sj.indexOf(Tj),d=u.S.Vc(u.S.Bp(H)),e=A(H.P.s,!0),f=a=null,g=null;1==K?em?(a=document.getElementById("dialog1Intro"),g={width:"30%",top:"8em"},g[b?"right":"left"]="40%",f=e[0].Z(),b=document.getElementById("playStart"),b.addEventListener("click",M.tb,!0),b.addEventListener("touchend",M.tb,!0),em=!1):2>B(H).length?(a=document.getElementById("dialogHelpStack"),g={width:"190px",top:"150px"},g[b?"right":"left"]="215px",f=e[0].Z()):
(d=A(H,!0),1<d.length&&(N.hD("sampleOneTopBlock",'<xml>;<block type="maze_forever_2activities" x="10" y="10">;<statement name="DO">;<block type="maze_moveForward"></block>;</statement>;</block>;</xml>'.split(";")),a=document.getElementById("dialogHelpOneTopBlock"),g={width:"360px",top:"170px"},g[b?"right":"left"]="300px",f=d[0].Z())):2==K?fm?(a=document.getElementById("dialog2Intro"),g={width:"30%",top:"8em"},g[b?"right":"left"]="40%",f=e[0].Z(),b=document.getElementById("playStart"),b.addEventListener("click",
M.tb,!0),b.addEventListener("touchend",M.tb,!0),fm=!1):X!=Mk&&"none"==document.getElementById("runButton").style.display&&(a=document.getElementById("dialogHelpReset"),g={width:"260px",top:"505px"},g[b?"right":"left"]="410px",f=document.getElementById("resetButton")):3==K?gm&&(a=document.getElementById("dialog3Intro"),g={width:"30%",top:"8em"},g[b?"right":"left"]="40%",f=e[0].Z(),b=document.getElementById("playStart"),b.addEventListener("click",M.tb,!0),b.addEventListener("touchend",M.tb,!0),gm=!1):
4==K&&(hm?(a=document.getElementById("dialog4Intro"),g={width:"30%",top:"8em"},g[b?"right":"left"]="40%",f=e[0].Z(),b=document.getElementById("playStart"),b.addEventListener("click",M.tb,!0),b.addEventListener("touchend",M.tb,!0),hm=!1):-1==d.indexOf("maze_1student")&&(a=document.getElementById("dialogHelp1Student"),g={width:"300px",top:"400px"},g[b?"right":"left"]="585px",f=e[5].Z()));a?a.parentNode!=document.getElementById("dialog")&&M.Gm(a,f,!0,!1,g,null):M.tb(!1)}}
function jm(a){switch(K){case 1:Ik(a);break;case 2:jl(a);break;case 3:zl(a);break;case 4:Sl(a)}}function km(a){if(!N.Cf(a))if(M.tb(!1),1==K&&1<A(H,!1).length&&X!=Pk&&!bk(K))Yk();else{a=document.getElementById("runButton");var b=document.getElementById("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";jm(!1);Tk()}}
function lm(a){if(!N.Cf(a)){switch(K){case 1:a=document.getElementById("svgMaze");for(var b=0;b<wk;b++){var d=document.getElementById("activity");a.removeChild(d)}(d=document.getElementById("activity1"))&&a.removeChild(d);tk=wk=0;Hk();break;case 2:a=document.getElementById("svgMaze");for(d=0;d<dl;d++)b=document.getElementById("activity"),a.removeChild(b);(b=document.getElementById("activity0"))&&a.removeChild(b);(b=document.getElementById("activity1"))&&a.removeChild(b);el=dl=0;il();break;case 3:a=
document.getElementById("svgMaze");for(d=0;d<tl;d++)b=document.getElementById("activity"),a.removeChild(b);(b=document.getElementById("activity0"))&&a.removeChild(b);(b=document.getElementById("activity1"))&&a.removeChild(b);ul=tl=0;yl();break;case 4:a=document.getElementById("svgMaze");for(d=0;d<Ml;d++)b=document.getElementById("activity"),a.removeChild(b);(b=document.getElementById("activity0"))&&a.removeChild(b);(b=document.getElementById("activity1"))&&a.removeChild(b);Nl=Ml=0;Rl()}document.getElementById("runButton").style.display=
"inline";document.getElementById("resetButton").style.display="none";ji(null);jm(!1);Yk()}}function Tk(){switch(K){case 1:Lk();break;case 2:ml();break;case 3:Cl();break;case 4:if("Interpreter"in window){T=[];u.selected&&u.selected.Ae();X=Mk;var a=Ji();a=new Interpreter(a,Yl);try{for(var b=1E5;a.step();)if(0==b--)throw Infinity;X=2!=Ml?Ok:Pk}catch(d){Infinity===d?X=Qk:!1===d?X=Rk:(X=Rk,alert(d))}X==Pk&&T.push(["finish",null]);Sl(!1);Vl(0);S.push(setTimeout(Wl,100))}else setTimeout(Tk,250)}}
function Y(a){a=Math.round(a)%4;0>a&&(a+=4);return a}function Z(a){a=Math.round(a)%16;0>a&&(a+=16);return a}
window.addEventListener("load",function(){function a(){d.style.top=Math.max(10,e.offsetTop-window.pageYOffset)+"px";d.style.left=b?"10px":"420px";d.style.width=window.innerWidth-440+"px"}document.body.innerHTML=qk();N.za();var b=-1!=Sj.indexOf(Tj),d=document.getElementById("blockly"),e=document.getElementById("visualization");window.addEventListener("scroll",function(){a(null);u.Ok(H)});window.addEventListener("resize",a);a(null);var f=document.getElementById("toolbox");H=u.yh("blockly",{media:"third-party/blockly/media/",
maxBlocks:dm,rtl:b,toolbox:f,trashcan:!0,zoom:{startScale:1+(1-K/7)/3}});H.wb.load(bm,"win");H.wb.load(cm,"fail");Qi("moveForward,moveBackward,booksZero,activitiesComplete0,activitiesCompleteturnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");N.tD('<xml><block movable="" type="maze_forever_2activities" x="70" y="70"></block></xml>',!1);im();jm(!0);H.Qc(function(){var g=zb(H),k=document.getElementById("capacity");if(Infinity==g)k.style.display="none";else{k.style.display="inline";
k.innerHTML="";g=Number(g);var l=document.createElement("span");l.className="capacityNumber";l.appendChild(document.createTextNode(g));g=(0==g?L("Tasks_capacity0"):1==g?L("Tasks_capacity1"):L("Tasks_capacity2")).split(/%\d/);for(var m=0;m<g.length;m++)k.appendChild(document.createTextNode(g[m])),m!=g.length-1&&k.appendChild(l.cloneNode(!0))}});3<K&&H.Qc(function(){fk.EG(0)});ek("runButton",km);ek("resetButton",lm);if(1==K||2==K)u.Pc*=2,u.Kt=u.Pc;setTimeout(function(){H.Qc(Yk);Yk()},1E3);setTimeout(N.cD,
1);setTimeout(N.dD,1)});
