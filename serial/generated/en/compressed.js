// Automatically generated file.  Do not edit!
'use strict';var b,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(a,c){if(c){var d=ba;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];c=c(e);c!=e&&null!=c&&aa(d,a,{configurable:!0,writable:!0,value:c})}}
ca("String.prototype.startsWith",function(a){return a?a:function(c,d){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var e=this+"";c+="";var f=e.length,h=c.length;d=Math.max(0,Math.min(d|0,e.length));for(var k=0;k<h&&d<f;)if(e[d++]!=c[k++])return!1;return k>=h}});
function da(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}function ea(){ea=function(){};ba.Symbol||(ba.Symbol=fa)}function ha(a,c){this.Qy=a;aa(this,"description",{configurable:!0,writable:!0,value:c})}ha.prototype.toString=function(){return this.Qy};var fa=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ha("jscomp_symbol_"+(d||"")+"_"+c++,d)}var c=0;return a}();
function ia(){ea();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ja(da(this))}});ia=function(){}}function ja(a){ia();a={next:a};a[ba.Symbol.iterator]=function(){return this};return a}
function ka(a,c){ia();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var f=d++;return{value:c(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}ca("Array.prototype.keys",function(a){return a?a:function(){return ka(this,function(c){return c})}});var g=this||self;
function la(a,c){a=a.split(".");var d=g;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===c?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=c}function ma(){}function na(a){a.Tr=void 0;a.ph=function(){return a.Tr?a.Tr:a.Tr=new a}}
function oa(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c}function u(a){return"array"==oa(a)}function pa(a){var c=oa(a);return"array"==c||"object"==c&&"number"==typeof a.length}function qa(a){return"function"==oa(a)}function ra(a){var c=typeof a;return"object"==c&&null!=a||"function"==c}function sa(a){return a[ta]||(a[ta]=++ua)}var ta="closure_uid_"+(1E9*Math.random()>>>0),ua=0;function va(a,c,d){return a.call.apply(a.bind,arguments)}
function wa(a,c,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(c,f)}}return function(){return a.apply(c,arguments)}}function xa(a,c,d){xa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:wa;return xa.apply(null,arguments)}
function ya(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice();e.push.apply(e,arguments);return a.apply(this,e)}}function v(a,c){function d(){}d.prototype=c.prototype;a.w=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.VA=function(e,f,h){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return c.prototype[f].apply(e,k)}};
var w={h:{}};
w.g={};w.g.VA={};w.g.global=this||self;w.g.R=function(a,c){this.x=a;this.y=c};w.g.R.Oe=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};w.g.R.Vv=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};w.g.R.uD=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};w.g.R.Gl=function(a,c){return new w.g.R(a.x-c.x,a.y-c.y)};w.g.R.sum=function(a,c){return new w.g.R(a.x+c.x,a.y+c.y)};w.g.R.prototype.scale=function(a){this.x*=a;this.y*=a;return this};w.g.R.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};w.g.Ua={};w.g.Ua.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};w.g.Ua.dt=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};w.g.Ua.uB=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||w.g.Ua.dt(a);for(var e=0;e<c;e++){for(var f=a[0][e],h=1;h<a.length;h++)if(f!=a[h][e])return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h][e])&&" "!=f)return d;return c};
w.g.Ua.vB=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||w.g.Ua.dt(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-e-1))&&" "!=f)return d;return c};w.g.Ua.Ny=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=w.g.Ua.eF(a[d],c);return a.join("\n")};
w.g.Ua.eF=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var h=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=w.g.Ua.Oy(d,a,c);e=w.g.Ua.rt(d,a,c);a=w.g.Ua.fF(d,a);f++}while(e>h);return k};
w.g.Ua.rt=function(a,c,d){for(var e=[0],f=[],h=0;h<a.length;h++)e[e.length-1]+=a[h].length,!0===c[h]?(e.push(0),f.push(a[h].charAt(a[h].length-1))):!1===c[h]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(h=c=0;h<e.length;h++)c-=2*Math.pow(Math.abs(d-e[h]),1.5),c-=Math.pow(a-e[h],1.5),-1!=".?!".indexOf(f[h])?c+=d/3:-1!=",;)]}".indexOf(f[h])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
w.g.Ua.Oy=function(a,c,d){for(var e=w.g.Ua.rt(a,c,d),f,h=0;h<c.length-1;h++)if(c[h]!=c[h+1]){var k=[].concat(c);k[h]=!k[h];k[h+1]=!k[h+1];var l=w.g.Ua.rt(a,k,d);l>e&&(e=l,f=k)}return f?w.g.Ua.Oy(a,f,d):c};w.g.Ua.fF=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};w.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}w.g.userAgent.raw=a;var d=w.g.userAgent.raw.toUpperCase();w.g.userAgent.Ug=c("Trident")||c("MSIE");w.g.userAgent.nn=c("Edge");w.g.userAgent.Kz=c("JavaFX");w.g.userAgent.Iu=c("WebKit")&&!w.g.userAgent.nn;w.g.userAgent.Pt=c("Gecko")&&!w.g.userAgent.Iu&&!w.g.userAgent.Ug&&!w.g.userAgent.nn;w.g.userAgent.Bj=c("Android");w.g.userAgent.fi=c("iPad");w.g.userAgent.Vt=c("iPod");w.g.userAgent.Ut=c("iPhone")&&!w.g.userAgent.fi&&!w.g.userAgent.Vt;
w.g.userAgent.Nz=c("Macintosh");w.g.userAgent.tA=w.g.userAgent.fi||w.g.userAgent.Bj&&!c("Mobile")||c("Silk");w.g.userAgent.Zt=!w.g.userAgent.tA&&(w.g.userAgent.Vt||w.g.userAgent.Ut||w.g.userAgent.Bj||c("IEMobile"))})(w.g.global.navigator&&w.g.global.navigator.userAgent||"");w.g.qf=function(a,c){this.width=a;this.height=c};w.g.qf.Oe=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};w.g.style={};w.g.style.wg=function(a){if("none"!=w.g.style.yC(a)){var c=a.offsetWidth;a=a.offsetHeight;return new w.g.qf(c,a)}var d=a.style,e=d.display,f=d.visibility,h=d.position;d.visibility="hidden";d.position="absolute";d.display="inline";c=a.offsetWidth;a=a.offsetHeight;d.display=e;d.position=h;d.visibility=f;return new w.g.qf(c,a)};w.g.style.yC=function(a){return w.g.style.getComputedStyle(a,"display")||w.g.style.pC(a)||a.style&&a.style.display};
w.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};w.g.style.pC=function(a){return a.currentStyle?a.currentStyle.display:null};w.g.style.vC=function(a){var c=new w.g.R(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new w.g.R(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
w.g.style.vw=function(){var a=document.body,c=document.documentElement;return new w.g.R(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};
w.g.JD=function(a){a.preventDefault();a.stopPropagation()};w.g.Po=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
w.g.Qd=function(a){var c=new w.g.R(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(w.g.Qd.FA))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(w.g.Qd.GA))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
w.g.Nl=function(a){for(var c=0,d=0;a;){var e=w.g.Qd(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new w.g.R(c,d)};w.g.Qd.FA=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;w.g.Qd.GA=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;w.g.Ah=function(a){return a.ctrlKey&&w.g.userAgent.Nz?!0:2==a.button};
w.g.pm=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};w.g.xr=function(a){switch(a.deltaMode){case 0:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*w.Wt,y:a.deltaY*w.Wt};case 2:return{x:a.deltaX*w.mu,y:a.deltaY*w.mu}}};w.g.RE=function(a){return w.g.lt(a,!0)};w.g.Yb=function(a){if("string"!=typeof a)return a;a=w.g.lt(a,!1);return a.length?a[0]:""};
w.g.$u=function(a){for(var c=w.h,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
w.g.lt=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var h=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(d.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=w.g.Ua.startsWith(l,"BKY_")?
l.substring(4):null)&&l in w.h?(f=w.h[l],"string"==typeof f?Array.prototype.push.apply(d,w.g.lt(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};w.g.Ff=function(){for(var a=w.g.Ff.jy.length,c=[],d=0;20>d;d++)c[d]=w.g.Ff.jy.charAt(Math.random()*a);return c.join("")};
w.g.Ff.jy="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
w.g.xh=function(){if(void 0!==w.g.xh.Bq)return w.g.xh.Bq;if(!w.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=w.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
w.g.xh.Bq="none"!==c;return w.g.xh.Bq};w.g.Tx=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};w.g.uw=function(){var a=w.g.style.vw();return{right:document.documentElement.clientWidth+a.x,bottom:document.documentElement.clientHeight+a.y,top:a.y,left:a.x}};
w.g.rl=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};w.g.tr=function(){var a=document.documentElement,c=window;return w.g.userAgent.Ug&&c.pageYOffset!=a.scrollTop?new w.g.R(a.scrollLeft,a.scrollTop):new w.g.R(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};w.g.qr=function(a,c){var d=Object.create(null),e=y(a,!0);c&&(a=z(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
w.g.vE=function(a,c){var d=c.x;c=c.y;var e=za(a).getBoundingClientRect();d=new w.g.R(d-e.left,c-e.top);c=w.g.Nl(a.Ya);return w.g.R.Gl(d,c).scale(1/a.scale)};
w.i={};w.i.Sl="";w.i.Cc=!0;w.i.Uq=0;w.i.hn="create";w.i.xt=w.i.hn;w.i.ln="delete";w.i.Vy=w.i.ln;w.i.Cj="change";w.i.hF=w.i.Cj;w.i.hl="move";w.i.yt=w.i.hl;w.i.Fu="var_create";w.i.Gu="var_delete";w.i.Hu="var_rename";w.i.nl="ui";w.i.fn="comment_create";w.i.Gt="comment_delete";w.i.Ft="comment_change";w.i.gn="comment_move";w.i.qz="finished_loading";w.i.Wy=[w.i.xt,w.i.yt,w.i.fn,w.i.gn];w.i.cl=[];w.i.ka=function(a){w.i.isEnabled()&&(w.i.cl.length||setTimeout(w.i.gC,0),w.i.cl.push(a))};
w.i.gC=function(){for(var a=w.i.filter(w.i.cl,!0),c=w.i.cl.length=0,d;d=a[c];c++){var e=w.Pa.mo(d.Qb);if(e){var f=d;if(f.Cc)for(e.tj.push(f),e.xm.length=0;e.tj.length>e.Xt&&0<=e.Xt;)e.tj.shift();for(var h=0;d=e.qd[h];h++)d(f)}}};
w.i.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,h;h=a[f];f++)if(!h.uk()){var k=[h.type,h.sc,h.Qb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:h,index:f},d.push(h);else if(h.type==w.i.hl&&l.index==f-1)m.Zi=h.Zi,m.Yi=h.Yi,m.Fh=h.Fh,l.index=f;else if(h.type==w.i.Cj&&h.element==m.element&&h.name==m.name)m.newValue=h.newValue;else if(h.type!=w.i.nl||"click"!=h.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:h,
index:1},d.push(h)}a=d.filter(function(n){return!n.uk()});c||a.reverse();for(f=1;h=a[f];f++)h.type==w.i.Cj&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};w.i.pB=function(){for(var a=0,c;c=w.i.cl[a];a++)c.Cc=!1};w.i.disable=function(){w.i.Uq++};w.i.enable=function(){w.i.Uq--};w.i.isEnabled=function(){return 0==w.i.Uq};w.i.Vb=function(){return w.i.Sl};w.i.ca=function(a){w.i.Sl="boolean"==typeof a?a?w.g.Ff():"":a};
w.i.mw=function(a){var c=[];a=y(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};
w.i.na=function(a){switch(a.type){case w.i.hn:var c=new w.i.Ce(null);break;case w.i.ln:c=new w.i.lf(null);break;case w.i.Cj:c=new w.i.Rg(null,"","","","");break;case w.i.hl:c=new w.i.ji(null);break;case w.i.Fu:c=new w.i.ge(null);break;case w.i.Gu:c=new w.i.Ke(null);break;case w.i.Hu:c=new w.i.sf(null,"");break;case w.i.nl:c=new w.i.ac(null);break;case w.i.fn:c=new w.i.kf(null);break;case w.i.Ft:c=new w.i.ai(null);break;case w.i.gn:c=new w.i.bg(null);break;case w.i.Gt:c=new w.i.Be(null);break;default:throw Error("Unknown event type.");
}c.na(a);c.Qb=(void 0).id;return c};w.i.TB=function(a){if(a.type==w.i.hl||a.type==w.i.hn){var c=w.Pa.mo(a.Qb);if(a=Aa(c,a.sc)){var d=a.getParent();if(d&&d.isEnabled())for(c=y(a,!1),a=0;d=c[a];a++)d.Dd(!0);else if((a.V||a.W)&&!c.Bc()){do a.Dd(!1),a=z(a);while(a)}}}};
w.i.Abstract=function(){this.Qb=void 0;this.group=w.i.Sl;this.Cc=w.i.Cc};w.i.Abstract.prototype.Ra=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};w.i.Abstract.prototype.na=function(a){this.group=a.group};w.i.Abstract.prototype.uk=function(){return!1};w.i.Abstract.prototype.run=function(){};function Ba(a){a=w.Pa.mo(a.Qb);if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};w.g.xml={};w.g.xml.Xz="https://developers.google.com/blockly/xml";w.g.xml.createElement=function(a){return document.createElementNS(w.g.xml.Xz,a)};w.g.xml.createTextNode=function(a){return document.createTextNode(a)};w.g.xml.ME=function(a){return(new DOMParser).parseFromString(a,"text/xml")};w.g.xml.Rc=function(a){return(new XMLSerializer).serializeToString(a)};w.i.hf=function(a){w.i.hf.w.constructor.call(this);this.sc=a.id;this.Qb=a.A.id};v(w.i.hf,w.i.Abstract);w.i.hf.prototype.Ra=function(){var a=w.i.hf.w.Ra.call(this);a.blockId=this.sc;return a};w.i.hf.prototype.na=function(a){w.i.hf.w.Ra.call(this);this.sc=a.blockId};w.i.Rg=function(a,c,d,e,f){a&&(w.i.Rg.w.constructor.call(this,a),this.element=c,this.name=d,this.oldValue=e,this.newValue=f)};v(w.i.Rg,w.i.hf);w.i.jf=w.i.Rg;b=w.i.Rg.prototype;b.type=w.i.Cj;
b.Ra=function(){var a=w.i.Rg.w.Ra.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};b.na=function(a){w.i.Rg.w.na.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};b.uk=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=Aa(Ba(this),this.sc);if(c)switch(c.Ye&&c.Ye.Da(!1),a=a?this.newValue:this.oldValue,this.element){case "field":if(c=Ca(c,this.name)){var d=a,e=d;null!==e&&(void 0!==e&&(d=e),(e=c.yr())&&e.call(c,d));c.setValue(a)}else console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.ym(a||null);break;case "collapsed":c.Ph(a);break;case "disabled":c.Dd(!a);break;case "inline":c.Kk(a);break;case "mutation":d="";c.Cd&&(d=(d=c.Cd())&&w.P.Rc(d));c.rg&&(e=w.P.Kg(a||
"<mutation/>"),c.rg(e));w.i.ka(new w.i.Rg(c,"mutation",null,d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.sc)};w.i.Ce=function(a){a&&(w.i.Ce.w.constructor.call(this,a),this.xml=a.A.ea?w.P.wq(a):w.P.dh(a),this.Ni=w.i.mw(a))};v(w.i.Ce,w.i.hf);w.i.cn=w.i.Ce;w.i.Ce.prototype.type=w.i.hn;w.i.Ce.prototype.Ra=function(){var a=w.i.Ce.w.Ra.call(this);a.xml=w.P.Rc(this.xml);a.ids=this.Ni;return a};
w.i.Ce.prototype.na=function(a){w.i.Ce.w.na.call(this,a);this.xml=w.P.Kg(a.xml);this.Ni=a.ids};w.i.Ce.prototype.run=function(a){var c=Ba(this);if(a)a=w.g.xml.createElement("xml"),a.appendChild(this.xml),w.P.lh(a,c);else{a=0;for(var d;d=this.Ni[a];a++){var e=Aa(c,d);e?e.J(!1,!1):d==this.sc&&console.warn("Can't uncreate non-existent block: "+d)}}};
w.i.lf=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");w.i.lf.w.constructor.call(this,a);this.qs=a.A.ea?w.P.wq(a):w.P.dh(a);this.Ni=w.i.mw(a)}};v(w.i.lf,w.i.hf);w.i.Bt=w.i.lf;w.i.lf.prototype.type=w.i.ln;w.i.lf.prototype.Ra=function(){var a=w.i.lf.w.Ra.call(this);a.ids=this.Ni;return a};w.i.lf.prototype.na=function(a){w.i.lf.w.na.call(this,a);this.Ni=a.ids};
w.i.lf.prototype.run=function(a){var c=Ba(this);if(a){a=0;for(var d;d=this.Ni[a];a++){var e=Aa(c,d);e?e.J(!1,!1):d==this.sc&&console.warn("Can't delete non-existent block: "+d)}}else a=w.g.xml.createElement("xml"),a.appendChild(this.qs),w.P.lh(a,c)};w.i.ji=function(a){a&&(w.i.ji.w.constructor.call(this,a),a=Da(this),this.ox=a.zx,this.nx=a.Mw,this.ns=a.sv)};v(w.i.ji,w.i.hf);w.i.$k=w.i.ji;b=w.i.ji.prototype;b.type=w.i.hl;
b.Ra=function(){var a=w.i.ji.w.Ra.call(this);this.Zi&&(a.newParentId=this.Zi);this.Yi&&(a.newInputName=this.Yi);this.Fh&&(a.newCoordinate=Math.round(this.Fh.x)+","+Math.round(this.Fh.y));return a};b.na=function(a){w.i.ji.w.na.call(this,a);this.Zi=a.newParentId;this.Yi=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Fh=new w.g.R(Number(a[0]),Number(a[1])))};b.Eg=function(){var a=Da(this);this.Zi=a.zx;this.Yi=a.Mw;this.Fh=a.sv};
function Da(a){var c=Aa(w.Pa.mo(a.Qb),a.sc);a={};var d=c.getParent();if(d){a.zx=d.id;a:{for(var e=0,f;f=d.U[e];e++)if(f.connection&&A(f.connection)==c){c=f;break a}c=null}c&&(a.Mw=c.name)}else a.sv=c.Ba();return a}b.uk=function(){return this.ox==this.Zi&&this.nx==this.Yi&&w.g.R.Oe(this.ns,this.Fh)};
b.run=function(a){var c=Ba(this),d=Aa(c,this.sc);if(d){var e=a?this.Zi:this.ox,f=a?this.Yi:this.nx;a=a?this.Fh:this.ns;var h=null;if(e&&(h=Aa(c,e),!h)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&Ea(d);if(a)f=d.Ba(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.V||d.W;if(f){if(c=Fa(h,f))var k=c.connection}else d.type==w.de&&(k=h.$);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.sc)};w.g.o={};w.g.o.vd="http://www.w3.org/2000/svg";w.g.o.pf="http://www.w3.org/1999/xhtml";w.g.o.Mc="http://www.w3.org/1999/xlink";w.g.o.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};w.g.o.H=function(a,c,d){a=document.createElementNS(w.g.o.vd,a);for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
w.g.o.bb=function(a,c){var d=a.getAttribute("class")||"";if(-1!=(" "+d+" ").indexOf(" "+c+" "))return!1;d&&(d+=" ");a.setAttribute("class",d+c);return!0};w.g.o.Cb=function(a,c){var d=a.getAttribute("class");if(-1==(" "+d+" ").indexOf(" "+c+" "))return!1;d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class");return!0};w.g.o.Bw=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};
w.g.o.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};w.g.o.Pi=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};w.g.o.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&w.g.o.Node.DOCUMENT_POSITION_CONTAINED_BY)};w.g.o.zm=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};w.ab={};w.ab.Wq=0;w.ab.Zn=null;w.ab.WB=function(a){var c=a.A,d=a.Y();c.Ld.play("delete");a=Ga(c,d);d=d.cloneNode(!0);d.VE=a.x;d.WE=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");B(c).appendChild(d);d.Tu=d.getBBox();w.ab.Uv(d,c.B,new Date,c.scale)};w.ab.Uv=function(a,c,d,e){var f=(new Date-d)/150;1<f?w.g.o.removeNode(a):(a.setAttribute("transform","translate("+(a.VE+(c?-1:1)*a.Tu.width*e/2*f)+","+(a.WE+a.Tu.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(w.ab.Uv,10,a,c,d,e))};
w.ab.yB=function(a){var c=a.A,d=c.scale;c.Ld.play("click");if(!(1>d)){var e=Ga(c,a.Y());a.V?(e.x+=(a.B?3:-3)*d,e.y+=13*d):a.W&&(e.x+=(a.B?-23:23)*d,e.y+=3*d);a=w.g.o.H("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},B(c));w.ab.ov(a,new Date,d)}};w.ab.ov=function(a,c,d){var e=(new Date-c)/150;1<e?w.g.o.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,w.ab.Wq=setTimeout(w.ab.ov,10,a,c,d))};
w.ab.VB=function(a){a.A.Ld.play("disconnect");if(!(1>a.A.scale)){var c=a.zb().height;c=Math.atan(10/c)/Math.PI*180;a.B||(c*=-1);w.ab.Tv(a.Y(),c,new Date)}};w.ab.Tv=function(a,c,d){var e=(new Date-d)/200;1<e?a.nj="":(a.nj="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",w.ab.Zn=a,w.ab.Wq=setTimeout(w.ab.Tv,10,a,c,d));a.setAttribute("transform",a.Mg+a.nj)};w.ab.Xq=function(){if(w.ab.Zn){clearTimeout(w.ab.Wq);var a=w.ab.Zn;a.nj="";a.setAttribute("transform",a.Mg);w.ab.Zn=null}};w.i.dl=function(a){this.Qb=a.id;this.group=w.i.Sl;this.Cc=!1};v(w.i.dl,w.i.Abstract);w.i.dl.prototype.type=w.i.qz;w.i.dl.prototype.Ra=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Qb&&(a.workspaceId=this.Qb);return a};w.i.dl.prototype.na=function(a){this.Qb=a.workspaceId;this.group=a.group};w.i.hg=function(a){w.i.hg.w.constructor.call(this);this.Wh=a.Ga();this.Qb=a.A.id};v(w.i.hg,w.i.Abstract);w.i.hg.prototype.Ra=function(){var a=w.i.hg.w.Ra.call(this);a.varId=this.Wh;return a};w.i.hg.prototype.na=function(a){w.i.hg.w.Ra.call(this);this.Wh=a.varId};w.i.ge=function(a){a&&(w.i.ge.w.constructor.call(this,a),this.vj=a.type,this.uj=a.name)};v(w.i.ge,w.i.hg);w.i.ge.prototype.type=w.i.Fu;w.i.ge.prototype.Ra=function(){var a=w.i.ge.w.Ra.call(this);a.varType=this.vj;a.varName=this.uj;return a};
w.i.ge.prototype.na=function(a){w.i.ge.w.na.call(this,a);this.vj=a.varType;this.uj=a.varName};w.i.ge.prototype.run=function(a){var c=Ba(this);a?c.me(this.uj,this.vj,this.Wh):c.Ai(this.Wh)};w.i.Ke=function(a){a&&(w.i.Ke.w.constructor.call(this,a),this.vj=a.type,this.uj=a.name)};v(w.i.Ke,w.i.hg);w.i.Ke.prototype.type=w.i.Gu;w.i.Ke.prototype.Ra=function(){var a=w.i.Ke.w.Ra.call(this);a.varType=this.vj;a.varName=this.uj;return a};
w.i.Ke.prototype.na=function(a){w.i.Ke.w.na.call(this,a);this.vj=a.varType;this.uj=a.varName};w.i.Ke.prototype.run=function(a){var c=Ba(this);a?c.Ai(this.Wh):c.me(this.uj,this.vj,this.Wh)};w.i.sf=function(a,c){a&&(w.i.sf.w.constructor.call(this,a),this.ps=a.name,this.ms=c)};v(w.i.sf,w.i.hg);w.i.sf.prototype.type=w.i.Hu;w.i.sf.prototype.Ra=function(){var a=w.i.sf.w.Ra.call(this);a.oldName=this.ps;a.newName=this.ms;return a};
w.i.sf.prototype.na=function(a){w.i.sf.w.na.call(this,a);this.ps=a.oldName;this.ms=a.newName};w.i.sf.prototype.run=function(a){var c=Ba(this);a?c.ij(this.Wh,this.ms):c.ij(this.Wh,this.ps)};w.P={};w.P.yp=function(a,c){var d=w.g.xml.createElement("xml"),e=w.P.$E(w.Z.Pu(a));e.hasChildNodes()&&d.appendChild(e);var f=Ha(a,!0);e=0;for(var h;h=f[e];e++)d.appendChild(h.Qm(c));a=C(a,!0);for(e=0;f=a[e];e++)d.appendChild(w.P.wq(f,c));return d};w.P.$E=function(a){for(var c=w.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=w.g.xml.createElement("variable");f.appendChild(w.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.Ga();c.appendChild(f)}return c};
w.P.wq=function(a,c){var d;a.A.B&&(d=a.A.Uc());c=w.P.dh(a,c);var e=a.Ba();c.setAttribute("x",Math.round(a.A.B?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};w.P.dC=function(a){var c=!1;a.name&&(a.fg?c=!0:a.Tg&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=w.g.xml.createElement("field"),c.setAttribute("name",a.name),a.Pm(c)):null};
w.P.OA=function(a,c){for(var d=0,e;e=a.U[d];d++)for(var f=0,h;h=e.za[f];f++)(h=w.P.dC(h))&&c.appendChild(h)};
w.P.dh=function(a,c){var d=w.g.xml.createElement(a.Za?"shadow":"block");d.setAttribute("type",a.type);c||(d.id=a.id);if(a.Cd){var e=a.Cd();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}w.P.OA(a,d);var f=a.ro();f&&(e=w.g.xml.createElement("comment"),e.appendChild(w.g.xml.createTextNode(f)),"object"==typeof a.gb&&(e.setAttribute("pinned",a.gb.isVisible()),f=a.gb.Ei(),e.setAttribute("h",f.height),e.setAttribute("w",f.width)),d.appendChild(e));a.data&&(e=w.g.xml.createElement("data"),e.appendChild(w.g.xml.createTextNode(a.data)),
d.appendChild(e));f=0;for(var h;h=a.U[f];f++){var k,l=!0;if(h.type!=w.Fe){var m=A(h.connection);h.type==w.La?k=w.g.xml.createElement("value"):h.type==w.ua&&(k=w.g.xml.createElement("statement"));e=h.connection.Vf;!e||m&&m.Za||k.appendChild(w.P.gv(e,c));m&&(k.appendChild(w.P.dh(m,c)),l=!1);k.setAttribute("name",h.name);l||d.appendChild(k)}}void 0!=a.Bg&&a.Bg!=a.gD&&d.setAttribute("inline",a.Bg);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Ac()||a.Za||
d.setAttribute("deletable",!1);a.hc()||a.Za||d.setAttribute("movable",!1);a.Vc()||d.setAttribute("editable",!1);if(f=z(a))k=w.g.xml.createElement("next"),k.appendChild(w.P.dh(f,c)),d.appendChild(k);e=a.$&&a.$.Vf;!e||f&&f.Za||k.appendChild(w.P.gv(e,c));return d};
w.P.gv=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==w.g.o.Node.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&w.g.o.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==w.g.o.Node.TEXT_NODE&&""==e.data.trim()&&w.g.o.removeNode(e))}return a};w.P.Rc=function(a){return w.g.xml.Rc(a)};
w.P.eG=function(a){a=w.P.Rc(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};w.P.Kg=function(a){var c=w.g.xml.ME(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};
w.P.aG=function(a,c){c.mc(!1);c.clear();a=w.P.lh(a,c);c.mc(!0);return a};
w.P.lh=function(a,c){if(a instanceof w.Pa){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.B&&(e=c.Uc());d=[];w.O.Gm();var f=a.childNodes.length,h=w.i.Vb();h||w.i.ca(!0);c.mc&&c.mc(!1);var k=!0;try{for(var l=0;l<f;l++){var m=a.childNodes[l],n=m.nodeName.toLowerCase();if("block"==n||"shadow"==n&&!w.i.Cc){var q=w.P.bk(m,c);d.push(q.id);var r=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,t=m.hasAttribute("y")?parseInt(m.getAttribute("y"),
10):10;isNaN(r)||isNaN(t)||q.moveBy(c.B?e-r:r,t);k=!1}else{if("shadow"==n)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==n)c.ea?w.ha.Di(m,c,e):w.je.Di(m,c);else if("variables"==n){if(k)w.P.ZB(m,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");k=!1}}}}finally{h||w.i.ca(!1),w.O.Im()}c.mc&&c.mc(!0);w.i.ka(new w.i.dl(c));return d};
w.P.VF=function(a,c){if(c.hasOwnProperty("scale")){var d=w.m.da;try{w.m.da=0;var e=Ia(c)}finally{w.m.da=d}}a=w.P.lh(a,c);if(e&&e.top!=e.bottom){d=e.bottom;var f=e.left;var h=Infinity,k=Infinity;for(e=0;e<a.length;e++){var l=Aa(c,a[e]).Ba();l.y<k&&(k=l.y);l.x<h&&(h=l.x)}d=d-k+w.m.oi;f-=h;var m;c.B&&(m=c.Uc());for(e=0;e<a.length;e++)Aa(c,a[e]).moveBy(c.B?m-f:f,d)}return a};
w.P.bk=function(a,c){if(a instanceof w.Pa){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}w.i.disable();d=c.tg();try{var e=w.P.Zq(a,c),f=y(e,!1);if(c.ea){Ja(e,!0);for(var h=f.length-1;0<=h;h--)f[h].zg();for(h=f.length-1;0<=h;h--)f[h].oa(!1);setTimeout(function(){e.A&&Ja(e,!1)},1);Ka(e);La(c)}else for(h=f.length-1;0<=h;h--)f[h].Oi()}finally{w.i.enable()}if(w.i.isEnabled()){a=w.Z.jw(c,d);for(h=0;h<a.length;h++)w.i.ka(new w.i.ge(a[h]));w.i.ka(new w.i.cn(e))}return e};
w.P.ZB=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==w.g.o.Node.ELEMENT_NODE){var f=e.getAttribute("type"),h=e.getAttribute("id");c.me(e.textContent,f,h)}};
w.P.Zq=function(a,c){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=c.ap(e,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=w.g.o.Node.TEXT_NODE){for(var l=h=null,m=0,n;n=k.childNodes[m];m++)n.nodeType==w.g.o.Node.ELEMENT_NODE&&("block"==n.nodeName.toLowerCase()?h=n:"shadow"==n.nodeName.toLowerCase()&&(l=n));!h&&l&&(h=l);m=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":d.rg&&(d.rg(k),
d.zg&&d.zg());break;case "comment":d.ym(k.textContent);var q=k.getAttribute("pinned");q&&!d.od&&setTimeout(function(){d.gb&&d.gb.Da&&d.gb.Da("true"==q)},1);h=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(h)&&!isNaN(k)&&d.gb&&d.gb.Da&&d.gb.Oh(h,k);break;case "data":d.data=k.textContent;break;case "title":case "field":w.P.YB(d,m,k);break;case "value":case "statement":k=Fa(d,m);if(!k){console.warn("Ignoring non-existent input "+m+" in block "+e);break}l&&(k.connection.Vf=
l);if(h)if(h=w.P.Zq(h,c),h.V)k.connection.connect(h.V);else if(h.W)k.connection.connect(h.W);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.$&&(d.$.Vf=l);if(h){if(!d.$)throw TypeError("Next statement does not exist.");if(d.$.isConnected())throw TypeError("Next statement is already connected.");h=w.P.Zq(h,c);if(!h.W)throw TypeError("Next block does not have previous statement.");d.$.connect(h.W)}break;default:console.warn("Ignoring unknown tag: "+
k.nodeName)}}(f=a.getAttribute("inline"))&&d.Kk("true"==f);(f=a.getAttribute("disabled"))&&d.Dd("true"!=f&&"disabled"!=f);(f=a.getAttribute("deletable"))&&d.Xs("true"==f);(f=a.getAttribute("movable"))&&d.lj("true"==f);(f=a.getAttribute("editable"))&&d.Ys("true"==f);(f=a.getAttribute("collapsed"))&&d.Ph("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.ug(!1);for(f=0;c=a[f];f++)if(!c.Za)throw TypeError("Shadow block not allowed non-shadow child.");if(Ma(d).length)throw TypeError("Shadow blocks cannot have variable references.");
d.bt(!0)}return d};w.P.YB=function(a,c,d){var e=Ca(a,c);e?e.Di(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};w.P.QB=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};w.g.global.Blockly||(w.g.global.Blockly={});w.g.global.Blockly.Xml||(w.g.global.Blockly.Xml={});w.g.global.Blockly.Xml.domToText=w.P.Rc;w.g.global.Blockly.Xml.domToWorkspace=w.P.lh;w.g.global.Blockly.Xml.textToDom=w.P.Kg;
w.g.global.Blockly.Xml.workspaceToDom=w.P.yp;
w.Aa=function(a,c){this.F=a;this.type=c;a.A.xl&&(this.Ne=a.A.xl[c],this.Pq=a.A.xl[w.Lj[c]],this.Kr=!this.Ne)};w.Aa.Gp=0;w.Aa.ru=1;w.Aa.uu=2;w.Aa.tu=3;w.Aa.pu=4;w.Aa.qu=5;w.Aa.su=6;b=w.Aa.prototype;b.qa=null;b.kg=null;b.Vf=null;b.ub=0;b.Sa=0;b.uh=!1;b.Ne=null;b.Pq=null;b.Kr=null;
b.Nn=function(a){var c=this,d=c.F,e=a.F;a.isConnected()&&a.disconnect();if(c.isConnected()){var f=A(c),h=c.Vf;c.Vf=null;if(f.Za)h=w.P.dh(f),f.J(),f=null;else if(c.type==w.La){if(!f.V)throw Error("Orphan block does not have an output connection.");var k=w.Aa.Vw(e,f);k&&(f.V.connect(k),f=null)}else if(c.type==w.ua){if(!f.W)throw Error("Orphan block does not have a previous connection.");for(k=e;k.$;){var l=z(k);if(l&&!l.Za)k=l;else{Na(f.W,k.$)&&(k.$.connect(f.W),f=null);break}}}if(f&&(c.disconnect(),
w.i.Cc)){var m=w.i.Vb();setTimeout(function(){f.A&&!f.getParent()&&(w.i.ca(m),f.V?Oa(f.V,c):f.W&&Oa(f.W,c),w.i.ca(!1))},w.bn)}c.Vf=h}var n;w.i.isEnabled()&&(n=new w.i.$k(e));w.Aa.xB(c,a);e.mj(d);n&&(n.Eg(),w.i.ka(n))};b.J=function(){if(this.isConnected()){this.Vf=null;var a=A(this);a.Za?a.J():Ea(a)}this.uh&&Pa(this.Ne,this)};function Qa(a){return a.type==w.La||a.type==w.ua}b.isConnected=function(){return!!this.qa};
function Ra(a,c){if(!c)return w.Aa.tu;if(Qa(a))var d=a.F,e=c.F;else e=a.F,d=c.F;return d&&d==e?w.Aa.ru:c.type!=w.Lj[a.type]?w.Aa.uu:d&&e&&d.A!==e.A?w.Aa.qu:Na(a,c)?d.Za&&!e.Za?w.Aa.su:w.Aa.Gp:w.Aa.pu}
b.Ko=function(a){if(a.F.Lf()||Ra(this,a)!=w.Aa.Gp)return!1;switch(a.type){case w.de:return this.qa||-1!=w.Hl.indexOf(a)?a=!1:a.qa?(a=A(a),a=a.Lf()?!(a.W&&A(a.W)):!1):a=!0,a;case w.ce:if(a.isConnected()&&!A(a).Lf()||this.isConnected())return!1;break;case w.La:if(a.isConnected()&&!A(a).hc()&&!A(a).Za)return!1;break;case w.ua:if(a.isConnected()&&!this.F.$&&!A(a).Za&&A(a).$)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=w.Hl.indexOf(a)?!1:!0};
b.connect=function(a){if(this.qa!=a){switch(Ra(this,a)){case w.Aa.Gp:break;case w.Aa.ru:throw Error("Attempted to connect a block to itself.");case w.Aa.qu:throw Error("Blocks not on same workspace.");case w.Aa.uu:throw Error("Attempt to connect incompatible types.");case w.Aa.tu:throw Error("Target connection is null.");case w.Aa.pu:throw Error("Connection checks failed. "+(this+" expected "+this.kg+", found "+a.kg));case w.Aa.su:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}var c=w.i.Vb();c||w.i.ca(!0);Qa(this)?this.Nn(a):a.Nn(this);c||w.i.ca(!1)}};w.Aa.xB=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.qa=c;c.qa=a};w.Aa.CE=function(a,c){for(var d=!1,e=0;e<a.U.length;e++){var f=a.U[e].connection;if(f&&f.type==w.La&&Na(c.V,f)){if(d)return null;d=f}}return d};w.Aa.Vw=function(a,c){for(var d;d=w.Aa.CE(a,c);)if(a=A(d),!a||a.Za)return d;return null};b=w.Aa.prototype;
b.disconnect=function(){var a=this.qa;if(!a)throw Error("Source connection not connected.");if(a.qa!=this)throw Error("Target connection not connected to source connection.");if(Qa(this)){var c=this.F;var d=a.F;a=this}else c=a.F,d=this.F;var e=w.i.Vb();e||w.i.ca(!0);this.Vq(c,d);a.Ns();e||w.i.ca(!1)};b.Vq=function(a,c){var d;w.i.isEnabled()&&(d=new w.i.$k(c));this.qa=this.qa.qa=null;c.mj(null);d&&(d.Eg(),w.i.ka(d))};
b.Ns=function(){var a=this.F,c=this.Vf;if(a.A&&c&&w.i.Cc)if(a=w.P.bk(c,a.A),a.V)this.connect(a.V);else if(a.W)this.connect(a.W);else throw Error("Child block does not have output or previous statement.");};function A(a){return a.isConnected()?a.qa.F:null}function Na(a,c){if(!a.kg||!c.kg)return!0;for(var d=0;d<a.kg.length;d++)if(-1!=c.kg.indexOf(a.kg[d]))return!0;return!1}b.qx=function(){this.isConnected()&&!Na(this,this.qa)&&Ea(Qa(this)?A(this):this.F)};
b.Ik=function(a){a?(Array.isArray(a)||(a=[a]),this.kg=a,this.qx()):this.kg=null};b.lx=function(){return[]};b.If=function(){for(var a=null,c=this.F,d=c.U,e=0;e<c.U.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.F;if(a)if(a.V==this)var c="Output Connection of ";else if(a.W==this)c="Previous Connection of ";else if(a.$==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.U[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};w.$g=function(a,c){w.$g.w.constructor.call(this,a,c);this.Cg=new w.g.R(0,0)};v(w.$g,w.Aa);function Sa(a,c){var d=a.ub-c.ub;a=a.Sa-c.Sa;return Math.sqrt(d*d+a*a)}function Oa(a,c){if(!a.F.A.Bc()){var d=Ta(a.F);if(!d.od){var e=!1;if(!d.hc()){d=Ta(c.F);if(!d.hc())return;c=a;e=!0}var f=w.selected==d;f||d.Tj();var h=c.ub+w.Lc+Math.floor(Math.random()*w.Ep)-a.ub,k=c.Sa+w.Lc+Math.floor(Math.random()*w.Ep)-a.Sa;e&&(k=-k);d.B&&(h=c.ub-w.Lc-Math.floor(Math.random()*w.Ep)-a.ub);d.moveBy(h,k);f||d.hj()}}}b=w.$g.prototype;
b.moveTo=function(a,c){this.uh&&Pa(this.Ne,this);this.ub=a;this.Sa=c;this.Kr||Ua(this.Ne,this)};b.moveBy=function(a,c){this.moveTo(this.ub+a,this.Sa+c)};function Va(a,c){a.moveTo(c.x+a.Cg.x,c.y+a.Cg.y)}function Wa(a,c,d){a.Cg.x=c;a.Cg.y=d}function Xa(a){var c=a.qa.ub-a.ub,d=a.qa.Sa-a.Sa;if(0!=c||0!=d){a=A(a);var e=a.Y();if(!e)throw Error("block is not rendered.");e=w.g.Qd(e);a.Y().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Ya(a,-c,-d)}}
b.closest=function(a,c){var d=this.Pq;if(d.Kb.length){var e=this.Sa,f=this.ub;this.ub=f+c.x;this.Sa=e+c.y;var h=Za(d,this);c=null;for(var k=a,l,m=h-1;0<=m&&Math.abs(d.Kb[m].Sa-this.Sa)<=a;)l=d.Kb[m],this.Ko(l,k)&&(c=l,k=Sa(l,this)),m--;for(;h<d.Kb.length&&Math.abs(d.Kb[h].Sa-this.Sa)<=a;)l=d.Kb[h],this.Ko(l,k)&&(c=l,k=Sa(l,this)),h++;this.ub=f;this.Sa=e;a={connection:c,lp:k}}else a={connection:null,lp:a};return a};
b.Eo=function(){var a=this.type==w.La||this.type==w.ce?w.g.I.moveBy(0,-5)+w.g.I.Wb("v",5)+w.j.v.ee.Ih+w.g.I.Wb("v",5):w.g.I.moveBy(-5,0)+w.g.I.Wb("h",5)+w.j.v.pc.cj+w.g.I.Wb("h",5);var c=this.F.Ba();w.Aa.Jw=w.g.o.H("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.ub-c.x)+","+(this.Sa-c.y)+")"+(this.F.B?" scale(-1 1)":"")},this.F.Y())};
function $a(a){ab(a,!1);var c=[];if(a.type!=w.La&&a.type!=w.ua)return c;if(a=A(a)){if(a.isCollapsed()){var d=[];a.V&&d.push(a.V);a.$&&d.push(a.$);a.W&&d.push(a.W)}else d=a.pe(!0);for(var e=0;e<d.length;e++)c.push.apply(c,$a(d[e]));c.length||(c[0]=a)}return c}function ab(a,c){(a.Kr=c)&&a.uh?Pa(a.Ne,a):c||a.uh||Ua(a.Ne,a)}b.Ko=function(a,c){return Sa(this,a)>c?!1:w.$g.w.Ko.call(this,a)};b.Vq=function(a,c){w.$g.w.Vq.call(this,a,c);a.ea&&a.oa();c.ea&&(Ka(c),c.oa())};
b.Ns=function(){var a=this.F,c=this.Vf;if(a.A&&c&&w.i.Cc){w.$g.w.Ns.call(this);c=A(this);if(!c)throw Error("Couldn't respawn the shadow block that should exist here.");c.zg();c.oa(!1);a.ea&&a.oa()}};b.lx=function(a){return bb(this.Pq,this,a)};b.Nn=function(a){w.$g.w.Nn.call(this,a);var c=this.F;a=a.F;c.ea&&Ka(c);a.ea&&Ka(a);c.ea&&a.ea&&(this.type==w.ua||this.type==w.de?a.oa():c.oa())};b.qx=function(){this.isConnected()&&!Na(this,this.qa)&&(Ea(Qa(this)?A(this):this.F),this.F.kd())};
w.qn=function(a){this.ff=w.selected=a;this.s=a.A;this.Ui=this.$r=null;this.dk=cb(this,this.ff);this.ic=this.ib=null;this.$f=!1;this.Vi=null;this.Mr=!1;this.pk=null;a=this.ff.pe(!1);var c;a:{for(c=this.ff.$;c;){var d=A(c);if(!d)break a;c=d.$}c=null}c&&c!=this.ff.$&&(a.push(c),this.$r=c,this.Ui=cb(this,c.F));this.tq=a};
w.qn.prototype.J=function(){this.s=this.ff=null;this.tq.length=0;this.ic=this.ib=null;w.i.disable();try{this.dk&&(this.dk.J(),this.dk=null),this.Ui&&(this.Ui.J(),this.Ui=null)}finally{w.i.enable()}this.pk=null};
w.qn.prototype.update=function(a,c){var d=this.ib&&this.ic?w.Ht:w.Lc;for(var e=null,f=null,h=0;h<this.tq.length;h++){var k=this.tq[h],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.lp)}e=(d={closest:e,local:f,lp:d},!!d.closest)&&c!=w.Mt;if((this.$f=!!c&&!this.ff.getParent()&&this.ff.Ac()&&!e)||db(this,d,a)){w.i.disable();d.closest?(a=this.ib!=d.closest,c=this.ic!=d.local,this.ib&&this.ic&&(a||c||this.$f)&&eb(this)):eb(this);this.ic=this.ib=this.Vi=null;if(!this.$f&&(a=d.closest,c=d.local,
a))if(a==this.ib||a.F.Lf())console.log("trying to connect to an insertion marker");else{this.ib=a;this.ic=c;a=this.ib;c=this.ic;if(c.type==w.ce)a=a.isConnected()&&!w.Aa.Vw(this.ff,a.qa.F);else{a:{for(d=0;e=c.F.U[d];d++)if(e.connection&&e.connection.type==w.ua){d=e.connection;break a}d=null}a=c==d?0:!this.ff.$&&c.type==w.de&&a.isConnected()}if(a)a=this.ib,c=this.ic,A(a)?(this.pk=A(a),fb(A(a),!0)):c.type==w.ce&&(this.pk=a.F,a.F.WC(a,!0)),this.Mr=!0;else{d=this.ic;a=this.ib;c=this.$r&&d==this.$r?this.Ui:
this.dk;a:{f=d.F;e=c.pe(!0);f=f.pe(!0);if(e.length!=f.length)throw Error("Connection lists did not match in length.");for(h=0;h<f.length;h++)if(f[h]==d){d=e[h];break a}d=null}if(d==this.Vi)throw Error("Made it to connectMarker_ even though the marker isn't changing");c.oa();c.ea=!0;c.Y().setAttribute("visibility","visible");d.type!=w.ua&&d.type!=w.La||c.moveBy(a.ub-d.ub,a.Sa-d.Sa);d.connect(a);this.Vi=d}this.ib&&this.ib.Eo()}w.i.enable()}};
function cb(a,c){var d=c.type;w.i.disable();try{var e=a.s.ap(d);e.$x(!0);e.Ph(c.isCollapsed());if(c.Cd){var f=c.Cd();f&&e.rg(f)}for(a=0;a<c.U.length;a++){var h=c.U[a];for(d=0;d<h.za.length;d++){var k=h.za[d],l=k.getValue(),m=k.name,n=Ca(e,m);if(!n)throw Error('Field "'+m+'" not found.');n.setValue(l)}}e.zg();e.Y().setAttribute("visibility","hidden")}finally{w.i.enable()}return e}
function db(a,c,d){var e=c.local,f=c.closest;c=c.lp;if(e&&f){if(a.ic&&a.ib){if(a.ib==f&&a.ic==e)return!1;e=a.ic.ub+d.x-a.ib.ub;a=a.ic.Sa+d.y-a.ib.Sa;a=Math.sqrt(e*e+a*a);return!(f&&c>a-w.cz)}if(a.ic||a.ib)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.ic||!a.ib);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function eb(a){a.ib&&(w.g.o.removeNode(w.Aa.Jw),delete w.Aa.Jw);if(a.Mr){var c=a.ib;c.type!=w.La||c.isConnected()?fb(a.pk,!1):a.pk.WC(c,!1);a.pk=null;a.Mr=!1}else if(a.Vi)if(a.Vi){c=a.Vi;var d=c.F,e=d.$,f=d.W,h=d.V;h=c.type==w.La&&!(h&&h.qa);!(c!=e||f&&f.qa)||h?Ea(A(c),!1):c.type==w.ua&&c!=e?(e=c.qa,Ea(e.F,!1),f=f?f.qa:null,Ea(d,!0),f&&f.connect(e)):Ea(d,!0);if(c.qa)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Vi=null;d.Y().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
w.qn.prototype.hk=function(){var a=[];this.dk&&a.push(this.dk);this.Ui&&a.push(this.Ui);return a};w.Yh=function(a,c){this.lb=a;this.s=c;this.Af=new w.qn(this.lb);this.zi=null;this.$f=!1;this.Xf=this.lb.Ba();this.bo=w.Yh.eD(a)};w.Yh.prototype.J=function(){this.$b=this.s=this.lb=null;this.bo.length=0;this.Af&&(this.Af.J(),this.Af=null)};w.Yh.eD=function(a){var c=[];a=y(a,!1);for(var d=0,e;e=a[d];d++){e=gb(e);for(var f=0;f<e.length;f++)c.push({location:e[f].qk,icon:e[f]})}return c};
function hb(a,c,d){d=a.Ek(d);var e=w.g.R.sum(a.Xf,d);a.lb.Zo(e);for(e=0;e<a.bo.length;e++){var f=a.bo[e];ib(f.icon,w.g.R.sum(f.location,d))}a.zi=jb(a.s,c);a.Af.update(d,a.zi);a.$f=a.Af.$f;c=a.s.Ec;a.$f?(a.lb.Am(!0),a.zi==w.Kp&&c&&kb(c,!0)):(a.lb.Am(!1),c&&kb(c,!1))}
function lb(a,c,d){hb(a,c,d);a.bo=[];w.O.Im();w.ab.Xq();c=a.Ek(d);d=w.g.R.sum(a.Xf,c);a.lb.kx(d);d=a.s.Ec;a.$f?(d&&setTimeout(d.close.bind(d),100),a.Kl(),a.lb.J(!1,!0)):d&&d.close();a.$f||(Ya(a.lb,c.x,c.y),a.lb.Qh(!1),a.Kl(),a.Af.ib?(c=a.Af,c.ib&&(w.i.disable(),eb(c),w.i.enable(),c.ic.connect(c.ib),c.ff.ea&&(w.ab.yB((Qa(c.ic)?c.ib:c.ic).F),mb(Ta(c.ff))))):a.lb.oa(),nb(a.lb));a.s.mc(!0);(c=a.s.fa)&&w.g.o.Cb(c.ed,a.lb.Ac()?"blocklyToolboxDelete":"blocklyToolboxGrab");w.i.ca(!1)}
w.Yh.prototype.Kl=function(){var a=new w.i.$k(this.lb);a.ns=this.Xf;a.Eg();w.i.ka(a)};w.Yh.prototype.Ek=function(a){a=new w.g.R(a.x/this.s.scale,a.y/this.s.scale);this.s.Si&&a.scale(1/this.s.options.Yc.scale);return a};w.Yh.prototype.hk=function(){return this.Af&&this.Af.hk?this.Af.hk():[]};w.Touch={};w.Touch.kq="ontouchstart"in w.g.global||!!(w.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!w.g.global.navigator||!w.g.global.navigator.maxTouchPoints&&!w.g.global.navigator.msMaxTouchPoints);w.Touch.Rm=null;w.Touch.rf={};
w.g.global.PointerEvent?w.Touch.rf={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:w.Touch.kq&&(w.Touch.rf={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});w.To=0;
w.tD=function(a,c){w.Dh();a.changedTouches&&1!=a.changedTouches.length||(w.To=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&ob(c,a)},w.Mz))};w.Dh=function(){w.To&&(clearTimeout(w.To),w.To=0)};w.Touch.ng=function(){w.Touch.Rm=null};w.Touch.et=function(a){return!w.Touch.kD(a)||w.Touch.mB(a)};
w.Touch.Ao=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};w.Touch.mB=function(a){var c=w.Touch.Ao(a);return void 0!==w.Touch.Rm&&null!==w.Touch.Rm?w.Touch.Rm==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(w.Touch.Rm=c,!0):!1};
w.Touch.yE=function(a){if(w.g.Ua.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};w.Touch.kD=function(a){return w.g.Ua.startsWith(a.type,"touch")||w.g.Ua.startsWith(a.type,"mouse")||w.g.Ua.startsWith(a.type,"pointer")};w.Touch.Qo=function(a){return w.g.Ua.startsWith(a.type,"touch")||w.g.Ua.startsWith(a.type,"pointer")};
w.Touch.EE=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};w.g.ue={};w.g.ue.Om=function(a){return a*Math.PI/180};w.g.ue.QE=function(a){return 180*a/Math.PI};w.g.ue.Cq=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};w.bl=function(a){this.sb=null;this.tk=!!a};b=w.bl.prototype;b.types={cg:"field",Ae:"block",Wg:"input",li:"output",dg:"next",mi:"previous",Je:"stack",ig:"workspace"};function E(a,c){a.sb=c;a.Ey()}b.Ey=function(){};b.next=function(){var a=this.sb;if(!a)return null;(a=a.next())&&a.bd===w.D.types.dg&&(a=a.next()||a);a&&E(this,a);return a};b.am=function(){var a=this.sb;if(!a)return null;(a=a.am())&&a.bd===w.D.types.li&&(a=a.next()||a);a&&E(this,a);return a};
b.Fk=function(){var a=this.sb;if(!a)return null;(a=a.Fk())&&a.bd===w.D.types.dg&&(a=a.Fk()||a);a&&E(this,a);return a};b.tm=function(){var a=this.sb;if(!a)return null;(a=a.tm())&&E(this,a);return a};w.CA=function(){var a=w.bh.Zh.fB;this.aB=w.bh.Zh.KB;this.gB=a};w.bh={};w.bh.Zh={};w.bh.Zh.KB={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
w.bh.Zh.fB={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};w.bh.Zh=new w.CA;w.mq=function(a){this.Ha=Object.create(null);this.A=a};b=w.mq.prototype;b.clear=function(){this.Ha=Object.create(null)};b.Is=function(a,c){var d=this.Re(c,a.type),e=F(this.A,!1);w.i.ca(!0);try{if(d&&d.Ga()!=a.Ga()){var f=a.type;c!=d.name&&pb(d,c,e);for(c=0;c<e.length;c++)for(var h=void 0,k=e[c],l=a.Ga(),m=d.Ga(),n=0;h=k.U[n];n++)for(var q=0,r;r=h.za[q];q++)r.mp()&&l==r.getValue()&&r.setValue(m);w.i.ka(new w.i.Ke(a));this.Ha[f].splice(this.Rl(f).indexOf(a),1)}else pb(a,c,e)}finally{w.i.ca(!1)}};
b.ij=function(a,c){var d=this.xg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.Is(d,c)};function pb(a,c,d){w.i.ka(new w.i.sf(a,c));a.name=c;for(c=0;c<d.length;c++)for(var e,f=d[c],h=a,k=0;e=f.U[k];k++)for(var l=0,m;m=e.za[l];l++)m.mp()&&h.Ga()==m.getValue()&&(m.va=m.cd.name,qb(m))}
b.me=function(a,c,d){var e=this.Re(a,c);if(e){if(d&&e.Ga()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.Ga()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.xg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||w.g.Ff();c=c||"";e=new w.Qj(this.A,a,c,e);a=this.Ha[c]||[];a.push(e);delete this.Ha[c];this.Ha[c]=a;return e};
b.Ai=function(a){var c=this.xg(a);if(c){var d=c.name,e=this.Ar(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=rb(f,"NAME");d=w.h.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);w.alert(d);return}var h=this;1<e.length?(d=w.h.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),w.confirm(d,function(k){k&&h.Wn(c,e)})):h.Wn(c,e)}else console.warn("Can't delete non-existent variable: "+a)};
b.Wn=function(a,c){var d=w.i.Vb();d||w.i.ca(!0);try{for(var e=0;e<c.length;e++)c[e].J(!0,!1);var f=this.Ha[a.type];c=0;for(var h;h=f[c];c++)if(h.Ga()==a.Ga()){f.splice(c,1);w.i.ka(new w.i.Ke(a));break}}finally{d||w.i.ca(!1)}};b.Re=function(a,c){if(c=this.Ha[c||""])for(var d=0,e;e=c[d];d++)if(w.He.Oe(e.name,a))return e;return null};b.xg=function(a){for(var c=Object.keys(this.Ha),d=0;d<c.length;d++)for(var e=c[d],f=0,h;h=this.Ha[e][f];f++)if(h.Ga()==a)return h;return null};
b.Rl=function(a){return(a=this.Ha[a||""])?a.slice():[]};b.zr=function(a){var c=[];a&&a.Jh&&(c=Object.keys(a.Jh.Ha));a=Object.keys(this.Ha).concat(c);c=!1;for(var d=0;d<a.length;d++)""==a[d]&&(c=!0);c||a.push("");return a};b.tg=function(){var a=[],c;for(c in this.Ha)a=a.concat(this.Ha[c]);return a};b.Ar=function(a){for(var c=[],d=F(this.A,!1),e=0;e<d.length;e++){var f=Ma(d[e]);if(f)for(var h=0;h<f.length;h++)f[h].Ga()==a&&c.push(d[e])}return c};w.i.$h=function(a){this.vf=a.id;this.Qb=a.A.id;this.group=w.i.Sl;this.Cc=w.i.Cc};v(w.i.$h,w.i.Abstract);w.i.$h.prototype.Ra=function(){var a={type:this.type};this.group&&(a.group=this.group);this.vf&&(a.commentId=this.vf);return a};w.i.$h.prototype.na=function(a){this.vf=a.commentId;this.group=a.group};w.i.ai=function(a,c,d){a&&(w.i.ai.w.constructor.call(this,a),this.mx=c,this.bp=d)};v(w.i.ai,w.i.$h);b=w.i.ai.prototype;b.type=w.i.Ft;
b.Ra=function(){var a=w.i.ai.w.Ra.call(this);a.newContents=this.bp;return a};b.na=function(a){w.i.ai.w.na.call(this,a);this.bp=a.newValue};b.uk=function(){return this.mx==this.bp};b.run=function(a){var c=sb(Ba(this),this.vf);c?c.Sf(a?this.bp:this.mx):console.warn("Can't change non-existent comment: "+this.vf)};w.i.kf=function(a){a&&(w.i.kf.w.constructor.call(this,a),this.xml=a.Qm())};v(w.i.kf,w.i.$h);w.i.kf.prototype.type=w.i.fn;
w.i.kf.prototype.Ra=function(){var a=w.i.kf.w.Ra.call(this);a.xml=w.P.Rc(this.xml);return a};w.i.kf.prototype.na=function(a){w.i.kf.w.na.call(this,a);this.xml=w.P.Kg(a.xml)};w.i.kf.prototype.run=function(a){w.i.Jt(this,a)};w.i.Jt=function(a,c){var d=Ba(a);c?(c=w.g.xml.createElement("xml"),c.appendChild(a.xml),w.P.lh(c,d)):(d=sb(d,a.vf))?d.J(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.vf)};w.i.Be=function(a){a&&(w.i.Be.w.constructor.call(this,a),this.xml=a.Qm())};v(w.i.Be,w.i.$h);
w.i.Be.prototype.type=w.i.Gt;w.i.Be.prototype.Ra=function(){return w.i.Be.w.Ra.call(this)};w.i.Be.prototype.na=function(a){w.i.Be.w.na.call(this,a)};w.i.Be.prototype.run=function(a){w.i.Jt(this,!a)};w.i.bg=function(a){a&&(w.i.bg.w.constructor.call(this,a),this.Gq=a,this.os=tb(a),this.Xi=null)};v(w.i.bg,w.i.$h);b=w.i.bg.prototype;b.Eg=function(){if(!this.Gq)throw Error("Tried to record the new position of a comment on the same event twice.");this.Xi=tb(this.Gq);this.Gq=null};b.type=w.i.gn;
b.Ra=function(){var a=w.i.bg.w.Ra.call(this);this.Xi&&(a.newCoordinate=Math.round(this.Xi.x)+","+Math.round(this.Xi.y));return a};b.na=function(a){w.i.bg.w.na.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.Xi=new w.g.R(Number(a[0]),Number(a[1])))};b.uk=function(){return w.g.R.Oe(this.os,this.Xi)};b.run=function(a){var c=sb(Ba(this),this.vf);if(c){a=a?this.Xi:this.os;var d=tb(c);c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.vf)};w.je=function(a,c,d,e,f){this.id=f&&!sb(a,f)?f:w.g.Ff();a.Qk.push(this);a.Ln[this.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+this.id+'"');a.Ln[this.id]=this;this.ze=new w.g.R(0,0);this.Ma=d;this.sa=e;this.A=a;this.B=a.B;this.qm=this.Fl=!0;this.dc=c;this.Wr=!0;w.je.ir(this)};b=w.je.prototype;
b.J=function(){if(this.A){w.i.isEnabled()&&w.i.ka(new w.i.Be(this));var a=this.A;if(!w.g.rl(a.Qk,this))throw Error("Comment not present in workspace's list of top-most comments.");delete a.Ln[this.id];this.A=null}};b.gk=function(){return this.Ma};b.Uc=function(){return this.sa};function tb(a){return new w.g.R(a.ze.x,a.ze.y)}b.moveBy=function(a,c){var d=new w.i.bg(this);this.ze.translate(a,c);d.Eg();w.i.ka(d)};b.Ac=function(){return this.Fl&&!(this.A&&this.A.options.readOnly)};
b.Xs=function(a){this.Fl=a};b.hc=function(){return this.qm&&!(this.A&&this.A.options.readOnly)};b.lj=function(a){this.qm=a};b.oh=function(){return this.dc};b.Sf=function(a){this.dc!=a&&(w.i.ka(new w.i.ai(this,this.dc,a)),this.dc=a)};b.Qm=function(a){a=this.Pm(a);a.setAttribute("x",Math.round(this.ze.x));a.setAttribute("y",Math.round(this.ze.y));a.setAttribute("h",this.Ma);a.setAttribute("w",this.sa);return a};
b.Pm=function(a){var c=w.g.xml.createElement("comment");a||(c.id=this.id);c.textContent=this.oh();return c};w.je.ir=function(a){if(w.i.isEnabled()){var c=w.i.Vb();c||w.i.ca(!0);try{w.i.ka(new w.i.kf(a))}finally{c||w.i.ca(!1)}}};w.je.Di=function(a,c){var d=w.je.Ax(a);c=new w.je(c,d.content,d.yw,d.Jy,d.id);d=parseInt(a.getAttribute("x"),10);a=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(a)||c.moveBy(d,a);w.je.ir(c);return c};
w.je.Ax=function(a){var c=a.getAttribute("h"),d=a.getAttribute("w");return{id:a.getAttribute("id"),yw:c?parseInt(c,10):100,Jy:d?parseInt(d,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};w.Pa=function(a){this.id=w.g.Ff();w.Pa.ol[this.id]=this;this.options=a||{};this.B=!!this.options.B;this.zd=!!this.options.zd;this.ra=this.options.ra;this.Pk=[];this.Qk=[];this.Ln=Object.create(null);this.qd=[];this.tj=[];this.xm=[];this.vq=Object.create(null);this.Ng=Object.create(null);this.Ha=new w.mq(this);this.Jh=null;this.cursor=this.tv();this.Uo=this.uv();w.zo()||w.ey(w.bh.Zh)};b=w.Pa.prototype;b.ea=!1;b.Vr=!1;b.Xt=1024;b.xl=null;b.tv=function(){return new w.bl};b.uv=function(){return new w.bl(!0)};
b.J=function(){this.qd.length=0;this.clear();delete w.Pa.ol[this.id]};w.Pa.wu=3;b=w.Pa.prototype;b.Wf=function(a,c){a=a.Ba();c=c.Ba();return a.y+w.Pa.prototype.Wf.offset*a.x-(c.y+w.Pa.prototype.Wf.offset*c.x)};function vb(a,c){if(!w.g.rl(a.Pk,c))throw Error("Block not present in workspace's list of top-most blocks.");}function C(a,c){var d=[].concat(a.Pk);c&&1<d.length&&(a.Wf.offset=Math.sin(w.g.ue.Om(w.Pa.wu)),a.B&&(a.Wf.offset*=-1),d.sort(a.Wf));return d}
function Ha(a,c){var d=[].concat(a.Qk);c&&1<d.length&&(a.Wf.offset=Math.sin(w.g.ue.Om(w.Pa.wu)),a.B&&(a.Wf.offset*=-1),d.sort(a.Wf));return d}function F(a,c){if(c){a=C(a,!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,y(a[d],!0))}else for(c=C(a,!1),d=0;d<c.length;d++)c.push.apply(c,c[d].ug(!1));return c.filter(function(e){return!e.Lf()})}
b.clear=function(){this.Vr=!0;try{var a=w.i.Vb();for(a||w.i.ca(!0);this.Pk.length;)this.Pk[0].J();for(;this.Qk.length;)this.Qk[this.Qk.length-1].J();a||w.i.ca(!1);this.Ha.clear();this.Jh&&this.Jh.clear()}finally{this.Vr=!1}};b.ij=function(a,c){this.Ha.ij(a,c)};b.me=function(a,c,d){return this.Ha.me(a,c,d)};b.Ar=function(a){return this.Ha.Ar(a)};b.Ai=function(a){this.Ha.Ai(a)};b.Wn=function(a,c){this.Ha.Wn(a,c)};b.Re=function(a,c){return this.Ha.Re(a,c)};b.xg=function(a){return this.Ha.xg(a)};
b.Rl=function(a){return this.Ha.Rl(a)};b.zr=function(){return this.Ha.zr(this)};b.tg=function(){return this.Ha.tg()};b.Uc=function(){return 0};b.ap=function(a,c){return new w.Zk(this,a,c)};function wb(a){return isNaN(a.options.js)?Infinity:a.options.js-F(a).length}function xb(a,c){if(!yb(a))return!0;var d=0,e;for(e in c){var f=c[e];if(a.options.ks){var h=a.options.ks[e]||Infinity;var k=a.Ng[e]?a.Ng[e].slice(0):[];h-=k.length}else h=Infinity;if(f>h)return!1;d+=c[e]}return d>wb(a)?!1:!0}
function yb(a){return Infinity!=a.options.js||!!a.options.ks}b.ot=function(a){var c=a?this.xm:this.tj,d=a?this.tj:this.xm,e=c.pop();if(e){for(var f=[e];c.length&&e.group&&e.group==c[c.length-1].group;)f.push(c.pop());for(c=0;e=f[c];c++)d.push(e);f=w.i.filter(f,a);w.i.Cc=!1;try{for(c=0;e=f[c];c++)e.run(a)}finally{w.i.Cc=!0}}};b.ev=function(){this.tj.length=0;this.xm.length=0;w.i.pB()};b.jd=function(a){this.qd.push(a);return a};b.gj=function(a){w.g.rl(this.qd,a)};
function Aa(a,c){return a.vq[c]||null}function sb(a,c){return a.Ln[c]||null}w.Pa.ol=Object.create(null);w.Pa.mo=function(a){return w.Pa.ol[a]||null};w.Pa.getAll=function(){var a=[],c;for(c in w.Pa.ol)a.push(w.Pa.ol[c]);return a};w.Pa.prototype.clear=w.Pa.prototype.clear;w.Pa.prototype.clearUndo=w.Pa.prototype.ev;w.Pa.prototype.addChangeListener=w.Pa.prototype.jd;w.Pa.prototype.removeChangeListener=w.Pa.prototype.gj;w.ja=function(a,c,d,e,f,h){this.s=a;this.dc=c;this.gy=d;d=w.ja.Sy;this.s.B&&(d=-d);this.TA=w.g.ue.Om(d);a.$d.appendChild(this.Bl(c,!(!f||!h)));this.Ib=e;this.jj&&zb(this);f&&h||(c=this.dc.getBBox(),f=c.width+2*w.ja.Hc,h=c.height+2*w.ja.Hc);this.Oh(f,h);zb(this);Ab(this);this.jj=!0;a.options.readOnly||(w.ba(this.tl,"mousedown",this,this.bB),this.Zb&&w.ba(this.Zb,"mousedown",this,this.Ks))};w.ja.Hc=6;w.ja.Ty=5;w.ja.Sy=20;w.ja.ut=4;w.ja.Ry=8;w.ja.Xc=null;w.ja.ve=null;w.ja.prototype.Js=null;
w.ja.Tk=function(){w.ja.Xc&&(w.cb(w.ja.Xc),w.ja.Xc=null);w.ja.ve&&(w.cb(w.ja.ve),w.ja.ve=null)};w.ja.cB=function(){w.Touch.ng();w.ja.Tk()};b=w.ja.prototype;b.jj=!1;b.Ib=null;b.Fg=0;b.Lh=0;b.sa=0;b.Ma=0;b.En=!0;
b.Bl=function(a,c){this.Nd=w.g.o.H("g",{},null);var d={filter:"url(#"+this.s.options.aw+")"};w.g.userAgent.Kz&&(d={});d=w.g.o.H("g",d,this.Nd);this.zq=w.g.o.H("path",{},d);this.tl=w.g.o.H("rect",{"class":"blocklyDraggable",x:0,y:0,rx:w.ja.Hc,ry:w.ja.Hc},d);c?(this.Zb=w.g.o.H("g",{"class":this.s.B?"blocklyResizeSW":"blocklyResizeSE"},this.Nd),c=2*w.ja.Hc,w.g.o.H("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Zb),w.g.o.H("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/
3},this.Zb),w.g.o.H("line",{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Zb)):this.Zb=null;this.Nd.appendChild(a);return this.Nd};b.Y=function(){return this.Nd};function Bb(a,c){a.Nd.dataset&&(a.Nd.dataset.sc=c)}b.bB=function(a){var c=this.s.Hf(a);c&&Cb(c,a,this)};b.Mk=function(){};b.Ac=function(){return!1};
b.Ks=function(a){Db(this);w.ja.Tk();w.g.Ah(a)||(this.s.sp(a,new w.g.R(this.s.B?-this.sa:this.sa,this.Ma)),w.ja.Xc=w.ba(document,"mouseup",this,w.ja.cB),w.ja.ve=w.ba(document,"mousemove",this,this.Ls),w.gc());a.stopPropagation()};b.Ls=function(a){this.En=!1;a=Eb(this.s,a);this.Oh(this.s.B?-a.x:a.x,a.y);this.s.B&&zb(this)};function Db(a){var c=a.Nd.parentNode;return c.lastChild!==a.Nd?(c.appendChild(a.Nd),!0):!1}
function Fb(a,c,d){var e=a.s.B?a.Ib.x-c.x-a.sa:c.x+a.Ib.x;c=c.y+a.Ib.y;return Math.max(0,Math.min(1,(Math.min(e+a.sa,d.rb+d.Va)-Math.max(e,d.rb))*(Math.min(c+a.Ma,d.Fb+d.$a)-Math.max(c,d.Fb))/(a.sa*a.Ma)))}function zb(a){var c=a.Ib.x;c=a.s.B?c-(a.Fg+a.sa):c+a.Fg;a.moveTo(c,a.Lh+a.Ib.y)}b.moveTo=function(a,c){this.Nd.setAttribute("transform","translate("+a+","+c+")")};b.Ei=function(){return{width:this.sa,height:this.Ma}};
b.Oh=function(a,c){var d=2*w.ja.Hc;a=Math.max(a,d+45);c=Math.max(c,d+20);this.sa=a;this.Ma=c;this.tl.setAttribute("width",a);this.tl.setAttribute("height",c);this.Zb&&(this.s.B?this.Zb.setAttribute("transform","translate("+2*w.ja.Hc+","+(c-d)+") scale(-1 1)"):this.Zb.setAttribute("transform","translate("+(a-d)+","+(c-d)+")"));if(this.jj){if(this.En){a=this.s.Ab();a.rb/=this.s.scale;a.Va/=this.s.scale;a.Fb/=this.s.scale;a.$a/=this.s.scale;c=-this.sa/4;if(!(this.sa>a.Va)){if(this.s.B){d=this.Ib.x-c;
var e=d-this.sa;var f=a.rb+a.Va,h=a.rb+w.ya.Mb/this.s.scale}else e=c+this.Ib.x,d=e+this.sa,h=a.rb,f=a.rb+a.Va-w.ya.Mb/this.s.scale;this.s.B?e<h?c=-(h-this.Ib.x+this.sa):d>f&&(c=-(f-this.Ib.x)):e<h?c=h-this.Ib.x:d>f&&(c=f-this.Ib.x-this.sa)}e=c;c=-this.Ma/4;if(!(this.Ma>a.$a)){d=this.Ib.y+c;f=d+this.Ma;h=a.Fb;var k=a.Fb+a.$a-w.ya.Mb/this.s.scale,l=this.Ib.y;d<h?c=h-l:f>k&&(c=k-l-this.Ma)}h=c;f=this.gy.getBBox();c={x:e,y:-this.Ma-w.m.gl};d={x:-this.sa-30,y:h};h={x:f.width,y:h};k={x:e,y:f.height};e=
f.width<f.height?h:k;f=f.width<f.height?k:h;h=Fb(this,c,a);k=Fb(this,d,a);l=Fb(this,e,a);a=Math.max(h,k,l,Fb(this,f,a));h==a?(this.Fg=c.x,this.Lh=c.y):k==a?(this.Fg=d.x,this.Lh=d.y):l==a?(this.Fg=e.x,this.Lh=e.y):(this.Fg=f.x,this.Lh=f.y)}zb(this);Ab(this)}this.Js&&this.Js()};
function Ab(a){var c=[],d=a.sa/2,e=a.Ma/2,f=-a.Fg,h=-a.Lh;if(d==f&&e==h)c.push("M "+d+","+e);else{h-=e;f-=d;a.s.B&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),r=a.Ei();m=(r.width+r.height)/w.ja.Ty;m=Math.min(m,r.width,r.height)/4;r=1-w.ja.Ry/k;f=d+r*f;h=e+r*h;r=d+m*q;var t=e+m*n;d-=m*q;e-=m*n;n=l+a.TA;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/w.ja.ut;k=Math.cos(n)*k/w.ja.ut;c.push("M"+r+","+
t);c.push("C"+(r+k)+","+(t+l)+" "+f+","+h+" "+f+","+h);c.push("C"+f+","+h+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.zq.setAttribute("d",c.join(" "))}b.sd=function(a){this.tl.setAttribute("fill",a);this.zq.setAttribute("fill",a)};b.J=function(){w.ja.Tk();w.g.o.removeNode(this.Nd);this.gy=this.dc=this.s=this.Zb=this.tl=this.zq=this.Nd=null};b.Zo=function(a,c){a?a.Lg(c.x,c.y):this.moveTo(c.x,c.y);this.Fg=this.s.B?this.Ib.x-c.x-this.sa:c.x-this.Ib.x;this.Lh=c.y-this.Ib.y;Ab(this)};
b.Ba=function(){return new w.g.R(this.Ib.x+this.Fg,this.Ib.y+this.Lh)};b.Wx=function(a){this.En=a};w.i.ac=function(a,c,d,e){w.i.ac.w.constructor.call(this);this.sc=a?a.id:null;this.Qb=a?a.A.id:null;this.element=c;this.oldValue=d;this.newValue=e;this.Cc=!1};v(w.i.ac,w.i.Abstract);w.i.ac.prototype.type=w.i.nl;w.i.ac.prototype.Ra=function(){var a=w.i.ac.w.Ra.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.sc&&(a.blockId=this.sc);return a};w.i.ac.prototype.na=function(a){w.i.ac.w.na.call(this,a);this.element=a.element;this.newValue=a.newValue;this.sc=a.blockId};w.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};w.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};w.ha=function(a,c,d,e,f){this.C=w.g.o.H("g",{"class":"blocklyComment"},null);this.C.Mg="";this.Mm=w.g.o.H("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:w.ha.$m,ry:w.ha.$m});this.C.appendChild(this.Mm);this.jj=!1;this.Zf=w.g.xh()&&!!a.Jb;w.ha.w.constructor.call(this,a,c,d,e,f);this.oa()};v(w.ha,w.je);w.ha.Kt=100;b=w.ha.prototype;
b.J=function(){if(this.A){if(w.selected==this){this.Og();var a=this.A;a.Lb&&a.Lb.cancel()}w.i.isEnabled()&&w.i.ka(new w.i.Be(this));w.g.o.removeNode(this.C);this.qj=this.Uh=this.Od=this.Eb=this.Mm=this.C=null;this.qg=!0;w.i.disable();w.ha.w.J.call(this);w.i.enable()}};b.zg=function(){if(!this.A.ea)throw TypeError("Workspace is headless.");this.A.options.readOnly||this.fr||(w.ba(this.Uh,"mousedown",this,this.Cx),w.ba(this.qj,"mousedown",this,this.Cx));this.fr=!0;Gb(this);this.Y().parentNode||this.A.$d.appendChild(this.Y())};
b.Cx=function(a){var c=this.A.Hf(a);c&&Cb(c,a,this)};b.Mk=function(a){if(!this.A.options.readOnly){var c=[];this.Ac()&&this.hc()&&(c.push(w.wa.sB(this)),c.push(w.wa.rB(this)));w.wa.show(a,c,this.B)}};b.select=function(){if(w.selected!=this){var a=null;if(w.selected){a=w.selected.id;w.i.disable();try{w.selected.Og()}finally{w.i.enable()}}a=new w.i.ac(null,"selected",a,this.id);a.Qb=this.A.id;w.i.ka(a);w.selected=this;this.Tj()}};
b.Og=function(){if(w.selected==this){var a=new w.i.ac(null,"selected",this.id,null);a.Qb=this.A.id;w.i.ka(a);w.selected=null;this.hj();Hb(this)}};b.Tj=function(){w.g.o.bb(this.C,"blocklySelected");this.Zs()};b.hj=function(){w.g.o.Cb(this.C,"blocklySelected");Hb(this)};
b.Ba=function(){var a=0,c=0,d=this.Zf?this.A.Jb.Vb():null,e=this.Y();if(e){do{var f=w.g.Qd(e);a+=f.x;c+=f.y;this.Zf&&this.A.Jb.ne.firstChild==e&&(f=this.A.Jb.yo(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.A.$d&&e!=d)}return this.ze=new w.g.R(a,c)};b.moveBy=function(a,c){var d=new w.i.bg(this),e=this.Ba();this.translate(e.x+a,e.y+c);this.ze=new w.g.R(e.x+a,e.y+c);d.Eg();w.i.ka(d);La(this.A)};
b.translate=function(a,c){this.ze=new w.g.R(a,c);this.Y().setAttribute("transform","translate("+a+","+c+")")};b.$o=function(){if(this.Zf){var a=this.Ba();this.Y().removeAttribute("transform");this.A.Jb.Lg(a.x,a.y);Ib(this.A.Jb,this.Y())}};b.kx=function(a){this.Zf&&(this.translate(a.x,a.y),this.A.Jb.vl(this.A.Ya))};b.Zo=function(a,c){a?a.Lg(c.x,c.y):(this.C.Mg="translate("+c.x+","+c.y+")",this.C.setAttribute("transform",this.C.Mg+this.C.nj))};b.moveTo=function(a,c){this.translate(a,c)};
b.lo=function(){var a=this.Ba(),c=this.zb(),d=a.y,e=a.y+c.height;if(this.B){var f=a.x-c.width;a=a.x}else f=a.x,a=a.x+c.width;return new w.g.Rect(d,e,f,a)};function Gb(a){a.hc()?w.g.o.bb(a.C,"blocklyDraggable"):w.g.o.Cb(a.C,"blocklyDraggable")}b.lj=function(a){w.ha.w.lj.call(this,a);Gb(this)};b.Qh=function(a){a?(a=this.Y(),a.Mg="",a.nj="",w.g.o.bb(this.C,"blocklyDragging")):w.g.o.Cb(this.C,"blocklyDragging")};b.Y=function(){return this.C};b.oh=function(){return this.Eb?this.Eb.value:this.dc};
b.Sf=function(a){w.ha.w.Sf.call(this,a);this.Eb&&(this.Eb.value=a)};b.Am=function(a){a?w.g.o.bb(this.C,"blocklyDraggingDelete"):w.g.o.Cb(this.C,"blocklyDraggingDelete")};b.Wx=function(){};w.ha.Di=function(a,c,d){w.i.disable();try{var e=w.je.Ax(a),f=new w.ha(c,e.content,e.yw,e.Jy,e.id);c.ea&&(f.zg(),f.oa(!1));if(!isNaN(e.x)&&!isNaN(e.y))if(c.B){var h=d||c.Uc();f.moveBy(h-e.x,e.y)}else f.moveBy(e.x,e.y)}finally{w.i.enable()}w.je.ir(f);return f};
w.ha.prototype.Qm=function(a){var c;this.A.B&&(c=this.A.Uc());a=this.Pm(a);var d=this.Ba();a.setAttribute("x",Math.round(this.A.B?c-d.x:d.x));a.setAttribute("y",Math.round(d.y));a.setAttribute("h",this.gk());a.setAttribute("w",this.Uc());return a};w.al=function(a,c){this.Ub=a;this.s=c;this.zi=null;this.zp=!1;this.Xf=this.Ub.Ba();this.Bi=w.g.xh()&&c.Jb?c.Jb:null};w.al.prototype.J=function(){this.Bi=this.s=this.Ub=null};function Jb(a,c,d){d=a.Ek(d);d=w.g.R.sum(a.Xf,d);a.Ub.Zo(a.Bi,d);a.Ub.Ac()&&(a.zi=jb(a.s,c),a.zp=a.zi!=w.Lt,c=a.s.Ec,a.zp?(a.Ub.Am(!0),a.zi==w.Kp&&c&&kb(c,!0)):(a.Ub.Am(!1),c&&kb(c,!1)))}
function Kb(a,c,d){Jb(a,c,d);c=a.Ek(d);c=w.g.R.sum(a.Xf,c);a.Ub.moveTo(c.x,c.y);c=a.s.Ec;a.zp?(c&&setTimeout(c.close.bind(c),100),a.Kl(),a.Ub.J(!1,!0)):c&&c.close();a.zp||(a.Bi&&a.Bi.vl(a.s.$d),a.Ub.Qh&&a.Ub.Qh(!1),a.Kl());a.s.mc(!0);a.s.fa&&w.g.o.Cb(a.s.fa.ed,a.Ub.Ac()?"blocklyToolboxDelete":"blocklyToolboxGrab");w.i.ca(!1)}w.al.prototype.Kl=function(){if(this.Ub.Wr){var a=new w.i.bg(this.Ub);a.os=this.Xf;a.Eg();w.i.ka(a)}};
w.al.prototype.Ek=function(a){a=new w.g.R(a.x/this.s.scale,a.y/this.s.scale);this.s.Si&&a.scale(1/this.s.options.Yc.scale);return a};w.al.prototype.$o=function(){this.Ub.moveTo(0,0);this.Bi.Lg(this.Xf.x,this.Xf.y);Ib(this.Bi,this.Ub.Y())};w.v={};w.Wt=40;w.mu=125;w.fz=5;w.rz=10;w.Lc=28;w.Ht=w.Lc;w.cz=8;w.Iz="#000000";w.bn=250;w.Ep=10;w.$y=30;w.Mz=750;w.kA=100;w.gz=!0;w.zz=.45;w.Az=.65;w.gd={width:96,height:124,url:"sprites.png"};w.La=1;w.ce=2;w.ua=3;w.de=4;w.Fe=5;w.Aj=-1;w.Xk=0;w.Yk=1;w.lF=0;w.mF=1;w.jF=1;w.kF=2;w.Lj=[];w.Lj[w.La]=w.ce;w.Lj[w.ce]=w.La;w.Lj[w.ua]=w.de;w.Lj[w.de]=w.ua;w.hd=0;w.ah=1;w.wd=2;w.gg=3;w.Lt=null;w.Kp=1;w.Mt=2;w.Eu="VARIABLE";w.DA="VARIABLE_DYNAMIC";w.nu="PROCEDURE";w.vu="RENAME_VARIABLE_ID";w.Nt="DELETE_VARIABLE_ID";w.pl=function(a){this.s=a;this.oy=new w.g.R(a.scrollX,a.scrollY)};w.pl.prototype.J=function(){this.s=null};w.pl.prototype.sp=function(){w.selected&&w.selected.Og();Lb(this.s)};w.pl.prototype.mh=function(a){a=w.g.R.sum(this.oy,a);this.s.scroll(a.x,a.y)};w.on=function(a){w.on.w.constructor.call(this,a.qh());this.Nb=a.Nb;this.Ue=a.Ue};v(w.on,w.pl);w.on.prototype.mh=function(a){a=w.g.R.sum(this.oy,a);this.Ue?this.Nb.set(-a.x):this.Nb.set(-a.y)};w.K={};w.K.visible=!1;w.K.Wj=!1;w.K.Lz=50;w.K.jx=0;w.K.Em=0;w.K.cs=0;w.K.ds=0;w.K.ma=null;w.K.gp=null;w.K.cu=0;w.K.du=10;w.K.eA=10;w.K.yz=750;w.K.Vp=5;w.K.ta=null;w.K.ia=function(){w.K.ta||(w.K.ta=document.createElement("div"),w.K.ta.className="blocklyTooltipDiv",document.body.appendChild(w.K.ta))};w.K.Vj=function(a){w.rc(a,"mouseover",null,w.K.$D);w.rc(a,"mouseout",null,w.K.ZD);a.addEventListener("mousemove",w.K.YD,!1)};
w.K.$D=function(a){if(!w.K.Wj){for(a=a.currentTarget;"string"!=typeof a.ef&&"function"!=typeof a.ef;)a=a.ef;w.K.ma!=a&&(w.K.Ca(),w.K.gp=null,w.K.ma=a);clearTimeout(w.K.jx)}};w.K.ZD=function(){w.K.Wj||(w.K.jx=setTimeout(function(){w.K.ma=null;w.K.gp=null;w.K.Ca()},1),clearTimeout(w.K.Em))};
w.K.YD=function(a){if(w.K.ma&&w.K.ma.ef&&!w.K.Wj)if(w.K.visible){var c=w.K.cs-a.pageX;a=w.K.ds-a.pageY;Math.sqrt(c*c+a*a)>w.K.eA&&w.K.Ca()}else w.K.gp!=w.K.ma&&(clearTimeout(w.K.Em),w.K.cs=a.pageX,w.K.ds=a.pageY,w.K.Em=setTimeout(w.K.BE,w.K.yz))};w.K.Ca=function(){w.K.visible&&(w.K.visible=!1,w.K.ta&&(w.K.ta.style.display="none"));w.K.Em&&clearTimeout(w.K.Em)};w.K.block=function(){w.K.Ca();w.K.Wj=!0};w.K.XE=function(){w.K.Wj=!1};
w.K.BE=function(){if(!w.K.Wj&&(w.K.gp=w.K.ma,w.K.ta)){w.K.ta.innerHTML="";for(var a=w.K.ma.ef;"function"==typeof a;)a=a();a=w.g.Ua.Ny(a,w.K.Lz);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));w.K.ta.appendChild(d)}a=w.K.ma.B;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;w.K.ta.style.direction=a?"rtl":"ltr";w.K.ta.style.display="block";w.K.visible=!0;var e=w.K.cs;e=a?e-(w.K.cu+w.K.ta.offsetWidth):
e+w.K.cu;var f=w.K.ds+w.K.du;f+w.K.ta.offsetHeight>d+window.scrollY&&(f-=w.K.ta.offsetHeight+2*w.K.du);a?e=Math.max(w.K.Vp-window.scrollX,e):e+w.K.ta.offsetWidth>c+window.scrollX-2*w.K.Vp&&(e=c-w.K.ta.offsetWidth-2*w.K.Vp);w.K.ta.style.top=f+"px";w.K.ta.style.left=e+"px"}};w.Fj=function(a,c){this.$b=this.nc=this.oj=this.pj=this.Xd=this.nd=this.ix=null;this.vv=c;this.dm=this.Ri=this.em=this.Ii=!1;this.Xe=a;this.N=this.Xh=this.Me=this.jg=this.Ck=this.ep=null;this.Mo=this.Ji=this.Xu=!1;this.Gw=!w.gz};b=w.Fj.prototype;b.J=function(){w.Touch.ng();w.K.XE();this.vv.Lb=null;this.ep&&w.cb(this.ep);this.Ck&&w.cb(this.Ck);this.N=this.$b=this.nc=this.oj=this.pj=null;this.Me&&(this.Me.J(),this.Me=null);this.Xh&&(this.Xh.J(),this.Xh=null);this.jg&&(this.jg.J(),this.jg=null)};
function Mb(a,c){a.nd=w.g.R.Gl(new w.g.R(c.clientX,c.clientY),a.ix);if(a.Ii)var d=!1;else a.Ii=w.g.R.uD(a.nd)>(a.N?w.rz:w.fz),d=a.Ii;if(d){if(a.Xu)throw Error("updateIsDragging_ should only be called once per gesture.");a.Xu=!0;if(a.Xd){a.dm=!0;a.jg=new w.al(a.Xd,a.$b);d=a.jg;w.i.Vb()||w.i.ca(!0);d.s.mc(!1);d.Ub.Wx(!1);d.Bi&&d.$o();d.Ub.Qh&&d.Ub.Qh(!0);var e=d.s.fa;e&&w.g.o.bb(e.ed,d.Ub.Ac()?"blocklyToolboxDelete":"blocklyToolboxGrab");Jb(a.jg,a.Xe,a.nd);d=!0}else d=!1;if(!d){if(a.nc)if(a.N?(a.N.Pw(a.nc)?
!Nb(a.N)||a.N.Qw(a.nd)?(a.$b=a.N.Ea,Ob(a.$b),w.i.Vb()||w.i.ca(!0),a.oj=null,a.nc=Pb(a.N,a.nc),a.nc.select(),d=!0):d=!1:d=!1,a.Ri=d):a.nc.hc()&&(a.Ri=!0),a.Ri){a.Me=new w.Yh(a.nc,a.$b);d=a.Me;e=a.nd;var f=a.Gw;w.i.Vb()||w.i.ca(!0);d.s.Si&&mb(d.lb);w.O.Gm();d.s.mc(!1);w.ab.Xq();if(d.lb.getParent()||f&&d.lb.$&&A(d.lb.$))Ea(d.lb,f),e=d.Ek(e),e=w.g.R.sum(d.Xf,e),d.lb.translate(e.x,e.y),w.ab.VB(d.lb);d.lb.Qh(!0);d.lb.$o();(e=d.s.fa)&&w.g.o.bb(e.ed,d.lb.Ac()?"blocklyToolboxDelete":"blocklyToolboxGrab");
hb(a.Me,a.Xe,a.nd);d=!0}else d=!1;else d=!1;if(d=!d)if(a.N)d=Nb(a.N);else if(d=a.$b)d=a.$b,d=d.options.jc&&d.options.jc.mh;d&&(a.Xh=a.N?new w.on(a.N):new w.pl(a.$b),a.em=!0,a.Xh.sp())}w.Dh()}a.Xe=c}
b.Yq=function(a){w.g.Po(a)?this.cancel():(this.Ji=!0,w.ab.Xq(),Ob(this.$b),this.$b.Si&&this.$b.resize(),Qb(this.$b),this.Xe=a,w.gc(!!this.N),w.K.block(),this.nc&&(this.nc.select(),!this.nc.od&&a.shiftKey&&w.u.io()),w.g.Ah(a)?ob(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||w.tD(a,this),this.ix=new w.g.R(a.clientX,a.clientY),this.Gw=a.altKey||a.ctrlKey||a.metaKey,this.Vj(a)))};
b.Vj=function(a){this.ep=w.ba(document,"mousemove",null,this.Vl.bind(this));this.Ck=w.ba(document,"mouseup",null,this.Co.bind(this));a.preventDefault();a.stopPropagation()};b.Vl=function(a){Mb(this,a);this.em?this.Xh.mh(this.nd):this.Ri?hb(this.Me,this.Xe,this.nd):this.dm&&Jb(this.jg,this.Xe,this.nd);a.preventDefault();a.stopPropagation()};
b.Co=function(a){Mb(this,a);w.Dh();if(this.Mo)console.log("Trying to end a gesture recursively.");else{this.Mo=!0;if(this.dm)Kb(this.jg,a,this.nd);else if(this.Ri)lb(this.Me,a,this.nd);else if(this.em){var c=this.Xh;c.mh(this.nd);Rb(c.s)}else if(this.Xd&&!this.Ii)this.Xd.Zs&&this.Xd.Zs(),this.Xd.select&&this.Xd.select();else if(Sb(this))this.pj.cf(),Tb(this);else if(this.oj&&!this.Ii&&!Sb(this))this.N&&this.N.Uj?this.nc.isEnabled()&&(w.i.Vb()||w.i.ca(!0),nb(Pb(this.N,this.nc))):w.i.ka(new w.i.ac(this.oj,
"click",void 0,void 0)),Tb(this),w.i.ca(!1);else if(!(this.oj||this.Xd||this.pj||this.Ii))if(w.Ti=!1,c=this.vv,c.cursor.Ca(),a.shiftKey){var d=w.g.vE(c,new w.g.R(a.clientX,a.clientY));d=w.D.El(c,d);E(c.cursor,d);w.Ti=!0}else w.selected&&w.selected.Og();a.preventDefault();a.stopPropagation();this.J()}};b.cancel=function(){if(!this.Mo){w.Dh();if(this.dm)Kb(this.jg,this.Xe,this.nd);else if(this.Ri)lb(this.Me,this.Xe,this.nd);else if(this.em){var a=this.Xh;a.mh(this.nd);Rb(a.s)}this.J()}};
function ob(a,c){a.nc?(Tb(a),w.gc(a.N),a.nc.Mk(c)):a.Xd?a.Xd.Mk(c):a.$b&&!a.N&&(w.gc(),a.$b.Mk(c));c.preventDefault();c.stopPropagation();a.J()}function Ub(a,c,d){if(a.Ji)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.$b||(a.$b=d);a.Xe=c;a.Yq(c)}function Vb(a,c,d){if(a.Ji)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.N||(a.N=d);Ub(a,c,d.qh())}
function Cb(a,c,d){if(a.Ji)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");a.Xd||(a.Xd=d);a.Xe=c}function Tb(a){a.nc&&!a.N&&mb(a.nc)}function Wb(a,c){a.oj||a.Xd||(a.oj=c,c.od&&c!=Ta(c)?Xb(a,Ta(c)):Xb(a,c))}function Xb(a,c){c.Za?Xb(a,c.getParent()):a.nc=c}function Sb(a){if(a.pj){var c=a.pj;c=!!c.F&&c.F.Vc()&&!!c.cf&&"function"===typeof c.cf}else c=!1;return c&&!a.Ii&&(!a.N||!a.N.Uj)}b.Bc=function(){return this.em||this.Ri||this.dm};
b.hk=function(){return this.Me?this.Me.hk():[]};w.Fj.Pr=function(){for(var a=w.Pa.getAll(),c=0,d;d=a[c];c++)if(d.Lb)return!0;return!1};w.O=function(a,c){this.nb=new w.g.qf(0,0);this.setValue(a);c&&(this.xp=c)};w.O.Bu={};w.O.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'"');if(!c||"function"!=typeof c.na)throw Error('Field "'+c+'" must have a fromJson function');w.O.Bu[a]=c};w.O.na=function(a){var c=w.O.Bu[a.type];return c?(c=c.na(a),void 0!==a.tooltip&&(a=w.g.Yb(a.tooltip),c.xe(a)),c):null};w.O.ti=null;w.O.Aq=0;w.O.an=16;w.O.Au=12.5;w.O.ql=10;w.O.bi=w.O.ql/2;b=w.O.prototype;
b.name=void 0;b.bx=50;b.xa=null;b.va="";b.Ay=null;b.F=null;b.Ve=!0;b.Gb=!0;b.xp=null;b.In=null;w.O.$t="\u00a0";b=w.O.prototype;b.Tg=!0;b.fg=!1;b.ct=function(a){if(this.F)throw Error("Field already bound to a block.");this.F=a};b.Ja=function(){this.Pe||(this.Pe=w.g.o.H("g",{},null),this.isVisible()||(this.Pe.style.display="none"),this.F.Y().appendChild(this.Pe),this.Kf(),this.Pg(),this.xe(this.Ay),w.K.Vj(this.In||this.Y()),this.hx=w.ba(this.In||this.Y(),"mousedown",this,this.Gh),this.Oi())};
b.Kf=function(){Yb(this);Zb(this)};function Yb(a){a.nb.height=Math.max(a.nb.height,w.O.an);a.nb.width=Math.max(a.nb.width,w.O.ql);a.Md=w.g.o.H("rect",{rx:4,ry:4,x:0,y:0,height:a.nb.height,width:a.nb.width},a.Pe)}function Zb(a){a.Db=w.g.o.H("text",{"class":"blocklyText",y:w.O.Au,x:a.Md?w.O.bi:0},a.Pe);a.Nm=document.createTextNode("");a.Db.appendChild(a.Nm)}b.Oi=function(){};b.Di=function(a){this.setValue(a.textContent)};b.Pm=function(a){a.textContent=this.getValue();return a};
b.J=function(){w.G.Li(this);w.X.Li(this);this.hx&&w.cb(this.hx);w.g.o.removeNode(this.Pe)};b.Pg=function(){var a=this.In||this.Y();this.Tg&&a&&(this.F.Vc()?(w.g.o.bb(a,"blocklyEditableText"),w.g.o.Cb(a,"blocklyNonEditableText"),a.style.cursor=this.jn):(w.g.o.bb(a,"blocklyNonEditableText"),w.g.o.Cb(a,"blocklyEditableText"),a.style.cursor=""))};function $b(a){return a.Tg&&!!a.F&&a.F.Vc()}b.isVisible=function(){return this.Gb};
b.Da=function(a){if(this.Gb!=a){this.Gb=a;var c=this.Y();c&&(c.style.display=a?"block":"none")}};b.yr=function(){return this.xp};b.Y=function(){return this.Pe};b.ye=function(){};b.Rf=function(){this.Nm.nodeValue=ac(this);var a=w.O.no(this.Db);this.Md&&(a+=w.O.ql,this.Md.setAttribute("width",a));this.nb.width=a};
w.O.no=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(w.O.ti&&(d=w.O.ti[c]))return d;try{d=w.g.userAgent.Ug||w.g.userAgent.nn?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}w.O.ti&&(w.O.ti[c]=d);return d};w.O.Gm=function(){w.O.Aq++;w.O.ti||(w.O.ti={})};w.O.Im=function(){w.O.Aq--;w.O.Aq||(w.O.ti=null)};b=w.O.prototype;
b.wg=function(){if(!this.isVisible())return new w.g.qf(0,0);this.Ve?(this.Rf(),this.Ve=!1):this.Gb&&0==this.nb.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Rf());return this.nb};function bc(a){var c=a.Md.getBBox(),d=c.height*a.F.A.scale;c=c.width*a.F.A.scale;a=w.g.style.vC(a.Md);return{top:a.y,bottom:a.y+d,left:a.x,right:a.x+c}}
function ac(a){var c=a.va;if(!c)return w.O.$t;c.length>a.bx&&(c=c.substring(0,a.bx-2)+"\u2026");c=c.replace(/\s/g,w.O.$t);a.F.B&&(c+="\u200f");return c}b.fc=function(){return this.va};b.Uf=function(a){null!==a&&(a=String(a),a!==this.va&&(this.va=a,qb(this)))};function qb(a){a.Ve=!0;a.F&&a.F.ea&&(a.F.oa(),a.F.kd())}
b.setValue=function(a){if(null!==a){var c=this.Qc(a);a=cc(this,a,c);if(!(a instanceof Error)){if(c=this.yr())if(c=c.call(this,a),a=cc(this,a,c),a instanceof Error)return;c=this.getValue();c!==a&&(this.F&&w.i.isEnabled()&&w.i.ka(new w.i.jf(this.F,"field",this.name,c,a)),this.kh(a),this.Ve&&qb(this))}}};function cc(a,c,d){if(null===d)return a.Wv(),a.Ve&&qb(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.xa};b.Qc=function(a){return a};
b.kh=function(a){this.xa=a;this.Ve=!0;this.va=String(a)};b.Wv=function(){};b.Gh=function(a){if(this.F&&this.F.A&&(a=this.F.A.Hf(a))){if(a.Ji)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.pj||(a.pj=this)}};b.xe=function(a){var c=this.In||this.Y();c?c.ef=a||""===a?a:this.F:this.Ay=a};b.mp=function(){return!1};b.If=function(){for(var a=null,c=this.F,d=c.U,e=0;e<c.U.length;e++)for(var f=d[e],h=f.za,k=0;k<h.length;k++)if(h[k]===this){a=f;break}return a};w.g.Sk={};w.g.Sk.wg=function(a){a=a.S();var c=w.g.style.wg(a);c.height=a.scrollHeight;return c};w.g.Sk.Ou=function(a,c,d){c.left+=d.width;c.right+=d.width;a.left+=d.width;a.right+=d.width};function dc(a){if(Error.captureStackTrace)Error.captureStackTrace(this,dc);else{var c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a))}v(dc,Error);dc.prototype.name="CustomError";var ec;function fc(a,c){a=a.split("%s");for(var d="",e=a.length-1,f=0;f<e;f++)d+=a[f]+(f<c.length?c[f]:"%s");dc.call(this,d+a[e])}v(fc,dc);fc.prototype.name="AssertionError";var gc=Array.prototype.indexOf?function(a,c){return Array.prototype.indexOf.call(a,c,void 0)}:function(a,c){if("string"===typeof a)return"string"!==typeof c||1!=c.length?-1:a.indexOf(c,0);for(var d=0;d<a.length;d++)if(d in a&&a[d]===c)return d;return-1},hc=Array.prototype.forEach?function(a,c,d){Array.prototype.forEach.call(a,c,d)}:function(a,c,d){for(var e=a.length,f="string"===typeof a?a.split(""):a,h=0;h<e;h++)h in f&&c.call(d,f[h],h,a)},ic=Array.prototype.filter?function(a,c){return Array.prototype.filter.call(a,
c,void 0)}:function(a,c){for(var d=a.length,e=[],f=0,h="string"===typeof a?a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];c.call(void 0,l,k,a)&&(e[f++]=l)}return e},jc=Array.prototype.map?function(a,c){return Array.prototype.map.call(a,c,void 0)}:function(a,c){for(var d=a.length,e=Array(d),f="string"===typeof a?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=c.call(void 0,f[h],h,a));return e},kc=Array.prototype.every?function(a,c){return Array.prototype.every.call(a,c,void 0)}:function(a,c){for(var d=a.length,
e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!c.call(void 0,e[f],f,a))return!1;return!0};function lc(a,c){return 0<=gc(a,c)}function mc(a,c){c=gc(a,c);var d;(d=0<=c)&&Array.prototype.splice.call(a,c,1);return d}function nc(a){return Array.prototype.concat.apply([],arguments)}function oc(a){var c=a.length;if(0<c){for(var d=Array(c),e=0;e<c;e++)d[e]=a[e];return d}return[]}function pc(a,c,d,e){Array.prototype.splice.apply(a,qc(arguments,1))}
function qc(a,c,d){return 2>=arguments.length?Array.prototype.slice.call(a,c):Array.prototype.slice.call(a,c,d)};var rc=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};
function sc(a,c){if(c)a=a.replace(tc,"&amp;").replace(uc,"&lt;").replace(vc,"&gt;").replace(wc,"&quot;").replace(xc,"&#39;").replace(yc,"&#0;");else{if(!zc.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(tc,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(uc,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(vc,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wc,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(xc,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(yc,"&#0;"))}return a}
var tc=/&/g,uc=/</g,vc=/>/g,wc=/"/g,xc=/'/g,yc=/\x00/g,zc=/[\x00&<>"']/;function G(a,c){return-1!=a.indexOf(c)}function Ac(a,c){return a<c?-1:a>c?1:0};var H;a:{var Bc=g.navigator;if(Bc){var Cc=Bc.userAgent;if(Cc){H=Cc;break a}}H=""};function Dc(a,c,d){for(var e in a)c.call(d,a[e],e,a)}var Ec="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fc(a,c){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var h=0;h<Ec.length;h++)d=Ec[h],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}}
function Gc(a){var c=arguments.length;if(1==c&&u(arguments[0]))return Gc.apply(null,arguments[0]);for(var d={},e=0;e<c;e++)d[arguments[e]]=!0;return d};var Hc={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function Ic(a,c){this.qy=a===Jc&&c||"";this.sA=Kc}Ic.prototype.Jf=!0;Ic.prototype.qe=function(){return this.qy};function Lc(a){return a instanceof Ic&&a.constructor===Ic&&a.sA===Kc?a.qy:"type_error:Const"}var Kc={},Jc={};function Mc(){this.Gx=""}Mc.prototype.Jf=!0;Mc.prototype.qe=function(){return this.Gx.toString()};Mc.prototype.vh=function(a){this.Gx=a;return this};(new Mc).vh("");function Nc(a,c){this.Jx=a===Oc&&c||"";this.BA=Pc}Nc.prototype.Jf=!0;Nc.prototype.qe=function(){return this.Jx.toString()};Nc.prototype.Or=!0;Nc.prototype.Fi=function(){return 1};var Pc={},Oc={};function Qc(a,c){this.Ix=a===Rc&&c||"";this.iA=Sc}Qc.prototype.Jf=!0;Qc.prototype.qe=function(){return this.Ix.toString()};Qc.prototype.Or=!0;Qc.prototype.Fi=function(){return 1};function Tc(a){if(a instanceof Qc&&a.constructor===Qc&&a.iA===Sc)return a.Ix;oa(a);return"type_error:SafeUrl"}var Uc=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Vc(a){if(a instanceof Qc)return a;a="object"==typeof a&&a.Jf?a.qe():String(a);Uc.test(a)||(a="about:invalid#zClosurez");return new Qc(Rc,a)}
var Sc={},Rc={};function Wc(){this.Fs="";this.hA=Xc}Wc.prototype.Jf=!0;var Xc={};Wc.prototype.qe=function(){return this.Fs};Wc.prototype.vh=function(a){this.Fs=a;return this};var Yc=(new Wc).vh("");function Zc(a){var c="",d;for(d in a){if(!/^[-_a-zA-Z0-9]+$/.test(d))throw Error("Name allows only [-_a-zA-Z0-9], got: "+d);var e=a[d];null!=e&&(e=u(e)?jc(e,$c).join(" "):$c(e),c+=d+":"+e+";")}return c?(new Wc).vh(c):Yc}
function $c(a){if(a instanceof Qc)return'url("'+Tc(a).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(a instanceof Ic)a=Lc(a);else{a=String(a);var c=a.replace(ad,"$1").replace(ad,"$1").replace(bd,"url");if(cd.test(c)){if(c=!dd.test(a)){for(var d=c=!0,e=0;e<a.length;e++){var f=a.charAt(e);"'"==f&&d?c=!c:'"'==f&&c&&(d=!d)}c=c&&d&&ed(a)}a=c?fd(a):"zClosurez"}else a="zClosurez"}if(/[{;}]/.test(a))throw new fc("Value does not allow [{;}], got: %s.",[a]);return a}
function ed(a){for(var c=!0,d=/^[-_a-zA-Z0-9]$/,e=0;e<a.length;e++){var f=a.charAt(e);if("]"==f){if(c)return!1;c=!0}else if("["==f){if(!c)return!1;c=!1}else if(!c&&!d.test(f))return!1}return c}var cd=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,bd=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,ad=/\b(calc|cubic-bezier|fit-content|hsl|hsla|matrix|minmax|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,dd=/\/\*/;
function fd(a){return a.replace(bd,function(c,d,e,f){var h="";e=e.replace(/^(['"])(.*)\1$/,function(k,l,m){h=l;return m});c=Vc(e).qe();return d+h+c+h+f})};function gd(){this.Hx=""}gd.prototype.Jf=!0;gd.prototype.qe=function(){return this.Hx};gd.prototype.vh=function(a){this.Hx=a;return this};(new gd).vh("");function hd(){this.Es="";this.gA=id;this.Sv=null}hd.prototype.Or=!0;hd.prototype.Fi=function(){return this.Sv};hd.prototype.Jf=!0;hd.prototype.qe=function(){return this.Es.toString()};function jd(a){if(a instanceof hd&&a.constructor===hd&&a.gA===id)return a.Es;oa(a);return"type_error:SafeHtml"}function kd(a){if(a instanceof hd)return a;var c="object"==typeof a,d=null;c&&a.Or&&(d=a.Fi());return ld(sc(c&&a.Jf?a.qe():String(a)),d)}
var md=/^[a-zA-Z0-9-]+$/,nd={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},od={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
function pd(a,c,d){var e=String(a);if(!md.test(e))throw Error("");if(e.toUpperCase()in od)throw Error("");a=String(a);e=null;var f="<"+a,h="";if(c)for(m in c){if(!md.test(m))throw Error("");var k=c[m];if(null!=k){var l=m;if(k instanceof Ic)k=Lc(k);else if("style"==l.toLowerCase()){if(!ra(k))throw Error("");k instanceof Wc||(k=Zc(k));k instanceof Wc&&k.constructor===Wc&&k.hA===Xc?k=k.Fs:(oa(k),k="type_error:SafeStyle")}else{if(/^on/i.test(l))throw Error("");if(l.toLowerCase()in nd)if(k instanceof Nc)k instanceof
Nc&&k.constructor===Nc&&k.BA===Pc?k=k.Jx:(oa(k),k="type_error:TrustedResourceUrl"),k=k.toString();else if(k instanceof Qc)k=Tc(k);else if("string"===typeof k)k=Vc(k).qe();else throw Error("");}k.Jf&&(k=k.qe());l=l+'="'+sc(String(k))+'"';h+=" "+l}}var m=f+h;null==d?d=[]:u(d)||(d=[d]);!0===Hc[a.toLowerCase()]?m+=">":(d=qd(d),m+=">"+jd(d).toString()+"</"+a+">",e=d.Fi());(c=c&&c.dir)&&(e=/^(ltr|rtl|auto)$/i.test(c)?0:null);return ld(m,e)}
function rd(a){function c(h){u(h)?hc(h,c):(h=kd(h),f.push(jd(h).toString()),h=h.Fi(),0==e?e=h:0!=h&&e!=h&&(e=null))}var d=kd(sd),e=d.Fi(),f=[];hc(a,c);return ld(f.join(jd(d).toString()),e)}function qd(a){return rd(Array.prototype.slice.call(arguments))}var id={};function ld(a,c){return(new hd).vh(a,c)}hd.prototype.vh=function(a,c){this.Es=a;this.Sv=c;return this};ld("<!DOCTYPE html>",0);var sd=ld("",0),td=ld("<br>",0);var ud=function(a){var c=!1,d;return function(){c||(d=a(),c=!0);return d}}(function(){var a=document.createElement("div"),c=document.createElement("div");c.appendChild(document.createElement("div"));a.appendChild(c);c=a.firstChild.firstChild;a.innerHTML=jd(sd);return!c.parentElement});function vd(a,c){if(ud())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=jd(c)}function wd(a,c){vd(a,c)};function xd(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function yd(a){return a=sc(a,void 0)}function zd(a){var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var d=g.document.createElement("div");return a.replace(Ad,function(e,f){var h=c[e];if(h)return h;"#"==f.charAt(0)&&(f=Number("0"+f.substr(1)),isNaN(f)||(h=String.fromCharCode(f)));h||(h=ld(e+" ",null),vd(d,h),h=d.firstChild.nodeValue.slice(0,-1));return c[e]=h})}
function Bd(a){return a.replace(/&([^;]+);/g,function(c,d){switch(d){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=d.charAt(0)||(d=Number("0"+d.substr(1)),isNaN(d))?c:String.fromCharCode(d)}})}var Ad=/&([^;\s<&]+);?/g;function Cd(a){Cd[" "](a);return a}Cd[" "]=ma;function Dd(a,c){var d=Ed;return Object.prototype.hasOwnProperty.call(d,a)?d[a]:d[a]=c(a)};var Fd=G(H,"Opera"),J=G(H,"Trident")||G(H,"MSIE"),Gd=G(H,"Edge"),K=G(H,"Gecko")&&!(G(H.toLowerCase(),"webkit")&&!G(H,"Edge"))&&!(G(H,"Trident")||G(H,"MSIE"))&&!G(H,"Edge"),L=G(H.toLowerCase(),"webkit")&&!G(H,"Edge"),Hd=G(H,"Macintosh");function Id(){var a=g.document;return a?a.documentMode:void 0}var Jd;
a:{var Kd="",Ld=function(){var a=H;if(K)return/rv:([^\);]+)(\)|;)/.exec(a);if(Gd)return/Edge\/([\d\.]+)/.exec(a);if(J)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(L)return/WebKit\/(\S+)/.exec(a);if(Fd)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Ld&&(Kd=Ld?Ld[1]:"");if(J){var Md=Id();if(null!=Md&&Md>parseFloat(Kd)){Jd=String(Md);break a}}Jd=Kd}var Ed={};
function Nd(a){return Dd(a,function(){for(var c=0,d=rc(String(Jd)).split("."),e=rc(String(a)).split("."),f=Math.max(d.length,e.length),h=0;0==c&&h<f;h++){var k=d[h]||"",l=e[h]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;c=Ac(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||Ac(0==k[2].length,0==l[2].length)||Ac(k[2],l[2]);k=k[3];l=l[3]}while(0==c)}return 0<=c})}var Od;
Od=g.document&&J?Id():void 0;var Pd=!J||9<=Number(Od),Qd=!J||9<=Number(Od),Rd=J&&!Nd("9"),Sd="PointerEvent"in g,Td="MSPointerEvent"in g&&!(!g.navigator||!g.navigator.msPointerEnabled),Ud=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{g.addEventListener("test",ma,c),g.removeEventListener("test",ma,c)}catch(d){}return a}();function Vd(){0!=Wd&&(Xd[sa(this)]=this);this.qg=this.qg;this.Dg=this.Dg}var Wd=0,Xd={};Vd.prototype.qg=!1;Vd.prototype.J=function(){if(!this.qg&&(this.qg=!0,this.Tb(),0!=Wd)){var a=sa(this);if(0!=Wd&&this.Dg&&0<this.Dg.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Xd[a]}};function Yd(a,c){a.qg?c():(a.Dg||(a.Dg=[]),a.Dg.push(c))}Vd.prototype.Tb=function(){if(this.Dg)for(;this.Dg.length;)this.Dg.shift()()};
function Zd(a){a&&"function"==typeof a.J&&a.J()};function $d(a,c){this.type=a;this.currentTarget=this.target=c;this.defaultPrevented=this.fj=!1;this.Sx=!0}$d.prototype.stopPropagation=function(){this.fj=!0};$d.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Sx=!1};var ae={hi:Sd?"pointerdown":Td?"MSPointerDown":"mousedown",ii:Sd?"pointerup":Td?"MSPointerUp":"mouseup",Ij:Sd?"pointercancel":Td?"MSPointerCancel":"mousecancel",Uz:Sd?"pointermove":Td?"MSPointerMove":"mousemove",Wz:Sd?"pointerover":Td?"MSPointerOver":"mouseover",Vz:Sd?"pointerout":Td?"MSPointerOut":"mouseout",Sz:Sd?"pointerenter":Td?"MSPointerEnter":"mouseenter",Tz:Sd?"pointerleave":Td?"MSPointerLeave":"mouseleave"},be={hi:"mousedown",ii:"mouseup",Ij:"mousecancel",Uz:"mousemove",Wz:"mouseover",Vz:"mouseout",
Sz:"mouseenter",Tz:"mouseleave"};function ce(a,c){$d.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.As=!1;this.pointerId=0;this.pointerType="";this.Cf=null;a&&this.Ja(a,c)}v(ce,$d);var de=[1,4,2],ee={2:"touch",3:"pen",4:"mouse"};
ce.prototype.Ja=function(a,c){var d=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=c;if(c=a.relatedTarget){if(K){a:{try{Cd(c.nodeName);var f=!0;break a}catch(h){}f=!1}f||(c=null)}}else"mouseover"==d?c=a.fromElement:"mouseout"==d&&(c=a.toElement);this.relatedTarget=c;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=
e.screenY||0):(this.offsetX=L||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=L||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==d?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.As=Hd?a.metaKey:
a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:ee[a.pointerType]||"";this.state=a.state;this.Cf=a;a.defaultPrevented&&this.preventDefault()};function fe(a){return Pd?0==a.Cf.button:"click"==a.type?!0:!!(a.Cf.button&de[0])}ce.prototype.stopPropagation=function(){ce.w.stopPropagation.call(this);this.Cf.stopPropagation?this.Cf.stopPropagation():this.Cf.cancelBubble=!0};
ce.prototype.preventDefault=function(){ce.w.preventDefault.call(this);var a=this.Cf;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Rd)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(c){}};var ge="closure_listenable_"+(1E6*Math.random()|0);function he(a){return!(!a||!a[ge])}var ie=0;function je(a,c,d,e,f){this.listener=a;this.proxy=null;this.src=c;this.type=d;this.capture=!!e;this.Do=f;this.key=++ie;this.Gk=this.Fn=!1}function ke(a){a.Gk=!0;a.listener=null;a.proxy=null;a.src=null;a.Do=null};function le(a){this.src=a;this.pd={};this.Tm=0}le.prototype.add=function(a,c,d,e,f){var h=a.toString();a=this.pd[h];a||(a=this.pd[h]=[],this.Tm++);var k=me(a,c,e,f);-1<k?(c=a[k],d||(c.Fn=!1)):(c=new je(c,this.src,h,!!e,f),c.Fn=d,a.push(c));return c};le.prototype.remove=function(a,c,d,e){a=a.toString();if(!(a in this.pd))return!1;var f=this.pd[a];c=me(f,c,d,e);return-1<c?(ke(f[c]),Array.prototype.splice.call(f,c,1),0==f.length&&(delete this.pd[a],this.Tm--),!0):!1};
function ne(a,c){var d=c.type;d in a.pd&&mc(a.pd[d],c)&&(ke(c),0==a.pd[d].length&&(delete a.pd[d],a.Tm--))}le.prototype.removeAll=function(a){a=a&&a.toString();var c=0,d;for(d in this.pd)if(!a||d==a){for(var e=this.pd[d],f=0;f<e.length;f++)++c,ke(e[f]);delete this.pd[d];this.Tm--}return c};le.prototype.Ol=function(a,c,d,e){a=this.pd[a.toString()];var f=-1;a&&(f=me(a,c,d,e));return-1<f?a[f]:null};
function me(a,c,d,e){for(var f=0;f<a.length;++f){var h=a[f];if(!h.Gk&&h.listener==c&&h.capture==!!d&&h.Do==e)return f}return-1};var oe="closure_lm_"+(1E6*Math.random()|0),pe={},qe=0;function re(a,c,d,e,f){if(e&&e.once)return se(a,c,d,e,f);if(u(c)){for(var h=0;h<c.length;h++)re(a,c[h],d,e,f);return null}d=te(d);return he(a)?a.Na(c,d,ra(e)?!!e.capture:!!e,f):ue(a,c,d,!1,e,f)}
function ue(a,c,d,e,f,h){if(!c)throw Error("Invalid event type");var k=ra(f)?!!f.capture:!!f,l=ve(a);l||(a[oe]=l=new le(a));d=l.add(c,d,e,k,h);if(d.proxy)return d;e=we();d.proxy=e;e.src=a;e.listener=d;if(a.addEventListener)Ud||(f=k),void 0===f&&(f=!1),a.addEventListener(c.toString(),e,f);else if(a.attachEvent)a.attachEvent(xe(c.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");qe++;return d}
function we(){var a=ye,c=Qd?function(d){return a.call(c.src,c.listener,d)}:function(d){d=a.call(c.src,c.listener,d);if(!d)return d};return c}function se(a,c,d,e,f){if(u(c)){for(var h=0;h<c.length;h++)se(a,c[h],d,e,f);return null}d=te(d);return he(a)?a.$w(c,d,ra(e)?!!e.capture:!!e,f):ue(a,c,d,!0,e,f)}function ze(a,c,d,e,f){if(u(c))for(var h=0;h<c.length;h++)ze(a,c[h],d,e,f);else e=ra(e)?!!e.capture:!!e,d=te(d),he(a)?a.ae(c,d,e,f):a&&(a=ve(a))&&(c=a.Ol(c,d,e,f))&&Ae(c)}
function Ae(a){if("number"!==typeof a&&a&&!a.Gk){var c=a.src;if(he(c))ne(c.sg,a);else{var d=a.type,e=a.proxy;c.removeEventListener?c.removeEventListener(d,e,a.capture):c.detachEvent?c.detachEvent(xe(d),e):c.addListener&&c.removeListener&&c.removeListener(e);qe--;(d=ve(c))?(ne(d,a),0==d.Tm&&(d.src=null,c[oe]=null)):ke(a)}}}function xe(a){return a in pe?pe[a]:pe[a]="on"+a}
function Be(a,c,d,e){var f=!0;if(a=ve(a))if(c=a.pd[c.toString()])for(c=c.concat(),a=0;a<c.length;a++){var h=c[a];h&&h.capture==d&&!h.Gk&&(h=Ce(h,e),f=f&&!1!==h)}return f}function Ce(a,c){var d=a.listener,e=a.Do||a.src;a.Fn&&Ae(a);return d.call(e,c)}
function ye(a,c){if(a.Gk)return!0;if(!Qd){if(!c)a:{c=["window","event"];for(var d=g,e=0;e<c.length;e++)if(d=d[c[e]],null==d){c=null;break a}c=d}e=c;c=new ce(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);a=a.type;for(f=e.length-1;!c.fj&&0<=f;f--){c.currentTarget=e[f];var h=Be(e[f],a,!0,c);d=d&&h}for(f=0;!c.fj&&f<e.length;f++)c.currentTarget=
e[f],h=Be(e[f],a,!1,c),d=d&&h}return d}return Ce(a,new ce(c,this))}function ve(a){a=a[oe];return a instanceof le?a:null}var De="__closure_events_fn_"+(1E9*Math.random()>>>0);function te(a){if(qa(a))return a;a[De]||(a[De]=function(c){return a.handleEvent(c)});return a[De]};function Ee(a,c){this.x=void 0!==a?a:0;this.y=void 0!==c?c:0}b=Ee.prototype;b.clone=function(){return new Ee(this.x,this.y)};b.Oe=function(a){return a instanceof Ee&&Fe(this,a)};function Fe(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1}b.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};b.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};b.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
b.translate=function(a,c){a instanceof Ee?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),"number"===typeof c&&(this.y+=c));return this};b.scale=function(a,c){this.x*=a;this.y*="number"===typeof c?c:a;return this};var Ge=!J||9<=Number(Od),He=!K&&!J||J&&9<=Number(Od)||K&&Nd("1.9.1"),Ie=J&&!Nd("9");function Je(a,c){this.width=a;this.height=c}b=Je.prototype;b.clone=function(){return new Je(this.width,this.height)};b.aspectRatio=function(){return this.width/this.height};b.Rw=function(){return!(this.width*this.height)};b.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};b.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
b.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};b.scale=function(a,c){this.width*=a;this.height*="number"===typeof c?c:a;return this};function Ke(a){return a?new Le(Me(a)):ec||(ec=new Le)}function Ne(a,c){Dc(c,function(d,e){d&&"object"==typeof d&&d.Jf&&(d=d.qe());"style"==e?a.style.cssText=d:"class"==e?a.className=d:"for"==e?a.htmlFor=d:Oe.hasOwnProperty(e)?a.setAttribute(Oe[e],d):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,d):a[e]=d})}
var Oe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Pe(a){return a.scrollingElement?a.scrollingElement:L||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}
function Qe(a,c,d,e){function f(k){k&&c.appendChild("string"===typeof k?a.createTextNode(k):k)}for(;e<d.length;e++){var h=d[e];!pa(h)||ra(h)&&0<h.nodeType?f(h):hc(Re(h)?oc(h):h,f)}}function Se(a,c){c=String(c);"application/xhtml+xml"===a.contentType&&(c=c.toLowerCase());return a.createElement(c)}function Te(a){for(var c;c=a.firstChild;)a.removeChild(c)}function Ue(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function Ve(a,c){if(!a||!c)return!1;if(a.contains&&1==c.nodeType)return a==c||a.contains(c);if("undefined"!=typeof a.compareDocumentPosition)return a==c||!!(a.compareDocumentPosition(c)&16);for(;c&&a!=c;)c=c.parentNode;return c==a}function Me(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function We(a,c){if("textContent"in a)a.textContent=c;else if(3==a.nodeType)a.data=String(c);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(c)}else Te(a),a.appendChild(Me(a).createTextNode(String(c)))}var Xe={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Ye={IMG:" ",BR:"\n"};function Ze(a){return J&&!Nd("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")}
function $e(a){a=a.tabIndex;return"number"===typeof a&&0<=a&&32768>a}function af(a){var c=[];bf(a,c,!1);return c.join("")}function bf(a,c,d){if(!(a.nodeName in Xe))if(3==a.nodeType)d?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else if(a.nodeName in Ye)c.push(Ye[a.nodeName]);else for(a=a.firstChild;a;)bf(a,c,d),a=a.nextSibling}
function Re(a){if(a&&"number"==typeof a.length){if(ra(a))return"function"==typeof a.item||"string"==typeof a.item;if(qa(a))return"function"==typeof a.item}return!1}function Le(a){this.zf=a||g.document||document}b=Le.prototype;b.Gf=Ke;b.S=function(a){return"string"===typeof a?this.zf.getElementById(a):a};b.getElementsByTagName=function(a,c){return(c||this.zf).getElementsByTagName(String(a))};b.setProperties=Ne;
b.ia=function(a,c,d){var e=this.zf,f=arguments,h=String(f[0]),k=f[1];if(!Ge&&k&&(k.name||k.type)){h=["<",h];k.name&&h.push(' name="',yd(k.name),'"');if(k.type){h.push(' type="',yd(k.type),'"');var l={};Fc(l,k);delete l.type;k=l}h.push(">");h=h.join("")}h=Se(e,h);k&&("string"===typeof k?h.className=k:u(k)?h.className=k.join(" "):Ne(h,k));2<f.length&&Qe(e,h,f,2);return h};b.createElement=function(a){return Se(this.zf,a)};b.createTextNode=function(a){return this.zf.createTextNode(String(a))};
b.tr=function(){var a=this.zf,c=Pe(a);a=a.parentWindow||a.defaultView;return J&&Nd("10")&&a.pageYOffset!=c.scrollTop?new Ee(c.scrollLeft,c.scrollTop):new Ee(a.pageXOffset||c.scrollLeft,a.pageYOffset||c.scrollTop)};b.appendChild=function(a,c){a.appendChild(c)};b.append=function(a,c){Qe(Me(a),a,arguments,1)};b.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
b.Ox=Te;b.removeNode=Ue;b.ug=function(a){return He&&void 0!=a.children?a.children:ic(a.childNodes,function(c){return 1==c.nodeType})};b.contains=Ve;
b.yh=function(a){var c;(c="A"==a.tagName&&a.hasAttribute("href")||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!Ze(a)||$e(a)):Ze(a)&&$e(a))&&J?(a=!qa(a.getBoundingClientRect)||J&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=c;return a};function cf(a,c,d,e){this.top=a;this.right=c;this.bottom=d;this.left=e}b=cf.prototype;b.Uc=function(){return this.right-this.left};b.gk=function(){return this.bottom-this.top};b.clone=function(){return new cf(this.top,this.right,this.bottom,this.left)};b.contains=function(a){return this&&a?a instanceof cf?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
b.expand=function(a,c,d,e){ra(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(c),this.bottom+=Number(d),this.left-=Number(e));return this};b.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
b.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};b.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
b.translate=function(a,c){a instanceof Ee?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,"number"===typeof c&&(this.top+=c,this.bottom+=c));return this};b.scale=function(a,c){c="number"===typeof c?c:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function df(a,c){var d=Me(a);return d.defaultView&&d.defaultView.getComputedStyle&&(a=d.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""}function ef(a){try{var c=a.getBoundingClientRect()}catch(d){return{left:0,top:0,right:0,bottom:0}}J&&a.ownerDocument.body&&(a=a.ownerDocument,c.left-=a.documentElement.clientLeft+a.body.clientLeft,c.top-=a.documentElement.clientTop+a.body.clientTop);return c}
function ff(a){var c=Me(a),d=new Ee(0,0);var e=c?Me(c):document;e=!J||9<=Number(Od)||"CSS1Compat"==Ke(e).zf.compatMode?e.documentElement:e.body;if(a==e)return d;a=ef(a);c=Ke(c).tr();d.x=a.left+c.x;d.y=a.top+c.y;return d}function gf(a){"number"==typeof a&&(a+="px");return a}function hf(a,c){a.style.display=c?"":"none"}var jf=K?"MozUserSelect":L||Gd?"WebkitUserSelect":null;
function kf(a,c,d){d=d?null:a.getElementsByTagName("*");if(jf){if(c=c?"none":"",a.style&&(a.style[jf]=c),d){a=0;for(var e;e=d[a];a++)e.style&&(e.style[jf]=c)}}else if(J||Fd)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(a=0;e=d[a];a++)e.setAttribute("unselectable",c)}var lf={thin:2,medium:4,thick:6};
function mf(a,c){if("none"==(a.currentStyle?a.currentStyle[c+"Style"]:null))return 0;var d=a.currentStyle?a.currentStyle[c+"Width"]:null;if(d in lf)a=lf[d];else if(/^\d+px?$/.test(d))a=parseInt(d,10);else{c=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=d;d=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=e;a=+d}return a};function nf(a){Vd.call(this);this.mk=a;this.xk={}}v(nf,Vd);var of=[];b=nf.prototype;b.Na=function(a,c,d,e){u(c)||(c&&(of[0]=c.toString()),c=of);for(var f=0;f<c.length;f++){var h=re(a,c[f],d||this.handleEvent,e||!1,this.mk||this);if(!h)break;this.xk[h.key]=h}return this};b.$w=function(a,c,d,e){return pf(this,a,c,d,e)};function pf(a,c,d,e,f,h){if(u(d))for(var k=0;k<d.length;k++)pf(a,c,d[k],e,f,h);else{c=se(c,d,e||a.handleEvent,f,h||a.mk||a);if(!c)return a;a.xk[c.key]=c}return a}
b.ae=function(a,c,d,e,f){if(u(c))for(var h=0;h<c.length;h++)this.ae(a,c[h],d,e,f);else d=d||this.handleEvent,e=ra(e)?!!e.capture:!!e,f=f||this.mk||this,d=te(d),e=!!e,c=he(a)?a.Ol(c,d,e,f):a?(a=ve(a))?a.Ol(c,d,e,f):null:null,c&&(Ae(c),delete this.xk[c.key]);return this};b.removeAll=function(){Dc(this.xk,function(a,c){this.xk.hasOwnProperty(c)&&Ae(a)},this);this.xk={}};b.Tb=function(){nf.w.Tb.call(this);this.removeAll()};
b.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function qf(){Vd.call(this);this.sg=new le(this);this.LA=this;this.vs=null}v(qf,Vd);qf.prototype[ge]=!0;b=qf.prototype;b.wo=function(){return this.vs};b.at=function(a){this.vs=a};b.addEventListener=function(a,c,d,e){re(this,a,c,d,e)};b.removeEventListener=function(a,c,d,e){ze(this,a,c,d,e)};
b.dispatchEvent=function(a){var c,d=this.wo();if(d)for(c=[];d;d=d.wo())c.push(d);d=this.LA;var e=a.type||a;if("string"===typeof a)a=new $d(a,d);else if(a instanceof $d)a.target=a.target||d;else{var f=a;a=new $d(e,d);Fc(a,f)}f=!0;if(c)for(var h=c.length-1;!a.fj&&0<=h;h--){var k=a.currentTarget=c[h];f=rf(k,e,!0,a)&&f}a.fj||(k=a.currentTarget=d,f=rf(k,e,!0,a)&&f,a.fj||(f=rf(k,e,!1,a)&&f));if(c)for(h=0;!a.fj&&h<c.length;h++)k=a.currentTarget=c[h],f=rf(k,e,!1,a)&&f;return f};
b.Tb=function(){qf.w.Tb.call(this);this.removeAllListeners();this.vs=null};b.Na=function(a,c,d,e){return this.sg.add(String(a),c,!1,d,e)};b.$w=function(a,c,d,e){return this.sg.add(String(a),c,!0,d,e)};b.ae=function(a,c,d,e){return this.sg.remove(String(a),c,d,e)};b.removeAllListeners=function(a){return this.sg?this.sg.removeAll(a):0};
function rf(a,c,d,e){c=a.sg.pd[String(c)];if(!c)return!0;c=c.concat();for(var f=!0,h=0;h<c.length;++h){var k=c[h];if(k&&!k.Gk&&k.capture==d){var l=k.listener,m=k.Do||k.src;k.Fn&&ne(a.sg,k);f=!1!==l.call(m,e)&&f}}return f&&0!=e.Sx}b.Ol=function(a,c,d,e){return this.sg.Ol(String(a),c,d,e)};function sf(){}na(sf);sf.prototype.ID=0;sf.prototype.$C="";function tf(a){qf.call(this);this.ao=a||Ke();this.Hk=uf;this.rk=null;this.Xa=!1;this.ma=null;this.rh=void 0;this.eh=this.Pc=this.Ud=this.ls=null;this.ej=this.aF=!1}v(tf,qf);tf.prototype.ZC=sf.ph();var uf=null;
function vf(a,c){switch(a){case 1:return c?"disable":"enable";case 2:return c?"highlight":"unhighlight";case 4:return c?"activate":"deactivate";case 8:return c?"select":"unselect";case 16:return c?"check":"uncheck";case 32:return c?"focus":"blur";case 64:return c?"open":"close"}throw Error("Invalid component state");}b=tf.prototype;b.Ga=function(){var a;(a=this.rk)||(a=this.ZC,a=this.rk=a.$C+":"+(a.ID++).toString(36));return a};b.S=function(){return this.ma};
function wf(a){a.rh||(a.rh=new nf(a));return a.rh}b.mj=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.Ud&&this.rk&&xf(this.Ud,this.rk)&&this.Ud!=a)throw Error("Unable to set parent component");this.Ud=a;tf.w.at.call(this,a)};b.getParent=function(){return this.Ud};b.at=function(a){if(this.Ud&&this.Ud!=a)throw Error("Method not supported");tf.w.at.call(this,a)};b.Gf=function(){return this.ao};b.ia=function(){this.ma=this.ao.createElement("DIV")};b.oa=function(a){this.Rf(a)};
b.Rf=function(a,c){if(this.Xa)throw Error("Component already rendered");this.ma||this.ia();a?a.insertBefore(this.ma,c||null):this.ao.zf.body.appendChild(this.ma);this.Ud&&!this.Ud.Xa||this.vc()};b.vc=function(){this.Xa=!0;M(this,function(a){!a.Xa&&a.S()&&a.vc()})};b.oe=function(){M(this,function(a){a.Xa&&a.oe()});this.rh&&this.rh.removeAll();this.Xa=!1};
b.Tb=function(){this.Xa&&this.oe();this.rh&&(this.rh.J(),delete this.rh);M(this,function(a){a.J()});!this.aF&&this.ma&&Ue(this.ma);this.Ud=this.ls=this.ma=this.eh=this.Pc=null;tf.w.Tb.call(this)};b.Cn=function(a,c){this.Sj(a,yf(this),c)};
b.Sj=function(a,c,d){if(a.Xa&&(d||!this.Xa))throw Error("Component already rendered");if(0>c||c>yf(this))throw Error("Child component index out of bounds");this.eh&&this.Pc||(this.eh={},this.Pc=[]);if(a.getParent()==this){var e=a.Ga();this.eh[e]=a;mc(this.Pc,a)}else{e=this.eh;var f=a.Ga();if(null!==e&&f in e)throw Error('The object already contains the key "'+f+'"');e[f]=a}a.mj(this);pc(this.Pc,c,0,a);a.Xa&&this.Xa&&a.getParent()==this?(d=this.Pd(),c=d.childNodes[c]||null,c!=a.S()&&d.insertBefore(a.S(),
c)):d?(this.ma||this.ia(),c=N(this,c+1),a.Rf(this.Pd(),c?c.ma:null)):this.Xa&&!a.Xa&&a.ma&&a.ma.parentNode&&1==a.ma.parentNode.nodeType&&a.vc()};b.Pd=function(){return this.ma};function zf(a){if(null==a.Hk){var c=a.Xa?a.ma:a.ao.zf.body;c=df(c,"direction")||(c.currentStyle?c.currentStyle.direction:null)||c.style&&c.style.direction;a.Hk="rtl"==c}return a.Hk}b.Ig=function(a){if(this.Xa)throw Error("Component already rendered");this.Hk=a};function O(a){return!!a.Pc&&0!=a.Pc.length}
function yf(a){return a.Pc?a.Pc.length:0}function xf(a,c){a.eh&&c?(a=a.eh,c=(null!==a&&c in a?a[c]:void 0)||null):c=null;return c}function N(a,c){return a.Pc?a.Pc[c]||null:null}function M(a,c,d){a.Pc&&hc(a.Pc,c,d)}function Af(a,c){return a.Pc&&c?gc(a.Pc,c):-1}b.removeChild=function(a,c){if(a){var d="string"===typeof a?a:a.Ga();a=xf(this,d);if(d&&a){var e=this.eh;d in e&&delete e[d];mc(this.Pc,a);c&&(a.oe(),a.ma&&Ue(a.ma));a.mj(null)}}if(!a)throw Error("Child is not in parent component");return a};
b.Ox=function(a){for(var c=[];O(this);)c.push(this.removeChild(N(this,0),a));return c};var Bf;Gc("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));function Cf(a,c){c?a.setAttribute("role",c):a.removeAttribute("role")}
function P(a,c,d){u(d)&&(d=d.join(" "));var e="aria-"+c;""===d||void 0==d?(Bf||(Bf={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),d=Bf,c in d?a.setAttribute(e,d[c]):a.removeAttribute(e)):a.setAttribute(e,d)};function Df(a,c,d,e,f,h){if(L&&!Nd("525"))return!0;if(Hd&&f)return Ef(a);if(f&&!e)return!1;if(!K){"number"===typeof c&&(c=Ff(c));var k=17==c||18==c||Hd&&91==c;if((!d||Hd)&&k||Hd&&16==c&&(e||h))return!1}if((L||Gd)&&e&&d)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(J&&e&&c==a)return!1;switch(a){case 13:return K?h||f?!1:!(d&&e):!0;case 27:return!(L||Gd||K)}return K&&(e||f||h)?!1:Ef(a)}
function Ef(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(L||Gd)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return K;default:return!1}}function Ff(a){if(K)a=Gf(a);else if(Hd&&L)switch(a){case 93:a=91}return a}
function Gf(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Hf(a,c){qf.call(this);a&&If(this,a,c)}v(Hf,qf);b=Hf.prototype;b.ma=null;b.Ro=null;b.Yr=null;b.So=null;b.Bd=-1;b.Nf=-1;b.oq=!1;
var Jf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Kf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Lf=!L||Nd("525"),Mf=Hd&&K;b=Hf.prototype;
b.IC=function(a){if(L||Gd)if(17==this.Bd&&!a.ctrlKey||18==this.Bd&&!a.altKey||Hd&&91==this.Bd&&!a.metaKey)this.Nf=this.Bd=-1;-1==this.Bd&&(a.ctrlKey&&17!=a.keyCode?this.Bd=17:a.altKey&&18!=a.keyCode?this.Bd=18:a.metaKey&&91!=a.keyCode&&(this.Bd=91));Lf&&!Df(a.keyCode,this.Bd,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.Nf=Ff(a.keyCode),Mf&&(this.oq=a.altKey))};b.JC=function(a){this.Nf=this.Bd=-1;this.oq=a.altKey};
b.handleEvent=function(a){var c=a.Cf,d=c.altKey;if(J&&"keypress"==a.type){var e=this.Nf;var f=13!=e&&27!=e?c.keyCode:0}else(L||Gd)&&"keypress"==a.type?(e=this.Nf,f=0<=c.charCode&&63232>c.charCode&&Ef(e)?c.charCode:0):Fd&&!L?(e=this.Nf,f=Ef(e)?c.keyCode:0):("keypress"==a.type?(Mf&&(d=this.oq),c.keyCode==c.charCode?32>c.keyCode?(e=c.keyCode,f=0):(e=this.Nf,f=c.charCode):(e=c.keyCode||this.Nf,f=c.charCode||0)):(e=c.keyCode||this.Nf,f=c.charCode||0),Hd&&63==f&&224==e&&(e=191));var h=e=Ff(e);e?63232<=
e&&e in Jf?h=Jf[e]:25==e&&a.shiftKey&&(h=9):c.keyIdentifier&&c.keyIdentifier in Kf&&(h=Kf[c.keyIdentifier]);K&&Lf&&"keypress"==a.type&&!Df(h,this.Bd,a.shiftKey,a.ctrlKey,d,a.metaKey)||(a=h==this.Bd,this.Bd=h,c=new Nf(h,f,a,c),c.altKey=d,this.dispatchEvent(c))};b.S=function(){return this.ma};function If(a,c,d){a.So&&a.detach();a.ma=c;a.Ro=re(a.ma,"keypress",a,d);a.Yr=re(a.ma,"keydown",a.IC,d,a);a.So=re(a.ma,"keyup",a.JC,d,a)}
b.detach=function(){this.Ro&&(Ae(this.Ro),Ae(this.Yr),Ae(this.So),this.So=this.Yr=this.Ro=null);this.ma=null;this.Nf=this.Bd=-1};b.Tb=function(){Hf.w.Tb.call(this);this.detach()};function Nf(a,c,d,e){ce.call(this,e);this.type="key";this.keyCode=a;this.charCode=c;this.repeat=d}v(Nf,ce);function Of(a){return"string"==typeof a.className?a.className:a.getAttribute&&a.getAttribute("class")||""}function Pf(a){return a.classList?a.classList:Of(a).match(/\S+/g)||[]}function Qf(a,c){"string"==typeof a.className?a.className=c:a.setAttribute&&a.setAttribute("class",c)}function Rf(a,c){return a.classList?a.classList.contains(c):lc(Pf(a),c)}function Sf(a,c){if(a.classList)a.classList.add(c);else if(!Rf(a,c)){var d=Of(a);Qf(a,d+(0<d.length?" "+c:c))}}
function Tf(a,c){if(a.classList)hc(c,function(f){Sf(a,f)});else{var d={};hc(Pf(a),function(f){d[f]=!0});hc(c,function(f){d[f]=!0});c="";for(var e in d)c+=0<c.length?" "+e:e;Qf(a,c)}}function Uf(a,c){a.classList?a.classList.remove(c):Rf(a,c)&&Qf(a,ic(Pf(a),function(d){return d!=c}).join(" "))}function Vf(a,c){a.classList?hc(c,function(d){Uf(a,d)}):Qf(a,ic(Pf(a),function(d){return!lc(c,d)}).join(" "))};function Wf(a,c){if(!a)throw Error("Invalid class name "+a);if(!qa(c))throw Error("Invalid decorator function "+c);}var Xf={};function Yf(a){this.Ru=a}na(Yf);b=Yf.prototype;b.ko=function(){return this.Ru};function Zf(a,c){a&&(a.tabIndex=c?0:-1)}b.ia=function(a){return a.Gf().ia("DIV",this.qo(a).join(" "))};b.Pd=function(a){return a};b.bm=function(a){a=a.S();kf(a,!0,K);J&&(a.hideFocus=!0);var c=this.ko();c&&Cf(a,c)};b.ec=function(a){return a.S()};b.Sc=function(){return"goog-container"};b.qo=function(a){var c=this.Sc(),d=[c,a.bj==$f?c+"-horizontal":c+"-vertical"];a.isEnabled()||d.push(c+"-disabled");return d};function ag(){}var bg;na(ag);var cg={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};b=ag.prototype;b.ko=function(){};b.ia=function(a){return a.Gf().ia("DIV",this.qo(a).join(" "),a.oh())};b.Pd=function(a){return a};b.Il=function(a,c,d){if(a=a.S?a.S():a){var e=[c];J&&!Nd("7")&&(e=dg(Pf(a),c),e.push(c));(d?Tf:Vf)(a,e)}};b.bm=function(a){zf(a)&&this.Ig(a.S(),!0);a.isEnabled()&&this.Rh(a,a.isVisible())};
function eg(a,c,d){if(a=d||a.ko())d=c.getAttribute("role")||null,a!=d&&Cf(c,a)}function fg(a,c,d){var e=c.Qu;null!=e&&a.Us(d,e);c.isVisible()||P(d,"hidden",!c.isVisible());c.isEnabled()||gg(d,1,!c.isEnabled());c.Pb&8&&gg(d,8,c.Oo());c.Pb&16&&gg(d,16,!!(c.Ob&16));c.Pb&64&&gg(d,64,c.vk())}b.Us=function(a,c){P(a,"label",c)};b.Ts=function(a,c){kf(a,!c,!J&&!Fd)};b.Ig=function(a,c){this.Il(a,this.Sc()+"-rtl",c)};b.yh=function(a){var c;return a.Pb&32&&(c=a.ec())?Ze(c)&&$e(c):!1};
b.Rh=function(a,c){var d;if(a.Pb&32&&(d=a.ec())){if(!c&&a.Ob&32){try{d.blur()}catch(e){}a.Ob&32&&a.Tl(null)}(Ze(d)&&$e(d))!=c&&(a=d,c?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex")))}};b.Da=function(a,c){hf(a,c);a&&P(a,"hidden",!c)};b.bf=function(a,c,d){var e=a.S();if(e){var f=this.po(c);f&&this.Il(a,f,d);gg(e,c,d)}};
function gg(a,c,d){bg||(bg={1:"disabled",8:"selected",16:"checked",64:"expanded"});c=bg[c];var e=a.getAttribute("role")||null;e&&(e=cg[e]||c,c="checked"==c||"selected"==c?e:c);c&&P(a,c,d)}b.Sf=function(a,c){var d=this.Pd(a);d&&(Te(d),c&&("string"===typeof c?We(d,c):(a=function(e){if(e){var f=Me(d);d.appendChild("string"===typeof e?f.createTextNode(e):e)}},u(c)?hc(c,a):!pa(c)||"nodeType"in c?a(c):hc(oc(c),a))))};b.ec=function(a){return a.S()};b.Sc=function(){return"goog-control"};
b.qo=function(a){var c=this.Sc(),d=[c],e=this.Sc();e!=c&&d.push(e);c=a.getState();for(e=[];c;){var f=c&-c;e.push(this.po(f));c&=~f}d.push.apply(d,e);(a=a.Df)&&d.push.apply(d,a);J&&!Nd("7")&&d.push.apply(d,dg(d));return d};function dg(a,c){var d=[];c&&(a=nc(a,[c]));hc([],function(e){!kc(e,ya(lc,a))||c&&!lc(e,c)||d.push(e.join("_"))});return d}
b.po=function(a){if(!this.bv){var c=this.Sc();c.replace(/\xa0|\s/g," ");this.bv={1:c+"-disabled",2:c+"-hover",4:c+"-active",8:c+"-selected",16:c+"-checked",32:c+"-focused",64:c+"-open"}}return this.bv[a]};function Q(a,c,d){tf.call(this,d);if(!c){c=this.constructor;for(var e;c;){e=sa(c);if(e=Xf[e])break;c=c.w?c.w.constructor:null}c=e?qa(e.ph)?e.ph():new e:null}this.Qa=c;this.dc=void 0!==a?a:null;this.Qu=null}v(Q,tf);b=Q.prototype;b.dc=null;b.Ob=0;b.Pb=39;b.UA=255;b.Hm=0;b.Gb=!0;b.Df=null;b.Ul=!0;b.nq=!1;b.lE=null;b.ec=function(){return this.Qa.ec(this)};b.uo=function(){return this.Wc||(this.Wc=new Hf)};
b.Il=function(a,c){c?a&&(this.Df?lc(this.Df,a)||this.Df.push(a):this.Df=[a],this.Qa.Il(this,a,!0)):a&&this.Df&&mc(this.Df,a)&&(0==this.Df.length&&(this.Df=null),this.Qa.Il(this,a,!1))};b.ia=function(){var a=this.Qa.ia(this);this.ma=a;eg(this.Qa,a,this.xo());this.nq||this.Qa.Ts(a,!1);this.isVisible()||this.Qa.Da(a,!1)};b.xo=function(){return this.lE};b.Us=function(a){this.Qu=a;var c=this.S();c&&this.Qa.Us(c,a)};b.Pd=function(){return this.Qa.Pd(this.S())};
b.vc=function(){Q.w.vc.call(this);fg(this.Qa,this,this.ma);this.Qa.bm(this);if(this.Pb&-2&&(this.Ul&&hg(this,!0),this.Pb&32)){var a=this.ec();if(a){var c=this.uo();If(c,a);wf(this).Na(c,"key",this.Se).Na(a,"focus",this.Bo).Na(a,"blur",this.Tl)}}};
function hg(a,c){var d=a.ej?ae:be,e=wf(a),f=a.S();c?(e.Na(f,d.hi,a.kk).Na(f,[d.ii,d.Ij],a.lk).Na(f,"mouseover",a.Er).Na(f,"mouseout",a.Dr),a.ej&&e.Na(f,"gotpointercapture",a.kp),a.jk!=ma&&e.Na(f,"contextmenu",a.jk),J&&(Nd(9)||e.Na(f,"dblclick",a.zw),a.$l||(a.$l=new ig(a),Yd(a,ya(Zd,a.$l))))):(e.ae(f,d.hi,a.kk).ae(f,[d.ii,d.Ij],a.lk).ae(f,"mouseover",a.Er).ae(f,"mouseout",a.Dr),a.ej&&e.ae(f,"gotpointercapture",a.kp),a.jk!=ma&&e.ae(f,"contextmenu",a.jk),J&&(Nd(9)||e.ae(f,"dblclick",a.zw),Zd(a.$l),a.$l=
null))}b.oe=function(){Q.w.oe.call(this);this.Wc&&this.Wc.detach();this.isVisible()&&this.isEnabled()&&this.Qa.Rh(this,!1)};b.Tb=function(){Q.w.Tb.call(this);this.Wc&&(this.Wc.J(),delete this.Wc);delete this.Qa;this.$l=this.Df=this.dc=null};b.oh=function(){return this.dc};b.Sf=function(a){this.Qa.Sf(this.S(),a);this.dc=a};
b.rr=function(){var a=this.oh();if(!a)return"";if("string"!==typeof a)if(u(a))a=jc(a,af).join("");else{if(Ie&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var c=[];bf(a,c,!0);a=c.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Ie||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}return xd(a)};b.Ig=function(a){Q.w.Ig.call(this,a);var c=this.S();c&&this.Qa.Ig(c,a)};b.Ts=function(a){this.nq=a;var c=this.S();c&&this.Qa.Ts(c,a)};
b.isVisible=function(){return this.Gb};b.Da=function(a,c){return c||this.Gb!=a&&this.dispatchEvent(a?"show":"hide")?((c=this.S())&&this.Qa.Da(c,a),this.isEnabled()&&this.Qa.Rh(this,a),this.Gb=a,!0):!1};b.isEnabled=function(){return!(this.Ob&1)};b.Dd=function(a){var c=this.getParent();c&&"function"==typeof c.isEnabled&&!c.isEnabled()||!jg(this,1,!a)||(a||(this.setActive(!1),this.Ed(!1)),this.isVisible()&&this.Qa.Rh(this,a),this.bf(1,!a,!0))};b.Ed=function(a){jg(this,2,a)&&this.bf(2,a)};
b.setActive=function(a){jg(this,4,a)&&this.bf(4,a)};b.Oo=function(){return!!(this.Ob&8)};function kg(a,c){jg(a,16,c)&&a.bf(16,c)}b.vk=function(){return!!(this.Ob&64)};function lg(a,c){jg(a,64,c)&&a.bf(64,c)}b.getState=function(){return this.Ob};b.bf=function(a,c,d){d||1!=a?this.Pb&a&&c!=!!(this.Ob&a)&&(this.Qa.bf(this,a,c),this.Ob=c?this.Ob|a:this.Ob&~a):this.Dd(!c)};
b.Wd=function(a,c){if(this.Xa&&this.Ob&a&&!c)throw Error("Component already rendered");!c&&this.Ob&a&&this.bf(a,!1);this.Pb=c?this.Pb|a:this.Pb&~a};function mg(a,c){return!!(a.UA&c)&&!!(a.Pb&c)}function jg(a,c,d){return!!(a.Pb&c)&&!!(a.Ob&c)!=d&&(!(a.Hm&c)||a.dispatchEvent(vf(c,d)))&&!a.qg}b.Er=function(a){!ng(a,this.S())&&this.dispatchEvent("enter")&&this.isEnabled()&&mg(this,2)&&this.Ed(!0)};
b.Dr=function(a){!ng(a,this.S())&&this.dispatchEvent("leave")&&(mg(this,4)&&this.setActive(!1),mg(this,2)&&this.Ed(!1))};b.kp=function(a){var c=a.target;c.releasePointerCapture&&c.releasePointerCapture(a.pointerId)};b.jk=ma;function ng(a,c){return!!a.relatedTarget&&Ve(c,a.relatedTarget)}b.kk=function(a){this.isEnabled()&&(mg(this,2)&&this.Ed(!0),!fe(a)||L&&Hd&&a.ctrlKey||(mg(this,4)&&this.setActive(!0),this.Qa&&this.Qa.yh(this)&&this.ec().focus()));this.nq||!fe(a)||L&&Hd&&a.ctrlKey||a.preventDefault()};
b.lk=function(a){this.isEnabled()&&(mg(this,2)&&this.Ed(!0),this.Ob&4&&og(this,a)&&mg(this,4)&&this.setActive(!1))};b.zw=function(a){this.isEnabled()&&og(this,a)};function og(a,c){mg(a,16)&&kg(a,!(a.Ob&16));mg(a,8)&&jg(a,8,!0)&&a.bf(8,!0);mg(a,64)&&lg(a,!a.vk());var d=new $d("action",a);c&&(d.altKey=c.altKey,d.ctrlKey=c.ctrlKey,d.metaKey=c.metaKey,d.shiftKey=c.shiftKey,d.As=c.As);return a.dispatchEvent(d)}b.Bo=function(){mg(this,32)&&jg(this,32,!0)&&this.bf(32,!0)};
b.Tl=function(){mg(this,4)&&this.setActive(!1);mg(this,32)&&jg(this,32,!1)&&this.bf(32,!1)};b.Se=function(a){return this.isVisible()&&this.isEnabled()&&this.Hi(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};b.Hi=function(a){return 13==a.keyCode&&og(this,a)};if(!qa(Q))throw Error("Invalid component class "+Q);if(!qa(ag))throw Error("Invalid renderer class "+ag);var pg=sa(Q);Xf[pg]=ag;Wf("goog-control",function(){return new Q(null)});
function ig(a){Vd.call(this);this.Pn=a;this.Hn=!1;this.mk=new nf(this);Yd(this,ya(Zd,this.mk));var c=this.Pn.ma;a=a.ej?ae:be;this.mk.Na(c,a.hi,this.LC).Na(c,a.ii,this.MC).Na(c,"click",this.CC)}v(ig,Vd);var qg=!J||9<=Number(Od);ig.prototype.LC=function(){this.Hn=!1};ig.prototype.MC=function(){this.Hn=!0};
function rg(a,c){if(!qg)return a.button=0,a.type=c,a;var d=document.createEvent("MouseEvents");d.initMouseEvent(c,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return d}ig.prototype.CC=function(a){if(this.Hn)this.Hn=!1;else{var c=a.Cf,d=c.button,e=c.type,f=rg(c,"mousedown");this.Pn.kk(new ce(f,a.currentTarget));f=rg(c,"mouseup");this.Pn.lk(new ce(f,a.currentTarget));qg||(c.button=d,c.type=e)}};
ig.prototype.Tb=function(){this.Pn=null;ig.w.Tb.call(this)};function sg(a,c,d){tf.call(this,d);this.Qa=c||Yf.ph();this.bj=a||tg}v(sg,tf);var $f="horizontal",tg="vertical";b=sg.prototype;b.Zr=null;b.Wc=null;b.Qa=null;b.bj=null;b.Gb=!0;b.Ci=!0;b.nr=!0;b.qb=-1;b.Xb=null;b.Bk=!1;b.QA=!1;b.eE=!0;b.mg=null;b.ec=function(){return this.Zr||this.Qa.ec(this)};b.uo=function(){return this.Wc||(this.Wc=new Hf(this.ec()))};b.ia=function(){this.ma=this.Qa.ia(this)};b.Pd=function(){return this.Qa.Pd(this.S())};
b.vc=function(){sg.w.vc.call(this);M(this,function(d){d.Xa&&ug(this,d)},this);var a=this.S();this.Qa.bm(this);this.Da(this.Gb,!0);var c=this.ej?ae:be;wf(this).Na(this,"enter",this.Br).Na(this,"highlight",this.HC).Na(this,"unhighlight",this.QC).Na(this,"open",this.NC).Na(this,"close",this.DC).Na(a,c.hi,this.kk).Na(Me(a),[c.ii,c.Ij],this.EC).Na(a,[c.hi,c.ii,c.Ij,"mouseover","mouseout","contextmenu"],this.BC);this.ej&&wf(this).Na(a,"gotpointercapture",this.kp);this.yh()&&vg(this,!0)};
b.kp=function(a){var c=a.target;c.releasePointerCapture&&c.releasePointerCapture(a.pointerId)};function vg(a,c){var d=wf(a),e=a.ec();c?d.Na(e,"focus",a.Bo).Na(e,"blur",a.Tl).Na(a.uo(),"key",a.Se):d.ae(e,"focus",a.Bo).ae(e,"blur",a.Tl).ae(a.uo(),"key",a.Se)}b.oe=function(){this.Jk(-1);this.Xb&&lg(this.Xb,!1);this.Bk=!1;sg.w.oe.call(this)};b.Tb=function(){sg.w.Tb.call(this);this.Wc&&(this.Wc.J(),this.Wc=null);this.Qa=this.Xb=this.mg=this.Zr=null};b.Br=function(){return!0};
b.HC=function(a){var c=Af(this,a.target);if(-1<c&&c!=this.qb){var d=N(this,this.qb);d&&d.Ed(!1);this.qb=c;d=N(this,this.qb);this.Bk&&d.setActive(!0);this.eE&&this.Xb&&d!=this.Xb&&(d.Pb&64?lg(d,!0):lg(this.Xb,!1))}c=this.S();null!=a.target.S()&&P(c,"activedescendant",a.target.S().id)};b.QC=function(a){a.target==N(this,this.qb)&&(this.qb=-1);this.S().removeAttribute("aria-activedescendant")};b.NC=function(a){(a=a.target)&&a!=this.Xb&&a.getParent()==this&&(this.Xb&&lg(this.Xb,!1),this.Xb=a)};
b.DC=function(a){a.target==this.Xb&&(this.Xb=null);var c=this.S(),d=a.target.S();c&&a.target.Ob&2&&d&&(a="",d&&(a=d.id),P(c,"activedescendant",a))};b.kk=function(a){this.Ci&&(this.Bk=!0);var c=this.ec();c&&Ze(c)&&$e(c)?c.focus():a.preventDefault()};b.EC=function(){this.Bk=!1};
b.BC=function(a){var c=this.ej?ae:be;a:{var d=a.target;if(this.mg)for(var e=this.S();d&&d!==e;){var f=d.id;if(f in this.mg){d=this.mg[f];break a}d=d.parentNode}d=null}if(d)switch(a.type){case c.hi:d.kk(a);break;case c.ii:case c.Ij:d.lk(a);break;case "mouseover":d.Er(a);break;case "mouseout":d.Dr(a);break;case "contextmenu":d.jk(a)}};b.Bo=function(){};b.Tl=function(){this.Jk(-1);this.Bk=!1;this.Xb&&lg(this.Xb,!1)};
b.Se=function(a){return this.isEnabled()&&this.isVisible()&&(0!=yf(this)||this.Zr)&&this.Hi(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
b.Hi=function(a){var c=N(this,this.qb);if(c&&"function"==typeof c.Se&&c.Se(a)||this.Xb&&this.Xb!=c&&"function"==typeof this.Xb.Se&&this.Xb.Se(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.yh())this.ec().blur();else return!1;break;case 36:wg(this);break;case 35:xg(this);break;case 38:if(this.bj==tg)yg(this);else return!1;break;case 37:if(this.bj==$f)zf(this)?zg(this):yg(this);else return!1;break;case 40:if(this.bj==tg)zg(this);else return!1;break;
case 39:if(this.bj==$f)zf(this)?yg(this):zg(this);else return!1;break;default:return!1}return!0};function ug(a,c){var d=c.S();d=d.id||(d.id=c.Ga());a.mg||(a.mg={});a.mg[d]=c}b.Cn=function(a,c){sg.w.Cn.call(this,a,c)};
b.Sj=function(a,c,d){a.Hm|=2;a.Hm|=64;!this.yh()&&this.QA||a.Wd(32,!1);a.Xa&&0!=a.Ul&&hg(a,!1);a.Ul=!1;var e=a.getParent()==this?Af(this,a):-1;sg.w.Sj.call(this,a,c,d);a.Xa&&this.Xa&&ug(this,a);a=e;-1==a&&(a=yf(this));a==this.qb?this.qb=Math.min(yf(this)-1,c):a>this.qb&&c<=this.qb?this.qb++:a<this.qb&&c>this.qb&&this.qb--};
b.removeChild=function(a,c){if(a="string"===typeof a?xf(this,a):a){var d=Af(this,a);-1!=d&&(d==this.qb?(a.Ed(!1),this.qb=-1):d<this.qb&&this.qb--);var e=a.S();e&&e.id&&this.mg&&(d=this.mg,e=e.id,e in d&&delete d[e])}c=a=sg.w.removeChild.call(this,a,c);c.Xa&&1!=c.Ul&&hg(c,!0);c.Ul=!0;return a};b.setOrientation=function(a){if(this.S())throw Error("Component already rendered");this.bj=a};b.isVisible=function(){return this.Gb};
b.Da=function(a,c){if(c||this.Gb!=a&&this.dispatchEvent(a?"show":"hide")){this.Gb=a;var d=this.S();d&&(hf(d,a),this.yh()&&Zf(this.ec(),this.Ci&&this.Gb),c||this.dispatchEvent(this.Gb?"aftershow":"afterhide"));return!0}return!1};b.isEnabled=function(){return this.Ci};
b.Dd=function(a){this.Ci!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.Ci=!0,M(this,function(c){c.Ky?delete c.Ky:c.Dd(!0)})):(M(this,function(c){c.isEnabled()?c.Dd(!1):c.Ky=!0}),this.Bk=this.Ci=!1),this.yh()&&Zf(this.ec(),a&&this.Gb))};b.yh=function(){return this.nr};b.Rh=function(a){a!=this.nr&&this.Xa&&vg(this,a);this.nr=a;this.Ci&&this.Gb&&Zf(this.ec(),a)};b.Jk=function(a){(a=N(this,a))?a.Ed(!0):-1<this.qb&&N(this,this.qb).Ed(!1)};b.Ed=function(a){this.Jk(Af(this,a))};
function wg(a){Ag(a,function(c,d){return(c+1)%d},yf(a)-1)}function xg(a){Ag(a,function(c,d){c--;return 0>c?d-1:c},0)}function zg(a){Ag(a,function(c,d){return(c+1)%d},a.qb)}function yg(a){Ag(a,function(c,d){c--;return 0>c?d-1:c},a.qb)}function Ag(a,c,d){d=0>d?Af(a,a.Xb):d;var e=yf(a);d=c.call(a,d,e);for(var f=0;f<=e;){var h=N(a,d);if(h&&a.Yu(h)){a.Jk(d);break}f++;d=c.call(a,d,e)}}b.Yu=function(a){return a.isVisible()&&a.isEnabled()&&!!(a.Pb&2)};function Bg(){}v(Bg,ag);na(Bg);Bg.prototype.Sc=function(){return"goog-menuheader"};function Cg(a,c,d){Q.call(this,a,d||Bg.ph(),c);this.Wd(1,!1);this.Wd(2,!1);this.Wd(4,!1);this.Wd(32,!1);this.Ob=1}v(Cg,Q);Wf("goog-menuheader",function(){return new Cg(null)});function Dg(){this.cv=[]}v(Dg,ag);na(Dg);function Eg(a,c){var d=a.cv[c];if(!d){switch(c){case 0:d=a.Sc()+"-highlight";break;case 1:d=a.Sc()+"-checkbox";break;case 2:d=a.Sc()+"-content"}a.cv[c]=d}return d}b=Dg.prototype;b.ko=function(){return"menuitem"};b.ia=function(a){var c=a.Gf().ia("DIV",this.qo(a).join(" "),Fg(this,a.oh(),a.Gf()));Gg(this,a,c,!!(a.Pb&8)||!!(a.Pb&16));return c};b.Pd=function(a){return a&&a.firstChild};
b.Sf=function(a,c){var d=this.Pd(a),e=Hg(this,a)?d.firstChild:null;Dg.w.Sf.call(this,a,c);e&&!Hg(this,a)&&d.insertBefore(e,d.firstChild||null)};function Fg(a,c,d){a=Eg(a,2);return d.ia("DIV",a,c)}b.by=function(a,c,d){a&&c&&Gg(this,a,c,d)};b.Ws=function(a,c,d){a&&c&&Gg(this,a,c,d)};function Hg(a,c){return(c=a.Pd(c))?(c=c.firstChild,a=Eg(a,1),!!c&&ra(c)&&1==c.nodeType&&Rf(c,a)):!1}
function Gg(a,c,d,e){eg(a,d,c.xo());fg(a,c,d);e!=Hg(a,d)&&(e?Sf(d,"goog-option"):Uf(d,"goog-option"),d=a.Pd(d),e?(a=Eg(a,1),d.insertBefore(c.Gf().ia("DIV",a),d.firstChild||null)):d.removeChild(d.firstChild))}b.po=function(a){switch(a){case 2:return Eg(this,0);case 16:case 8:return"goog-option-selected";default:return Dg.w.po.call(this,a)}};b.Sc=function(){return"goog-menuitem"};function Ig(a,c,d,e){Q.call(this,a,e||Dg.ph(),d);this.setValue(c)}v(Ig,Q);b=Ig.prototype;b.getValue=function(){var a=this.ls;return null!=a?a:this.rr()};b.setValue=function(a){this.ls=a};b.Wd=function(a,c){Ig.w.Wd.call(this,a,c);switch(a){case 8:this.Ob&16&&!c&&kg(this,!1);(a=this.S())&&this.Qa.by(this,a,c);break;case 16:(a=this.S())&&this.Qa.Ws(this,a,c)}};b.by=function(a){this.Wd(8,a)};b.Ws=function(a){this.Wd(16,a)};
b.rr=function(){var a=this.oh();return u(a)?(a=jc(a,function(c){return ra(c)&&1==c.nodeType&&(Rf(c,"goog-menuitem-accel")||Rf(c,"goog-menuitem-mnemonic-separator"))?"":af(c)}).join(""),xd(a)):Ig.w.rr.call(this)};b.lk=function(a){var c=this.getParent();if(c){var d=c.yx;c.yx=null;if(d&&"number"==typeof a.clientX&&Fe(d,new Ee(a.clientX,a.clientY)))return}Ig.w.lk.call(this,a)};b.Hi=function(a){return a.keyCode==this.gx&&og(this,a)?!0:Ig.w.Hi.call(this,a)};b.uC=function(){return this.gx};
Wf("goog-menuitem",function(){return new Ig(null)});Ig.prototype.xo=function(){return this.Pb&16?"menuitemcheckbox":this.Pb&8?"menuitemradio":Ig.w.xo.call(this)};Ig.prototype.getParent=function(){return Q.prototype.getParent.call(this)};Ig.prototype.wo=function(){return Q.prototype.wo.call(this)};function Jg(){}v(Jg,ag);na(Jg);Jg.prototype.ia=function(a){return a.Gf().ia("DIV",this.Sc())};Jg.prototype.Sf=function(){};Jg.prototype.Sc=function(){return"goog-menuseparator"};function Kg(a,c){Q.call(this,null,a||Jg.ph(),c);this.Wd(1,!1);this.Wd(2,!1);this.Wd(4,!1);this.Wd(32,!1);this.Ob=1}v(Kg,Q);Kg.prototype.vc=function(){Kg.w.vc.call(this);var a=this.S();Cf(a,"separator")};Wf("goog-menuseparator",function(){return new Kg});function Lg(a){this.Ru=a||"menu"}v(Lg,Yf);na(Lg);Lg.prototype.Sc=function(){return"goog-menu"};Lg.prototype.bm=function(a){Lg.w.bm.call(this,a);a=a.S();P(a,"haspopup","true")};Wf("goog-menuseparator",function(){return new Kg});function Mg(a,c){sg.call(this,tg,c||Lg.ph(),a);this.Rh(!1)}v(Mg,sg);b=Mg.prototype;b.Dn=!0;b.RA=!1;b.Sc=function(){return this.Qa.Sc()};b.removeItem=function(a){(a=this.removeChild(a,!0))&&a.J()};b.setPosition=function(a,c){var d=this.isVisible();d||hf(this.S(),!0);var e=this.S(),f=a;a=ff(e);f instanceof Ee&&(c=f.y,f=f.x);var h=e.offsetLeft+(f-a.x);h instanceof Ee?(f=h.x,c=h.y):(f=h,c=e.offsetTop+(Number(c)-a.y));e.style.left=gf(f);e.style.top=gf(c);d||hf(this.S(),!1)};
b.qw=function(){return this.isVisible()?ff(this.S()):null};b.Da=function(a,c,d){(c=Mg.w.Da.call(this,a,c))&&a&&this.Xa&&this.Dn&&this.ec().focus();this.yx=a&&d&&"number"==typeof d.clientX?new Ee(d.clientX,d.clientY):null;return c};b.Br=function(a){this.Dn&&this.ec().focus();return Mg.w.Br.call(this,a)};b.Yu=function(a){return(this.RA||a.isEnabled())&&a.isVisible()&&!!(a.Pb&2)};
b.Hi=function(a){var c=Mg.w.Hi.call(this,a);c||M(this,function(d){!c&&d.uC&&d.gx==a.keyCode&&(this.isEnabled()&&this.Ed(d),c=d.Se(a))},this);return c};
b.Jk=function(a){Mg.w.Jk.call(this,a);if(a=N(this,a)){var c=a.S();a=this.S()||Pe(document);var d=a||Pe(document);var e=ff(c),f=ff(d);if(!J||9<=Number(Od)){k=df(d,"borderLeftWidth");var h=df(d,"borderRightWidth");l=df(d,"borderTopWidth");m=df(d,"borderBottomWidth");h=new cf(parseFloat(l),parseFloat(h),parseFloat(m),parseFloat(k))}else{var k=mf(d,"borderLeft");h=mf(d,"borderRight");var l=mf(d,"borderTop"),m=mf(d,"borderBottom");h=new cf(l,h,m,k)}d==Pe(document)?(k=e.x-d.scrollLeft,e=e.y-d.scrollTop,
!J||10<=Number(Od)||(k+=h.left,e+=h.top)):(k=e.x-f.x-h.left,e=e.y-f.y-h.top);f=c.offsetWidth;h=c.offsetHeight;l=L&&!f&&!h;(void 0===f||l)&&c.getBoundingClientRect?(c=ef(c),c=new Je(c.right-c.left,c.bottom-c.top)):c=new Je(f,h);f=d.clientHeight-c.height;h=d.scrollLeft;l=d.scrollTop;h+=Math.min(k,Math.max(k-(d.clientWidth-c.width),0));l+=Math.min(e,Math.max(e-f,0));d=new Ee(h,l);a.scrollLeft=d.x;a.scrollTop=d.y}};w.Ka=function(a,c){"function"!=typeof a&&w.Ka.Fy(a);this.Wi=a;this.jt=this.Bs=null;a=this.Wi;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=w.g.Yb(f):(null!=f.alt&&(a[e][0].alt=w.g.Yb(f.alt)),d=!0)}if(!(d||2>a.length)){d=[];for(e=0;e<a.length;e++)d.push(a[e][0]);e=w.g.Ua.dt(d);f=w.g.Ua.uB(d,e);var h=w.g.Ua.vB(d,e);!f&&!h||e<=f+h||(f&&(this.Bs=d[0].substring(0,f-1)),h&&(this.jt=d[0].substr(1-h)),this.Wi=w.Ka.SA(a,f,h))}}a=this.getOptions()[0];w.Ka.w.constructor.call(this,
a[1],c)};v(w.Ka,w.O);w.Ka.na=function(a){return new w.Ka(a.options)};w.Ka.prototype.fg=!0;w.Ka.Dt=25;w.Ka.Qz=.45;w.Ka.St=5;w.Ka.Bz=2*w.Ka.St;w.Ka.vt=w.g.userAgent.Bj?"\u25bc":"\u25be";b=w.Ka.prototype;b.jn="default";b.Ad=null;b.th=null;b.Kf=function(){w.Ka.w.Kf.call(this);this.Ad=w.g.o.H("image",{y:w.Ka.St},this.Pe);this.Le=w.g.o.H("tspan",{},this.Db);this.Le.appendChild(document.createTextNode(this.F.B?w.Ka.vt+" ":" "+w.Ka.vt));this.F.B?this.Db.insertBefore(this.Le,this.Nm):this.Db.appendChild(this.Le)};
b.cf=function(){w.X.show(this,this.F.B,this.qt.bind(this));this.nm=this.pt();this.nm.oa(w.X.ta);w.g.o.bb(this.nm.S(),"blocklyDropdownMenu");var a=this.nm,c=w.g.uw(),d=bc(this);this.F.B?d.right+=w.Ka.Dt:d.left-=w.Ka.Dt;a=w.g.Sk.wg(a);var e=w.Ka.Qz*document.documentElement.clientHeight;a.height>e&&(a.height=e);this.F.B&&w.g.Sk.Ou(c,d,a);w.X.Fx(c,d,a,this.F.B);c=this.nm;c.Dn=!0;c.Rh(!0);this.nm.S().focus()};
b.pt=function(){var a=new Mg;a.Ig(this.F.B);for(var c=this.getOptions(),d=0;d<c.length;d++){var e=c[d][0],f=c[d][1];if("object"==typeof e){var h=new Image(e.width,e.height);h.src=e.src;h.alt=e.alt||"";e=h}e=new Ig(e);e.Ig(this.F.B);e.setValue(f);e.Ws(!0);a.Cn(e,!0);kg(e,f==this.xa)}this.wD=re(a,"action",this.KC,!1,this);return a};b.qt=function(){Ae(this.wD)};b.KC=function(a){w.X.Li(this);this.tx(a.target)};b.tx=function(a){this.setValue(a.getValue())};
w.Ka.SA=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var h=a[f][0],k=a[f][1];h=h.substring(c,h.length-d);e[f]=[h,k]}return e};b=w.Ka.prototype;b.getOptions=function(){if("function"==typeof this.Wi){var a=this.Wi.call(this);w.Ka.Fy(a);return a}return this.Wi};
b.Qc=function(a){for(var c=!1,d=this.getOptions(),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.F&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.F.type+", Field name: "+this.name+", Value: "+a),null)};b.kh=function(a){w.Ka.w.kh.call(this,a);a=this.getOptions();for(var c=0,d;d=a[c];c++)d[1]==this.xa&&(d=d[0],"object"==typeof d?(this.th=d,this.va=d.alt):(this.th=null,this.va=d))};
b.ye=function(){this.F&&this.Le&&(this.Le.style.fill=this.F.Za?Ng(this.F):this.F.fh)};
b.Rf=function(){this.Nm.nodeValue="";this.Ad.style.display="none";if(this.th){this.Ad.style.display="";this.Ad.setAttributeNS(w.g.o.Mc,"xlink:href",this.th.src);this.Ad.setAttribute("height",this.th.height);this.Ad.setAttribute("width",this.th.width);var a=w.O.no(this.Le),c=Number(this.th.width);this.nb.height=Number(this.th.height)+w.Ka.Bz;this.nb.width=c+a+w.O.ql;this.F.B?(c=w.O.bi-1,this.Ad.setAttribute("x",w.O.bi+a),this.Db.setAttribute("x",c)):(c=c+a+w.O.bi+1,this.Db.setAttribute("text-anchor",
"end"),this.Db.setAttribute("x",c),this.Ad.setAttribute("x",w.O.bi))}else this.Nm.nodeValue=ac(this),this.Db.setAttribute("text-anchor","start"),this.Db.setAttribute("x",w.O.bi),this.nb.height=w.O.an,this.nb.width=w.O.no(this.Db)+w.O.ql;this.Md.setAttribute("height",this.nb.height);this.Md.setAttribute("width",this.nb.width)};
w.Ka.Fy=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+
d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};w.O.register("field_dropdown",w.Ka);w.g.I={};w.g.I.Oa=function(a,c){return" "+a+","+c+" "};w.g.I.curve=function(a,c){return" "+a+c.join("")};w.g.I.moveTo=function(a,c){return" M "+a+","+c+" "};w.g.I.moveBy=function(a,c){return" m "+a+","+c+" "};w.g.I.lineTo=function(a,c){return" l "+a+","+c+" "};w.g.I.line=function(a){return" l"+a.join("")};w.g.I.Wb=function(a,c){return" "+a+" "+c+" "};w.g.I.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};w.j={};w.j.v={};w.j.v.Zg=0;w.j.v.jA=3;w.j.v.gi=5;w.j.v.Yt=8;w.j.v.ud=10;w.j.v.uA=w.j.v.gi;w.j.v.De=1;w.j.v.fe=15;w.j.v.ll=5;w.j.v.QF=2.5;w.j.v.da=8;w.j.v.Id=15;w.j.v.Yz=4;w.j.v.Rz=12;w.j.v.kz=16;w.j.v.M=8;w.j.v.Kj=w.j.v.Id;w.j.v.au=w.j.v.Kj-w.j.v.M;w.j.v.qA=5;w.j.v.rA=20;w.j.v.Uy=4;w.j.v.Pz=66.5;w.j.v.Nj=15;w.j.v.pA=100;w.j.v.lA=15;w.j.v.sn=24;w.j.v.mz=w.j.v.da+14.5;w.j.v.lz=w.j.v.fe+11;w.j.v.pz=10;w.j.v.nz=w.j.v.sn;w.j.v.oz=32;w.j.v.dA=25;w.j.v.eq=w.g.I.moveBy(0,0);w.j.v.jq="m 0,"+w.j.v.M;
w.j.v.Rp=12;w.j.v.Sp=6;var Og=w.j.v,Pg=w.j.v.Rp,Qg=w.j.v.Sp,Rg=w.g.I.line([w.g.I.Oa(6,3),w.g.I.Oa(-12,6),w.g.I.Oa(6,3)]);Og.Yg={height:Pg,width:Qg,path:Rg};var Sg=w.j.v,Tg=w.j.v.Nj,Ug=w.j.v.pA,Vg=w.g.I.curve("c",[w.g.I.Oa(30,-Tg),w.g.I.Oa(70,-Tg),w.g.I.Oa(Ug,0)]);Sg.pi={height:Tg,width:Ug,path:Vg};
w.j.v.ee=function(){function a(h){h=h?-1:1;var k=-h,l=d/2,m=w.g.I.Oa(c,h*l);return w.g.I.curve("c",[w.g.I.Oa(0,h*(l+2.5)),w.g.I.Oa(-c,k*(l+.5)),w.g.I.Oa(-c,h*l)])+w.g.I.curve("s",[w.g.I.Oa(c,2.5*k),m])}var c=w.j.v.da,d=w.j.v.fe,e=a(!0),f=a(!1);return{width:c,height:d,Ih:f,ys:e}}();w.j.v.pc=function(){function a(k){return w.g.I.line([w.g.I.Oa(k*e,d),w.g.I.Oa(3*k,0),w.g.I.Oa(k*e,-d)])}var c=w.j.v.Id,d=w.j.v.Yz,e=(c-3)/2,f=a(1),h=a(-1);return{width:c,height:d,cj:f,Dx:h}}();
var Wg=w.j.v,Xg=w.j.v.M,Yg=w.g.I.arc("a","0 0,0",Xg,w.g.I.Oa(-Xg,Xg)),Zg=w.g.I.arc("a","0 0,0",Xg,w.g.I.Oa(Xg,Xg));Wg.Op={height:Xg,xs:Yg,fp:Zg};var $g=w.j.v,ah=w.j.v.M,bh=w.g.I.arc("A","0 0,1",ah,w.g.I.Oa(ah,0)),ch=w.g.I.arc("a","0 0,1",ah,w.g.I.Oa(-ah,-ah));$g.ku={nt:bh,xq:ch};w.j.Hd=function(){this.Td=!1;this.height=this.width=0;this.type=null;this.ui=this.ag=0};function dh(a){return"field"==a.type}w.j.Hd.prototype.Mf=function(){return"between-row spacer"==this.type||"in-row spacer"==this.type};function eh(a){return"external value input"==a.type}function fh(a){return"inline input"==a.type}function gh(a){return"statement input"==a.type}function hh(a){return"previous connection"==a.type}function ih(a){return"next connection"==a.type}
w.j.Xg=function(a){w.j.Xg.w.constructor.call(this);this.Td=!0;this.input=a;this.align=a.align;if(this.Xj=a.connection&&A(a.connection)?A(a.connection):null){var c=this.Xj.zb();this.Iq=c.width;this.On=c.height}else this.On=this.Iq=0;this.connection=a.connection;this.wf=0};v(w.j.Xg,w.j.Hd);w.j.Jc=function(a){w.j.Jc.w.constructor.call(this);this.icon=a;this.isVisible=a.isVisible();this.type="icon";a=new w.g.qf(w.Jc.prototype.jl,w.Jc.prototype.jl-2);this.height=a.height;this.width=a.width};v(w.j.Jc,w.j.Hd);
w.j.Tp=function(){w.j.Tp.w.constructor.call(this);this.type="jagged edge";this.height=w.j.v.Yg.height;this.width=w.j.v.Yg.width};v(w.j.Tp,w.j.Hd);w.j.O=function(a,c){w.j.O.w.constructor.call(this);this.cw=a;this.Vc=$b(a);this.hC=a instanceof w.Ge&&a.dw;this.type="field";a=this.cw.wg();this.height=a.height;this.width=a.width;this.gE=c};v(w.j.O,w.j.Hd);
w.j.Qp=function(a){w.j.Qp.w.constructor.call(this,a);this.type="inline input";this.Xj?(this.width=this.Iq+w.j.v.da+w.j.v.De,this.height=this.On+w.j.v.De):(this.height=w.j.v.lz,this.width=w.j.v.mz);this.wf=w.j.v.ll;this.yl=w.j.v.ee.height;this.Yj=w.j.v.ee.width};v(w.j.Qp,w.j.Xg);w.j.gq=function(a){w.j.gq.w.constructor.call(this,a);this.type="statement input";this.Xj?(this.width=w.j.v.dA,this.height=this.On+w.j.v.qA,this.Xj.$&&(this.height-=w.j.v.pc.height)):(this.height=w.j.v.nz,this.width=w.j.v.oz)};
v(w.j.gq,w.j.Xg);w.j.Mp=function(a){w.j.Mp.w.constructor.call(this,a);this.type="external value input";this.height=this.Xj?this.On-2*w.j.v.ll:w.j.v.fe;this.width=w.j.v.pz;this.wf=w.j.v.ll;this.yl=w.j.v.ee.height;this.Yj=w.j.v.ee.width};v(w.j.Mp,w.j.Xg);w.j.Yp=function(){w.j.Yp.w.constructor.call(this);this.type="output connection";this.height=w.j.v.ee.height;this.width=w.j.v.ee.width;this.wf=w.j.v.ll};v(w.j.Yp,w.j.Hd);
w.j.Zp=function(){w.j.Zp.w.constructor.call(this);this.type="previous connection";this.height=w.j.v.pc.height;this.width=w.j.v.pc.width};v(w.j.Zp,w.j.Hd);w.j.Xp=function(){w.j.Xp.w.constructor.call(this);this.type="next connection";this.height=w.j.v.pc.height;this.width=w.j.v.pc.width};v(w.j.Xp,w.j.Hd);w.j.Np=function(){w.j.Np.w.constructor.call(this);this.type="hat";this.height=w.j.v.Zg;this.width=w.j.v.pi.width};v(w.j.Np,w.j.Hd);
w.j.Bn=function(){w.j.Bn.w.constructor.call(this);this.type="square corner";this.height=w.j.v.pc.height;this.width=w.j.v.Zg};v(w.j.Bn,w.j.Hd);w.j.xn=function(){w.j.xn.w.constructor.call(this);this.type="round corner";this.width=w.j.v.M;this.height=w.j.v.pc.height};v(w.j.xn,w.j.Hd);w.j.Mj=function(){this.type="row";this.yj=0;this.elements=[];this.height=this.width=0;this.Ew=this.Cw=this.Hr=this.Sd=this.Xl=!1};w.j.Mj.prototype.Mf=function(){return!1};
w.j.Mj.prototype.measure=function(){for(var a=0,c=0;c<this.elements.length;c++){var d=this.elements[c];this.width+=d.width;!d.Td||"statement input"!=d.type&&"external value input"!=d.type||(a+=d.Iq);d.Mf()||(this.height=Math.max(this.height,d.height))}this.bF=this.width+a};function jh(a){for(var c=a.elements.length-1;0<=c;c--){var d=a.elements[c];if(!d.Mf()){if(d.Td)return d;if(dh(d))return d.gE}}return null}w.j.At=function(a,c){this.type="between-row spacer";this.width=c;this.height=a;this.gw=!1};
v(w.j.At,w.j.Hd);w.j.Pp=function(a){this.type="in-row spacer";this.width=a;this.height=w.j.v.lA};v(w.j.Pp,w.j.Hd);w.j.lq=function(a){w.j.lq.w.constructor.call(this);this.elements=[];this.type="top row";this.SC=!!a.W;this.connection=a.W;a.U.length&&a.U[0].type==w.ua&&!a.isCollapsed()?this.height=w.j.v.ud:this.height=w.j.v.gi};v(w.j.lq,w.j.Mj);
w.j.Fp=function(a){w.j.Fp.w.constructor.call(this);this.type="bottom row";this.Ir=!!a.$;this.connection=a.$;var c=a.U.length&&a.U[a.U.length-1].type==w.ua;this.Dw=c&&kh(a);this.height=c?w.j.v.ud:w.j.v.pc.height};v(w.j.Fp,w.j.Mj);w.j.fA=function(a){this.T=a;this.V=a.V?new w.j.Yp:null;this.Sw=kh(a)&&!a.isCollapsed();this.isCollapsed=a.isCollapsed();this.Lf=a.Lf();this.B=a.B;this.Yd=this.width=this.My=this.height=0;this.rows=[];this.Jr=[];this.ke=this.gf=null;a=this.T.yg?"cap"===this.T.yg:w.m.pi;var c=!!this.T.W;var d=this.T;d=d.W&&A(d.W);d=!!this.T.V||a||d&&z(d)==this.T;this.gf=new w.j.lq(this.T);d?this.gf.elements.push(new w.j.Bn):this.gf.elements.push(new w.j.xn);a?this.gf.elements.push(new w.j.Np):c&&this.gf.elements.push(new w.j.Zp);
this.rows.push(this.gf);a=new w.j.Mj;d=gb(this.T);if(d.length)for(c=0;c<d.length;c++){var e=d[c],f=new w.j.Jc(e);this.isCollapsed&&e.Eq?this.Jr.push(f):a.elements.push(f)}e=void 0;for(c=0;c<this.T.U.length;c++)if(d=this.T.U[c],d.isVisible()){!e||d.type!=w.ua&&(d.type!=w.La&&d.type!=w.Fe||this.Sw)||(this.rows.push(a),a=new w.j.Mj);for(e=0;e<d.za.length;e++)a.elements.push(new w.j.O(d.za[e],d));e=d;f=a;this.Sw&&e.type==w.La?(f.elements.push(new w.j.Qp(e)),f.Hr=!0):e.type==w.ua?(f.elements.push(new w.j.gq(e)),
f.Sd=!0):e.type==w.La?(f.elements.push(new w.j.Mp(e)),f.Xl=!0):e.type==w.Fe&&(f.Cw=!0);e=d}this.isCollapsed&&(a.Ew=!0,a.elements.push(new w.j.Tp));a.elements.length&&this.rows.push(a);a=!!this.T.V||!!z(this.T);this.ke=new w.j.Fp(this.T);a?this.ke.elements.push(new w.j.Bn):this.ke.elements.push(new w.j.xn);this.ke.Ir&&this.ke.elements.push(new w.j.Xp);this.rows.push(this.ke);for(a=0;a<this.rows.length;a++)for(c=this.rows[a],d=c.elements,c.elements=[],"top row"!=c.type&&"bottom row"!=c.type&&c.elements.push(new w.j.Pp(lh(this,
null,d[0]))),e=0;e<d.length;e++)c.elements.push(d[e]),c.elements.push(new w.j.Pp(lh(this,d[e],d[e+1])));for(e=d=c=a=0;e<this.rows.length;e++)f=this.rows[e],f.measure(),f.Sd||(c=Math.max(c,f.width)),f.Sd&&(a=Math.max(a,f.width-jh(f).width)),d=Math.max(d,f.bF);this.width=(this.Yd=a)?Math.max(c,a+2*w.j.v.pc.width):c;for(e=0;e<this.rows.length;e++)f=this.rows[e],f.Sd&&(f.Yd=this.Yd);this.My=Math.max(c,d);for(a=0;a<this.rows.length;a++)if(c=this.rows[a],!c.Sd&&!c.Hr&&(d=c.width,e=this.width,"bottom row"===
c.type&&c.Dw&&(e=w.j.v.Pz),d=e-d))if(e=c.elements,f=jh(c)){var h=c.elements[0],k=c.elements[c.elements.length-1];c.Xl&&(k=e[e.length-3]);f.align==w.Aj?k.width+=d:f.align==w.Xk?(h.width+=d/2,k.width+=d/2):f.align==w.Yk&&(h.width+=d);c.width+=d}else if("top row"===c.type||"bottom row"===c.type)c.elements[c.elements.length-1].width+=d,c.width+=d;a=this.rows;this.rows=[];for(c=0;c<a.length;c++)this.rows.push(a[c]),c!==a.length-1&&this.rows.push(mh(this,a[c],a[c+1]));for(c=a=0;c<this.rows.length;c++)if(d=
this.rows[c],d.yj=a,a+=d.height,d==this.ke&&a<w.j.v.sn&&(this.ke.height+=w.j.v.sn-a,a=w.j.v.sn),!d.Mf())for(f=e=0;f<d.elements.length;f++){h=d.elements[f];h.ag=e;k=d.yj;if(dh(h)){if(k+=h.height/2,d.Hr||d.Sd)k+=w.j.v.uA}else k=fh(h)?k+h.height/2:ih(h)?k+(d.height+h.height/2):k+d.height/2;h.ui=k;e+=h.width}this.height=a};
function lh(a,c,d){if(!c)return dh(d)&&d.Vc?w.j.v.gi:d.Td&&fh(d)?w.j.v.Yt:gh(d)?w.j.v.rA:w.j.v.ud;if(!c.Td&&!d)return dh(c)&&c.Vc?w.j.v.gi:"icon"==c.type?2*w.j.v.ud+1:"hat"==c.type?w.j.v.Zg:hh(c)||ih(c)?w.j.v.ud:"round corner"==c.type?w.j.v.Rz:"jagged edge"==c.type?w.j.v.Zg:w.j.v.ud;if(c.Td&&!d){if(eh(c))return w.j.v.Zg;if(fh(c))return w.j.v.ud;if(gh(c))return w.j.v.Zg}if(!c.Td&&d.Td){if(c.Vc){if(fh(d)||eh(d))return w.j.v.jA}else{if(fh(d)||eh(d))return w.j.v.Yt;if(gh(d))return w.j.v.ud}return w.j.v.ud-
1}if("icon"==c.type&&!d.Td)return w.j.v.ud;if(fh(c)&&!d.Td)return d.Vc?w.j.v.gi:w.j.v.ud;if("square corner"==c.type){if("hat"==d.type)return w.j.v.Zg;if(hh(d))return w.j.v.Kj;if(ih(d))return a=(a.B?1:-1)*w.j.v.De/2,w.j.v.Kj+a}if("round corner"==c.type){if(hh(d))return w.j.v.au;if(ih(d))return a=(a.B?1:-1)*w.j.v.De/2,w.j.v.au+a}return!c.Td&&!d.Td&&c.Vc==d.Vc||"jagged edge"==d.type?w.j.v.ud:w.j.v.gi}
function mh(a,c,d){a=new w.j.At("top row"===c.type&&"bottom row"===d.type?w.j.v.kz:"top row"===c.type||"bottom row"===d.type?w.j.v.Zg:c.Xl&&d.Xl?w.j.v.ud:!c.Sd&&d.Sd?w.j.v.Uy:c.Sd&&d.Sd||d.Cw?w.j.v.ud:w.j.v.gi,"bottom row"===d.type&&d.Dw?d.width:a.width);c.Sd&&(a.gw=!0);return a};w.j.Bb={};w.j.Bb.Ie=.5;w.j.Bb.eq=w.g.I.moveBy(w.j.Bb.Ie,w.j.Bb.Ie);w.j.Bb.Jz=function(){var a=w.j.v.M,c=w.j.Bb.Ie,d=(1-Math.SQRT1_2)*(a+c)-c,e=w.g.I.moveBy(d,d)+w.g.I.arc("a","0 0,0",a,w.g.I.Oa(-d-c,a-d)),f=w.g.I.arc("a","0 0,0",a+c,w.g.I.Oa(a+c,a+c)),h=w.g.I.moveBy(d,-d)+w.g.I.arc("a","0 0,0",a+c,w.g.I.Oa(a-d,d+c));return{height:a,xs:function(k){return k?e:""},fp:function(k){return k?f:h}}}();
w.j.Bb.cA=function(){var a=w.j.v.M,c=w.j.Bb.Ie,d=(1-Math.SQRT1_2)*(a-c)+c,e=w.g.I.moveBy(d,d),f=w.g.I.moveBy(c,a-c),h=w.g.I.arc("A","0 0,1",a-c,w.g.I.Oa(a,c));return{height:a,nt:function(k){return(k?e:f)+h},xq:function(k){return w.g.I.moveTo(d+c,k-d)+w.g.I.arc("A","0 0,1",a-c,w.g.I.Oa(c,k-a))}}}();
w.j.Bb.ee=function(){var a=w.j.v.da,c=w.j.v.fe,d=w.g.I.moveTo(-.25*a,8.4)+w.g.I.lineTo(-.45*a,-2.1),e=w.g.I.Wb("v",2.5)+w.g.I.moveBy(.97*-a,2.5)+w.g.I.curve("q",[w.g.I.Oa(.05*-a,10),w.g.I.Oa(.3*a,9.5)])+w.g.I.moveBy(.67*a,-1.9)+w.g.I.Wb("v",2.5),f=w.g.I.Wb("V",c+w.j.v.ll-1.5)+w.g.I.moveBy(-.92*a,-.5)+w.g.I.curve("q",[w.g.I.Oa(-.19*a,-5.5),w.g.I.Oa(0,-11)])+w.g.I.moveBy(.92*a,1)+w.g.I.Wb("V",.5)+w.g.I.Wb("H",1),h=w.g.I.moveBy(-5,c-.7)+w.g.I.lineTo(.46*a,-2.1);return{width:a,height:c,ys:function(k){return k?
d:f},Ih:function(k){return k?e:h}}}();w.j.Bb.pc={cj:w.g.I.Wb("h",w.j.Bb.Ie)+w.j.v.pc.cj};w.j.Bb.Yg={cj:w.g.I.lineTo(5.1,2.6)+w.g.I.moveBy(-10.2,6.8)+w.g.I.lineTo(5.1,2.6)};w.j.Bb.pi=function(){var a=w.g.I.moveBy(25,-8.7)+w.g.I.curve("c",[w.g.I.Oa(29.7,-6.2),w.g.I.Oa(57.2,-.5),w.g.I.Oa(75,8.7)]),c=w.g.I.curve("c",[w.g.I.Oa(17.8,-9.2),w.g.I.Oa(45.3,-14.9),w.g.I.Oa(75,-8.7)])+w.g.I.moveTo(100.5,.5);return{path:function(d){return d?a:c}}}();w.j.Rt=function(a,c){this.Ia=a;this.dj=c;this.la=this.dj.se;this.Ag=this.dj.Lr;this.Kc=this.Ia.B;this.Te=w.j.Bb.Ie;this.us=w.j.Bb.cA;this.Io=w.j.Bb.Jz;this.wm=w.j.Bb.ee;this.KD=w.j.Bb.pc;this.HE=w.j.Bb.pi;this.Tw=w.j.Bb.Yg};w.j.Rt.prototype.ar=function(a){this.Ia.B&&(this.la.push("H",a.width-this.Te),this.la.push(this.Tw.cj),this.la.push(w.g.I.Wb("v",a.height-this.Tw.height-this.Te)))};function nh(a,c){c.gw&&a.la.push("H",c.width);a.Kc&&(a.la.push("H",c.width-a.Te),a.la.push("v",c.height))};w.j.jz=function(){this.yi=[];this.Ok=null};function oh(a,c){if(c.type==w.La){var d=4;var e="magenta";var f="none"}else c.type==w.ce?(d=2,f=e="magenta"):c.type==w.ua?(d=4,e="goldenrod",f="none"):c.type==w.de&&(d=2,f=e="goldenrod");a.yi.push(w.g.o.H("circle",{"class":"blockRenderDebug",cx:c.Cg.x,cy:c.Cg.y,r:d,fill:f,stroke:e},a.Ok))};w.j.Ot=function(a,c){this.T=a;this.Ia=c;a.Ba();this.dj=new w.m.ou;this.la=this.dj.df;this.Ag=this.dj.Sr;this.yc=new w.j.Rt(this.Ia,this.dj)};w.j.Ot.prototype.ar=function(a){this.yc&&this.yc.ar(a);this.la.push(w.j.v.Yg.path);this.la.push("v",a.height-w.j.v.Yg.height)};w.j.oa=function(a){a.Px||(a.Px=new w.j.jz);var c=new w.j.fA(a);a=new w.j.Ot(a,c);for(c=0;c<a.Ia.Jr.length;c++)a.Ia.Jr[c].icon.zc.setAttribute("display","none");c=a.Ia.gf;var d=c.elements;if(a.yc){for(var e=a.yc,f=0,h;h=c.elements[f];f++)"square corner"===h.type?e.la.push(w.j.Bb.eq):"round corner"===h.type?e.la.push(e.us.nt(e.Kc)):"previous connection"===h.type?e.la.push(e.KD.cj):"hat"===h.type?e.la.push(e.HE.path(e.Kc)):h.Mf()&&e.la.push("H",h.ag+h.width-e.Te);e.la.push("H",c.width-e.Te);nh(a.yc,
c)}a.Ia.gf.SC&&(e=w.j.v.Kj,Wa(a.Ia.gf.connection,a.Ia.B?-e:e,0));for(e=0;f=d[e];e++)"square corner"===f.type?a.la.push(w.j.v.eq):"round corner"===f.type?a.la.push(w.j.v.jq,w.j.v.ku.nt):"previous connection"===f.type?a.la.push(w.j.v.pc.cj):"hat"===f.type?a.la.push(w.j.v.pi.path):f.Mf()&&a.la.push("h",f.width);a.la.push("v",c.height);for(c=1;c<a.Ia.rows.length-1;c++)if(e=a.Ia.rows[c],e.Ew)a.ar(e);else if(e.Sd){d=a;if(d.yc){f=d.yc;h=e;if(f.Kc){var k=h.height-2*f.Io.height;h=w.g.I.moveTo(h.Yd,h.yj)+f.Io.xs(f.Kc)+
w.g.I.Wb("v",k)+f.Io.fp(f.Kc)}else h=w.g.I.moveTo(h.Yd,h.yj+h.height)+f.Io.fp(f.Kc);f.la.push(h)}d.la.push("H",e.Yd+w.j.v.Kj+w.j.v.pc.width);d.la.push(w.j.v.pc.Dx+" h -"+(w.j.v.Id-w.j.v.M)+w.j.v.Op.xs);d.la.push("v",e.height-2*w.j.v.Op.height);d.la.push(w.j.v.Op.fp);f=jh(e);f.connection&&(h=e.Yd+w.j.v.Kj,d.Ia.B&&(h*=-1),Wa(f.connection,h+.5,e.yj+w.j.v.De))}else if(e.Xl){d=a;f=jh(e);if(d.yc){h=d.yc;k=e;var l=jh(k);h.Kc?(k=k.height-l.yl+h.Te,k=w.g.I.Wb("v",-h.Te)+h.wm.Ih(h.Kc)+w.g.I.Wb("v",k)):k=w.g.I.moveTo(k.width,
k.yj)+h.wm.Ih(h.Kc);h.la.push(k)}d.la.push("H",e.width);d.la.push(w.j.v.ee.Ih);d.la.push("v",e.height-f.yl);f=jh(e);f.connection&&(h=e.width+w.j.v.De,d.Ia.B&&(h*=-1),Wa(f.connection,h,e.yj))}else d=a,d.yc&&nh(d.yc,e),d.la.push("H",e.width),d.la.push("v",e.height);d=a.Ia.ke;c=d.elements;a.yc&&(e=a.yc,f=e.Ia.height,e.Kc?e.la.push("V",f):(h=e.Ia.ke.elements[0],"square corner"===h.type?e.la.push(w.g.I.moveTo(e.Te,f-e.Te)):"round corner"===h.type&&e.la.push(e.us.xq(f))));e=a.Ia.ke;e.Ir&&(f=(e.Ir?e.elements[2]:
null).ag,Wa(e.connection,(a.Ia.B?-f:f)+.5,a.Ia.height+w.j.v.De));a.la.push("v",d.height);for(d=c.length-1;0<=d;d--)e=c[d],"next connection"===e.type?a.la.push(w.j.v.pc.Dx):"square corner"===e.type?a.la.push("H 0"):"round corner"===e.type?a.la.push(w.j.v.ku.xq):e.Mf()&&a.la.push("h",-1*e.width);a.yc&&(c=a.yc,c.Ia.V&&c.la.push(c.wm.ys(c.Kc)),c.Kc||("square corner"==c.Ia.gf.elements[0].type?c.la.push("V",c.Te):c.la.push("V",c.us.height)));(c=a.Ia.V)&&Wa(a.T.V,0,a.Ia.V.wf);c&&(a.la.push("V",c.wf+c.height),
a.la.push(w.j.v.ee.ys));a.la.push("z");for(c=0;c<a.Ia.rows.length;c++)if(d=a.Ia.rows[c],!d.Mf())for(e=0;e<d.elements.length;e++)if(h=d.elements[e],fh(h)){f=a;if(f.yc){k=f.yc;var m=h;l=k.Te;var n=m.ag+m.Yj,q=m.ui-m.height/2,r=m.width-m.Yj,t=q+l;k.Kc?(q=m.wf-l,m=m.height-(m.wf+m.yl)+l,l=w.g.I.moveTo(n-l,t)+w.g.I.Wb("v",q)+k.wm.Ih(k.Kc)+w.g.I.Wb("v",m)+w.g.I.Wb("h",r)):l=w.g.I.moveTo(m.ag+m.width+l,t)+w.g.I.Wb("v",m.height)+w.g.I.Wb("h",-r)+w.g.I.moveTo(n,q+m.wf)+k.wm.Ih(k.Kc);k.Ag.push(l)}k=h.width;
l=h.height;n=h.wf;r=h.yl+n;f.Ag.push("M",h.ag+h.Yj+","+(h.ui-l/2));f.Ag.push("v ",n);f.Ag.push(w.j.v.ee.Ih);f.Ag.push("v",l-r);f.Ag.push("h",k-h.Yj);f.Ag.push("v",-l);f.Ag.push("z");k=h.ui-h.height/2;h.connection&&(l=h.ag+h.Yj+w.j.v.De,f.Ia.B&&(l*=-1),Wa(h.connection,l,k+h.wf+w.j.v.De))}else if("icon"==h.type||dh(h)){f=a;if("field"==h.type)var p=h.cw.Y();else"icon"==h.type&&(p=h.icon.zc);k=h.ui-h.height/2;l=h.ag;n="";f.Ia.B&&(l=-(l+h.width),h.hC&&(l+=h.width,n="scale(-1 1)"));"icon"==h.type?(p.setAttribute("display",
"block"),p.setAttribute("transform","translate("+l+","+k+")"),ph(h.icon)):p.setAttribute("transform","translate("+l+","+k+")"+n);f.Ia.Lf&&p.setAttribute("display","none")}qh(a.T,a.dj);p=a.T.Px;c=a.T;d=a.Ia;for(e=0;f=p.yi[e];e++)w.g.o.removeNode(f);p.yi=[];p.Ok=c.Y();for(f=e=0;f<d.rows.length;f++){h=d.rows[f];if(h.Mf())p.yi.push(w.g.o.H("rect",{"class":"rowSpacerRect blockRenderDebug",x:d.B?-h.width:0,y:e,width:h.width,height:h.height},p.Ok));else{k=p;l=h;n=e;r=d.B;for(t=0;t<l.elements.length;t++)if(m=
l.elements[t],m.Mf()){q=m.ag;r&&(q=-(q+m.width));var x=Math.min(m.height,l.height);k.yi.push(w.g.o.H("rect",{"class":"elemSpacerRect blockRenderDebug",x:q,y:m.ui-x/2,width:m.width,height:x},k.Ok))}else q=k,x=m.ag,r&&(x=-(x+m.width)),q.yi.push(w.g.o.H("rect",{"class":"rowRenderingRect blockRenderDebug",x:x,y:m.ui-m.height/2,width:m.width,height:m.height},q.Ok)),m.Td&&oh(q,m.connection);k.yi.push(w.g.o.H("rect",{"class":"elemRenderingRect blockRenderDebug",x:r?-l.width:0,y:n,width:l.width,height:l.height},
k.Ok))}e+=h.height}c.W&&oh(p,c.W);c.$&&oh(p,c.$);c.V&&oh(p,c.V);a.T.height=a.Ia.height+w.j.v.De;a.T.width=a.Ia.My+w.j.v.De;a.T.tp=a.Ia.gf.DG};w.vb=Object.create(null);w.Jc=function(a){this.T=a};b=w.Jc.prototype;b.Eq=!0;b.jl=17;b.pb=null;b.qk=null;function rh(a){a.zc||(a.zc=w.g.o.H("g",{"class":"blocklyIconGroup"},null),a.T.od&&w.g.o.bb(a.zc,"blocklyIconGroupReadonly"),a.$q(a.zc),a.T.Y().appendChild(a.zc),w.ba(a.zc,"mouseup",a,a.Nr),a.Pg())}b.J=function(){w.g.o.removeNode(this.zc);this.zc=null;this.Da(!1);this.T=null};b.Pg=function(){};b.isVisible=function(){return!!this.pb};b.Nr=function(a){this.T.A.Bc()||this.T.od||w.g.Ah(a)||this.Da(!this.isVisible())};
b.ye=function(){this.isVisible()&&this.pb.sd(this.T.fh)};function ib(a,c){a.qk=c;a.isVisible()&&(a=a.pb,a.Ib=c,a.jj&&zb(a))}function ph(a){var c=a.T.Ba(),d=w.g.Qd(a.zc);c=new w.g.R(c.x+d.x+a.jl/2,c.y+d.y+a.jl/2);w.g.R.Oe(a.qk,c)||ib(a,c)};w.Comment=function(a){w.Comment.w.constructor.call(this,a);rh(this)};v(w.Comment,w.Jc);b=w.Comment.prototype;b.va="";b.sa=160;b.Ma=80;
b.$q=function(a){w.g.o.H("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);w.g.o.H("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);w.g.o.H("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
b.Cl=function(){this.Od=w.g.o.H("foreignObject",{x:w.ja.Hc,y:w.ja.Hc},null);var a=document.createElementNS(w.g.o.pf,"body");a.setAttribute("xmlns",w.g.o.pf);a.className="blocklyMinimalBody";var c=document.createElementNS(w.g.o.pf,"textarea");c.className="blocklyCommentTextarea";c.setAttribute("dir",this.T.B?"RTL":"LTR");a.appendChild(c);this.Eb=c;this.Od.appendChild(a);w.ba(c,"mouseup",this,this.OE,!0,!0);w.ba(c,"wheel",this,function(d){d.stopPropagation()});w.ba(c,"change",this,function(){this.va!=
c.value&&(w.i.ka(new w.i.jf(this.T,"comment",null,this.va,c.value)),this.va=c.value)});setTimeout(function(){c.focus()},0);return this.Od};b.Pg=function(){this.isVisible()&&(this.Da(!1),this.Da(!0));w.Jc.prototype.Pg.call(this)};b.op=function(){if(this.isVisible()){var a=this.pb.Ei(),c=2*w.ja.Hc;this.Od.setAttribute("width",a.width-c);this.Od.setAttribute("height",a.height-c);this.Eb.style.width=a.width-c-4+"px";this.Eb.style.height=a.height-c-4+"px"}};
b.Da=function(a){if(a!=this.isVisible())if(w.i.ka(new w.i.ac(this.T,"commentOpen",!a,a)),!this.T.Vc()&&!this.Eb||w.g.userAgent.Ug)w.ie.prototype.Da.call(this,a);else{var c=this.fc(),d=this.Ei();a?(this.pb=new w.ja(this.T.A,this.Cl(),this.T.ad,this.qk,this.sa,this.Ma),Bb(this.pb,this.T.id),a=this.op.bind(this),this.pb.Js=a,this.ye()):(this.pb.J(),this.Od=this.Eb=this.pb=null);this.Uf(c);this.Oh(d.width,d.height)}};b.OE=function(){Db(this.pb)&&this.Eb.focus()};
b.Ei=function(){return this.isVisible()?this.pb.Ei():{width:this.sa,height:this.Ma}};b.Oh=function(a,c){this.Eb?this.pb.Oh(a,c):(this.sa=a,this.Ma=c)};b.fc=function(){return this.Eb?this.Eb.value:this.va};b.Uf=function(a){this.va!=a&&(w.i.ka(new w.i.jf(this.T,"comment",null,this.va,a)),this.va=a);this.Eb&&(this.Eb.value=a)};b.J=function(){w.i.isEnabled()&&this.Uf("");this.T.gb=null;w.Jc.prototype.J.call(this)};w.Dj=function(){this.Kb=[]};function Ua(a,c){if(c.uh)throw Error("Connection already in database.");c.F.od||(a.Kb.splice(Za(a,c),0,c),c.uh=!0)}function sh(a,c){if(!a.Kb.length)return-1;var d=Za(a,c);if(d>=a.Kb.length)return-1;for(var e=c.Sa,f=d;0<=f&&a.Kb[f].Sa==e;){if(a.Kb[f]==c)return f;f--}for(;d<a.Kb.length&&a.Kb[d].Sa==e;){if(a.Kb[d]==c)return d;d++}return-1}
function Za(a,c){if(!a.Kb.length)return 0;for(var d=0,e=a.Kb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Kb[f].Sa<c.Sa)d=f+1;else if(a.Kb[f].Sa>c.Sa)e=f;else{d=f;break}}return d}function Pa(a,c){if(!c.uh)throw Error("Connection not in database.");var d=sh(a,c);if(-1==d)throw Error("Unable to find connection in connectionDB.");c.uh=!1;a.Kb.splice(d,1)}
function bb(a,c,d){function e(n){var q=h-f[n].ub,r=k-f[n].Sa;Math.sqrt(q*q+r*r)<=d&&m.push(f[n]);return r<d}var f=a.Kb,h=c.ub,k=c.Sa;a=0;for(var l=c=f.length-2;a<l;)f[l].Sa<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}w.Dj.Ja=function(){var a=[];a[w.La]=new w.Dj;a[w.ce]=new w.Dj;a[w.ua]=new w.Dj;a[w.de]=new w.Dj;return a};w.Ta=function(a,c){w.Ta.w.constructor.call(this,c);this.s=a};v(w.Ta,w.bl);w.Ta.Jp=5;w.Ta.kn=100;w.Ta.pF=24;w.Ta.RF=5;w.Ta.yn=10;w.Ta.Ip="#cc0a0a";w.Ta.Oz="#4286f4";b=w.Ta.prototype;b.Ud=null;b.gh=null;b.Y=function(){return this.C};
b.ia=function(){this.C=w.g.o.H("g",{"class":"blocklyCursor"},null);var a=this.tk?w.Ta.Oz:w.Ta.Ip;this.Oq=w.g.o.H("g",{width:w.Ta.kn,height:w.Ta.Jp},this.C);this.hh=w.g.o.H("rect",{x:"0",y:"0",fill:a,width:w.Ta.kn,height:w.Ta.Jp,style:"display: none;"},this.Oq);this.ih=w.g.o.H("rect",{"class":"blocklyVerticalCursor",x:"0",y:"0",rx:"10",ry:"10",style:"display: none;",stroke:a},this.Oq);this.Tn=w.g.o.H("path",{width:w.Ta.kn,height:w.Ta.Jp,d:"m 0,0 "+w.m.iq+" v 5",transform:"",style:"display: none;",
fill:a},this.Oq);this.tk||(w.g.o.H("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:w.Ta.Ip+";transparent;transparent;",repeatCount:"indefinite"},this.hh),w.g.o.H("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:w.Ta.Ip+";transparent;transparent;",repeatCount:"indefinite"},this.Tn));return this.C};function th(a,c){var d=a.Ud;if(c!=d){var e=a.Y();c?c.appendChild(e):d&&a.s.Ya.appendChild(e);a.Ud=c}}
function uh(a,c,d,e){a.hh.setAttribute("x",c);a.hh.setAttribute("y",d);a.hh.setAttribute("width",e)}function vh(a,c,d,e,f){a.ih.setAttribute("x",c);a.ih.setAttribute("y",d);a.ih.setAttribute("width",e);a.ih.setAttribute("height",f)}function wh(a){a.Ca();a.gh.style.display=""}b.Ca=function(){this.hh.style.display="none";this.ih.style.display="none";this.Tn.style.display="none"};
b.Ey=function(){if(this.sb){var a=this.sb;if(a.bd===w.D.types.Ae)a=this.sb.pa,this.gh=this.ih,th(this,a.Y()),vh(this,0,0,a.width,a.height),wh(this);else if(a.pa.type===w.La||a.bd===w.D.types.li)a=this.sb.pa,this.gh=this.Tn,th(this,a.F.Y()),this.Tn.setAttribute("transform","translate("+a.Cg.x+","+a.Cg.y+")"+(a.F.B?" scale(-1 1)":"")),wh(this);else if(a.pa.type===w.ua){a=this.sb.pa;var c=a.Cg.y,d=a.F.zb().width;this.gh=this.hh;th(this,a.F.Y());uh(this,0,c,d);wh(this)}else if(a.bd===w.D.types.mi)a=this.sb.pa,
c=a.F.zb().width,this.gh=this.hh,th(this,a.F.Y()),uh(this,0,0,c),wh(this);else if(a.bd===w.D.types.cg)a=this.sb.pa,c=a.Md.width.baseVal.value,d=a.Md.height.baseVal.value,this.gh=this.ih,th(this,a.Y()),vh(this,0,0,c,d),wh(this);else if(a.bd===w.D.types.ig)a=this.sb.Wk,this.gh=this.hh,th(this,this.s.Ya),uh(this,a.x,a.y,w.Ta.kn),wh(this);else if(a.bd===w.D.types.Je){a=this.sb.pa;d=a.zb();c=d.width+w.Ta.yn;d=d.height+w.Ta.yn;var e=-1*w.Ta.yn/2,f=-1*w.Ta.yn/2;a.V&&(e-=w.m.da);this.gh=this.ih;th(this,a.Y());
vh(this,e,f,c,d);wh(this)}}};b.next=function(){return this.tk?null:w.Ta.w.next.call(this)};b.am=function(){return this.tk?null:w.Ta.w.am.call(this)};b.Fk=function(){return this.tk?null:w.Ta.w.Fk.call(this)};b.tm=function(){return this.tk?null:w.Ta.w.tm.call(this)};b.J=function(){this.C&&w.g.o.removeNode(this.C)};w.ei=function(a,c){this.ik=a;this.ht=c.spacing;this.Yw=c.length;this.oD=(this.fs=a.firstChild)&&this.fs.nextSibling;this.DE=c.snap};w.ei.prototype.Nh=1;w.ei.prototype.J=function(){this.ik=null};w.ei.prototype.update=function(a){this.Nh=a;var c=this.ht*a||100;this.ik.setAttribute("width",c);this.ik.setAttribute("height",c);c=Math.floor(this.ht/2)+.5;var d=c-this.Yw/2,e=c+this.Yw/2;c*=a;d*=a;e*=a;xh(this.fs,a,d,e,c,c);xh(this.oD,a,c,c,d,e)};
function xh(a,c,d,e,f,h){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",h))}w.ei.prototype.moveTo=function(a,c){this.ik.setAttribute("x",a);this.ik.setAttribute("y",c);(w.g.userAgent.Ug||w.g.userAgent.nn)&&this.update(this.Nh)};
w.ei.ia=function(a,c,d){a=w.g.o.H("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(w.g.o.H("line",{stroke:c.colour},a),1<c.length&&w.g.o.H("line",{stroke:c.colour},a)):w.g.o.H("line",{},a);return a};w.Jd=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,h=!1,k=!1,l=!1,m=!1;else{d=w.Jd.Bx(a.toolbox||null);e=!(!d||!d.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;h=a.collapse;void 0===h&&(h=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var q=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var t=a.toolboxPosition;t="end"===t?!1:!0;t=r?t?w.hd:w.ah:t==q?w.gg:w.wd;var p=
a.css;void 0===p&&(p=!0);var x="https://blockly-demo.appspot.com/static/media/";a.media?x=a.media:a.path&&(x=a.path+"media/");var D=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,I=a.theme||w.bh.Zh;this.B=q;this.Hh=D;this.collapse=h;this.tB=k;this.disable=l;this.readOnly=c;this.js=a.maxBlocks||Infinity;this.ks=a.maxInstances;this.$e=x;this.Aw=e;this.jc=w.Jd.jE(a,e);this.Fw=f;this.Ak=n;this.TC=m;this.RC=p;this.zd=r;this.Of=d;this.ww=w.Jd.iE(a);this.hb=w.Jd.kE(a);this.ra=t;this.PE=I};
w.Jd.prototype.Yc=null;w.Jd.prototype.Hg=null;w.Jd.prototype.Ab=null;w.Jd.jE=function(a,c){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?c:!!d.scrollbars||!!a.scrollbars;e.wj=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.mh=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
w.Jd.kE=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.wj=void 0===a.wheel?!1:!!a.wheel;c.ny=void 0===a.startScale?1:Number(a.startScale);c.mm=void 0===a.maxScale?3:Number(a.maxScale);c.om=void 0===a.minScale?.3:Number(a.minScale);c.uE=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);return c};w.Jd.iE=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.jb=a.colour||"#888";c.length=Number(a.length)||1;c.CG=0<c.spacing&&!!a.snap;return c};
w.Jd.Bx=function(a){if(a){if("string"!=typeof a&&(w.g.userAgent.Ug&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=w.P.Kg(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};w.Oj=function(a){this.s=a;this.Rd=new w.ya(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.be=new w.ya(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.Al=w.g.o.H("rect",{height:w.ya.Mb,width:w.ya.Mb,"class":"blocklyScrollbarBackground"},null);w.g.o.Pi(this.Al,a.$d)};w.Oj.prototype.mb=null;w.Oj.prototype.J=function(){w.g.o.removeNode(this.Al);this.mb=this.s=this.Al=null;this.Rd.J();this.Rd=null;this.be.J();this.be=null};
w.Oj.prototype.resize=function(){var a=this.s.Ab();if(a){var c=!1,d=!1;this.mb&&this.mb.Va==a.Va&&this.mb.$a==a.$a&&this.mb.yb==a.yb&&this.mb.xb==a.xb?(this.mb&&this.mb.xd==a.xd&&this.mb.rb==a.rb&&this.mb.tc==a.tc||(c=!0),this.mb&&this.mb.ld==a.ld&&this.mb.Fb==a.Fb&&this.mb.cc==a.cc||(d=!0)):d=c=!0;c&&this.Rd.resize(a);d&&this.be.resize(a);this.mb&&this.mb.Va==a.Va&&this.mb.xb==a.xb||this.Al.setAttribute("x",this.be.Zc.x);this.mb&&this.mb.$a==a.$a&&this.mb.yb==a.yb||this.Al.setAttribute("y",this.Rd.Zc.y);
this.mb=a}};w.Oj.prototype.set=function(a,c){var d={};a*=this.Rd.kc;c*=this.be.kc;var e=this.be.we,f=a/this.Rd.we;d.x=isNaN(f)?0:f;e=c/e;d.y=isNaN(e)?0:e;this.s.Hg(d);yh(this.Rd,a);yh(this.be,c)};
w.ya=function(a,c,d,e){this.s=a;this.Dk=d||!1;this.Mi=c;this.mb=null;this.Bl(e);this.Zc=new w.g.R(0,0);a=w.ya.Mb;c?(this.Zd.setAttribute("height",a),this.Pf.setAttribute("height",a),this.Yf.setAttribute("height",a-5),this.Yf.setAttribute("y",2.5),this.im="width",this.Ex="x"):(this.Zd.setAttribute("width",a),this.Pf.setAttribute("width",a),this.Yf.setAttribute("width",a-5),this.Yf.setAttribute("x",2.5),this.im="height",this.Ex="y");this.vx=w.ba(this.Zd,"mousedown",this,this.VD);this.wx=w.ba(this.Yf,
"mousedown",this,this.WD)};b=w.ya.prototype;b.ts=new w.g.R(0,0);b.my=0;b.we=0;b.sh=0;b.Wl=0;b.Bh=!0;b.vi=!0;w.ya.Mb=15;w.Touch.kq&&(w.ya.Mb=25);w.ya.xD=function(a,c){return a&&c&&a.Va==c.Va&&a.$a==c.$a&&a.rb==c.rb&&a.Fb==c.Fb&&a.yb==c.yb&&a.xb==c.xb&&a.xd==c.xd&&a.ld==c.ld&&a.tc==c.tc&&a.cc==c.cc?!0:!1};w.ya.prototype.J=function(){zh();w.cb(this.vx);this.vx=null;w.cb(this.wx);this.wx=null;w.g.o.removeNode(this.Pf);this.s=this.Yf=this.Zd=this.C=this.Pf=null};
function yh(a,c){a.Wl=c;a.Yf.setAttribute(a.Ex,a.Wl)}function Ah(a,c){a.we=c;a.Pf.setAttribute(a.im,a.we);a.Zd.setAttribute(a.im,a.we)}w.Oj.prototype.kj=function(a){this.Rd.kj(a);this.be.kj(a)};function Bh(a,c,d){a.Zc.x=c;a.Zc.y=d;w.g.o.zm(a.Pf,"translate("+(a.Zc.x+a.ts.x)+"px,"+(a.Zc.y+a.ts.y)+"px)")}b=w.ya.prototype;b.resize=function(a){if(!a&&(a=this.s.Ab(),!a))return;w.ya.xD(a,this.mb)||(this.mb=a,this.Mi?Ch(this,a):Dh(this,a),Eh(this))};
function Ch(a,c){var d=c.Va-1;a.Dk&&(d-=w.ya.Mb);Ah(a,Math.max(0,d));d=c.xb+.5;a.Dk&&a.s.B&&(d+=w.ya.Mb);Bh(a,d,c.yb+c.$a-w.ya.Mb-.5);Fh(a,c)}function Fh(a,c){a.Dk||a.Da(a.we<c.xd);a.kc=a.we/c.xd;if(-Infinity==a.kc||Infinity==a.kc||isNaN(a.kc))a.kc=0;a.sh=Math.max(0,c.Va*a.kc);a.Yf.setAttribute(a.im,a.sh);yh(a,Gh(a,(c.rb-c.tc)*a.kc))}function Dh(a,c){var d=c.$a-1;a.Dk&&(d-=w.ya.Mb);Ah(a,Math.max(0,d));d=c.xb+.5;a.s.B||(d+=c.Va-w.ya.Mb-1);Bh(a,d,c.yb+.5);Hh(a,c)}
function Hh(a,c){a.Dk||a.Da(a.we<c.ld);a.kc=a.we/c.ld;if(-Infinity==a.kc||Infinity==a.kc||isNaN(a.kc))a.kc=0;a.sh=Math.max(0,c.$a*a.kc);a.Yf.setAttribute(a.im,a.sh);yh(a,Gh(a,(c.Fb-c.cc)*a.kc))}
b.Bl=function(a){var c="blocklyScrollbar"+(this.Mi?"Horizontal":"Vertical");a&&(c+=" "+a);this.Pf=w.g.o.H("svg",{"class":c},null);this.C=w.g.o.H("g",{},this.Pf);this.Zd=w.g.o.H("rect",{"class":"blocklyScrollbarBackground"},this.C);a=Math.floor((w.ya.Mb-5)/2);this.Yf=w.g.o.H("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.C);w.g.o.Pi(this.Pf,B(this.s))};b.isVisible=function(){return this.Bh};b.kj=function(a){var c=a!=this.vi;this.vi=a;c&&this.Um()};
b.Da=function(a){var c=a!=this.isVisible();if(this.Dk)throw Error("Unable to toggle visibility of paired scrollbars.");this.Bh=a;c&&this.Um()};b.Um=function(){this.vi&&this.isVisible()?this.Pf.setAttribute("display","block"):this.Pf.setAttribute("display","none")};
b.VD=function(a){Qb(this.s);w.Touch.ng();zh();if(w.g.Ah(a))a.stopPropagation();else{var c=w.g.pm(a,B(this.s),Ih(this.s));c=this.Mi?c.x:c.y;var d=w.g.Nl(this.Yf);d=this.Mi?d.x:d.y;var e=this.Wl,f=.95*this.sh;c<=d?e-=f:c>=d+this.sh&&(e+=f);yh(this,Gh(this,e));Eh(this);a.stopPropagation();a.preventDefault()}};
b.WD=function(a){Qb(this.s);zh();w.g.Ah(a)?a.stopPropagation():(this.GE=this.Wl,Lb(this.s),this.my=this.Mi?a.clientX:a.clientY,w.ya.Xc=w.ba(document,"mouseup",this,this.aE),w.ya.ve=w.ba(document,"mousemove",this,this.XD),a.stopPropagation(),a.preventDefault())};b.XD=function(a){yh(this,Gh(this,this.GE+((this.Mi?a.clientX:a.clientY)-this.my)));Eh(this)};b.aE=function(){Rb(this.s);w.Touch.ng();zh()};function zh(){w.gc(!0);w.ya.Xc&&(w.cb(w.ya.Xc),w.ya.Xc=null);w.ya.ve&&(w.cb(w.ya.ve),w.ya.ve=null)}
function Gh(a,c){return c=0>=c||isNaN(c)||a.we<a.sh?0:Math.min(c,a.we-a.sh)}function Eh(a){var c=a.Wl/a.we;isNaN(c)&&(c=0);var d={};a.Mi?d.x=c:d.y=c;a.s.Hg(d)}b.set=function(a){yh(this,Gh(this,a*this.kc));Eh(this)};w.Kd=function(a,c){w.Kd.w.constructor.call(this,a,c);this.No=!1;this.le={};this.ly=this.vm=0;this.ss=null};v(w.Kd,w.Fj);w.Kd.IA=5;w.Kd.JA=6;b=w.Kd.prototype;b.Yq=function(a){w.Kd.w.Yq.call(this,a);!this.Mo&&w.Touch.Qo(a)&&Jh(this,a)};b.Vj=function(a){this.ss=w.ba(document,"mousedown",null,this.OC.bind(this),!0);this.ep=w.ba(document,"mousemove",null,this.Vl.bind(this),!0);this.Ck=w.ba(document,"mouseup",null,this.Co.bind(this),!0);a.preventDefault();a.stopPropagation()};
b.OC=function(a){!this.Bc()&&w.Touch.Qo(a)&&(Jh(this,a),this.No&&w.Dh())};b.Vl=function(a){if(this.Bc())w.Touch.et(a)&&w.Kd.w.Vl.call(this,a);else if(this.No){if(w.Touch.Qo(a)){this.le[w.Touch.Ao(a)]=Kh(this,a);var c=Object.keys(this.le);if(2==c.length){c=w.g.R.Vv(this.le[c[0]],this.le[c[1]])/this.ly;if(0<this.vm&&Infinity>this.vm){var d=c-this.vm;d=0<d?d*w.Kd.IA:d*w.Kd.JA;var e=this.$b,f=w.g.pm(a,B(e),Ih(e));e.zoom(f.x,f.y,d)}this.vm=c;a.preventDefault()}}w.Dh()}else w.Kd.w.Vl.call(this,a)};
b.Co=function(a){if(w.Touch.Qo(a)&&!this.Bc()){var c=w.Touch.Ao(a);this.le[c]&&delete this.le[c];2>Object.keys(this.le).length&&(this.le={},this.vm=0)}!this.No||this.Bc()?w.Touch.et(a)&&w.Kd.w.Co.call(this,a):(a.preventDefault(),a.stopPropagation(),this.J())};b.J=function(){w.Kd.w.J.call(this);this.ss&&w.cb(this.ss)};function Jh(a,c){a.le[w.Touch.Ao(c)]=Kh(a,c);var d=Object.keys(a.le);2==d.length&&(a.ly=w.g.R.Vv(a.le[d[0]],a.le[d[1]]),a.No=!0,c.preventDefault())}
function Kh(a,c){return a.$b?new w.g.R(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};w.Cu=function(a){this.s=a;this.Fr=!1;this.Zj=[];0>=this.s.options.Ak||(a={scrollbars:!0,pg:this.s.options.pg,Yc:this.s,B:this.s.B,Hh:this.s.options.Hh},this.s.zd?(a.ra=this.s.ra==w.hd?w.ah:w.hd,this.N=new w.Gj(a)):(a.ra=this.s.ra==w.gg?w.wd:w.gg,this.N=new w.Rj(a)),this.s.jd(Lh(this)))};b=w.Cu.prototype;b.si=47;b.Zm=44;b.Hj=16;b.Wp=20;b.fl=20;b.rn=10;b.bq=0;b.cq=32;b.xz=.1;b.vk=!1;b.Yo=0;b.C=null;b.up=null;b.es=0;b.Ch=0;b.hm=0;b.Rk=0;
b.ia=function(){this.C=w.g.o.H("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=w.g.o.H("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.C);w.g.o.H("rect",{width:this.si,height:this.Zm,y:this.Hj},c);var d=w.g.o.H("image",{width:w.gd.width,x:-this.bq,height:w.gd.height,y:-this.cq,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.C);d.setAttributeNS(w.g.o.Mc,"xlink:href",this.s.options.$e+w.gd.url);c=w.g.o.H("clipPath",{id:"blocklyTrashLidClipPath"+a},this.C);
w.g.o.H("rect",{width:this.si,height:this.Hj},c);this.up=w.g.o.H("image",{width:w.gd.width,x:-this.bq,height:w.gd.height,y:-this.cq,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.C);this.up.setAttributeNS(w.g.o.Mc,"xlink:href",this.s.options.$e+w.gd.url);w.ba(this.C,"mouseup",this,this.click);w.rc(d,"mouseover",this,this.AD);w.rc(d,"mouseout",this,this.zD);this.pq();return this.C};
b.Ja=function(a){0<this.s.options.Ak&&(w.g.o.Pi(this.N.ia("svg"),B(this.s)),this.N.Ja(this.s),this.N.Pw=function(){return!0});this.Qg=this.Wp+a;kb(this,!1);return this.Qg+this.Zm+this.Hj};b.J=function(){this.C&&(w.g.o.removeNode(this.C),this.C=null);this.s=this.up=null;clearTimeout(this.es)};
b.position=function(){if(this.Qg){var a=this.s.Ab();a&&(this.hm=a.ra==w.wd||this.s.zd&&!this.s.B?a.Va+a.xb-this.si-this.fl-w.ya.Mb:this.fl+w.ya.Mb,this.Rk=a.ra==w.ah?this.Qg:a.$a+a.yb-(this.Zm+this.Hj)-this.Qg,this.C.setAttribute("transform","translate("+this.hm+","+this.Rk+")"))}};b.ek=function(){if(!this.C)return null;var a=this.C.getBoundingClientRect(),c=a.top+this.cq-this.rn;a=a.left+this.bq-this.rn;return new w.g.Rect(c,c+this.Hj+this.Zm+2*this.rn,a,a+this.si+2*this.rn)};
function kb(a,c){a.vk!=c&&(clearTimeout(a.es),a.vk=c,a.pq())}b.pq=function(){this.Ch+=this.vk?.2:-.2;this.Ch=Math.min(Math.max(this.Ch,this.Yo),1);Mh(this,45*this.Ch);this.C.style.opacity=.4+.4*this.Ch;this.Ch>this.Yo&&1>this.Ch&&(this.es=setTimeout(this.pq.bind(this),20))};function Mh(a,c){var d=a.s.ra==w.gg||a.s.zd&&a.s.B;a.up.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.si-4)+","+(a.Hj-2)+")")}b.close=function(){kb(this,!1)};
b.click=function(){if(this.Fr){for(var a=[],c=0,d;d=this.Zj[c];c++)a[c]=w.P.Kg(d);this.N.show(a)}};b.AD=function(){this.Fr&&kb(this,!0)};b.zD=function(){kb(this,!1)};
function Lh(a){return function(c){if(!(0>=a.s.options.Ak)&&c.type==w.i.Vy&&"shadow"!=c.qs.tagName.toLowerCase()){for(var d=c=c.qs.cloneNode(!0);d;){d.removeAttribute&&(d.removeAttribute("x"),d.removeAttribute("y"),d.removeAttribute("id"));var e=d.firstChild||d.nextSibling;if(!e)for(e=d.parentNode;e;){if(e.nextSibling){e=e.nextSibling;break}e=e.parentNode}d=e}c=w.P.Rc(c);-1==a.Zj.indexOf(c)&&(a.Zj.unshift(c),a.Zj.length>a.s.options.Ak&&a.Zj.splice(a.s.options.Ak,a.Zj.length-a.s.options.Ak),a.Fr=!0,
a.Yo=a.xz,Mh(a,45*a.Yo))}}};w.Qj=function(a,c,d,e){this.A=a;this.name=c;this.type=d||"";this.rk=e||w.g.Ff();w.i.ka(new w.i.ge(this))};w.Qj.prototype.Ga=function(){return this.rk};w.Qj.Hq=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};w.Z={};w.Z.Jj=w.Eu;w.Z.Pu=function(a){var c=F(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=Ma(c[d]);if(e)for(var f=0;f<e.length;f++){var h=e[f],k=h.Ga();k&&(a[k]=h)}}c=[];for(k in a)c.push(a[k]);return c};w.Z.UF=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};w.Z.tt={};
w.Z.NA=function(a){a=F(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.lG;!f&&e.sC&&(f=e.sC,w.Z.tt[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),w.Z.tt[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
w.Z.nh=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Nh(a,"CREATE_VARIABLE",function(e){w.Z.$j(e.Ea)});c.push(d);a=w.Z.lr(a);return c=c.concat(a)};
w.Z.lr=function(a){a=a.Rl("");var c=[];if(0<a.length){var d=a[a.length-1];if(w.vb.variables_set){var e=w.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",w.vb.math_change?8:24);e.appendChild(w.Z.Ml(d));c.push(e)}w.vb.math_change&&(e=w.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",w.vb.variables_get?20:8),e.appendChild(w.Z.Ml(d)),d=w.P.Kg('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(w.vb.variables_get){a.sort(w.Qj.Hq);d=0;for(var f;f=a[d];d++)e=w.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(w.Z.Ml(f)),c.push(e)}}return c};
w.Z.lC=function(a){a=a.tg();var c="";if(a.length)for(var d=1,e=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(e);!c;){for(var h=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){h=!0;break}h?(e++,25==e&&(e=0,d++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(e),1<d&&(f+=d)):c=f}else c="i";return c};
w.Z.$j=function(a,c,d){function e(h){w.Z.Lx(w.h.NEW_VARIABLE_TITLE,h,function(k){if(k){var l=w.Z.ED(k,a);if(l){var m=k.toLowerCase();if(l.type==f)var n=w.h.VARIABLE_ALREADY_EXISTS.replace("%1",m);else n=w.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,n=n.replace("%1",m).replace("%2",l.type);w.alert(n,function(){e(k)})}else a.me(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};la("Blockly.Variables.createVariableButtonHandler",w.Z.$j);w.Z.me=w.Z.$j;la("Blockly.Variables.createVariable",w.Z.me);
w.Z.Is=function(a,c){function d(e){var f=w.h.RENAME_VARIABLE_TITLE.replace("%1",c.name);w.Z.Lx(f,e,function(h){if(h){var k=w.Z.FD(h,c.type,a);k?(k=w.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.toLowerCase()).replace("%2",k.type),w.alert(k,function(){d(h)})):a.ij(c.Ga(),h)}})}d("")};w.Z.Lx=function(a,c,d){w.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==w.h.RENAME_VARIABLE||e==w.h.NEW_VARIABLE)&&(e=null);d(e)})};
w.Z.FD=function(a,c,d){d=d.Ha.tg();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};w.Z.ED=function(a,c){c=c.Ha.tg();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};w.Z.Ml=function(a){var c=w.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.Ga());c.setAttribute("variabletype",a.type);c.appendChild(w.g.xml.createTextNode(a.name));return c};
w.Z.pw=function(a,c,d,e){var f=w.Z.Re(a,c,d,e);f||(f=w.Z.AB(a,c,d,e));return f};w.Z.Re=function(a,c,d,e){var f=a.Jh;if(c){var h=a.xg(c);!h&&f&&(h=f.xg(c));if(h)return h}if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");h=a.Re(d,e);!h&&f&&(h=f.Re(d,e))}return h};w.Z.AB=function(a,c,d,e){var f=a.Jh;d||(d=w.Z.lC(a.We?a.sj:a));return f?f.me(d,e,c):a.me(d,e,c)};
w.Z.jw=function(a,c){a=a.tg();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};w.he={};w.he.OD=function(a){w.Z.$j(a.Ea,null,"String")};w.he.ND=function(a){w.Z.$j(a.Ea,null,"Number")};w.he.MD=function(a){w.Z.$j(a.Ea,null,"Colour")};
w.he.nh=function(a){var c=[],d=document.createElement("button");d.setAttribute("text",w.h.NEW_STRING_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_STRING");c.push(d);d=document.createElement("button");d.setAttribute("text",w.h.NEW_NUMBER_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");c.push(d);d=document.createElement("button");d.setAttribute("text",w.h.NEW_COLOUR_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");c.push(d);Nh(a,"CREATE_VARIABLE_STRING",w.he.OD);
Nh(a,"CREATE_VARIABLE_NUMBER",w.he.ND);Nh(a,"CREATE_VARIABLE_COLOUR",w.he.MD);a=w.he.lr(a);return c=c.concat(a)};
w.he.lr=function(a){a=a.tg();var c=[];if(0<a.length){if(w.vb.variables_set_dynamic){var d=a[a.length-1],e=w.g.xml.createElement("block");e.setAttribute("type","variables_set_dynamic");e.setAttribute("gap",24);e.appendChild(w.Z.Ml(d));c.push(e)}if(w.vb.variables_get_dynamic){a.sort(w.Qj.Hq);d=0;for(var f;f=a[d];d++)e=w.g.xml.createElement("block"),e.setAttribute("type","variables_get_dynamic"),e.setAttribute("gap",8),e.appendChild(w.Z.Ml(f)),c.push(e)}}return c};w.Ku=function(a){this.ws=a;this.kl=Object.create(null)};b=w.Ku.prototype;b.bs=null;b.J=function(){this.kl=this.ws=null};b.load=function(a,c){if(a.length){try{var d=new w.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new w.g.global.Audio(h);break}}e&&e.play&&(this.kl[c]=e)}};
b.preload=function(){for(var a in this.kl){var c=this.kl[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(w.g.userAgent.fi||w.g.userAgent.Ut)break}};b.play=function(a,c){var d=this.kl[a];d?(a=new Date,null!=this.bs&&a-this.bs<w.kA||(this.bs=a,d=w.g.userAgent.fi||w.g.userAgent.Bj?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.ws&&this.ws.Ld.play(a,c)};w.ha.oa={};w.ha.qc=8;w.ha.$m=3;w.ha.vA=2;w.ha.ml=10;b=w.ha.prototype;b.zb=function(){return{width:this.Uc(),height:this.gk()}};
b.oa=function(){if(!this.jj){var a=this.zb();this.Cl();this.C.appendChild(this.Od);this.qj=w.g.o.H("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.C.appendChild(this.qj);this.Uh=w.g.o.H("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:w.ha.$m,ry:w.ha.$m});this.C.appendChild(this.Uh);this.Zb=w.g.o.H("g",{"class":this.B?"blocklyResizeSW":"blocklyResizeSE"},this.C);w.g.o.H("polygon",{points:"0,x x,x x,0".replace(/x/g,w.ha.qc.toString())},this.Zb);w.g.o.H("line",{"class":"blocklyResizeLine",
x1:w.ha.qc/3,y1:w.ha.qc-1,x2:w.ha.qc-1,y2:w.ha.qc/3},this.Zb);w.g.o.H("line",{"class":"blocklyResizeLine",x1:2*w.ha.qc/3,y1:w.ha.qc-1,x2:w.ha.qc-1,y2:2*w.ha.qc/3},this.Zb);this.Ac()&&(this.jh=w.g.o.H("g",{"class":"blocklyCommentDeleteIcon"},this.C),this.Nv=w.g.o.H("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.jh),w.g.o.H("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.jh),w.g.o.H("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},
this.jh));Oh(this,a.width,a.height);this.Eb.value=this.dc;this.jj=!0;this.Zb&&w.ba(this.Zb,"mousedown",this,this.Ks);this.Ac()&&(w.ba(this.jh,"mousedown",this,this.NB),w.ba(this.jh,"mouseout",this,this.OB),w.ba(this.jh,"mouseup",this,this.PB))}};
b.Cl=function(){this.Od=w.g.o.H("foreignObject",{x:0,y:w.ha.ml,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(w.g.o.pf,"body");a.setAttribute("xmlns",w.g.o.pf);a.className="blocklyMinimalBody";var c=document.createElementNS(w.g.o.pf,"textarea");c.className="blocklyCommentTextarea";c.setAttribute("dir",this.B?"RTL":"LTR");a.appendChild(c);this.Eb=c;this.Od.appendChild(a);w.ba(c,"wheel",this,function(d){d.stopPropagation()});w.ba(c,"change",this,function(){this.Sf(c.value)});
return this.Od};b.Ks=function(a){this.Tk();w.g.Ah(a)||(this.A.sp(a,new w.g.R(this.A.B?-this.sa:this.sa,this.Ma)),this.Xc=w.ba(document,"mouseup",this,this.rE),this.ve=w.ba(document,"mousemove",this,this.Ls),w.gc());a.stopPropagation()};b.NB=function(a){w.g.o.bb(this.Nv,"blocklyDeleteIconHighlighted");a.stopPropagation()};b.OB=function(){w.g.o.Cb(this.Nv,"blocklyDeleteIconHighlighted")};b.PB=function(a){this.J(!0,!0);a.stopPropagation()};
b.Tk=function(){this.Xc&&(w.cb(this.Xc),this.Xc=null);this.ve&&(w.cb(this.ve),this.ve=null)};b.rE=function(){w.Touch.ng();this.Tk()};b.Ls=function(a){this.En=!1;a=Eb(this.A,a);Oh(this,this.B?-a.x:a.x,a.y)};
function Oh(a,c,d){c=Math.max(c,45);d=Math.max(d,20+w.ha.ml);a.sa=c;a.Ma=d;a.Mm.setAttribute("width",c);a.Mm.setAttribute("height",d);a.Uh.setAttribute("width",c);a.Uh.setAttribute("height",d);a.qj.setAttribute("width",c);a.qj.setAttribute("height",w.ha.ml);a.B&&(a.Mm.setAttribute("transform","scale(-1 1)"),a.Uh.setAttribute("transform","scale(-1 1)"));a.Zb&&(a.B?(a.Zb.setAttribute("transform","translate("+(-c+w.ha.qc)+","+(d-w.ha.qc)+") scale(-1 1)"),a.jh.setAttribute("transform","translate("+(-c+
w.ha.qc)+","+-w.ha.qc+") scale(-1 1)")):(a.Zb.setAttribute("transform","translate("+(c-w.ha.qc)+","+(d-w.ha.qc)+")"),a.jh.setAttribute("transform","translate("+(c-w.ha.qc)+","+-w.ha.qc+")")));c=a.zb();d=2*w.ha.vA;a.Od.setAttribute("width",c.width);a.Od.setAttribute("height",c.height-w.ha.ml);a.B&&a.Od.setAttribute("x",-c.width);a.Eb.style.width=c.width-d+"px";a.Eb.style.height=c.height-d-w.ha.ml+"px"}
b.Zs=function(){var a=this;this.Ll=!0;setTimeout(function(){a.qg||(a.Eb.focus(),w.g.o.bb(a.C,"blocklyFocused"),w.g.o.bb(a.Uh,"blocklyCommentTargetFocused"),w.g.o.bb(a.qj,"blocklyCommentHandleTargetFocused"))},0)};function Hb(a){a.Ll=!1;setTimeout(function(){a.qg||(a.Eb.blur(),w.g.o.Cb(a.C,"blocklyFocused"),w.g.o.Cb(a.Uh,"blocklyCommentTargetFocused"),w.g.o.Cb(a.qj,"blocklyCommentHandleTargetFocused"))},0)};w.Lu=function(a){this.zl=a;this.ia()};b=w.Lu.prototype;b.fb=null;b.ne=null;b.zl=null;b.ia=function(){this.fb||(this.fb=w.g.o.H("svg",{xmlns:w.g.o.vd,"xmlns:html":w.g.o.pf,"xmlns:xlink":w.g.o.Mc,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.zl.appendChild(this.fb))};b.Lg=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.fb.style.display="block";w.g.o.zm(this.fb,"translate3d("+a+"px, "+c+"px, 0px)")};b.yo=function(){return w.g.Qd(this.fb)};
b.vl=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.fb.childNodes[0],d=this.fb.childNodes[1];if(!(c&&d&&w.g.o.Bw(c,"blocklyBlockCanvas")&&w.g.o.Bw(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.af?w.g.o.Pi(c,this.af):a.insertBefore(c,a.firstChild);w.g.o.Pi(d,c);this.fb.style.display="none";if(this.fb.childNodes.length)throw Error("Drag surface was not cleared.");w.g.o.zm(this.fb,
"");this.af=null};
w.Mu=function(a){this.s=a};b=w.Mu.prototype;b.si=32;b.Qt=110;b.Wp=20;b.fl=20;b.C=null;b.hm=0;b.Rk=0;b.ia=function(){this.C=w.g.o.H("g",{},null);var a=String(Math.random()).substring(2);Ph(this,a);Qh(this,a);this.s.hc()&&Rh(this,a);return this.C};b.Ja=function(a){this.Qg=this.Wp+a;return this.Qg+this.Qt};b.J=function(){this.C&&(w.g.o.removeNode(this.C),this.C=null);this.s=null};
b.position=function(){if(this.Qg){var a=this.s.Ab();a&&(this.hm=a.ra==w.wd||this.s.zd&&!this.s.B?a.Va+a.xb-this.si-this.fl-w.ya.Mb:this.fl+w.ya.Mb,a.ra==w.ah?(this.Rk=this.Qg,this.Ap.setAttribute("transform","translate(0, 34)"),this.Bp&&this.Bp.setAttribute("transform","translate(0, 77)")):(this.Rk=a.$a+a.yb-this.Qt-this.Qg,this.Ap.setAttribute("transform","translate(0, 43)"),this.st.setAttribute("transform","translate(0, 77)")),this.C.setAttribute("transform","translate("+this.hm+","+this.Rk+")"))}};
function Ph(a,c){var d=a.s;a.st=w.g.o.H("g",{"class":"blocklyZoom"},a.C);var e=w.g.o.H("clipPath",{id:"blocklyZoomoutClipPath"+c},a.st);w.g.o.H("rect",{width:32,height:32},e);a=w.g.o.H("image",{width:w.gd.width,height:w.gd.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+c+")"},a.st);a.setAttributeNS(w.g.o.Mc,"xlink:href",d.options.$e+w.gd.url);w.ba(a,"mousedown",null,function(f){Qb(d);Sh(d,-1);w.Touch.ng();f.stopPropagation();f.preventDefault()})}
function Qh(a,c){var d=a.s;a.Ap=w.g.o.H("g",{"class":"blocklyZoom"},a.C);var e=w.g.o.H("clipPath",{id:"blocklyZoominClipPath"+c},a.Ap);w.g.o.H("rect",{width:32,height:32},e);a=w.g.o.H("image",{width:w.gd.width,height:w.gd.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+c+")"},a.Ap);a.setAttributeNS(w.g.o.Mc,"xlink:href",d.options.$e+w.gd.url);w.ba(a,"mousedown",null,function(f){Qb(d);Sh(d,1);w.Touch.ng();f.stopPropagation();f.preventDefault()})}
function Rh(a,c){var d=a.s;a.Bp=w.g.o.H("g",{"class":"blocklyZoom"},a.C);var e=w.g.o.H("clipPath",{id:"blocklyZoomresetClipPath"+c},a.Bp);w.g.o.H("rect",{width:32,height:32},e);a=w.g.o.H("image",{width:w.gd.width,height:w.gd.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+c+")"},a.Bp);a.setAttributeNS(w.g.o.Mc,"xlink:href",d.options.$e+w.gd.url);w.ba(a,"mousedown",null,function(f){Qb(d);d.setScale(d.options.hb.ny);Th(d);Uh(d);setTimeout(function(){w.g.o.Cb(d.Ya,"blocklyCanvasTransitioning");
w.g.o.Cb(d.$d,"blocklyCanvasTransitioning")},500);w.Touch.ng();f.stopPropagation();f.preventDefault()})};
w.Wa=function(a,c,d){w.Wa.w.constructor.call(this,a);this.Ab=a.Ab||w.Wa.zC;this.Hg=a.Hg||w.Wa.AE;this.xl=w.Dj.Ja();c&&(this.Jb=c);d&&(this.xj=d);this.wp=this.xj&&w.g.xh();this.Yl=[];this.Ld=new w.Ku(a.Yc);this.re=this.options.xw?new w.ei(a.xw,a.ww):null;w.Z&&w.Z.nh&&Vh(this,w.Eu,w.Z.nh);w.he&&w.he.nh&&Vh(this,w.DA,w.he.nh);w.wb&&w.wb.nh&&Vh(this,w.nu,w.wb.nh)};v(w.Wa,w.Pa);b=w.Wa.prototype;b.pp=null;b.ea=!0;b.Bh=!0;b.We=!1;b.Si=!1;b.Ms=!0;b.scrollX=0;b.scrollY=0;b.Yv=null;b.scale=1;b.Ec=null;
b.tb=null;b.N=null;b.fa=null;b.Lb=null;b.Jb=null;b.xj=null;b.wp=!1;b.Lo=!1;b.Rr=null;b.Ww=null;b.kr={};b.mt={};b.mv=null;b.sj=null;b.Ow=null;b.Ur=!0;b.tv=function(){return new w.Ta(this)};b.uv=function(){return new w.Ta(this,!0)};function Ih(a){if(a.Ur){var c=B(a).getScreenCTM();c&&(a.Ow=c.inverse(),a.Ur=!1)}return a.Ow}b.Vm=function(){this.Ur=!0};b.isVisible=function(){return this.Bh};
function Ga(a,c){var d=0,e=0,f=1;if(w.g.o.containsNode(a.Ya,c)||w.g.o.containsNode(a.$d,c))f=a.scale;do{var h=w.g.Qd(c);if(c==a.Ya||c==a.$d)f=1;d+=h.x*f;e+=h.y*f;c=c.parentNode}while(c&&c!=B(a));return new w.g.R(d,e)}function za(a){if(!a.Rr)for(var c=a.C;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Rr=c;break}c=c.parentNode}return a.Rr}
b.ia=function(a){this.C=w.g.o.H("g",{"class":"blocklyWorkspace"},null);a&&(this.Zd=w.g.o.H("rect",{height:"100%",width:"100%","class":a},this.C),"blocklyMainBackground"==a&&this.re&&(this.Zd.style.fill="url(#"+this.re.ik.id+")"));this.Ya=w.g.o.H("g",{"class":"blocklyBlockCanvas"},this.C);this.$d=w.g.o.H("g",{"class":"blocklyBubbleCanvas"},this.C);this.We||(w.ba(this.C,"mousedown",this,this.Gh,!1,!0),w.ba(this.C,"wheel",this,this.cE));this.options.Aw&&(this.fa=new w.Hb(this));this.re&&this.re.update(this.scale);
Wh(this);a=this.cursor.ia();this.C.appendChild(a);a=this.Uo.ia();this.C.appendChild(a);return this.C};
b.J=function(){this.ea=!1;this.Lb&&this.Lb.cancel();w.Wa.w.J.call(this);this.C&&(w.g.o.removeNode(this.C),this.C=null);this.$d=this.Ya=null;this.fa&&(this.fa.J(),this.fa=null);this.N&&(this.N.J(),this.N=null);this.Ec&&(this.Ec.J(),this.Ec=null);this.tb&&(this.tb.J(),this.tb=null);this.zj&&(this.zj.J(),this.zj=null);this.Uo&&this.Uo.J();this.cursor&&this.cursor.J();this.Ld&&(this.Ld.J(),this.Ld=null);this.re&&(this.re.J(),this.re=null);this.kr=this.mt=this.xl=null;if(!this.options.Yc){var a=B(this).parentNode;
a&&w.g.o.removeNode(a)}this.pp&&(w.cb(this.pp),this.pp=null)};b.ap=function(a,c){return new w.m(this,a,c)};function Yh(a){a.Ec=new w.Cu(a);var c=a.Ec.ia();a.C.insertBefore(c,a.Ya)}function Zh(a){a.zj=new w.Mu(a);var c=a.zj.ia();a.C.appendChild(c)}function $h(a,c){var d={pg:a.options.pg,Yc:a,B:a.B,Hh:a.options.Hh,zd:a.zd,ra:a.options.ra};a.N=a.zd?new w.Gj(d):new w.Rj(d);a.N.Uj=!1;return a.N.ia(c)}function ai(a){return a.N?a.N:a.fa?a.fa.N:null}
function La(a){if(a.Ms&&a.ea){if(a.tb){var c=a.Ab();Fh(a.tb.Rd,c);Hh(a.tb.be,c)}a.Vm()}}b.resize=function(){this.fa&&this.fa.position();this.N&&this.N.position();this.Ec&&this.Ec.position();this.zj&&this.zj.position();this.tb&&this.tb.resize();this.Vm();Wh(this)};function Ob(a){var c=w.g.tr();w.g.R.Oe(a.Ww,c)||(a.Ww=c,a.Vm(),Wh(a))}function B(a){if(a.Vu)return a.Vu;for(var c=a.C;c;){if("svg"==c.tagName)return a.Vu=c;c=c.parentNode}return null}
b.translate=function(a,c){if(this.wp&&this.Lo)this.xj.Lg(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.Ya.setAttribute("transform",d);this.$d.setAttribute("transform",d)}if(this.Jb){d=this.Jb;var e=this.scale;d.Nh=e;d.ne.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.re&&this.re.moveTo(a,c)};
function Rb(a){if(a.wp){a.Lo=!1;var c=a.xj.yo();a.xj.vl(a.C);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.Ya.setAttribute("transform",c);a.$d.setAttribute("transform",c)}}
function Lb(a){if(a.wp&&!a.Lo){a.Lo=!0;var c=a.Ya.previousSibling,d=parseInt(B(a).getAttribute("width"),10),e=parseInt(B(a).getAttribute("height"),10),f=w.g.Qd(a.Ya),h=a.xj,k=a.Ya,l=a.$d,m=a.scale;if(h.fb.childNodes.length)throw Error("Already dragging a block.");h.af=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");h.fb.setAttribute("width",d);h.fb.setAttribute("height",e);h.fb.appendChild(k);h.fb.appendChild(l);h.fb.style.display=
"block";a.xj.Lg(f.x,f.y)}}b.Uc=function(){var a=this.Ab();return a?a.Va/this.scale:0};b.Da=function(a){this.tb&&this.tb.kj(a);ai(this)&&ai(this).kj(a);B(this).style.display=a?"block":"none";this.fa&&(this.fa.ed.style.display=a?"block":"none");a?(this.oa(),this.fa&&this.fa.position()):w.gc(!0);this.Bh=a};b.oa=function(){for(var a=F(this,!1),c=a.length-1;0<=c;c--)a[c].oa(!1);if(this.Lb)for(a=this.Lb.hk(),c=0;c<a.length;c++)a[c].oa(!1)};
function bi(a,c){var d=R;if(void 0===c){for(var e=0,f;f=d.Yl[e];e++)f.Ed(!1);d.Yl.length=0}if(f=a?Aa(d,a):null)(a=void 0===c||c)?-1==d.Yl.indexOf(f)&&d.Yl.push(f):w.g.rl(d.Yl,f),f.Ed(a)}
function ci(a){var c=w.wl;if(a.ea&&!(c.getElementsByTagName("block").length>=wb(a)))if(a.Lb&&a.Lb.cancel(),"comment"==c.tagName.toLowerCase()){w.i.disable();try{var d=w.ha.Di(c,a),e=parseInt(c.getAttribute("x"),10),f=parseInt(c.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.B&&(e=-e),d.moveBy(e+50,f+50))}finally{w.i.enable()}d.select()}else a:{w.i.disable();try{var h=w.P.bk(c,a),k=w.u.Eh.sb;if(w.Ti&&k){w.u.Nw(h,k.pa);break a}var l=parseInt(c.getAttribute("x"),10),m=parseInt(c.getAttribute("y"),10);
if(!isNaN(l)&&!isNaN(m)){a.B&&(l=-l);do{c=!1;var n=F(a,!1);d=0;for(var q;q=n[d];d++){var r=q.Ba();if(1>=Math.abs(l-r.x)&&1>=Math.abs(m-r.y)){c=!0;break}}if(!c){var t=h.pe(!1);d=0;for(var p;p=t[d];d++)if(p.closest(w.Lc,new w.g.R(l,m)).connection){c=!0;break}}c&&(l=a.B?l-w.Lc:l+w.Lc,m+=2*w.Lc)}while(c);h.moveBy(l,m)}}finally{w.i.enable()}w.i.isEnabled()&&!h.Za&&w.i.ka(new w.i.cn(h));h.select()}}function di(a){if((a=a.We?a.sj:a)&&!a.Lb&&a.fa&&a.fa.N){a=a.fa;var c=a.Fc.$c;c&&c.uf&&a.N.show(c.uf)}}
b.ij=function(a,c){w.Wa.w.ij.call(this,a,c);di(this)};b.Ai=function(a){w.Wa.w.Ai.call(this,a);di(this)};b.me=function(a,c,d){a=w.Wa.w.me.call(this,a,c,d);di(this);return a};function Wh(a){a.Mv=a.Ec&&a.C.parentNode?a.Ec.ek():null;a.Lv=a.N?a.N.ek():a.fa?a.fa.ek():null}function jb(a,c){return a.Mv&&a.Mv.contains(c.clientX,c.clientY)?w.Kp:a.Lv&&a.Lv.contains(c.clientX,c.clientY)?w.Mt:w.Lt}b.Gh=function(a){var c=this.Hf(a);c&&Ub(c,a,this)};
b.sp=function(a,c){a=w.g.pm(a,B(this),Ih(this));a.x/=this.scale;a.y/=this.scale;this.Yv=w.g.R.Gl(c,a)};function Eb(a,c){c=w.g.pm(c,B(a),Ih(a));c.x/=a.scale;c.y/=a.scale;return w.g.R.sum(a.Yv,c)}b.Bc=function(){return null!=this.Lb&&this.Lb.Bc()};function ei(a){return a.options.jc&&a.options.jc.scrollbars||a.options.jc&&a.options.jc.wj||a.options.jc&&a.options.jc.mh||a.options.hb&&a.options.hb.controls||a.options.hb&&a.options.hb.wj}
b.hc=function(){return this.options.jc&&this.options.jc.scrollbars||this.options.jc&&this.options.jc.wj||this.options.jc&&this.options.jc.mh||this.options.hb&&this.options.hb.wj};
b.cE=function(a){if(w.Fj.Pr())a.preventDefault(),a.stopPropagation();else{var c=this.options.hb&&this.options.hb.wj,d=this.options.jc&&this.options.jc.wj;if(c||d){var e=w.g.xr(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=w.g.pm(a,B(this),Ih(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function Ia(a){var c=C(a,!1);a=Ha(a,!1);c=c.concat(a);if(!c.length)return new w.g.Rect(0,0,0,0);a=c[0].lo();for(var d=1;d<c.length;d++){var e=c[d].lo();e.top<a.top&&(a.top=e.top);e.bottom>a.bottom&&(a.bottom=e.bottom);e.left<a.left&&(a.left=e.left);e.right>a.right&&(a.right=e.right)}return a}b.nB=function(){this.mc(!1);w.i.ca(!0);for(var a=C(this,!0),c=0,d=0,e;e=a[d];d++)if(e.hc()){var f=e.Ba();e.moveBy(-f.x,c-f.y);fi(e);c=e.Ba().y+e.zb().height+w.m.gl}w.i.ca(!1);this.mc(!0)};
b.Mk=function(a){function c(p){if(p.Ac())t=t.concat(y(p,!1));else{p=p.ug(!1);for(var x=0;x<p.length;x++)c(p[x])}}function d(){w.i.ca(h);var p=t.shift();p&&(p.A?(p.J(!1,!0),setTimeout(d,10)):d());w.i.ca(!1)}if(!this.options.readOnly&&!this.We){var e=[],f=C(this,!0),h=w.g.Ff(),k=this,l={};l.text=w.h.UNDO;l.enabled=0<this.tj.length;l.bc=this.ot.bind(this,!1);e.push(l);l={};l.text=w.h.REDO;l.enabled=0<this.xm.length;l.bc=this.ot.bind(this,!0);e.push(l);this.hc()&&(l={},l.text=w.h.CLEAN_UP,l.enabled=1<
f.length,l.bc=this.nB.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,n=0;n<f.length;n++)for(var q=f[n];q;)q.isCollapsed()?l=!0:m=!0,q=z(q);var r=function(p){for(var x=0,D=0;D<f.length;D++)for(var I=f[D];I;)setTimeout(I.Ph.bind(I,p),x),I=z(I),x+=10};m={enabled:m};m.text=w.h.COLLAPSE_ALL;m.bc=function(){r(!0)};e.push(m);l={enabled:l};l.text=w.h.EXPAND_ALL;l.bc=function(){r(!1)};e.push(l)}var t=[];for(n=0;n<f.length;n++)c(f[n]);l={text:1==t.length?w.h.DELETE_BLOCK:w.h.DELETE_X_BLOCKS.replace("%1",
String(t.length)),enabled:0<t.length,bc:function(){k.Lb&&k.Lb.cancel();2>t.length?d():w.confirm(w.h.DELETE_ALL_BLOCKS.replace("%1",t.length),function(p){p&&d()})}};e.push(l);this.mv&&this.mv(e);w.wa.show(a,e,this.B)}};
b.Dy=function(a){if(a=w.Jd.Bx(a)){if(!this.options.Of)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.fa)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.Of=a;a=this.fa.hp(a);gi(this.fa);this.fa.position();this.fa.Fc.Tf(a)}else{if(!this.N)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.Of=a;this.N.show(a.childNodes)}}else if(this.options.Of)throw Error("Can't nullify an existing toolbox.");
};function Qb(a){if(a.options.Yc)Qb(a.options.Yc);else{w.jm=a;document.activeElement&&document.activeElement.blur();try{B(a).focus()}catch(c){try{B(a).parentNode.setActive()}catch(d){B(a).parentNode.focus()}}}}
b.zoom=function(a,c,d){if(!this.We&&!this.Si){d=Math.pow(this.options.hb.uE,d);var e=this.scale*d;if(this.scale!=e){e>this.options.hb.mm?d=this.options.hb.mm/this.scale:e<this.options.hb.om&&(d=this.options.hb.om/this.scale);var f=this.Ya.getCTM(),h=B(this).createSVGPoint();h.x=a;h.y=c;h=h.matrixTransform(f.inverse());a=h.x;c=h.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}}};
function Sh(a,c){var d=a.Ab();if(a.N){var e=d.LE/2;d=d.KE/2}else e=d.Va/2+d.xb,d=d.$a/2+d.yb;a.zoom(e,d,c)}function Th(a){w.g.o.bb(a.Ya,"blocklyCanvasTransitioning");w.g.o.bb(a.$d,"blocklyCanvasTransitioning")}function Uh(a){if(a.hc()){var c=a.Ab(),d=(c.xd-c.Va)/2,e=(c.ld-c.$a)/2;d=-d-c.tc;e=-e-c.cc;a.scroll(d,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}
b.setScale=function(a){this.options.hb.mm&&a>this.options.hb.mm?a=this.options.hb.mm:this.options.hb.om&&a<this.options.hb.om&&(a=this.options.hb.om);this.scale=a;w.gc(!1);this.N&&(this.N.Gs(),Wh(this));this.re&&this.re.update(this.scale);a=this.Ab();this.scrollX-=a.xb;this.scrollY-=a.yb;a.rb+=a.xb;a.Fb+=a.yb;this.scroll(this.scrollX,this.scrollY);this.tb&&(this.N?(Ch(this.tb.Rd,a),Dh(this.tb.be,a)):(Fh(this.tb.Rd,a),Hh(this.tb.be,a)))};
b.scroll=function(a,c){w.gc(!0);var d=this.Ab(),e=d.xd+d.tc-d.Va,f=d.ld+d.cc-d.$a;a=Math.min(a,-d.tc);c=Math.min(c,-d.cc);a=Math.max(a,-e);c=Math.max(c,-f);this.scrollX=a;this.scrollY=c;this.tb&&(yh(this.tb.Rd,-(a+d.tc)*this.tb.Rd.kc),yh(this.tb.be,-(c+d.cc)*this.tb.be.kc));a+=d.xb;c+=d.yb;this.translate(a,c)};w.Wa.nw=function(a){var c=0,d=0;a&&(c=a.Uc(),d=a.gk());return{width:c,height:d}};w.Wa.rC=function(a,c){return ei(a)?w.Wa.qC(a,c):w.Wa.kw(a)};
w.Wa.kw=function(a){var c=Ia(a),d=a.scale;a=c.top*d;var e=c.bottom*d,f=c.left*d;c=c.right*d;return{top:a,bottom:e,left:f,right:c,width:c-f,height:e-a}};w.Wa.qC=function(a,c){a=w.Wa.kw(a);var d=c.width;c=c.height;var e=d/2,f=c/2,h=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-c);return{left:h,top:k,height:Math.max(a.bottom+f,a.top+c)-k,width:Math.max(a.right+e,a.left+d)-h}};
w.Wa.zC=function(){var a=w.Wa.nw(this.fa),c=w.Wa.nw(this.N),d=w.ty(B(this)),e={height:d.height,width:d.width};if(this.fa)if(this.ra==w.hd||this.ra==w.ah)e.height-=a.height;else{if(this.ra==w.wd||this.ra==w.gg)e.width-=a.width}else if(this.N)if(this.ra==w.hd||this.ra==w.ah)e.height-=c.height;else if(this.ra==w.wd||this.ra==w.gg)e.width-=c.width;var f=w.Wa.rC(this,e),h=0;this.fa&&this.ra==w.wd?h=a.width:this.N&&this.ra==w.wd&&(h=c.width);var k=0;this.fa&&this.ra==w.hd?k=a.height:this.N&&this.ra==w.hd&&
(k=c.height);return{ld:f.height,xd:f.width,cc:f.top,tc:f.left,$a:e.height,Va:e.width,Fb:-this.scrollY,rb:-this.scrollX,yb:k,xb:h,KE:d.height,LE:d.width,zy:a.width,yy:a.height,iG:c.width,hG:c.height,ra:this.ra}};w.Wa.AE=function(a){var c=this.Ab();"number"==typeof a.x&&(this.scrollX=-c.xd*a.x-c.tc);"number"==typeof a.y&&(this.scrollY=-c.ld*a.y-c.cc);this.translate(this.scrollX+c.xb,this.scrollY+c.yb)};w.Wa.prototype.mc=function(a){var c=!this.Ms&&a;this.Ms=a;c&&La(this)};
w.Wa.prototype.clear=function(){this.mc(!1);w.Wa.w.clear.call(this);this.mc(!0)};function Nh(a,c,d){if("function"!=typeof d)throw TypeError("Button callbacks must be functions.");a.kr[c]=d}function hi(a,c){return(a=a.kr[c])?a:null}function Vh(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.mt[c]=d}
w.Wa.prototype.Hf=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Lb;return d?c&&d.Ji?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.Lb=new w.Kd(a,this):null};w.Wa.prototype.setVisible=w.Wa.prototype.Da;w.ki=function(a){w.ki.w.constructor.call(this,null);this.Mx=a};v(w.ki,w.Jc);b=w.ki.prototype;b.Vk=0;b.Xm=0;
b.$q=function(a){w.g.o.H("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);w.g.o.H("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
w.g.o.H("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};b.Nr=function(a){this.T.Vc()&&w.Jc.prototype.Nr.call(this,a)};
b.Cl=function(){this.Lm=w.g.o.H("svg",{x:w.ja.Hc,y:w.ja.Hc},null);if(this.Mx.length)for(var a=w.g.xml.createElement("xml"),c=0,d;d=this.Mx[c];c++){var e=w.g.xml.createElement("block");e.setAttribute("type",d);a.appendChild(e)}else a=null;a={disable:!1,pg:this.T.A.options.pg,Of:a,Yc:this.T.A,$e:this.T.A.options.$e,B:this.T.B,ra:this.T.B?w.gg:w.wd,zd:!1,Ab:this.tC.bind(this),Hg:null};this.s=new w.Wa(a);this.s.Si=!0;this.s.jd(w.i.TB);a=$h(this.s,"g");c=this.s.ia("blocklyMutatorBackground");c.insertBefore(a,
this.s.Ya);this.Lm.appendChild(c);return this.Lm};b.Pg=function(){this.T.od||(this.T.Vc()?this.zc&&w.g.o.Cb(this.zc,"blocklyIconGroupReadonly"):(this.Da(!1),this.zc&&w.g.o.bb(this.zc,"blocklyIconGroupReadonly")));w.Jc.prototype.Pg.call(this)};
b.op=function(){var a=2*w.ja.Hc,c=this.s.Ya.getBBox();var d=this.T.B?-c.x:c.width+c.x;c=c.height+3*a;if(this.s.N){var e=this.s.N.vg();c=Math.max(c,e.ld+20)}d+=3*a;if(Math.abs(this.Vk-d)>a||Math.abs(this.Xm-c)>a)this.Vk=d,this.Xm=c,this.pb.Oh(d+a,c+a),this.Lm.setAttribute("width",this.Vk),this.Lm.setAttribute("height",this.Xm);this.T.B&&this.s.Ya.setAttribute("transform","translate("+this.Vk+",0)");this.s.resize()};
b.Da=function(a){if(a!=this.isVisible())if(w.i.ka(new w.i.ac(this.T,"mutatorOpen",!a,a)),a){this.pb=new w.ja(this.T.A,this.Cl(),this.T.ad,this.qk,null,null);Bb(this.pb,this.T.id);if(a=this.s.options.Of)this.s.N.Ja(this.s),this.s.N.show(a.childNodes);this.Gg=this.T.Un(this.s);a=y(this.Gg,!1);for(var c=0,d;d=a[c];c++)d.oa();this.Gg.lj(!1);this.Gg.Xs(!1);this.s.N?(a=2*this.s.N.M,c=ai(this.s).Uc()+a):c=a=16;this.T.B&&(c=-c);this.Gg.moveBy(c,a);if(this.T.Ux){var e=this;this.T.Ux(this.Gg);this.rp=function(){e.T.Ux(e.Gg)};
this.T.A.jd(this.rp)}this.op();this.s.jd(this.cF.bind(this));this.ye()}else this.Lm=null,this.s.J(),this.Gg=this.s=null,this.pb.J(),this.pb=null,this.Xm=this.Vk=0,this.rp&&(this.T.A.gj(this.rp),this.rp=null)};
b.cF=function(a){if(a.type!=w.i.nl&&(a.type!=w.i.Cj||"disabled"!=a.element)){if(!this.s.Bc()){a=C(this.s,!1);for(var c=0,d;d=a[c];c++){var e=d.Ba(),f=d.zb();20>e.y+f.height&&d.moveBy(0,20-f.height-e.y)}}if(this.Gg.A==this.s){w.i.ca(!0);d=this.T;a=(a=d.Cd())&&w.P.Rc(a);c=d.ea;d.ea=!1;d.Mn(this.Gg);d.ea=c;d.zg();c=(c=d.Cd())&&w.P.Rc(c);if(a!=c){w.i.ka(new w.i.jf(d,"mutation",null,a,c));var h=w.i.Vb();setTimeout(function(){w.i.ca(h);d.kd();w.i.ca(!1)},w.bn)}d.ea&&d.oa();this.s.Bc()||this.op();w.i.ca(!1)}}};
b.tC=function(){return{$a:this.Xm,Va:this.Vk-ai(this.s).Uc(),yb:0,xb:this.s.B?0:ai(this.s).Uc()}};b.J=function(){this.T.Ye=null;w.Jc.prototype.J.call(this)};w.ki.nE=function(a,c,d){if(!a||!a.F.A)return!1;d=Fa(c,d).connection;var e=A(a);return e&&e!=c||d.qa==a?!1:(d.isConnected()&&d.disconnect(),d.connect(a),!0)};w.ki.gG=function(a){var c=null;if(a&&a.options){var d=a.options.Yc;a.We?d&&d.options&&(c=d.options.Yc):d&&(c=d)}return c};w.g.global.Blockly||(w.g.global.Blockly={});
w.g.global.Blockly.Mutator||(w.g.global.Blockly.Mutator={});w.g.global.Blockly.Mutator.reconnect=w.ki.nE;w.Fa={};w.Fa.Cp={};w.Fa.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(w.Fa.Cp[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');w.Fa.Cp[a]=c};w.Fa.uG=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');w.Fa.register(a,function(){ii(this,c)})};
w.Fa.vG=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';w.Fa.Zu(f,c.rg,"domToMutation");w.Fa.Zu(f,c.Cd,"mutationToDom");var h=w.Fa.av(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');w.Fa.register(a,function(){h&&this.ay(new w.ki(e));ii(this,c);d&&d.apply(this)})};
w.Fa.apply=function(a,c,d){var e=w.Fa.Cp[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)w.Fa.lB(a,c);else var f=w.Fa.vr(c);e.apply(c);if(d)w.Fa.jB('Error after applying mutator "'+a+'": ',c);else if(!w.Fa.DD(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
w.Fa.Zu=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};w.Fa.lB=function(a,c){if(w.Fa.vr(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
w.Fa.av=function(a,c){var d=void 0!==a.Mn,e=void 0!==a.Un;if(d&&e){if("function"!=typeof a.Mn)throw Error(c+"compose must be a function.");if("function"!=typeof a.Un)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
w.Fa.jB=function(a,c){if("function"!=typeof c.rg)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.Cd)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');w.Fa.av(c,a)};w.Fa.vr=function(a){var c=[];void 0!==a.rg&&c.push(a.rg);void 0!==a.Cd&&c.push(a.Cd);void 0!==a.Mn&&c.push(a.Mn);void 0!==a.Un&&c.push(a.Un);return c};w.Fa.DD=function(a,c){c=w.Fa.vr(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
w.Fa.XF=function(a,c){var d=[];"object"==typeof document&&w.g.Tx(function(){for(var e in c)w.g.$u(c[e])});return function(){this.type&&-1===d.indexOf(this.type)&&(w.Fa.kB(this,a,c),d.push(this.type));this.xe(function(){var e=rb(this,a),f=c[e];null==f?-1===d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=w.g.Yb(f);return f}.bind(this))}};
w.Fa.kB=function(a,c,d){var e=Ca(a,c);if("function"!=typeof e.Wi){e=e.getOptions();for(var f=0;f<e.length;++f){var h=e[f][1];null==d[h]&&console.warn("No tooltip mapping for value "+h+" of field "+c+" of block type "+a.type)}}};w.Fa.YF=function(a,c){"object"==typeof document&&w.g.Tx(function(){w.g.$u(a)});return function(){this.xe(function(){var d=Ca(this,c);return w.g.Yb(a).replace("%1",d?d.fc():"")}.bind(this))}};
w.Fa.cC=function(){this.UE=this.ef;this.xe(function(){var a=this.getParent();return a&&kh(a)&&a.ef||this.UE}.bind(this))};w.Fa.register("parent_tooltip_when_inline",w.Fa.cC);w.mf=function(a,c){this.nb=new w.g.qf(0,w.O.Au);this.dv=c;a=this.Qc(a);null===a&&(a="");this.setValue(a)};v(w.mf,w.O);w.mf.na=function(a){var c=w.g.Yb(a.text);return new w.mf(c,a["class"])};w.mf.prototype.Tg=!1;w.mf.prototype.Kf=function(){Zb(this);this.Db.setAttribute("y",this.nb.height);this.dv&&w.g.o.bb(this.Db,this.dv)};w.mf.prototype.Qc=function(a){return null===a||void 0===a?null:String(a)};w.O.register("field_label",w.mf);w.Xg=function(a,c,d,e){if(a!=w.Fe&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.F=d;this.connection=e;this.za=[]};b=w.Xg.prototype;b.align=w.Aj;b.Gb=!0;function T(a,c,d){ji(a,a.za.length,c,d);return a}
function ji(a,c,d,e){if(0>c||c>a.za.length)throw Error("index "+c+" out of bounds.");if(!d&&!e)return c;"string"==typeof d&&(d=new w.mf(d));d.ct(a.F);a.F.ea&&d.Ja();d.name=e;d.Bs&&(c=ji(a,c,d.Bs));a.za.splice(c,0,d);++c;d.jt&&(c=ji(a,c,d.jt));a.F.ea&&(a.F.oa(),a.F.kd());return c}b.isVisible=function(){return this.Gb};
b.Da=function(a){var c=[];if(this.Gb==a)return c;for(var d=(this.Gb=a)?"block":"none",e=0,f;f=this.za[e];e++)f.Da(a);if(this.connection){if(a)c=$a(this.connection);else if(e=this.connection,ab(e,!0),e.qa)for(e=y(A(e),!1),f=0;f<e.length;f++){for(var h=e[f],k=h.pe(!0),l=0;l<k.length;l++)ab(k[l],!0);h=gb(h);for(l=0;l<h.length;l++)h[l].Da(!1)}if(e=A(this.connection))e.Y().style.display=d,a||(e.ea=!1)}return c};
b.Ik=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Ik(a)};b.Ja=function(){if(this.F.A.ea)for(var a=0;a<this.za.length;a++)this.za[a].Ja()};b.J=function(){for(var a=0,c;c=this.za[a];a++)c.J();this.connection&&this.connection.J();this.F=null};w.ie=function(a){w.ie.w.constructor.call(this,a);rh(this);this.va={}};v(w.ie,w.Jc);w.ie.prototype.Eq=!1;w.ie.prototype.$q=function(a){w.g.o.H("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);w.g.o.H("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);w.g.o.H("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
w.ie.NE=function(a){var c=w.g.o.H("text",{"class":"blocklyText blocklyBubbleText",y:w.ja.Hc},null);a=a.split("\n");for(var d=0;d<a.length;d++)w.g.o.H("tspan",{dy:"1em",x:w.ja.Hc},c).appendChild(document.createTextNode(a[d]));return c};
w.ie.prototype.Da=function(a){if(a!=this.isVisible())if(w.i.ka(new w.i.ac(this.T,"warningOpen",!a,a)),a){a=w.ie.NE(this.fc());this.pb=new w.ja(this.T.A,a,this.T.ad,this.qk,null,null);Bb(this.pb,this.T.id);if(this.T.B)for(var c=a.getBBox().width,d=0,e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",c+w.ja.Hc);this.ye();a=this.pb.Ei();this.pb.Oh(a.width,a.height)}else this.pb.J(),this.pb=null};
w.ie.prototype.Uf=function(a,c){this.va[c]!=a&&(a?this.va[c]=a:delete this.va[c],this.isVisible()&&(this.Da(!1),this.Da(!0)))};w.ie.prototype.fc=function(){var a=[],c;for(c in this.va)a.push(this.va[c]);return a.join("\n")};w.ie.prototype.J=function(){this.T.Gc=null;w.Jc.prototype.J.call(this)};w.Zk=function(a,c,d){if("undefined"!==typeof w.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!Aa(a,d)?d:w.g.Ff();a.vq[this.id]=this;this.W=this.$=this.V=null;this.U=[];this.Bg=void 0;this.disabled=!1;this.ef="";this.contextMenu=!0;this.Qf=null;this.lg=[];this.$v=this.qm=this.Fl=!0;this.og=this.Za=!1;this.gb=null;this.ze=new w.g.R(0,0);this.A=a;this.od=a.We;this.B=a.B;this.fm=!1;this.yg=void 0;if(c){this.type=c;d=w.vb[c];if(!d||
"object"!=typeof d)throw TypeError("Unknown block type: "+c);for(var e in d)this[e]=d[e]}a.Pk.push(this);a.Ng[this.type]||(a.Ng[this.type]=[]);a.Ng[this.type].push(this);"function"==typeof this.Ja&&this.Ja();this.gD=this.Bg;if(w.i.isEnabled()){(a=w.i.Vb())||w.i.ca(!0);try{w.i.ka(new w.i.cn(this))}finally{a||w.i.ca(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.sm&&this.A.gj(this.sm);if(this.onchange=a)this.sm=a.bind(this),
this.A.jd(this.sm)}};w.Zk.rG=function(a,c){console.warn("Deprecated call to Blockly.Block.obtain, use workspace.newBlock instead.");return a.ap(c)};b=w.Zk.prototype;b.data=null;b.fh="#000000";b.iv=null;b.jv=null;b.Jm=null;
b.J=function(a){if(this.A){this.sm&&this.A.gj(this.sm);Ea(this,a);w.i.isEnabled()&&w.i.ka(new w.i.Bt(this));w.i.disable();try{if(this.A){vb(this.A,this);var c=this.A;c.Ng[this.type].splice(c.Ng[this.type].indexOf(this),1);c.Ng[this.type].length||delete c.Ng[this.type];delete this.A.vq[this.id];this.A=null}w.selected==this&&(w.selected=null);for(var d=this.lg.length-1;0<=d;d--)this.lg[d].J(!1);d=0;for(var e;e=this.U[d];d++)e.J();this.U.length=0;var f=this.pe(!0);d=0;for(var h;h=f[d];d++)h.J()}finally{w.i.enable()}}};
b.Oi=function(){for(var a=0,c;c=this.U[a];a++)for(var d=0,e;e=c.za[d];d++)e.Oi&&e.Oi()};
function Ea(a,c){if(a.V){var d=null;a.V.isConnected()&&(d=a.V.qa,a.V.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.U.length;e++){var f=a.U[e].connection;if(f&&f.type==w.La&&f.qa){if(c){a=null;break a}c=f}}a=c}a&&a.isConnected()&&!A(a).Za&&(a=a.qa,Na(a,d)&&(a.disconnect(),d.connect(a)))}}else a.W&&(d=null,a.W.isConnected()&&(d=a.W.qa,a.W.disconnect()),e=z(a),c&&e&&!e.Za&&(a=a.$.qa,a.disconnect(),d&&Na(d,a)&&d.connect(a)))}
b.pe=function(){var a=[];this.V&&a.push(this.V);this.W&&a.push(this.W);this.$&&a.push(this.$);for(var c=0,d;d=this.U[c];c++)d.connection&&a.push(d.connection);return a};b.kd=function(){console.warn("Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.")};b.getParent=function(){return this.Qf};function ki(a){do{var c=a;a=a.getParent();if(!a)return null}while(z(a)==c);return a}function z(a){return a.$&&A(a.$)}
function Ta(a){var c=a;do a=c,c=a.Qf;while(c);return a}b.ug=function(a){if(!a)return this.lg;a=[];for(var c=0,d;d=this.U[c];c++)d.connection&&(d=A(d.connection))&&a.push(d);(c=z(this))&&a.push(c);return a};b.mj=function(a){if(a!=this.Qf){if(this.Qf){w.g.rl(this.Qf.lg,this);if(this.W&&this.W.isConnected())throw Error("Still connected to previous block.");if(this.V&&this.V.isConnected())throw Error("Still connected to parent block.");this.Qf=null}else vb(this.A,this);(this.Qf=a)?a.lg.push(this):this.A.Pk.push(this)}};
function y(a,c){var d=[a];a=a.ug(c);for(var e,f=0;e=a[f];f++)d.push.apply(d,y(e,c));return d}b.Ac=function(){return this.Fl&&!this.Za&&!(this.A&&this.A.options.readOnly)};b.Xs=function(a){this.Fl=a};b.hc=function(){return this.qm&&!this.Za&&!(this.A&&this.A.options.readOnly)};b.lj=function(a){this.qm=a};b.bt=function(a){this.Za=a};b.Lf=function(){return this.fm};b.$x=function(a){this.fm=a};b.Vc=function(){return this.$v&&!(this.A&&this.A.options.readOnly)};
b.Ys=function(a){this.$v=a;a=0;for(var c;c=this.U[a];a++)for(var d=0,e;e=c.za[d];d++)e.Pg()};function Ja(a,c){if(!c&&a.isCollapsed()){if(a.V&&ab(a.V,c),a.W&&ab(a.W,c),a.$){ab(a.$,c);var d=A(a.$);d&&Ja(d,c)}}else{a=a.pe(!0);for(var e=0;d=a[e];e++)ab(d,c),Qa(d)&&(d=A(d))&&Ja(d,c)}}b.xe=function(a){this.ef=a};function Ng(a){var c=a.iv;return c?c:w.g.jb.uq("white",a.fh,.6)}
function li(a){var c=a.jv;if(c)return{Kn:c,Fq:null,hv:null};a=a.fh;return{Kn:null,Fq:w.g.jb.uq("white",a,.3),hv:w.g.jb.uq("black",a,.2)}}b.sd=function(a){var c="string"==typeof a?w.g.Yb(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)this.fh=w.Kw(d);else if(d=w.g.jb.parse(c))this.fh=d;else throw d='Invalid colour: "'+c+'"',a!=c&&(d+=' (from "'+a+'")'),Error(d);};
function mi(a,c){var d=w.zo();if(!d)throw Error("Trying to set block style to "+c+" before theme was defined via Blockly.setTheme().");d=d.aB[c];a.Jm=c;if(d)a.iv=d.colourSecondary,a.jv=d.colourTertiary,a.yg=d.yg,a.sd(d.colourPrimary);else throw Error("Invalid style name: "+c);}function Ca(a,c){for(var d=0,e;e=a.U[d];d++)for(var f=0,h;h=e.za[f];f++)if(h.name===c)return h;return null}
function Ma(a){for(var c=[],d=0,e;e=a.U[d];d++)for(var f=0,h;h=e.za[f];f++)h.mp()&&(h=a.A.xg(h.getValue()))&&c.push(h);return c}function rb(a,c){return(a=Ca(a,c))?a.getValue():null}b.Sh=function(a,c){if(a){void 0===c&&(c=null);if(!this.W){if(this.V)throw Error("Remove output connection prior to adding previous connection.");this.W=this.km(w.de)}this.W.Ik(c)}else if(this.W){if(this.W.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.W.J();this.W=null}};
b.Lk=function(a,c){if(a)void 0===c&&(c=null),this.$||(this.$=this.km(w.ua)),this.$.Ik(c);else if(this.$){if(this.$.isConnected())throw Error("Must disconnect next statement before removing connection.");this.$.J();this.$=null}};
b.$s=function(a,c){if(a){void 0===c&&(c=null);if(!this.V){if(this.W)throw Error("Remove previous connection prior to adding output connection.");this.V=this.km(w.ce)}this.V.Ik(c)}else if(this.V){if(this.V.isConnected())throw Error("Must disconnect output value before removing connection.");this.V.J();this.V=null}};b.Kk=function(a){this.Bg!=a&&(w.i.ka(new w.i.jf(this,"inline",null,this.Bg,a)),this.Bg=a)};
function kh(a){if(void 0!=a.Bg)return a.Bg;for(var c=1;c<a.U.length;c++)if(a.U[c-1].type==w.Fe&&a.U[c].type==w.Fe)return!1;for(c=1;c<a.U.length;c++)if(a.U[c-1].type==w.La&&a.U[c].type==w.Fe)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.Dd=function(a){this.isEnabled()!=a&&(w.i.ka(new w.i.jf(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function ni(a){for(a=ki(a);a;){if(a.disabled)return!0;a=ki(a)}return!1}b.isCollapsed=function(){return this.og};
b.Ph=function(a){this.og!=a&&(w.i.ka(new w.i.jf(this,"collapsed",null,this.og,a)),this.og=a)};b.toString=function(a,c){var d=[],e=c||"?";if(this.og)d.push(Fa(this,"_TEMP_COLLAPSED_INPUT").za[0].va);else for(var f=0,h;h=this.U[f];f++){for(var k=0,l;l=h.za[k];k++)l instanceof w.Ka&&!l.getValue()?d.push(e):d.push(l.fc());h.connection&&((h=A(h.connection))?d.push(h.toString(void 0,c)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};
function oi(a,c){return a.tf(w.Fe,c||"")}
function pi(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.yg&&(a.yg=c.style.yg,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{mi(a,e)}catch(p){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.sd(e)}catch(p){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){for(var f=a,h=c["args"+e]||[],k=c["lastDummyAlign"+e],l=w.g.RE(c["message"+e]),m=[],n=0,q=[],r=0;r<l.length;r++){var t=l[r];if("number"==typeof t){if(0>=t||t>h.length)throw Error('Block "'+f.type+'": Message index %'+t+" out of range.");if(m[t])throw Error('Block "'+f.type+'": Message index %'+t+" duplicated.");m[t]=!0;n++;q.push(h[t-1])}else(t=t.trim())&&q.push(t)}if(n!=h.length)throw Error('Block "'+f.type+'": Message does not reference all '+
h.length+" arg(s).");q.length&&("string"==typeof q[q.length-1]||w.g.Ua.startsWith(q[q.length-1].type,"field_"))&&(r={type:"input_dummy"},k&&(r.align=k),q.push(r));k={LEFT:w.Aj,RIGHT:w.Yk,CENTRE:w.Xk};h=[];for(r=0;r<q.length;r++)if(m=q[r],"string"==typeof m)h.push([m,void 0]);else{l=n=null;do if(t=!1,"string"==typeof m)n=new w.mf(m);else switch(m.type){case "input_value":l=f.tf(w.La,m.name);break;case "input_statement":l=f.tf(w.ua,m.name);break;case "input_dummy":l=oi(f,m.name);break;default:n=w.O.na(m),
n||(m.alt?(m=m.alt,t=!0):console.warn("Blockly could not create a field of type "+m.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}while(t);if(n)h.push([n,m.name]);else if(l){m.check&&l.Ik(m.check);m.align&&(n=l,n.align=k[m.align],n.F.ea&&n.F.oa());for(m=0;m<h.length;m++)T(l,h[m][0],h[m][1]);h.length=0}}e++}void 0!==c.inputsInline&&a.Kk(c.inputsInline);void 0!==c.output&&a.$s(!0,c.output);void 0!==c.previousStatement&&a.Sh(!0,c.previousStatement);
void 0!==c.nextStatement&&a.Lk(!0,c.nextStatement);void 0!==c.tooltip&&(e=c.tooltip,e=w.g.Yb(e),a.xe(e));void 0!==c.enableContextMenu&&(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=w.g.Yb(e),a.nk=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&w.Fa.apply(c.mutator,a,!0);if(Array.isArray(c.extensions))for(c=
c.extensions,d=0;d<c.length;++d)w.Fa.apply(c[d],a,!1)}function ii(a,c){var d=[],e;for(e in c)void 0!==a[e]&&d.push(e);if(d.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(d));for(var f in c)a[f]=c[f]}b.tf=function(a,c){var d=null;if(a==w.La||a==w.ua)d=this.km(a);a=new w.Xg(a,c,this,d);this.U.push(a);return a};b.Hs=function(a,c){for(var d=0,e;e=this.U[d];d++)if(e.name==a){e.J();this.U.splice(d,1);return}if(!c)throw Error("Input not found: "+a);};
function Fa(a,c){for(var d=0,e;e=a.U[d];d++)if(e.name==c)return e;return null}function qi(a,c){return(a=Fa(a,c))&&a.connection&&A(a.connection)}b.ro=function(){return this.gb||""};b.ym=function(a){this.gb!=a&&(w.i.ka(new w.i.jf(this,"comment",null,this.gb,a||"")),this.gb=a)};b.Bm=function(){};b.ay=function(){};b.Ba=function(){return this.ze};b.moveBy=function(a,c){if(this.Qf)throw Error("Block has parent.");var d=new w.i.$k(this);this.ze.translate(a,c);d.Eg();w.i.ka(d)};
b.km=function(a){return new w.Aa(this,a)};w.wa={};w.wa.Rn=null;w.wa.bw=null;w.wa.show=function(a,c,d){w.X.show(w.wa,d,null);if(c.length){var e=w.wa.hp(c,d);re(e,"action",w.wa.Ca);w.wa.Zc(e,a,d);setTimeout(function(){e.S().focus()},1);w.wa.Rn=null}else w.wa.Ca()};w.wa.hp=function(a,c){var d=new Mg;d.Ig(c);for(var e=0,f;f=a[e];e++){var h=new Ig(f.text);h.Ig(c);d.Cn(h,!0);h.Dd(f.enabled);f.enabled&&(re(h,"action",f.bc),h.jk=function(){this.dispatchEvent("action")})}return d};
w.wa.Zc=function(a,c,d){var e=w.g.uw();c={top:c.clientY+e.top,bottom:c.clientY+e.top,left:c.clientX+e.left,right:c.clientX+e.left};w.wa.BB(a);var f=w.g.Sk.wg(a);d&&w.g.Sk.Ou(e,c,f);w.X.Fx(e,c,f,d);a.S().focus()};w.wa.BB=function(a){a.oa(w.X.ta);var c=a.S();w.g.o.bb(c,"blocklyContextMenu");w.ba(c,"contextmenu",null,w.g.JD);a.Dn=!0;a.Rh(!0)};w.wa.Ca=function(){w.X.Li(w.wa);w.wa.Rn=null;w.wa.bw&&w.cb(w.wa.bw)};
w.wa.$F=function(a,c){return function(){w.i.disable();try{var d=w.P.bk(c,a.A),e=a.Ba();e.x=a.B?e.x-w.Lc:e.x+w.Lc;e.y+=2*w.Lc;d.moveBy(e.x,e.y)}finally{w.i.enable()}w.i.isEnabled()&&!d.Za&&w.i.ka(new w.i.cn(d));d.select()}};w.wa.YA=function(a){var c=y(a,!1).length,d=z(a);d&&(c-=y(d,!1).length);return{text:1==c?w.h.DELETE_BLOCK:w.h.DELETE_X_BLOCKS.replace("%1",String(c)),enabled:!0,bc:function(){w.i.ca(!0);a.J(!0,!0);w.i.ca(!1)}}};
w.wa.$A=function(a){return{enabled:!("function"==typeof a.nk?!a.nk():!a.nk),text:w.h.HELP,bc:function(){var c="function"==typeof a.nk?a.nk():a.nk;c&&window.open(c)}}};w.wa.ZA=function(a){var c=yb(a.A)?xb(a.A,w.g.qr(a,!0)):!0;return{text:w.h.DUPLICATE_BLOCK,enabled:c,bc:function(){w.Zv(a)}}};w.wa.XA=function(a){var c={enabled:!w.g.userAgent.Ug};a.gb?(c.text=w.h.REMOVE_COMMENT,c.bc=function(){a.ym(null)}):(c.text=w.h.ADD_COMMENT,c.bc=function(){a.ym("")});return c};
w.wa.rB=function(a){return{text:w.h.PF,enabled:!0,bc:function(){w.i.ca(!0);a.J(!0,!0);w.i.ca(!1)}}};w.wa.sB=function(a){return{text:w.h.nF,enabled:!0,bc:function(){w.Zv(a)}}};w.wa.EG=function(a,c){var d={enabled:!w.g.userAgent.Ug};d.text=w.h.gF;d.bc=function(){var e=new w.ha(a,w.h.TF,w.ha.Kt,w.ha.Kt),f=za(a).getBoundingClientRect();f=new w.g.R(c.clientX-f.left,c.clientY-f.top);var h=w.g.Nl(a.Ya);f=w.g.R.Gl(f,h);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.ea&&(e.zg(),e.oa(!1),e.select())};return d};w.m=function(a,c,d){this.C=w.g.o.H("g",{},null);this.C.Mg="";this.rj=w.g.o.H("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.C);this.ad=w.g.o.H("path",{"class":"blocklyPath"},this.C);this.Jg=w.g.o.H("path",{"class":"blocklyPathLight"},this.C);this.ad.ef=this;this.ea=!1;this.Zf=w.g.xh()&&!!a.Jb;w.K.Vj(this.ad);w.m.w.constructor.call(this,a,c,d);this.C.dataset&&(this.C.dataset.id=this.id)};v(w.m,w.Zk);w.m.prototype.height=0;w.m.prototype.width=0;w.m.prototype.Gd=null;w.m.pn=-1;
w.m.Hp="TEMP_COLLAPSED_WARNING_";b=w.m.prototype;b.zg=function(){if(!this.A.ea)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.U[a];a++)c.Ja();c=gb(this);for(a=0;a<c.length;a++)rh(c[a]);this.ye();Gb(this);this.A.options.readOnly||this.fr||w.ba(this.Y(),"mousedown",this,this.Gh);this.fr=!0;this.Y().parentNode||this.A.Ya.appendChild(this.Y())};
b.select=function(){if(this.Za&&this.getParent())this.getParent().select();else if(w.selected!=this){var a=null;if(w.selected){a=w.selected.id;w.i.disable();try{w.selected.Og()}finally{w.i.enable()}}a=new w.i.ac(null,"selected",a,this.id);a.Qb=this.A.id;w.i.ka(a);w.selected=this;this.Tj()}};b.Og=function(){if(w.selected==this){var a=new w.i.ac(null,"selected",this.id,null);a.Qb=this.A.id;w.i.ka(a);w.selected=null;this.hj()}};b.Ye=null;b.gb=null;b.Gc=null;
function gb(a){var c=[];a.Ye&&c.push(a.Ye);a.gb&&c.push(a.gb);a.Gc&&c.push(a.Gc);return c}b.mj=function(a){var c=this.Qf;if(a!=c){w.O.Gm();w.m.w.mj.call(this,a);w.O.Im();var d=this.Y();if(!this.A.Vr&&d){var e=this.Ba();a?(a.Y().appendChild(d),a=this.Ba(),Ya(this,a.x-e.x,a.y-e.y)):c&&(this.A.Ya.appendChild(d),this.translate(e.x,e.y))}}};
b.Ba=function(){var a=0,c=0,d=this.Zf?this.A.Jb.Vb():null,e=this.Y();if(e){do{var f=w.g.Qd(e);a+=f.x;c+=f.y;this.Zf&&this.A.Jb.ne.firstChild==e&&(f=this.A.Jb.yo(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.A.Ya&&e!=d)}return new w.g.R(a,c)};b.moveBy=function(a,c){if(this.Qf)throw Error("Block has parent.");var d=w.i.isEnabled();if(d)var e=new w.i.$k(this);var f=this.Ba();this.translate(f.x+a,f.y+c);Ya(this,a,c);d&&(e.Eg(),w.i.ka(e));La(this.A)};
b.translate=function(a,c){this.Y().setAttribute("transform","translate("+a+","+c+")")};b.$o=function(){if(this.Zf){var a=this.Ba();this.Y().removeAttribute("transform");this.A.Jb.Lg(a.x,a.y);Ib(this.A.Jb,this.Y())}};b.moveTo=function(a){var c=this.Ba();this.moveBy(a.x-c.x,a.y-c.y)};b.kx=function(a){this.Zf&&(this.translate(a.x,a.y),this.A.Jb.vl(this.A.Ya))};b.Zo=function(a){this.Zf?this.A.Jb.Lg(a.x,a.y):(this.C.Mg="translate("+a.x+","+a.y+")",this.C.setAttribute("transform",this.C.Mg+this.C.nj))};
function fi(a){if(a.A&&!a.A.Bc()&&!a.getParent()&&!a.od){var c=a.A.re;if(c&&c.DE){var d=c.ht,e=d/2,f=a.Ba();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}b.lo=function(){var a=this.Ba(),c=this.V?w.m.da:0,d=this.zb(),e=a.y,f=a.y+d.height;if(this.B){var h=a.x-(d.width-c);a=a.x+c}else h=a.x-c,a=a.x+d.width-c;return new w.g.Rect(e,f,h,a)};
b.Ph=function(a){if(this.og!=a){for(var c=[],d=0,e;e=this.U[d];d++)c.push.apply(c,e.Da(!a));if(a){e=gb(this);for(d=0;d<e.length;d++)e[d].Da(!1);d=this.toString(w.$y);T(oi(this,"_TEMP_COLLAPSED_INPUT"),d).Ja();e=y(this,!0);if(d=z(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.Gc){this.Bm(w.h.COLLAPSED_WARNINGS_WARNING,w.m.Hp);break}}else this.Hs("_TEMP_COLLAPSED_INPUT"),this.Gc&&(this.Gc.Uf("",w.m.Hp),Object.keys(this.Gc.va).length||this.Bm(null));w.m.w.Ph.call(this,a);c.length||
(c[0]=this);if(this.ea)for(d=0;f=c[d];d++)f.oa()}};function ri(a,c,d){for(var e=[],f=0,h;h=a.U[f];f++){for(var k=0,l;l=h.za[k];k++)l instanceof w.Ic&&l.isVisible()&&e.push(l);h.connection&&(h=A(h.connection))&&e.push(h)}c=e.indexOf(c);-1==c&&(c=d?-1:e.length);(e=e[d?c+1:c-1])?e instanceof w.O?e.cf():ri(e,null,d):(e=a.getParent())&&ri(e,a,d)}
b.Gh=function(a){var c=this.A&&this.A.Hf(a);if(c){if(c.Ji)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Wb(c,this);c.Xe=a}};
function si(a){if(a.A.options.readOnly||!a.contextMenu)return null;var c=[];if(!a.od){a.Ac()&&a.hc()&&c.push(w.wa.ZA(a));a.A.options.tB&&!a.og&&a.Vc()&&c.push(w.wa.XA(a));if(a.hc())if(a.og)a.A.options.collapse&&(d={enabled:!0},d.text=w.h.EXPAND_BLOCK,d.bc=function(){a.Ph(!1)},c.push(d));else{for(var d=1;d<a.U.length;d++)if(a.U[d-1].type!=w.ua&&a.U[d].type!=w.ua){d={enabled:!0};var e=kh(a);d.text=e?w.h.EXTERNAL_INPUTS:w.h.INLINE_INPUTS;d.bc=function(){a.Kk(!e)};c.push(d);break}a.A.options.collapse&&
(d={enabled:!0},d.text=w.h.COLLAPSE_BLOCK,d.bc=function(){a.Ph(!0)},c.push(d))}a.A.options.disable&&a.Vc()&&(d={text:a.isEnabled()?w.h.DISABLE_BLOCK:w.h.ENABLE_BLOCK,enabled:!ni(a),bc:function(){var f=w.i.Vb();f||w.i.ca(!0);a.Dd(!a.isEnabled());f||w.i.ca(!1)}},c.push(d));a.Ac()&&c.push(w.wa.YA(a))}c.push(w.wa.$A(a));a.JB&&a.JB(c);return c}b.Mk=function(a){var c=si(this);c&&c.length&&(w.wa.show(a,c,this.B),w.wa.Rn=this)};
function Ya(a,c,d){if(a.ea){for(var e=a.pe(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=gb(a);for(f=0;f<e.length;f++)ph(e[f]);for(f=0;f<a.lg.length;f++)Ya(a.lg[f],c,d)}}b.Qh=function(a){if(a){var c=this.Y();c.Mg="";c.nj="";w.Hl=w.Hl.concat(this.pe(!0));w.g.o.bb(this.C,"blocklyDragging")}else w.Hl=[],w.g.o.Cb(this.C,"blocklyDragging");for(c=0;c<this.lg.length;c++)this.lg[c].Qh(a)};b.lj=function(a){w.m.w.lj.call(this,a);Gb(this)};b.Ys=function(a){w.m.w.Ys.call(this,a);a=gb(this);for(var c=0;c<a.length;c++)a[c].Pg()};
b.bt=function(a){w.m.w.bt.call(this,a);this.ye()};b.$x=function(a){this.fm!=a&&(this.fm=a)&&(this.sd(w.Iz),w.g.o.bb(this.C,"blocklyInsertionMarker"))};b.Y=function(){return this.C};
b.J=function(a,c){if(this.A){w.K.Ca();w.O.Gm();var d=this.A;if(w.selected==this){this.Og();var e=this.A;e.Lb&&e.Lb.cancel()}w.wa.Rn==this&&w.wa.Ca();c&&this.ea&&(Ea(this,a),w.ab.WB(this));this.ea=!1;if(this.Gd){for(var f in this.Gd)clearTimeout(this.Gd[f]);this.Gd=null}Ea(this,a);var h;w.i.isEnabled()&&(h=new w.i.Bt(this));w.i.disable();try{var k=gb(this);for(c=0;c<k.length;c++)k[c].J();w.m.w.J.call(this,a)}finally{w.i.enable()}w.i.isEnabled()&&h&&w.i.ka(h);w.g.o.removeNode(this.C);La(d);this.rj=
this.Jg=this.ad=this.C=null;w.O.Im()}};
b.ye=function(){if(this.isEnabled()){if(this.Za){var a=Ng(this);this.Jg.style.display="none";this.rj.setAttribute("fill",a);this.ad.setAttribute("stroke","none");this.ad.setAttribute("fill",a)}else a=li(this),a.Kn?(this.Jg.style.display="none",this.rj.style.display="none",this.ad.setAttribute("stroke",a.Kn)):(this.Jg.style.display="",this.rj.style.display="",this.ad.setAttribute("stroke","none"),this.Jg.setAttribute("stroke",a.Fq),this.rj.setAttribute("fill",a.hv)),this.ad.setAttribute("fill",this.fh);
a=gb(this);for(var c=0;c<a.length;c++)a[c].ye();for(a=0;c=this.U[a];a++)for(var d=0,e;e=c.za[d];d++)e.ye()}};function Ka(a){!a.isEnabled()||ni(a)?w.g.o.bb(a.C,"blocklyDisabled")&&a.ad.setAttribute("fill","url(#"+a.A.options.pg+")"):w.g.o.Cb(a.C,"blocklyDisabled")&&a.ye();a=a.ug(!1);for(var c=0,d;d=a[c];c++)Ka(d)}b.ro=function(){return this.gb?this.gb.fc().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};
b.ym=function(a){var c=!1;"string"==typeof a?(this.gb||(this.gb=new w.Comment(this),c=!0),this.gb.Uf(a)):this.gb&&(this.gb.J(),c=!0);c&&this.ea&&(this.oa(),this.kd())};
b.Bm=function(a,c){this.Gd||(this.Gd=Object.create(null));var d=c||"";if(d)this.Gd[d]&&(clearTimeout(this.Gd[d]),delete this.Gd[d]);else for(var e in this.Gd)clearTimeout(this.Gd[e]),delete this.Gd[e];if(this.A.Bc()){var f=this;this.Gd[d]=setTimeout(function(){f.A&&(delete f.Gd[d],f.Bm(a,d))},100)}else{this.od&&(a=null);c=ki(this);for(e=null;c;)c.isCollapsed()&&(e=c),c=ki(c);e&&e.Bm(w.h.COLLAPSED_WARNINGS_WARNING,w.m.Hp);c=!1;"string"==typeof a?(this.Gc||(this.Gc=new w.ie(this),c=!0),this.Gc.Uf(a,
d)):this.Gc&&!d?(this.Gc.J(),c=!0):this.Gc&&(c=this.Gc.fc(),this.Gc.Uf("",d),(e=this.Gc.fc())||this.Gc.J(),c=c!=e);c&&this.ea&&(this.oa(),this.kd())}};b.ay=function(a){this.Ye&&this.Ye!==a&&this.Ye.J();a&&(a.T=this,this.Ye=a,rh(a))};b.Dd=function(a){this.isEnabled()!=a&&(w.m.w.Dd.call(this,a),this.ea&&Ka(this))};b.Ed=function(a){this.ea&&(a?(this.ad.setAttribute("filter","url(#"+this.A.options.aw+")"),this.Jg.style.display="none"):(this.ad.setAttribute("filter","none"),this.Jg.style.display="inline"))};
b.Tj=function(){w.g.o.bb(this.C,"blocklySelected")};b.hj=function(){w.g.o.Cb(this.C,"blocklySelected")};b.Am=function(a){a?w.g.o.bb(this.C,"blocklyDraggingDelete"):w.g.o.Cb(this.C,"blocklyDraggingDelete")};b.sd=function(a){w.m.w.sd.call(this,a);this.ea&&this.ye()};function mb(a){do{var c=a.Y();c.parentNode.appendChild(c);a=a.getParent()}while(a)}b.Sh=function(a,c){w.m.w.Sh.call(this,a,c);this.ea&&(this.oa(),this.kd())};b.Lk=function(a,c){w.m.w.Lk.call(this,a,c);this.ea&&(this.oa(),this.kd())};
b.$s=function(a,c){w.m.w.$s.call(this,a,c);this.ea&&(this.oa(),this.kd())};b.Kk=function(a){w.m.w.Kk.call(this,a);this.ea&&(this.oa(),this.kd())};b.Hs=function(a,c){w.m.w.Hs.call(this,a,c);this.ea&&(this.oa(),this.kd())};b.tf=function(a,c){a=w.m.w.tf.call(this,a,c);this.ea&&(this.oa(),this.kd());return a};b.pe=function(a){var c=[];if(a||this.ea)if(this.V&&c.push(this.V),this.W&&c.push(this.W),this.$&&c.push(this.$),a||!this.og){a=0;for(var d;d=this.U[a];a++)d.connection&&c.push(d.connection)}return c};
b.km=function(a){return new w.$g(this,a)};b.kd=function(){if(this.A&&!this.A.Bc()){var a=Ta(this);if(!a.od)for(var c=this.pe(!1),d=0,e;e=c[d];d++){e.isConnected()&&Qa(e)&&A(e).kd();for(var f=e.lx(w.Lc),h=0,k;k=f[h];h++)e.isConnected()&&k.isConnected()||Ta(k.F)!=a&&(Qa(e)?Oa(k,e):Oa(e,k))}}};function nb(a){var c=w.i.Vb();setTimeout(function(){w.i.ca(c);fi(a);w.i.ca(!1)},w.bn/2);setTimeout(function(){w.i.ca(c);a.kd();w.i.ca(!1)},w.bn)}
b.oa=function(a){w.O.Gm();this.ea=!0;if("compatibility"==w.xG)w.j.oa(this);else{var c=w.m.eb;this.B&&(c=-c);for(var d=gb(this),e=0;e<d.length;e++){var f=d[e];if(f.Eq&&f.T.isCollapsed()||f.T.Lf())f.zc.setAttribute("display","none");else{f.zc.setAttribute("display","block");var h=f.jl;f.T.B&&(c-=h);f.zc.setAttribute("transform","translate("+c+",5)");ph(f);c=f.T.B?c-w.m.eb:c+(h+w.m.eb)}}var k=c+=this.B?w.m.eb:-w.m.eb,l=this.U;d=[];d.Dc=k+2*w.m.eb;if(this.W||this.$)d.Dc=Math.max(d.Dc,w.m.Id+w.m.eb);f=
e=0;for(var m=h=!1,n=!1,q=void 0,r=kh(this)&&!this.isCollapsed(),t=0,p;p=l[t];t++)if(p.isVisible()){if(r&&q&&q!=w.ua&&p.type!=w.ua)var x=d[d.length-1];else q=p.type,x=[],x.type=r&&p.type!=w.ua?w.m.pn:p.type,x.height=0,d.push(x);x.push(p);p.Mh=w.m.gl;p.lc=r&&p.type==w.La?w.m.da+1.25*w.m.eb:0;if(p.connection&&p.connection.isConnected()){var D=A(p.connection).zb();p.Mh=Math.max(p.Mh,D.height);p.lc=Math.max(p.lc,D.width)}r||t!=l.length-1?!r&&p.type==w.La&&l[t+1]&&l[t+1].type==w.ua&&p.Mh--:p.Mh--;x.height=
Math.max(x.height,p.Mh);p.Qe=0;1==d.length&&(p.Qe+=this.B?-k:k);D=!1;for(var I=0,S;S=p.za[I];I++){0!=I&&(p.Qe+=w.m.eb);var ub=S.wg();S.lc=ub.width;S.np=D&&S.Tg?w.m.eb:0;p.Qe+=S.lc+S.np;x.height=Math.max(x.height,ub.height);D=S.Tg}x.type!=w.m.pn&&(x.type==w.ua?(m=!0,f=Math.max(f,p.Qe)):(x.type==w.La?h=!0:x.type==w.Fe&&(n=!0),e=Math.max(e,p.Qe)))}for(k=0;x=d[k];k++)if(x.wy=!1,x.type==w.m.pn)for(l=0;p=x[l];l++)if(p.type==w.La){x.height+=2*w.m.Vg;x.wy=!0;break}d.Yd=2*w.m.eb+f;m&&(d.Dc=Math.max(d.Dc,d.Yd+
w.m.Id));h?d.Dc=Math.max(d.Dc,e+2*w.m.eb+w.m.da):n&&(d.Dc=Math.max(d.Dc,e+2*w.m.eb));d.UC=h;d.Sd=m;d.mG=n;e=c;this.tp=!1;this.height=0;this.V?this.it=this.Fm=!0:(c=this.yg?"cap"===this.yg:w.m.pi,this.it=this.Fm=!1,this.W?(c=A(this.W))&&z(c)==this&&(this.Fm=!0):c&&(this.tp=this.Fm=!0,this.height+=w.m.Nj,d.Dc=Math.max(d.Dc,100)),z(this)&&(this.it=!0));c=new w.m.ou;f=d.Dc;h=c.df;m=c.se;this.Fm?(h.push("m 0,0"),m.push("m 0.5,0.5"),this.tp&&(h.push(w.m.oA),m.push(this.B?w.m.nA:w.m.mA))):(h.push(w.m.jq),
m.push(this.B?w.m.AA:w.m.zA),h.push(w.m.xA),m.push(w.m.yA));this.W&&(h.push("H",w.m.Id-15),m.push("H",w.m.Id-15),h.push(w.m.Zz),m.push(w.m.$z),Wa(this.W,this.B?-w.m.il:w.m.il,0));h.push("H",f);m.push("H",f-.5);this.width=f;f={x:0,y:0};h={x:0,y:0};for(m=0;n=d[m];m++){f.x=w.m.eb;0==m&&(f.x+=this.B?-e:e);c.se.push("M",d.Dc-.5+","+(f.y+.5));if(this.isCollapsed())k=n,p=c.df,x=c.se,ti(this,k[0].za,f.x,f.y),p.push(w.m.Yg),x.push("h 8"),k=k.height-w.m.Rp,p.push("v",k),this.B&&(x.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),
x.push("v",k-.7)),this.width+=w.m.Sp;else if(n.type==w.m.pn){x=n;k=f;l=h;q=d.Dc;r=c.Sr;t=c.Lr;D=c.df;I=c.se;for(S=0;p=x[S];S++){ub=k.x;var Xh=k.y;x.wy&&(Xh+=w.m.Vg);k.x=ti(this,p.za,ub,Xh);p.type!=w.Fe&&(k.x+=p.lc+w.m.eb);p.type==w.La&&(r.push("M",k.x-w.m.eb+","+(k.y+w.m.Vg)),r.push("h",w.m.da-2-p.lc),r.push(w.m.iq),r.push("v",p.Mh+1-w.m.fe),r.push("h",p.lc+2-w.m.da),r.push("z"),this.B?(t.push("M",k.x-w.m.eb-2.5+w.m.da-p.lc+","+(k.y+w.m.Vg+.5)),t.push(w.m.zu),t.push("v",p.Mh-w.m.fe+2.5),t.push("h",
p.lc-w.m.da+2)):(t.push("M",k.x-w.m.eb+.5+","+(k.y+w.m.Vg+.5)),t.push("v",p.Mh+1),t.push("h",w.m.da-2-p.lc),t.push("M",k.x-p.lc-w.m.eb+.9+","+(k.y+w.m.Vg+w.m.fe-.7)),t.push("l",.46*w.m.da+",-2.1")),l.x=this.B?-k.x-w.m.da+w.m.eb+p.lc+1:k.x+w.m.da-w.m.eb-p.lc-1,l.y=k.y+w.m.Vg+w.m.hq+1,Wa(p.connection,l.x,l.y))}k.x=Math.max(k.x,q);this.width=Math.max(this.width,k.x);D.push("H",k.x);I.push("H",k.x-.5);D.push("v",x.height);this.B&&I.push("v",x.height-1)}else n.type==w.La?(t=n,p=f,x=h,k=d.Dc,l=c.df,q=c.se,
r=t[0],D=p.x,I=p.y,r.align!=w.Aj&&(S=k-r.Qe-w.m.da-2*w.m.eb,r.align==w.Yk?D+=S:r.align==w.Xk&&(D+=S/2)),ti(this,r.za,D,I),l.push(w.m.iq),t=t.height-w.m.fe,l.push("v",t),this.B?(q.push(w.m.zu),q.push("v",t+.5)):(q.push("M",k-5+","+(p.y+w.m.fe-.7)),q.push("l",.46*w.m.da+",-2.1")),x.x=this.B?-k-1:k+1,Wa(r.connection,x.x,p.y+w.m.hq),r.connection.isConnected()&&(this.width=Math.max(this.width,k+A(r.connection).zb().width-w.m.da+1))):n.type==w.Fe?(p=n,x=c.df,k=c.se,l=p[0],q=f.x,r=f.y,l.align!=w.Aj&&(t=
d.Dc-l.Qe-2*w.m.eb,d.UC&&(t-=w.m.da),l.align==w.Yk?q+=t:l.align==w.Xk&&(q+=t/2)),ti(this,l.za,q,r),x.push("v",p.height),this.B&&k.push("v",p.height-1)):n.type==w.ua&&(D=n,p=f,x=h,k=d,l=m,q=c.df,r=c.se,t=D[0],0==l&&(q.push("v",w.m.oi),this.B&&r.push("v",w.m.oi-1),p.y+=w.m.oi),I=p.x,S=p.y,t.align!=w.Aj&&(ub=k.Yd-t.Qe-2*w.m.eb,t.align==w.Yk?I+=ub:t.align==w.Xk&&(I+=ub/2)),ti(this,t.za,I,S),p.x=k.Yd+w.m.Id,q.push("H",p.x),q.push(w.m.Gz),q.push("v",D.height-2*w.m.M),q.push(w.m.Dz),q.push("H",k.Dc),this.B?
(r.push("M",p.x-w.m.Id+w.m.Sg+","+(p.y+w.m.Sg)),r.push(w.m.Hz),r.push("v",D.height-2*w.m.M),r.push(w.m.Fz)):(r.push("M",p.x-w.m.Id+w.m.Sg+","+(p.y+D.height-w.m.Sg)),r.push(w.m.Ez)),r.push("H",k.Dc-.5),D=k.Yd+w.m.il,x.x=this.B?-D:D+1,Wa(t.connection,x.x,p.y+1),t.connection.isConnected()&&(this.width=Math.max(this.width,k.Yd+A(t.connection).zb().width)),l==k.length-1||k[l+1].type==w.ua)&&(q.push("v",w.m.oi),this.B&&r.push("v",w.m.oi-1),p.y+=w.m.oi);f.y+=n.height}d.length||(f.y=w.m.gl,c.df.push("V",
f.y),this.B&&c.se.push("V",f.y-1));d=f.y;e=c.df;f=c.se;this.height+=d+1;this.$&&(e.push("H",w.m.Id+(this.B?.5:-.5)+" "+w.m.bu),Wa(this.$,this.B?-w.m.il:w.m.il,d+1),this.height+=4);this.it?(e.push("H 0"),this.B||f.push("M","0.5,"+(d-.5))):(e.push("H",w.m.M),e.push("a",w.m.M+","+w.m.M+" 0 0,1 -"+w.m.M+",-"+w.m.M),this.B||(f.push("M",w.m.mn+","+(d-w.m.mn)),f.push("A",w.m.M-.5+","+(w.m.M-.5)+" 0 0,1 0.5,"+(d-w.m.M))));d=c.df;e=c.se;this.V?(Wa(this.V,0,w.m.hq),d.push("V",w.m.fe),d.push("c 0,-10 -"+w.m.da+
",8 -"+w.m.da+",-7.5 s "+w.m.da+",2.5 "+w.m.da+",-7.5"),this.B?(e.push("M",-.25*w.m.da+",8.4"),e.push("l",-.45*w.m.da+",-2.1")):(e.push("V",w.m.fe-1.5),e.push("m",-.92*w.m.da+",-0.5 q "+-.19*w.m.da+",-5.5 0,-11"),e.push("m",.92*w.m.da+",1 V 0.5 H 1")),this.width+=w.m.da):this.B||(this.Fm?e.push("V",.5):e.push("V",w.m.M));d.push("z");qh(this,c)}d=this.Ba();this.W&&Va(this.W,d);this.V&&Va(this.V,d);for(c=0;c<this.U.length;c++)if(e=this.U[c].connection)Va(e,d),e.isConnected()&&Xa(e);this.$&&(Va(this.$,
d),this.$.isConnected()&&Xa(this.$));!1!==a&&((a=this.getParent())?a.oa(!0):La(this.A));w.O.Im()};w.m.oa={};w.m.ou=function(){this.df=[];this.se=[];this.Sr=[];this.Lr=[]};w.m.eb=10;w.m.oi=10;w.m.Vg=5;w.m.gl=25;w.m.fe=20;w.m.da=8;w.m.Id=30;w.m.il=15;w.m.hq=5;w.m.M=8;w.m.pi=!1;w.m.Nj=15;w.m.oA="c 30,-"+w.m.Nj+" 70,-"+w.m.Nj+" 100,0";w.m.mA="c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5";w.m.nA="m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7";w.m.mn=(1-Math.SQRT1_2)*(w.m.M-.5)+.5;w.m.Sg=(1-Math.SQRT1_2)*(w.m.M+.5)-.5;w.m.Zz="l 6,4 3,0 6,-4";w.m.$z="l 6,4 3,0 6,-4";w.m.bu="l -6,4 -3,0 -6,-4";w.m.Yg="l 8,0 0,4 8,4 -16,8 8,4";
w.m.Rp=20;w.m.Sp=15;w.m.iq="v 5 c 0,10 -"+w.m.da+",-8 -"+w.m.da+",7.5 s "+w.m.da+",-2.5 "+w.m.da+",7.5";w.m.zu="v 6.5 m -"+.97*w.m.da+",3 q -"+.05*w.m.da+",10 "+.3*w.m.da+",9.5 m "+.67*w.m.da+",-1.9 v 1.4";w.m.jq="m 0,"+w.m.M;w.m.AA="m "+w.m.mn+","+w.m.mn;w.m.zA="m 0.5,"+(w.m.M-.5);w.m.xA="A "+w.m.M+","+w.m.M+" 0 0,1 "+w.m.M+",0";w.m.yA="A "+(w.m.M-.5)+","+(w.m.M-.5)+" 0 0,1 "+w.m.M+",0.5";w.m.Gz=w.m.bu+" h -"+(w.m.Id-15-w.m.M)+" a "+w.m.M+","+w.m.M+" 0 0,0 -"+w.m.M+","+w.m.M;
w.m.Dz="a "+w.m.M+","+w.m.M+" 0 0,0 "+w.m.M+","+w.m.M;w.m.Hz="a "+w.m.M+","+w.m.M+" 0 0,0 "+(-w.m.Sg-.5)+","+(w.m.M-w.m.Sg);w.m.Fz="a "+(w.m.M+.5)+","+(w.m.M+.5)+" 0 0,0 "+(w.m.M+.5)+","+(w.m.M+.5);w.m.Ez="a "+(w.m.M+.5)+","+(w.m.M+.5)+" 0 0,0 "+(w.m.M-w.m.Sg)+","+(w.m.Sg+.5);w.m.prototype.zb=function(){var a=this.height,c=this.width,d=z(this);d?(d=d.zb(),a+=d.height-4,c=Math.max(c,d.width)):this.$||this.V||(a+=2);return{height:a,width:c}};
function ti(a,c,d,e){e+=w.m.Vg;a.B&&(d=-d);for(var f=0,h;h=c[f];f++){var k=h.Y();if(k){var l="";if(a.B){var m=d-=h.np+h.lc;h.lc&&(d-=w.m.eb)}else m=d+h.np,h.lc&&(d+=h.np+h.lc+w.m.eb);a.B&&h instanceof w.Ge&&h.dw&&(l="scale(-1 1)",m+=h.lc);k.setAttribute("transform","translate("+m+","+e+")"+l);a.Lf()&&k.setAttribute("display","none")}}return a.B?-d:d}
function qh(a,c){var d=c.df.join(" ")+"\n"+c.Sr.join(" ");a.ad.setAttribute("d",d);a.rj.setAttribute("d",d);d=c.se.join(" ")+"\n"+c.Lr.join(" ");a.Jg.setAttribute("d",d);a.B&&(a.ad.setAttribute("transform","scale(-1 1)"),a.Jg.setAttribute("transform","scale(-1 1)"),a.rj.setAttribute("transform","translate(1,1) scale(-1 1)"))}function fb(a,c){c?w.g.o.bb(a.C,"blocklyReplaceable"):w.g.o.Cb(a.C,"blocklyReplaceable")};
w.G=function(){};w.G.Ee=null;w.G.yq=null;w.G.rd=null;w.G.ip=null;w.G.Ym=16;w.G.zt=1;w.G.wt=12;w.G.lu=16;w.G.Dp=.25;w.G.qq=null;w.G.aj=0;
w.G.ia=function(){if(!w.G.Ee){var a=document.createElement("div");a.className="blocklyDropDownDiv";document.body.appendChild(a);w.G.Ee=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);w.G.dc=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);w.G.Le=c;w.G.Ee.style.opacity=0;w.G.Ee.style.transition="transform "+w.G.Dp+"s, opacity "+w.G.Dp+"s"}};w.G.Xx=function(a){w.G.yq=a};w.G.lw=function(){return w.G.dc};
w.G.oB=function(){w.G.dc.innerHTML="";w.G.dc.style.width=""};w.G.sd=function(a,c){w.G.Ee.style.backgroundColor=a;w.G.Ee.style.borderColor=c};w.G.AG=function(a){w.G.Ee.setAttribute("data-category",a)};w.G.BG=function(a,c,d,e){var f=c.A.scale,h=c.width,k=c.height;h*=f;k*=f;f=c.Y().getBoundingClientRect();h=f.left+h/2;k=f.top+k;f=f.top;e&&(f+=e);w.G.Xx(B(c.A).parentNode);return w.G.show(a,h,k,h,f,d)};
w.G.iy=function(a,c){var d=a.Pe.getBoundingClientRect(),e=d.left+d.width/2,f=d.bottom;d=d.top;w.G.ip=!0;w.G.Xx(B(a.F.A).parentNode);w.G.show(a,e,f,e,d,c)};w.G.show=function(a,c,d,e,f,h){w.G.rd=a;w.G.aj=h;a=w.G.tw(c,d,e,f);a.sq?(w.G.Le.style.display="",w.G.Le.style.transform="translate("+a.sl+"px,"+a.Su+"px) rotate(45deg)",w.G.Le.setAttribute("class",a.rq?"blocklyDropDownArrow arrowTop":"blocklyDropDownArrow arrowBottom")):w.G.Le.style.display="none";w.G.um(a.Go,a.Ho,a.eo,a.fo);return a.rq};
w.G.nC=function(){var a=w.G.yq.getBoundingClientRect(),c=w.g.style.wg(w.G.yq);return{left:a.left,right:a.left+c.width,top:a.top,bottom:a.top+c.height,width:c.width,height:c.height}};w.G.tw=function(a,c,d,e){var f=w.G.nC(),h=w.g.style.wg(w.G.Ee);return c+h.height<f.bottom?w.G.sw(a,c,f,h):e-h.height>f.top?w.G.rw(d,e,f,h):c+h.height<document.documentElement.clientHeight?w.G.sw(a,c,f,h):e-h.height>document.documentElement.clientTop?w.G.rw(d,e,f,h):w.G.wC(a,f,h)};
w.G.sw=function(a,c,d,e){a=w.G.wr(a,d.left,d.right,e.width);return{Go:a.ak,Ho:c,eo:a.ak,fo:c+w.G.lu,sl:a.sl,Su:-(w.G.Ym/2+w.G.zt),rq:!0,sq:!0}};w.G.rw=function(a,c,d,e){a=w.G.wr(a,d.left,d.right,e.width);return{Go:a.ak,Ho:c-e.height,eo:a.ak,fo:c-e.height-w.G.lu,sl:a.sl,Su:e.height-2*w.G.zt-w.G.Ym/2,rq:!1,sq:!0}};w.G.wC=function(a,c,d){a=w.G.wr(a,c.left,c.right,d.width);return{Go:a.ak,Ho:0,eo:a.ak,fo:0,sq:!1}};
w.G.wr=function(a,c,d,e){var f=a;a=w.g.ue.Cq(c,a-e/2,d-e);f-=w.G.Ym/2;c=w.g.ue.Cq(w.G.wt,f-a,e-w.G.wt-w.G.Ym);return{sl:c,ak:a}};w.G.isVisible=function(){return!!w.G.rd};w.G.Li=function(a){w.G.rd===a&&w.G.Ca()};w.G.Ca=function(){var a=w.G.Ee;a.style.transform="translate(0px, 0px)";a.style.opacity=0;w.G.qq=setTimeout(function(){w.G.Iw()},1E3*w.G.Dp);w.G.aj&&(w.G.aj(),w.G.aj=null)};
w.G.Iw=function(){if(w.G.isVisible()){w.G.qq&&clearTimeout(w.G.qq);var a=w.G.Ee;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";w.G.oB();w.G.rd=null;w.G.aj&&(w.G.aj(),w.G.aj=null)}};w.G.um=function(a,c,d,e){a=Math.floor(a);c=Math.floor(c);d=Math.floor(d);e=Math.floor(e);var f=w.G.Ee;f.style.left=a+"px";f.style.top=c+"px";f.style.display="block";f.style.opacity=1;f.style.transform="translate("+(d-a)+"px,"+(e-c)+"px)"};
w.G.yG=function(){if(w.G.rd){var a=w.G.rd.F,c=a.A.scale,d=w.G.ip?w.G.rd.nb.width:a.width,e=w.G.ip?w.G.rd.nb.height:a.height;d*=c;e*=c;a=w.G.ip?w.G.rd.Pe.getBoundingClientRect():a.Y().getBoundingClientRect();d=a.left+d/2;e=w.G.tw(d,a.top+e,d,a.top);w.G.um(e.Go,e.Ho,e.eo,e.fo)}else w.G.Ca()};w.Ic=function(a,c){a=this.Qc(a);null===a&&(a="");w.Ic.w.constructor.call(this,a,c)};v(w.Ic,w.O);w.Ic.na=function(a){var c=w.g.Yb(a.text);c=new w.Ic(c);"boolean"===typeof a.spellcheck&&(c.ky=a.spellcheck);return c};w.Ic.prototype.fg=!0;w.Ic.sz=11;b=w.Ic.prototype;b.jn="text";b.ky=!0;b.Qc=function(a){return null===a||void 0===a?null:String(a)};b.Wv=function(){if(this.Jo){this.Xr=!1;var a=this.xa;this.xa=this.te.YE;this.F&&w.i.isEnabled()&&w.i.ka(new w.i.jf(this.F,"field",this.name,a,this.xa))}};
b.kh=function(a){this.Xr=!0;this.xa=a;this.Jo||(this.va=String(a),this.Ve=!0)};b.Rf=function(){w.Ic.w.Rf.call(this);if(this.Jo){if(this.F.B){var a=this;setTimeout(function(){ui(a)},0)}else ui(this);this.Xr?w.g.o.Cb(this.te,"blocklyInvalidInput"):w.g.o.bb(this.te,"blocklyInvalidInput")}};b.cf=function(a){this.s=this.F.A;a=a||!1;!a&&(w.g.userAgent.Zt||w.g.userAgent.Bj||w.g.userAgent.fi)?vi(this):(this.Jo=!0,w.X.show(this,this.F.B,this.qt.bind(this)),this.te=this.pt(),a||(this.te.focus(),this.te.select()))};
function vi(a){w.prompt(w.h.CHANGE_VALUE_TITLE,a.va,function(c){a.setValue(c)})}b.pt=function(){var a=w.X.ta,c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.ky);var d=w.Ic.sz*this.s.scale+"pt";a.style.fontSize=d;c.style.fontSize=d;a.appendChild(c);c.value=c.defaultValue=this.xa;c.YE=this.xa;c.px=null;var e=this;setTimeout(function(){ui(e)},0);wi(this,c);return c};
b.qt=function(){this.Jo=!1;this.xa!==this.va&&(this.va=String(this.xa),this.Xr=!0,qb(this));this.PD&&this.PD(this.xa);w.cb(this.SD);w.cb(this.UD);var a=w.X.ta.style;a.width="auto";a.height="auto";a.fontSize=""};function wi(a,c){a.SD=w.ba(c,"keydown",a,a.RD);a.UD=w.ba(c,"input",a,a.QD)}b.RD=function(a){13==a.keyCode?w.X.Ca():27==a.keyCode?(this.te.value=this.te.defaultValue,w.X.Ca()):9==a.keyCode&&(w.X.Ca(),ri(this.F,this,!a.shiftKey),a.preventDefault())};
b.QD=function(){var a=this.te.value;a!==this.te.px&&(this.te.px=a,w.i.ca(!0),this.setValue(a),this.va=this.te.value,qb(this),w.i.ca(!1))};function ui(a){var c=w.X.ta,d=bc(a);c.style.width=d.right-d.left+"px";c.style.height=d.bottom-d.top+"px";a=new w.g.R(a.F.B?d.right-c.offsetWidth:d.left,d.top);a.y+=1;w.g.userAgent.Pt&&w.X.ta.style.top&&(--a.x,--a.y);w.g.userAgent.Iu&&(a.y-=3);c.style.left=a.x+"px";c.style.top=a.y+"px"}
w.Ic.LD=function(a){console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.");if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);return isNaN(a)?null:String(a)};w.Ic.qG=function(a){(a=w.Ic.LD(a))&&(a=String(Math.max(0,Math.floor(a))));return a};w.O.register("field_input",w.Ic);w.aa=function(a,c){a=this.Qc(a);null===a&&(a=0);w.aa.w.constructor.call(this,a,c)};v(w.aa,w.Ic);w.aa.na=function(a){return new w.aa(a.angle)};w.aa.prototype.fg=!0;w.aa.aq=15;w.aa.Rb=50;w.aa.dn=!1;w.aa.Ie=0;w.aa.Ju=360;w.aa.eg=w.aa.Rb-1;b=w.aa.prototype;b.Kf=function(){w.aa.w.Kf.call(this);this.uy=w.g.o.H("tspan",{},null);this.uy.appendChild(document.createTextNode("\u00b0"));this.Db.appendChild(this.uy)};b.Rf=function(){w.aa.w.Rf.call(this);xi(this)};
b.cf=function(){w.aa.w.cf.call(this,w.g.userAgent.Zt||w.g.userAgent.Bj||w.g.userAgent.fi);var a=this.cr();w.G.lw().appendChild(a);a=li(this.F);a=a.Kn||a.Fq;w.G.sd(this.F.fh,a);w.G.iy(this,this.dr.bind(this));xi(this)};
b.cr=function(){var a=w.g.o.H("svg",{xmlns:w.g.o.vd,"xmlns:html":w.g.o.pf,"xmlns:xlink":w.g.o.Mc,version:"1.1",height:2*w.aa.Rb+"px",width:2*w.aa.Rb+"px"},null),c=w.g.o.H("circle",{cx:w.aa.Rb,cy:w.aa.Rb,r:w.aa.eg,"class":"blocklyAngleCircle"},a);this.jo=w.g.o.H("path",{"class":"blocklyAngleGauge"},a);this.Zw=w.g.o.H("line",{x1:w.aa.Rb,y1:w.aa.Rb,"class":"blocklyAngleLine"},a);for(var d=0;360>d;d+=15)w.g.o.H("line",{x1:w.aa.Rb+w.aa.eg,y1:w.aa.Rb,x2:w.aa.Rb+w.aa.eg-(0==d%45?10:5),y2:w.aa.Rb,"class":"blocklyAngleMarks",
transform:"rotate("+d+","+w.aa.Rb+","+w.aa.Rb+")"},a);this.qB=w.rc(a,"click",this,this.VC);this.BD=w.rc(c,"mousemove",this,this.xx);this.CD=w.rc(this.jo,"mousemove",this,this.xx);return a};b.dr=function(){w.cb(this.qB);w.cb(this.BD);w.cb(this.CD)};b.VC=function(){w.G.Li(this);w.X.Ca()};
b.xx=function(a){var c=this.jo.ownerSVGElement.getBoundingClientRect(),d=a.clientX-c.left-w.aa.Rb;c=a.clientY-c.top-w.aa.Rb;a=Math.atan(-c/d);isNaN(a)||(a=w.g.ue.QE(a),0>d?a+=180:0<c&&(a+=360),a=w.aa.dn?w.aa.Ie+360-a:360-(w.aa.Ie-a),360<a&&(a-=360),w.aa.aq&&(a=Math.round(a/w.aa.aq)*w.aa.aq),a>w.aa.Ju&&(a-=360),d=String(a),d!=this.va&&(this.te.value=a,this.setValue(a),this.va=d,qb(this)))};
function xi(a){if(a.jo){var c=Number(a.fc())+w.aa.Ie,d=w.g.ue.Om(c%360);c=["M ",w.aa.Rb,",",w.aa.Rb];var e=w.aa.Rb,f=w.aa.Rb;if(!isNaN(d)){var h=w.g.ue.Om(w.aa.Ie),k=Math.cos(h)*w.aa.eg,l=Math.sin(h)*-w.aa.eg;w.aa.dn&&(d=2*h-d);e+=Math.cos(d)*w.aa.eg;f-=Math.sin(d)*w.aa.eg;d=Math.abs(Math.floor((d-h)/Math.PI)%2);w.aa.dn&&(d=1-d);c.push(" l ",k,",",l," A ",w.aa.eg,",",w.aa.eg," 0 ",d," ",Number(w.aa.dn)," ",e,",",f," z")}a.jo.setAttribute("d",c.join(""));a.Zw.setAttribute("x2",e);a.Zw.setAttribute("y2",
f)}}b.Qc=function(a){a=Number(a)%360;if(isNaN(a))return null;0>a&&(a+=360);a>w.aa.Ju&&(a-=360);return a};w.O.register("field_angle",w.aa);w.dd=function(a,c){a=this.Qc(a);null===a&&(a="FALSE");w.dd.w.constructor.call(this,a,c);this.nb.width=w.dd.EA};v(w.dd,w.O);w.dd.na=function(a){return new w.dd(a.checked)};w.dd.EA=15;w.dd.Xy="\u2713";w.dd.Yy=w.O.bi-3;w.dd.Zy=14;b=w.dd.prototype;b.fg=!0;b.jn="default";b.Ve=!1;
b.Kf=function(){w.dd.w.Kf.call(this);this.Db.setAttribute("x",w.dd.Yy);this.Db.setAttribute("y",w.dd.Zy);w.g.o.bb(this.Db,"blocklyCheckbox");this.Db.appendChild(document.createTextNode(w.dd.Xy));this.Db.style.display=this.xa?"block":"none"};b.cf=function(){this.setValue(!this.xa)};b.Qc=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};b.kh=function(a){this.xa=yi(a);this.Db&&(this.Db.style.display=this.xa?"block":"none")};b.getValue=function(){return this.xa?"TRUE":"FALSE"};
b.fc=function(){return String(yi(this.xa))};function yi(a){return"string"==typeof a?"TRUE"==a:!!a}w.O.register("field_checkbox",w.dd);w.g.jb={};w.g.jb.parse=function(a){a=String(a).toLowerCase().trim();var c=w.g.jb.names[a];if(c)return c;c="#"==a[0]?a:"#"+a;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?w.g.jb.Ps(a,c,d):null};
w.g.jb.Ps=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};w.g.jb.Hw=function(a){a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
w.g.jb.XC=function(a){var c=w.zz,d=255*w.Az,e=0,f=0,h=0;if(0==c)h=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;h=a;break;case 2:e=a;f=d;h=c;break;case 3:e=a;f=m;h=d;break;case 4:e=c;f=a;h=d;break;case 5:e=d;f=a;h=m;break;case 6:case 0:e=d,f=c,h=a}}return w.g.jb.Ps(Math.floor(e),Math.floor(f),Math.floor(h))};
w.g.jb.uq=function(a,c,d){a=w.g.jb.Hw(w.g.jb.parse(a));c=w.g.jb.Hw(w.g.jb.parse(c));return w.g.jb.Ps(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};w.g.jb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};w.oc=function(a,c){a=this.Qc(a);null===a&&(a=w.oc.Et[0]);w.oc.w.constructor.call(this,a,c)};v(w.oc,w.O);w.oc.na=function(a){var c=new w.oc(a.colour);if(a.colourOptions){var d=a.colourTitles;c.kv=a.colourOptions;d&&(c.xy=d)}a.columns&&c.setColumns(a.columns);return c};w.oc.ez=26;w.oc.iF=w.O.an;b=w.oc.prototype;b.fg=!0;b.jn="default";b.Ve=!1;b.kv=null;b.xy=null;b.lv=0;b.iz="silver";b.hz="white";
b.Kf=function(){this.nb=new w.g.qf(w.oc.ez,w.O.an);Yb(this);this.Md.style.fillOpacity=1;this.Md.style.fill=this.xa};b.Qc=function(a){return"string"!=typeof a?null:w.g.jb.parse(a)};b.kh=function(a){this.xa=a;this.Md&&(this.Md.style.fill=a)};b.fc=function(){var a=this.xa;/^#(.)\1(.)\2(.)\3$/.test(a)&&(a="#"+a[1]+a[3]+a[5]);return a};w.oc.Et="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");
w.oc.wA=[];w.oc.az=7;b=w.oc.prototype;b.setColumns=function(a){this.lv=a;return this};b.cf=function(){var a=this.cr();w.G.lw().appendChild(a);w.G.sd(this.hz,this.iz);w.G.iy(this,this.dr.bind(this))};b.rm=function(a){(a=a.target)&&!a.label&&(a=a.parentNode);a=a&&a.label;null!==a&&(this.setValue(a),w.G.Li(this))};
b.cr=function(){var a=this.lv||w.oc.az,c=this.kv||w.oc.Et,d=this.xy||w.oc.wA,e=this.getValue(),f=document.createElement("table");f.className="blocklyColourTable";for(var h,k=0;k<c.length;k++){0==k%a&&(h=document.createElement("tr"),f.appendChild(h));var l=document.createElement("td");h.appendChild(l);var m=document.createElement("div");l.appendChild(m);l.label=c[k];l.title=d[k]||c[k];m.style.backgroundColor=c[k];c[k]==e&&(m.className="blocklyColourSelected")}this.Ck=w.rc(f,"mouseup",this,this.rm);
return f};b.dr=function(){w.cb(this.Ck)};w.O.register("field_colour",w.oc);w.ci=function(a,c){w.ci.w.constructor.call(this,a,c)};v(w.ci,w.mf);w.ci.na=function(a){var c=w.g.Yb(a.text);return new w.ci(c,a["class"])};w.ci.prototype.Tg=!1;w.ci.prototype.fg=!0;w.O.register("field_label_serializable",w.ci);w.Ge=function(a,c,d,e,f,h){this.F=null;if(!a)throw Error("Src value of an image field is required");if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");d=Number(d);c=Number(c);if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.aD=d;this.nb=new w.g.qf(c,d+w.Ge.HA);this.dw=h;this.va=e||"";this.setValue(a||"");"function"==typeof f&&(this.fv=f)};v(w.Ge,w.O);
w.Ge.na=function(a){var c=w.g.Yb(a.src),d=Number(w.g.Yb(a.width)),e=Number(w.g.Yb(a.height)),f=w.g.Yb(a.alt);return new w.Ge(c,d,e,f,null,!!a.flipRtl)};w.Ge.HA=1;b=w.Ge.prototype;b.Tg=!1;b.Ve=!1;b.Kf=function(){this.Ad=w.g.o.H("image",{height:this.aD+"px",width:this.nb.width+"px",alt:this.va},this.Pe);this.Ad.setAttributeNS(w.g.o.Mc,"xlink:href",this.xa)};b.Qc=function(a){return"string"!=typeof a?null:a};b.kh=function(a){this.xa=a;this.Ad&&this.Ad.setAttributeNS(w.g.o.Mc,"xlink:href",this.xa||"")};
b.Uf=function(a){null!==a&&(this.va=a,this.Ad&&this.Ad.setAttribute("alt",a||""))};b.cf=function(){this.fv&&this.fv(this)};w.O.register("field_image",w.Ge);w.di=function(a,c,d,e,f){e=Number(e);this.jp=isNaN(e)?0:e;e=this.jp.toString();var h=e.indexOf(".");this.hw=-1==h?-1:e.length-(h+1);c=Number(c);this.yD=isNaN(c)?-Infinity:c;d=Number(d);this.vD=isNaN(d)?Infinity:d;this.setValue(this.getValue());a=this.Qc(a);null===a&&(a=0);w.di.w.constructor.call(this,a,f)};v(w.di,w.Ic);w.di.na=function(a){return new w.di(a.value,a.min,a.max,a.precision)};w.di.prototype.fg=!0;
w.di.prototype.Qc=function(a){if(null===a||void 0===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.yD),this.vD);this.jp&&isFinite(a)&&(a=Math.round(a/this.jp)*this.jp);return a=-1==this.hw?a:Number(a.toFixed(this.hw))};w.O.register("field_number",w.di);w.nf=function(a,c,d,e){this.Wi=w.nf.$B;this.nb=new w.g.qf(0,w.m.gl);c&&(this.xp=c);this.MB=a||"";a=e||"";if(null==d||void 0==d)d=null;else if(Array.isArray(d)){c=!1;for(e=0;e<d.length;e++)d[e]==a&&(c=!0);if(!c)throw Error("Invalid default type '"+a+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.LB=a;this.ZE=d;this.xa=null};v(w.nf,w.Ka);
w.nf.na=function(a){var c=w.g.Yb(a.variable);return new w.nf(c,null,a.variableTypes,a.defaultType)};b=w.nf.prototype;b.s=null;b.fg=!0;b.Oi=function(){if(!this.cd){var a=w.Z.pw(this.s,null,this.MB,this.LB);w.i.disable();this.setValue(a.Ga());w.i.enable()}};
b.Di=function(a){var c=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";c=w.Z.pw(this.s,c,d,e);if(null!=e&&e!==c.type)throw Error("Serialized variable type with id '"+c.Ga()+"' had type "+c.type+", and does not match variable field that references it: "+w.P.Rc(a)+".");this.setValue(c.Ga())};b.Pm=function(a){this.Oi();a.id=this.cd.Ga();a.textContent=this.cd.name;this.cd.type&&a.setAttribute("variabletype",this.cd.type);return a};
b.ct=function(a){if(a.Za)throw Error("Variable fields are not allowed to exist on shadow blocks.");w.nf.w.ct.call(this,a);this.s=a.A};b.getValue=function(){return this.cd?this.cd.Ga():null};b.fc=function(){return this.cd?this.cd.name:""};b.Re=function(){return this.cd};b.yr=function(){return this.cd?this.xp:null};
b.Qc=function(a){var c=w.Z.Re(this.s,a);if(!c)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;c=c.type;var d;a:if(d=zi(this)){for(var e=0;e<d.length;e++)if(c==d[e]){d=!0;break a}d=!1}else d=!0;return d?a:(console.warn("Variable type doesn't match this field!  Type was "+c),null)};b.kh=function(a){this.cd=w.Z.Re(this.s,a);this.xa=a;this.va=this.cd.name;this.Ve=!0};
function zi(a){var c=a.ZE;if(null===c&&a.s)return a.s.zr();c=c||[""];if(0==c.length)throw a=a.fc(),Error("'variableTypes' of field variable "+a+" was an empty list");return c}
w.nf.$B=function(){if(!this.cd)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.fc(),c=[];if(this.s)for(var d=zi(this),e=0;e<d.length;e++)c=c.concat(this.s.Rl(d[e]));c.sort(w.Qj.Hq);d=[];for(e=0;e<c.length;e++)d[e]=[c[e].name,c[e].Ga()];d.push([w.h.RENAME_VARIABLE,w.vu]);w.h.DELETE_VARIABLE&&d.push([w.h.DELETE_VARIABLE.replace("%1",a),w.Nt]);return d};
w.nf.prototype.tx=function(a){a=a.getValue();if(this.s){if(a==w.vu){w.Z.Is(this.s,this.cd);return}if(a==w.Nt){this.s.Ai(this.cd.Ga());return}}this.setValue(a)};w.nf.prototype.mp=function(){return!0};w.O.register("field_variable",w.nf);w.Generator=function(a){this.GD=a};w.Generator.Jj="generated_function";b=w.Generator.prototype;b.Tt=null;b.zn=null;b.An=null;b.Cz="  ";b.bz=60;b.wn=[];
function Ai(){var a=w.L,c=R;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=w.yd());var d=[];a.Ja(c);c=C(c,!0);for(var e=0,f;f=c[e];e++){var h=Bi(a,f);Array.isArray(h)&&(h=h[0]);h&&(f.V&&(h=a.Vx(h),a.zn&&!f.kt&&(h=Ci(a.zn,f)+h),a.An&&!f.kt&&(h+=Ci(a.An,f))),d.push(h))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");return d=d.replace(/[ \t]+\n/g,"\n")}function Di(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function Bi(a,c){if(!c)return"";if(!c.isEnabled())return Bi(a,z(c));var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.GD+'" does not know how to generate  code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.V)throw TypeError("Expecting string from statement block: "+c.type);return[a.Rs(c,d[0],void 0),d[1]]}if("string"==typeof d)return a.zn&&!c.kt&&(d=Ci(a.zn,c)+d),a.An&&!c.kt&&(d+=Ci(a.An,c)),a.Rs(c,d,void 0);if(null===d)return"";throw SyntaxError("Invalid code generated: "+
d);}
function Ei(a,c,d){var e=w.L;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=qi(a,c);if(!f)return"";c=Bi(e,f);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+f.type);a=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var h=Math.floor(d),k=Math.floor(c);if(h<=k&&(h!=k||0!=h&&99!=h))for(f=!0,h=0;h<e.wn.length;h++)if(e.wn[h][0]==d&&e.wn[h][1]==c){f=!1;break}f&&(a=
"("+a+")");return a}function Fi(a,c){var d=w.L;a=qi(a,c);c=Bi(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=Di(c,d.Cz));return c}function Ci(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.$p="";function Gi(a){var c=w.L;c.$p+=a+","}b.Ja=function(){};b.Rs=function(a,c){return c};b.finish=function(a){return a};b.Vx=function(a){return a};w.D=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.bd=a;this.cm=w.D.iD(a);this.pa=c;if(a=d||null)a.wsCoordinate?this.Wk=a.wsCoordinate:a.input&&(this.hE=a.input)};w.D.types={cg:"field",Ae:"block",Wg:"input",li:"output",dg:"next",mi:"previous",Je:"stack",ig:"workspace"};w.D.Py=10;w.D.dz=-20;w.D.iD=function(a){switch(a){case w.D.types.mi:case w.D.types.dg:case w.D.types.Wg:case w.D.types.li:return!0}return!1};w.D.Dl=function(a){return new w.D(w.D.types.cg,a)};
w.D.yf=function(a){return a?a.type===w.La||a.type===w.ua&&a.If()?w.D.wi(a.If()):a.type===w.ua?new w.D(w.D.types.dg,a):a.type===w.ce?new w.D(w.D.types.li,a):a.type===w.de?new w.D(w.D.types.mi,a):null:null};w.D.wi=function(a){return a?new w.D(w.D.types.Wg,a.connection,{input:a}):null};w.D.xf=function(a){return new w.D(w.D.types.Ae,a)};w.D.Qn=function(a){return new w.D(w.D.types.Je,a)};w.D.El=function(a,c){return new w.D(w.D.types.ig,a,{wsCoordinate:c})};b=w.D.prototype;b.If=function(){return this.hE};
function Hi(a,c){a=a.pa;a instanceof w.Zk||(a=a.F);if(!a)return null;var d=Ta(a);a=C(d.A,!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:w.D.Qn(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!?!?!");}function Ii(a){if(a.W)for(;a&&a.W&&a.W.qa&&A(a.W).$==a.W.qa;)a=A(a.W);var c=a.W||a.V;return c&&c.qa&&c.qa.If()?w.D.wi(c.qa.If()):w.D.Qn(a)}
b.next=function(){switch(this.bd){case w.D.types.ig:return w.D.El(this.pa,new w.g.R(this.Wk.x+w.D.Py,this.Wk.y));case w.D.types.Je:return Hi(this,!0);case w.D.types.li:return w.D.xf(this.pa.F);case w.D.types.cg:a:{var a=this.pa;var c=a.If();var d=a.F;a=c.za.indexOf(a)+1;for(var e=d.U.indexOf(c);c=d.U[e];e++){for(var f=c.za;a<f.length;){if($b(f[a])){c=w.D.Dl(f[a]);break a}a++}a=0;if(c.connection){c=w.D.wi(c);break a}}c=null}return c;case w.D.types.Wg:a:{d=this.pa.If();c=d.F;for(d=c.U.indexOf(d)+1;a=
c.U[d];d++){e=a.za;f=0;for(var h;h=e[f];f++)if($b(h)){c=w.D.Dl(h);break a}if(a.connection){c=w.D.wi(a);break a}}c=null}return c;case w.D.types.Ae:if(c=this.pa.$)return w.D.yf(c);break;case w.D.types.mi:return w.D.xf(this.pa.F);case w.D.types.dg:if(c=this.pa.qa)return w.D.yf(c)}return null};
b.am=function(){switch(this.bd){case w.D.types.ig:var a=C(this.pa,!0);if(0<a.length)return w.D.Qn(a[0]);break;case w.D.types.Je:a=this.pa;var c=a.W||a.V;return c?w.D.yf(c):w.D.xf(a);case w.D.types.Ae:a:{a=this.pa.U;c=0;for(var d;d=a[c];c++){for(var e=d.za,f=0,h;h=e[f];f++)if($b(h)){a=w.D.Dl(h);break a}if(d.connection){a=w.D.wi(d);break a}}a=null}return a;case w.D.types.Wg:if(a=this.pa.qa)return w.D.yf(a)}return null};
b.Fk=function(){switch(this.bd){case w.D.types.ig:return w.D.El(this.pa,new w.g.R(this.Wk.x-w.D.Py,this.Wk.y));case w.D.types.Je:return Hi(this,!1);case w.D.types.cg:a:{var a=this.pa;var c=a.If();var d=a.F;a=c.za.indexOf(a)-1;for(var e=d.U.indexOf(c),f;f=d.U[e];e--){if(f.connection&&f!==c){c=w.D.wi(f);break a}for(f=f.za;-1<a;){if($b(f[a])){c=w.D.Dl(f[a]);break a}a--}0<=e-1&&(a=d.U[e-1].za.length-1)}c=null}return c;case w.D.types.Wg:a:{c=this.pa.If();d=c.F;for(a=d.U.indexOf(c);e=d.U[a];a--){if(e.connection&&
e!==c){c=w.D.wi(e);break a}e=e.za;f=e.length-1;for(var h;h=e[f];f--)if($b(h)){c=w.D.Dl(h);break a}}c=null}return c;case w.D.types.Ae:c=this.pa.V;if(c=this.pa.W||c)return w.D.yf(c);break;case w.D.types.mi:if(c=this.pa.qa)return w.D.yf(c);break;case w.D.types.dg:return w.D.xf(this.pa.F)}return null};
b.tm=function(){switch(this.bd){case w.D.types.Je:var a=this.pa.Ba();return w.D.El(this.pa.A,new w.g.R(a.x,a.y+w.D.dz));case w.D.types.li:return(a=this.pa.qa)?w.D.yf(a):w.D.Qn(this.pa.F);case w.D.types.cg:return w.D.xf(this.pa.F);case w.D.types.Wg:return w.D.xf(this.pa.F);case w.D.types.Ae:return Ii(this.pa);case w.D.types.mi:return Ii(this.pa.F);case w.D.types.dg:return Ii(this.pa.F)}return null};w.u={};w.u.uc=null;w.u.Eh=null;w.u.md=null;w.u.Ef=null;w.u.yk=null;w.u.xu=1;w.u.fq=2;w.u.yu=3;w.u.Sn=w.u.fq;w.u.Zx=function(a){w.u.uc=a};w.u.zE=function(a){w.u.Eh=a};w.u.gs=function(){E(w.u.Eh,w.u.uc.sb)};w.u.pE=function(){E(w.u.Eh,null);w.u.Eh.Ca()};w.u.fw=function(){w.u.Rx(!1);w.u.Sn=w.u.yu;var a=w.yd(),c=a.fa;w.u.Eh.sb||w.u.gs();a&&!w.u.md&&(w.u.md=c.Fc.jr);c.Fc.Tf(w.u.md)};w.u.HD=function(){if(w.u.md){var a=Ji(w.u.md);a&&(a.select(),w.u.md=a)}};
w.u.mE=function(){if(w.u.md){var a=Ki(w.u.md);a&&(a.select(),w.u.md=a)}};w.u.dD=function(){if(w.u.md){var a=w.u.md;O(a)?a.wc()?(N(a,0).select(),w.u.md=N(a,0)):a.Vd(!0):w.u.ew()}};w.u.fE=function(){if(w.u.md){var a=w.u.md;if(O(a)&&a.wc()&&a.wk)a.Vd(!1);else{var c=a.getParent();a=a.Tc();c&&(a.Th||c!=a)&&(c.select(),w.u.md=c)}}};
w.u.ew=function(){w.u.Sn=w.u.xu;var a=w.yd();var c=a.fa,d=w.u.uc;a=c?c.N:ai(a);w.u.Eh.sb||w.u.gs();a&&a.qh()&&(a=C(a.qh()),0<a.length&&(a=a[0],w.u.Ef=a,a=w.D.xf(w.u.Ef),E(d,a)))};w.u.wE=function(){if(w.u.Ef){var a=w.u.ow(),c=a.indexOf(w.u.Ef),d=w.u.uc,e;-1<c&&a[++c]&&(e=a[c]);e&&(w.u.Ef=e,a=w.D.xf(e),E(d,a))}};w.u.xE=function(){if(w.u.Ef){var a=w.u.ow(),c=a.indexOf(w.u.Ef),d=w.u.uc,e;-1<c&&a[--c]&&(e=a[c]);e&&(w.u.Ef=e,a=w.D.xf(e),E(d,a))}};
w.u.ow=function(){var a=w.yd(),c=a.fa,d=[];(a=c?c.N:ai(a))&&a.qh()&&(d=C(a.qh()));return d};w.u.hD=function(){var a=ai(w.yd());if(a&&a.isVisible()){var c=Pb(a,w.u.Ef);c.oa();Ja(c,!1);E(w.u.uc,w.D.xf(c));w.u.modify()||w.u.warn("Something went wrong while inserting a block from the flyout.");w.u.io();a=c.W;c=c.V;a=w.D.yf(a?a:c);E(w.u.uc,a);w.u.pE()}else w.u.warn("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
w.u.Rx=function(a){var c=w.u.uc;w.u.Ef=null;c.Ca();a&&ai(c.s).Ca()};
w.u.modify=function(){var a=w.u.Eh.sb,c=w.u.uc.sb;if(!a)return w.u.warn("Cannot insert with no marked node."),!1;if(!c)return w.u.warn("Cannot insert with no cursor node."),!1;var d=a.bd,e=c.bd;if(d==w.D.types.cg)return w.u.warn("Should not have been able to mark a field."),!1;if(d==w.D.types.Ae)return w.u.warn("Should not have been able to mark a block."),!1;if(d==w.D.types.Je)return w.u.warn("Should not have been able to mark a stack."),!1;if(e==w.D.types.cg)return w.u.warn("Cannot attach a field to anything else."),
!1;if(e==w.D.types.ig)return w.u.warn("Cannot attach a workspace to anything else."),!1;var f=c.pa,h=a.pa;if(a.cm){if(c.cm)return w.u.connect(f,h);if(e==w.D.types.Ae||e==w.D.types.Je)return w.u.Nw(f,h)}else if(d==w.D.types.ig){if(c.cm){if(e==w.D.types.Wg||e==w.D.types.dg)return w.u.warn("Cannot move a next or input connection to the workspace."),!1;c=f.F}else if(e==w.D.types.Ae||e==w.D.types.Je)c=f;else return!1;if(c.Za)return w.u.warn("Cannot move a shadow block to the workspace."),!1;c.getParent()&&
Ea(c,!1);c.moveTo(a.Wk);return!0}w.u.warn("Unexpected state in Blockly.Navigation.modify.");return!1};w.u.connect=function(a,c){if(a){var d=a.F;if(c.type==w.de||c.type==w.ce)a.type!=w.ua&&a.type!=w.La||d.moveBy(c.ub-a.ub,c.Sa-a.Sa);try{return c.connect(a),!0}catch(e){w.u.warn("Connection failed with error: "+e)}}return!1};
w.u.eC=function(a,c){if(!a||!c)return null;if(c.type===w.de)return a.$;if(c.type===w.ua)return a.W;if(c.type===w.La)return a.V;if(c.type===w.ce)for(c=0;c<a.U.length;c++){var d=a.U[c].connection;if(d.type===w.La)return d}return null};w.u.Nw=function(a,c){(a=w.u.eC(a,c))&&a.isConnected()&&!A(a).Za?a.disconnect():a||w.u.warn("This block can not be inserted at the marked location.");return w.u.connect(a,c)};
w.u.UB=function(){var a=w.u.uc.sb;if(a.cm){var c=a.pa;c.isConnected()?(a=Qa(c)?c:c.qa,c=Qa(c)?c.qa:c,c.F.Za?w.u.log("Cannot disconnect a shadow block"):(a.disconnect(),Oa(c,a),mb(Ta(a.F)),a=w.D.yf(a),E(w.u.uc,a))):w.u.log("Cannot disconnect unconnected connection")}else w.u.log("Cannot disconnect blocks when the cursor is not on a connection")};
w.u.io=function(){var a=w.u.uc;w.u.Rx(w.yd().fa?!0:!1);w.u.Sn=w.u.fq;w.u.aC();if(w.selected){var c=w.selected.W,d=w.selected.V;c=w.D.yf(c?c:d);E(a,c);w.selected.Og()}else c=w.D.El(a.s,new w.g.R(100,100)),E(a,c)};w.u.FC=function(){var a=w.u.uc.sb,c=a.bd;c===w.D.types.cg?a.pa.cf():a.cm||c==w.D.types.ig?w.u.gs():c==w.D.types.Ae?w.u.warn("Cannot mark a block."):c==w.D.types.Je&&w.u.warn("Cannot mark a stack.")};
w.u.navigate=function(a){var c=w.u.Sn;if(84===a.keyCode)return w.yd().fa?(w.u.fw(),w.u.log("T: Focus Toolbox")):(w.u.ew(),w.u.log("T: Focus Flyout")),!0;if(c===w.u.xu)return w.u.iC(a);if(c===w.u.fq)return w.u.dF(a);if(c===w.u.yu)return w.u.TE(a);w.u.log("Not a valid key ");return!1};
w.u.iC=function(a){return 87===a.keyCode?(w.u.xE(),w.u.log("W: Flyout : Previous"),!0):65===a.keyCode?(w.u.fw(),w.u.log("A: Flyout : Go To Toolbox"),!0):83===a.keyCode?(w.u.wE(),w.u.log("S: Flyout : Next"),!0):13===a.keyCode?(w.u.hD(),w.u.log("Enter: Flyout : Select"),!0):69===a.keyCode||27===a.keyCode?(w.u.io(),w.u.log("E or ESC: Flyout: Exit"),!0):!1};
w.u.TE=function(a){return 87===a.keyCode?(w.u.mE(),w.u.log("W: Toolbox : Previous"),!0):65===a.keyCode?(w.u.fE(),w.u.log("A: Toolbox : Out"),!0):83===a.keyCode?(w.u.HD(),w.u.log("S: Toolbox : Next"),!0):68===a.keyCode?(w.u.dD(),w.u.log("D: Toolbox : Go to flyout"),!0):13===a.keyCode?!0:69===a.keyCode||27===a.keyCode?(w.u.log("E or ESC: Toolbox: Exit"),w.u.io(),!0):!1};
w.u.dF=function(a){return 87===a.keyCode?(w.u.uc.Fk(),w.u.log("W: Workspace : Out"),!0):65===a.keyCode?(w.u.uc.tm(),w.u.log("S: Workspace : Previous"),!0):83===a.keyCode?(w.u.uc.next(),w.u.log("S: Workspace : In"),!0):68===a.keyCode?(w.u.uc.am(),w.u.log("S: Workspace : Next"),!0):73===a.keyCode?(w.u.modify(),w.u.log("I: Workspace : Insert/Connect Blocks"),!0):13===a.keyCode?(w.u.FC(),w.u.log("Enter: Workspace : Mark"),!0):88===a.keyCode?(w.u.log("X: Workspace: Disconnect Blocks"),w.u.UB(),!0):!1};
w.u.aC=function(){w.Ti=!0};w.u.dG=function(){w.Ti=!1};w.u.log=function(a){w.u.yk?w.u.yk("log",a):console.log(a)};w.u.warn=function(a){w.u.yk?w.u.yk("warn",a):console.warn(a)};w.u.error=function(a){w.u.yk?w.u.yk("error",a):console.error(a)};w.He=function(a,c){this.Gy=c||"";this.Qx=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.Qx[a[c]]=!0;this.reset()};w.He.Lp="DEVELOPER_VARIABLE";w.He.prototype.reset=function(){this.Ne=Object.create(null);this.Kv=Object.create(null);this.Ha=null};
function Li(a,c){var d=w.L.Wm;if(c==w.Z.Jj){var e=a;d.Ha?e=(e=d.Ha.xg(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+c;var f=c==w.Z.Jj||c==w.He.Lp?d.Gy:"";if(e in d.Ne)return f+d.Ne[e];a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),
-1!="0123456789".indexOf(a[0])&&(a="my_"+a)):a=w.h.UNNAMED_KEY||"unnamed";for(var h="";d.Kv[a+h]||a+h in d.Qx;)h=h?h+1:2;a+=h;d.Kv[a]=!0;c=(c==w.Z.Jj||c==w.He.Lp?d.Gy:"")+a;d.Ne[e]=c.substr(f.length);return c}w.He.Oe=function(a,c){return a.toLowerCase()==c.toLowerCase()};w.wb={};w.wb.Jj=w.nu;w.wb.PA=function(a){a=F(a,!1);for(var c=[],d=[],e=0;e<a.length;e++)if(a[e].Gi){var f=a[e].Gi();f&&(f[2]?c.push(f):d.push(f))}d.sort(w.wb.Kx);c.sort(w.wb.Kx);return[d,c]};w.wb.Kx=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};w.wb.fC=function(a,c){if(c.od)return a;for(a=a||w.h.UNNAMED_KEY||"unnamed";!w.wb.jD(a,c.A,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};w.wb.jD=function(a,c,d){return!w.wb.lD(a,c,d)};
w.wb.lD=function(a,c,d){c=F(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].Gi){var f=c[e].Gi();if(w.He.Oe(f[0],a))return!0}return!1};w.wb.wG=function(a){a=a.trim();var c=w.wb.fC(a,this.F),d=this.getValue();if(d!=a&&d!=c){a=F(this.F.A,!1);for(var e=0;e<a.length;e++)a[e].qE&&a[e].qE(d,c)}return c};
w.wb.nh=function(a){function c(h,k){for(var l=0;l<h.length;l++){var m=h[l][0],n=h[l][1],q=w.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=w.g.xml.createElement("mutation");r.setAttribute("name",m);q.appendChild(r);for(m=0;m<n.length;m++){var t=w.g.xml.createElement("arg");t.setAttribute("name",n[m]);r.appendChild(t)}d.push(q)}}var d=[];if(w.vb.procedures_defnoreturn){var e=w.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=w.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(w.g.xml.createTextNode(w.h.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}w.vb.procedures_defreturn&&(e=w.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=w.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(w.g.xml.createTextNode(w.h.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));w.vb.procedures_ifreturn&&(e=w.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=w.wb.PA(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};w.wb.oC=function(a,c){var d=[];c=F(c,!1);for(var e=0;e<c.length;e++)if(c[e].xC){var f=c[e].xC();f&&w.He.Oe(f,a)&&d.push(c[e])}return d};
w.wb.pG=function(a){var c=w.i.Cc,d=a.Gi()[0],e=a.Cd(!0);a=w.wb.oC(d,a.A);d=0;for(var f;f=a[d];d++){var h=f.Cd();h=h&&w.P.Rc(h);f.rg(e);var k=f.Cd();k=k&&w.P.Rc(k);h!=k&&(w.i.Cc=!1,w.i.ka(new w.i.jf(f,"mutation",null,h,k)),w.i.Cc=c)}};w.wb.kG=function(a,c){c=C(c,!1);for(var d=0;d<c.length;d++)if(c[d].Gi){var e=c[d].Gi();if(e&&w.He.Oe(e[0],a))return c[d]}return null};w.el=function(a,c,d,e){this.s=a;this.Ea=c;this.va=d.getAttribute("text");this.Zc=new w.g.R(0,0);this.zh=e;this.Gn=d.getAttribute("callbackKey")||d.getAttribute("callbackkey");this.yv=d.getAttribute("web-class")||null};w.el.fd=5;b=w.el.prototype;b.width=0;b.height=0;b.Xc=null;
b.ia=function(){var a=this.zh?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.yv&&(a+=" "+this.yv);this.C=w.g.o.H("g",{"class":a},this.s.Ya);if(!this.zh)var c=w.g.o.H("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.C);a=w.g.o.H("rect",{"class":this.zh?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.C);var d=w.g.o.H("text",{"class":this.zh?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.C);d.textContent=w.g.Yb(this.va);
this.width=w.O.no(d);this.height=20;this.zh||(this.width+=2*w.el.fd,c.setAttribute("width",this.width),c.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);d.setAttribute("x",this.width/2);d.setAttribute("y",this.height-w.el.fd);Mi(this);this.Xc=w.ba(this.C,"mouseup",this,this.bE);return this.C};b.show=function(){Mi(this);this.C.setAttribute("display","block")};
function Mi(a){a.C.setAttribute("transform","translate("+a.Zc.x+","+a.Zc.y+")")}b.moveTo=function(a,c){this.Zc.x=a;this.Zc.y=c;Mi(this)};b.qw=function(){return this.Zc};b.J=function(){this.Xc&&w.cb(this.Xc);this.C&&(w.g.o.removeNode(this.C),this.C=null);this.Ea=this.s=null};
b.bE=function(a){(a=this.Ea.Hf(a))&&a.cancel();this.zh&&this.Gn?console.warn("Labels should not have callbacks. Label text: "+this.va):this.zh||this.Gn&&hi(this.Ea,this.Gn)?this.zh||hi(this.Ea,this.Gn)(this):console.warn("Buttons should have callbacks. Button text: "+this.va)};w.Ej=function(a){a.Ab=this.vg.bind(this);a.Hg=this.qp.bind(this);this.s=new w.Wa(a);this.s.We=!0;this.B=!!a.B;this.Fd=a.ra;this.er=[];this.Xo=[];this.ul=[];this.qd=[];this.zs=[]};b=w.Ej.prototype;b.Uj=!0;b.Bh=!1;b.vi=!0;b.M=8;b.fd=w.Ej.prototype.M;b.vz=3*w.Ej.prototype.fd;b.wz=3*w.Ej.prototype.fd;b.ni=2;b.sa=0;b.Ma=0;b.Xv=70;
b.ia=function(a){this.C=w.g.o.H(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Zd=w.g.o.H("path",{"class":"blocklyFlyoutBackground"},this.C);this.C.appendChild(this.s.ia());return this.C};
b.Ja=function(a){this.Ea=a;this.s.sj=a;this.Nb=new w.ya(this.s,this.Ue,!1,"blocklyFlyoutScrollbar");this.Ca();Array.prototype.push.apply(this.er,w.ba(this.C,"wheel",this,this.Ly));this.Uj||(this.co=this.gr.bind(this),this.Ea.jd(this.co));Array.prototype.push.apply(this.er,w.ba(this.Zd,"mousedown",this,this.Gh));this.s.Hf=this.Ea.Hf.bind(this.Ea);this.s.Ha=this.Ea.Ha;a=this.s;a.Jh=new w.mq(a)};
b.J=function(){this.Ca();w.cb(this.er);this.co&&(this.Ea.gj(this.co),this.co=null);this.Nb&&(this.Nb.J(),this.Nb=null);this.s&&(this.s.sj=null,this.s.J(),this.s=null);this.C&&(w.g.o.removeNode(this.C),this.C=null);this.Ea=this.Zd=null};b.Uc=function(){return this.sa};b.gk=function(){return this.Ma};b.qh=function(){return this.s};b.isVisible=function(){return this.Bh};b.Da=function(a){var c=a!=this.isVisible();this.Bh=a;c&&this.Um()};b.kj=function(a){var c=a!=this.vi;this.vi=a;c&&this.Um()};
b.Um=function(){var a=this.vi?this.isVisible():!1;this.C.style.display=a?"block":"none";this.Nb.kj(a)};function Ni(a,c,d,e,f){a.C.setAttribute("width",c);a.C.setAttribute("height",d);"svg"==a.C.tagName?w.g.o.zm(a.C,"translate("+e+"px,"+f+"px)"):a.C.setAttribute("transform","translate("+e+","+f+")");a.Nb&&(a.Nb.ts=new w.g.R(e,f),a.Nb.resize(),Bh(a.Nb,a.Nb.Zc.x,a.Nb.Zc.y))}
b.Ca=function(){if(this.isVisible()){this.Da(!1);for(var a=0,c;c=this.qd[a];a++)w.cb(c);this.qd.length=0;this.Kh&&(this.s.gj(this.Kh),this.Kh=null)}};
b.show=function(a){this.s.mc(!1);this.Ca();Oi(this);if("string"==typeof a){a=this.s.sj.mt[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.s.sj);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.Da(!0);var c=[],d=[];this.zs.length=0;for(var e=this.Ue?this.vz:this.wz,f=0,h;h=a[f];f++)if(h.tagName)switch(h.tagName.toUpperCase()){case "BLOCK":var k=w.P.bk(h,this.s);k.isEnabled()||
this.zs.push(k);c.push({type:"block",block:k});h=parseInt(h.getAttribute("gap"),10);d.push(isNaN(h)?e:h);break;case "SEP":h=parseInt(h.getAttribute("gap"),10);!isNaN(h)&&0<d.length?d[d.length-1]=h:d.push(e);break;case "LABEL":case "BUTTON":h=new w.el(this.s,this.Ea,h,"LABEL"==h.tagName.toUpperCase()),c.push({type:"button",button:h}),d.push(e)}this.Xw(c,d);this.qd.push(w.ba(this.Zd,"mouseover",this,function(){for(var l=C(this.s,!1),m=0,n;n=l[m];m++)n.hj()}));this.Ue?this.Ma=0:this.sa=0;this.s.mc(!0);
this.Gs();this.gr();this.position();this.Kh=this.Gs.bind(this);this.s.jd(this.Kh)};function Oi(a){for(var c=C(a.s,!1),d=0,e;e=c[d];d++)e.A==a.s&&e.J(!1,!1);for(d=0;d<a.Xo.length;d++)(c=a.Xo[d])&&w.g.o.removeNode(c);for(d=a.Xo.length=0;c=a.ul[d];d++)c.J();a.ul.length=0;a.s.Jh.clear()}
function Pi(a,c,d,e){a.qd.push(w.ba(c,"mousedown",null,Qi(a,d)));a.qd.push(w.ba(e,"mousedown",null,Qi(a,d)));a.qd.push(w.rc(c,"mouseover",d,d.Tj));a.qd.push(w.rc(c,"mouseout",d,d.hj));a.qd.push(w.rc(e,"mouseover",d,d.Tj));a.qd.push(w.rc(e,"mouseout",d,d.hj))}function Qi(a,c){return function(d){var e=a.Ea.Hf(d);e&&(Wb(e,c),Vb(e,d,a))}}b.Gh=function(a){var c=this.Ea.Hf(a);c&&Vb(c,a,this)};b.Pw=function(a){return a.isEnabled()};
function Pb(a,c){var d=null;w.i.disable();var e=a.Ea.tg();a.Ea.mc(!1);try{var f=a.Ea;if(!c.Y())throw Error("oldBlock is not rendered.");var h=w.P.dh(c,!0);f.mc(!1);var k=w.P.bk(h,f);if(!k.Y())throw Error("block is not rendered.");var l=w.g.Nl(f.Ya),m=w.g.Nl(a.s.Ya),n=c.Ba();n.scale(a.s.scale);var q=w.g.R.sum(m,n),r=w.g.R.Gl(q,l);r.scale(1/f.scale);k.moveBy(r.x,r.y);d=k;w.gc()}finally{w.i.enable()}c=w.Z.jw(a.Ea,e);if(w.i.isEnabled())for(w.i.ca(!0),w.i.ka(new w.i.Ce(d)),e=0;e<c.length;e++)w.i.ka(new w.i.ge(c[e]));
a.Uj?a.Ca():a.gr();return d}function Ri(a,c,d,e){var f=c.ia();c.moveTo(d,e);c.show();a.qd.push(w.ba(f,"mousedown",a,a.Gh));a.ul.push(c)}function Si(a,c,d,e,f,h){d=w.g.o.H("rect",{"fill-opacity":0,x:d,y:e,height:f.height,width:f.width},null);d.ef=c;w.K.Vj(d);a.s.Ya.insertBefore(d,c.Y());c.ho=d;return a.Xo[h]=d}
function Ti(a,c,d){var e=d.zb();c.setAttribute("width",e.width);c.setAttribute("height",e.height);var f=d.tp?w.m.Nj:0;f&&d.moveBy(0,f);f=d.V?w.m.da:0;d=d.Ba();c.setAttribute("y",d.y);c.setAttribute("x",a.B?d.x-e.width+f:d.x-f)}b.gr=function(){for(var a=C(this.s,!1),c=0,d;d=a[c];c++)if(-1==this.zs.indexOf(d))for(var e=xb(this.Ea,w.g.qr(d));d;)d.Dd(e),d=z(d)};b.Gs=function(){this.Kh&&this.s.gj(this.Kh);this.Nx();this.Kh&&this.s.jd(this.Kh)};function Nb(a){return a.Nb?a.Nb.isVisible():!1};w.Gj=function(a){a.Ab=this.vg.bind(this);a.Hg=this.qp.bind(this);w.Gj.w.constructor.call(this,a);this.Ue=!0};v(w.Gj,w.Ej);b=w.Gj.prototype;
b.vg=function(){if(!this.isVisible())return null;try{var a=this.s.Ya.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var c=this.ni,d=this.ni;this.Fd==w.ah&&(c=0);var e=this.Ma;this.Fd==w.hd&&(e-=this.ni);return{$a:e,Va:this.sa-2*this.ni,ld:(a.height+2*this.fd)*this.s.scale,xd:(a.width+2*this.fd)*this.s.scale,Fb:-this.s.scrollY,rb:-this.s.scrollX,cc:0,tc:0,yb:c,xb:d}};
b.qp=function(a){var c=this.vg();c&&("number"==typeof a.x&&(this.s.scrollX=-c.xd*a.x),this.s.translate(this.s.scrollX+c.xb,this.s.scrollY+c.yb))};b.position=function(){if(this.isVisible()){var a=this.Ea.Ab();a&&(this.sa=a.Va,this.Vs(a.Va-2*this.M,this.Ma-this.M),Ni(this,this.sa,this.Ma,0,this.Ea.ra==this.Fd?a.yy?this.Fd==w.hd?a.yy:a.$a-this.Ma:this.Fd==w.hd?0:a.$a:this.Fd==w.hd?0:a.$a+a.yb-this.Ma))}};
b.Vs=function(a,c){var d=this.Fd==w.hd,e=["M 0,"+(d?0:this.M)];d?(e.push("h",a+2*this.M),e.push("v",c),e.push("a",this.M,this.M,0,0,1,-this.M,this.M),e.push("h",-1*a),e.push("a",this.M,this.M,0,0,1,-this.M,-this.M)):(e.push("a",this.M,this.M,0,0,1,this.M,-this.M),e.push("h",a),e.push("a",this.M,this.M,0,0,1,this.M,this.M),e.push("v",c),e.push("h",-a-2*this.M));e.push("z");this.Zd.setAttribute("d",e.join(" "))};b.Qs=function(){this.Nb.set(this.B?Infinity:0)};
b.Ly=function(a){var c=w.g.xr(a),d=c.x||c.y;d&&(c=this.vg(),d=c.rb+d,d=Math.min(d,c.xd-c.Va),d=Math.max(d,0),this.Nb.set(d),w.X.Ca());a.preventDefault();a.stopPropagation()};
b.Xw=function(a,c){this.s.scale=this.Ea.scale;var d=this.fd,e=this.B?d:d+w.m.da;this.B&&(a=a.reverse());for(var f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=y(h,!1),l=0,m;m=k[l];l++)m.od=!0;h.oa();k=h.Y();l=h.zb();m=h.V?w.m.da:0;m=this.B?e+l.width:e+m;h.moveBy(m,d);m=Si(this,h,m,d,l,f);e+=l.width+c[f];Pi(this,k,h,m)}else"button"==h.type&&(Ri(this,h.button,e,d),e+=h.button.width+c[f])};
b.Qw=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var c=this.Xv;return a<90+c&&a>90-c||a>-90-c&&a<-90+c?!0:!1};b.ek=function(){if(!this.C)return null;var a=this.C.getBoundingClientRect(),c=a.top;return this.Fd==w.hd?new w.g.Rect(-1E9,c+a.height,-1E9,1E9):new w.g.Rect(c,-1E9,-1E9,1E9)};
b.Nx=function(){this.s.scale=this.Ea.scale;for(var a=0,c=C(this.s,!1),d=0,e;e=c[d];d++)a=Math.max(a,e.zb().height);a+=1.5*this.fd;a*=this.s.scale;a+=w.ya.Mb;if(this.Ma!=a){for(d=0;e=c[d];d++)e.ho&&Ti(this,e.ho,e);this.Ma=a;this.position()}};w.Rj=function(a){a.Ab=this.vg.bind(this);a.Hg=this.qp.bind(this);w.Rj.w.constructor.call(this,a);this.Ue=!1};v(w.Rj,w.Ej);b=w.Rj.prototype;b.vg=function(){if(!this.isVisible())return null;try{var a=this.s.Ya.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var c=this.ni,d=this.Ma-2*this.ni,e=this.sa;this.B||(e-=this.ni);return{$a:d,Va:e,ld:a.height*this.s.scale+2*this.fd,xd:a.width*this.s.scale+2*this.fd,Fb:-this.s.scrollY+a.y,rb:-this.s.scrollX,cc:a.y,tc:a.x,yb:c,xb:0}};
b.qp=function(a){var c=this.vg();c&&("number"==typeof a.y&&(this.s.scrollY=-c.ld*a.y),this.s.translate(this.s.scrollX+c.xb,this.s.scrollY+c.yb))};b.position=function(){if(this.isVisible()){var a=this.Ea.Ab();a&&(this.Ma=a.$a,this.Vs(this.sa-this.M,a.$a-2*this.M),Ni(this,this.sa,this.Ma,this.Ea.ra==this.Fd?a.zy?this.Fd==w.wd?a.zy:a.Va-this.sa:this.Fd==w.wd?0:a.Va:this.Fd==w.wd?0:a.Va+a.xb-this.sa,0))}};
b.Vs=function(a,c){var d=this.Fd==w.gg,e=a+this.M;e=["M "+(d?e:0)+",0"];e.push("h",d?-a:a);e.push("a",this.M,this.M,0,0,d?0:1,d?-this.M:this.M,this.M);e.push("v",Math.max(0,c));e.push("a",this.M,this.M,0,0,d?0:1,d?this.M:-this.M,this.M);e.push("h",d?a:-a);e.push("z");this.Zd.setAttribute("d",e.join(" "))};b.Qs=function(){this.Nb.set(0)};b.Ly=function(a){var c=w.g.xr(a);if(c.y){var d=this.vg();c=d.Fb-d.cc+c.y;c=Math.min(c,d.ld-d.$a);c=Math.max(c,0);this.Nb.set(c);w.X.Ca()}a.preventDefault();a.stopPropagation()};
b.Xw=function(a,c){this.s.scale=this.Ea.scale;for(var d=this.fd,e=this.B?d:d+w.m.da,f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=y(h,!1),l=0,m;m=k[l];l++)m.od=!0;h.oa();k=h.Y();l=h.zb();h.moveBy(e,d);m=Si(this,h,this.B?e-l.width:e,d,l,f);Pi(this,k,h,m);d+=l.height+c[f]}else"button"==h.type&&(Ri(this,h.button,e,d),d+=h.button.height+c[f])};b.Qw=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var c=this.Xv;return a<c&&a>-c||a<-180+c||a>180-c?!0:!1};
b.ek=function(){if(!this.C)return null;var a=this.C.getBoundingClientRect(),c=a.left;if(this.Fd==w.wd)return new w.g.Rect(-1E9,1E9,-1E9,c+a.width);w.g.userAgent.Pt&&this.Ea&&this.Ea.Si&&(a=this.Ea.C.getBoundingClientRect().x,10>Math.abs(a-c)&&(c+=this.oG*this.Ea.options.Yc.scale));return new w.g.Rect(-1E9,1E9,c,1E9)};
b.Nx=function(){this.s.scale=this.Ea.scale;for(var a=0,c=C(this.s,!1),d=0,e;e=c[d];d++){var f=e.zb().width;e.V&&(f-=w.m.da);a=Math.max(a,f)}for(d=0;e=this.ul[d];d++)a=Math.max(a,e.width);a+=1.5*this.fd+w.m.da;a*=this.s.scale;a+=w.ya.Mb;if(this.sa!=a){for(d=0;e=c[d];d++)this.B&&(f=e.Ba().x,e.moveBy(a/this.s.scale-this.fd-w.m.da-f,0)),e.ho&&Ti(this,e.ho,e);if(this.B)for(d=0;e=this.ul[d];d++)c=e.qw().y,e.moveTo(a/this.s.scale-e.width-this.fd-w.m.da,c);this.sa=a;this.position()}};function Ui(a,c){null!=a&&this.append.apply(this,arguments)}b=Ui.prototype;b.Sb="";b.set=function(a){this.Sb=""+a};b.append=function(a,c,d){this.Sb+=String(a);if(null!=c)for(var e=1;e<arguments.length;e++)this.Sb+=arguments[e];return this};b.clear=function(){this.Sb=""};b.toString=function(){return this.Sb};function Vi(a,c,d){tf.call(this,d);this.kb=c||Wi;a instanceof hd||(a=kd(a),a=ld(jd(a).toString().replace(/(\r\n|\r|\n)/g,"<br>"),a.Fi()));this.Zl=a;this.Jl=this.Ss=!1;this.SE=null;this.MA=sd;this.wk=!0;this.Xn=-1}v(Vi,tf);var Xi={};b=Vi.prototype;b.Tb=function(){Vi.w.Tb.call(this);this.Vh&&(this.Vh.removeNode(this),this.Vh=null);this.ma=null};
b.Fo=function(){var a=this.S();if(a){var c=Yi(this);c&&!c.id&&(c.id=this.Ga()+".label");Cf(a,"treeitem");P(a,"selected",!1);P(a,"level",this.fk());c&&P(a,"labelledby",c.id);(c=this.to())&&Cf(c,"presentation");(c=this.so())&&Cf(c,"presentation");if(c=Zi(this))if(Cf(c,"group"),c.hasChildNodes())for(P(a,"expanded",!1),a=yf(this),c=1;c<=a;c++){var d=N(this,c-1).S();P(d,"setsize",a);P(d,"posinset",c)}}};
b.ia=function(){var a=this.Gf();var c=this.vp(),d=a.zf;a=Se(d,"DIV");J?(c=qd(td,c),vd(a,c),a.removeChild(a.firstChild)):vd(a,c);if(1==a.childNodes.length)a=a.removeChild(a.firstChild);else{for(c=d.createDocumentFragment();a.firstChild;)c.appendChild(a.firstChild);a=c}this.ma=a};b.vc=function(){Vi.w.vc.call(this);Xi[this.Ga()]=this;this.Fo()};b.oe=function(){Vi.w.oe.call(this);delete Xi[this.Ga()]};
b.Sj=function(a,c){var d=N(this,c-1),e=N(this,c);Vi.w.Sj.call(this,a,c);a.af=d;a.Ze=e;d?d.Ze=a:this.jr=a;e?e.af=a:this.Uw=a;(c=this.Tc())&&$i(a,c);aj(a,this.fk()+1);if(c=this.S())if(this.Uk(),P(c,"expanded",this.wc()),this.wc()){c=Zi(this);a.S()||a.ia();var f=a.S(),h=e&&e.S();c.insertBefore(f,h);this.Xa&&a.vc();e||(d?d.Uk():(hf(c,!0),this.Vd(this.wc())))}};b.add=function(a,c){a.getParent()&&a.getParent().removeChild(a);this.Sj(a,c?Af(this,c):yf(this));return a};
b.removeChild=function(a){var c=this.Tc(),d=c?c.$c:null;if(d==a||a.contains(d))if(c.hasFocus()){this.select();d=this.dE;if(qa(d))this&&(d=xa(d,this));else if(d&&"function"==typeof d.handleEvent)d=xa(d.handleEvent,d);else throw Error("Invalid listener argument");2147483647<Number(10)||g.setTimeout(d,10)}else this.select();Vi.w.removeChild.call(this,a);this.Uw==a&&(this.Uw=a.af);this.jr==a&&(this.jr=a.Ze);a.af&&(a.af.Ze=a.Ze);a.Ze&&(a.Ze.af=a.af);d=!a.Ze;a.Vh=null;a.Xn=-1;if(c&&(c.removeNode(a),this.Xa)){c=
Zi(this);if(a.Xa){var e=a.S();c.removeChild(e);a.oe()}d&&(d=N(this,yf(this)-1))&&d.Uk();O(this)||(c.style.display="none",this.Uk(),this.to().className=this.oo(),(c=this.S())&&c.removeAttribute("aria-expanded"))}return a};b.remove=Vi.prototype.removeChild;b.dE=function(){this.select()};b.fk=function(){var a=this.Xn;0>a&&(a=(a=this.getParent())?a.fk()+1:0,aj(this,a));return a};
function aj(a,c){if(c!=a.Xn){a.Xn=c;var d=bj(a);if(d){var e=cj(a)+"px";zf(a)?d.style.paddingRight=e:d.style.paddingLeft=e}M(a,function(f){aj(f,c+1)})}}b.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};b.ug=function(){var a=[];M(this,function(c){a.push(c)});return a};b.Oo=function(){return this.Ss};b.select=function(){var a=this.Tc();a&&a.Tf(this)};
function dj(a,c){if(a.Ss!=c){a.Ss=c;ej(a);var d=a.S();d&&(P(d,"selected",c),c&&(c=a.Tc().S(),P(c,"activedescendant",a.Ga())))}}b.wc=function(){return this.Jl};
b.Vd=function(a){var c=a!=this.Jl;if(!c||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){this.Jl=a;var d=this.Tc();var e=this.S();if(O(this)){if(!a&&d&&this.contains(d.$c)&&this.select(),e){if(d=Zi(this))if(hf(d,a),P(e,"expanded",a),a&&this.Xa&&!d.hasChildNodes()){var f=[];M(this,function(h){f.push(h.vp())});wd(d,qd(f));M(this,function(h){h.vc()})}this.Uk()}}else(d=Zi(this))&&hf(d,!1);e&&(this.to().className=this.oo());c&&this.dispatchEvent(a?"expand":"collapse")}};b.toggle=function(){this.Vd(!this.wc())};
b.expand=function(){this.Vd(!0)};b.collapse=function(){this.Vd(!1)};b.Os=function(){var a=this.getParent();a&&(a.Vd(!0),a.Os())};b.vp=function(){var a=this.Tc(),c=!a.Dm||a==this.getParent()&&!a.gt?this.kb.xv:this.kb.wv;a=this.wc()&&O(this);c={"class":c,style:fj(this)};var d=[];a&&M(this,function(e){d.push(e.vp())});a=pd("div",c,d);return pd("div",{"class":this.kb.Gv,id:this.Ga()},[gj(this),a])};function cj(a){return Math.max(0,(a.fk()-1)*a.kb.Qr)}
function gj(a){var c={};c["padding-"+(zf(a)?"right":"left")]=cj(a)+"px";c={"class":a.Pl(),style:c};var d=a.ur(),e=pd("span",{style:{display:"inline-block"},"class":a.oo()}),f=pd("span",{"class":a.kb.Hv,title:a.SE||null},a.Zl);a=qd(f,pd("span",{},a.MA));return pd("div",c,[d,e,a])}b.Pl=function(){return this.kb.Nq+(this.Oo()?" "+this.kb.Jv:"")};b.ur=function(){return pd("span",{type:"expand",style:{display:"inline-block"},"class":hj(this)})};
function hj(a){var c=a.Tc(),d=!c.Dm||c==a.getParent()&&!c.gt,e=a.kb,f=new Ui;f.append(e.xi," ",e.CB," ");if(O(a)){var h=0;c.ft&&a.wk&&(h=a.wc()?2:1);d||(h=a.Ze?h+8:h+4);switch(h){case 1:f.append(e.GB);break;case 2:f.append(e.FB);break;case 4:f.append(e.Cv);break;case 5:f.append(e.EB);break;case 6:f.append(e.DB);break;case 8:f.append(e.Dv);break;case 9:f.append(e.IB);break;case 10:f.append(e.HB);break;default:f.append(e.Bv)}}else d?f.append(e.Bv):a.Ze?f.append(e.Dv):f.append(e.Cv);return f.toString()}
function fj(a){var c=a.wc()&&O(a);return Zc({"background-position":ij(a),display:c?null:"none"})}function ij(a){return(a.Ze?(a.fk()-1)*a.kb.Qr:"-100")+"px 0"}b.S=function(){var a=Vi.w.S.call(this);a||(this.ma=a=this.Gf().S(this.Ga()));return a};function bj(a){return(a=a.S())?a.firstChild:null}b.so=function(){var a=bj(this);return a?a.firstChild:null};b.to=function(){var a=bj(this);return a?a.childNodes[1]:null};function Yi(a){return(a=bj(a))&&a.lastChild?a.lastChild.previousSibling:null}
function Zi(a){return(a=a.S())?a.lastChild:null}b.Uf=function(a){this.Zl=a=kd(a);var c=Yi(this);c&&vd(c,a);(a=this.Tc())&&jj(a,this)};b.fc=function(){var a=jd(this.Zl).toString();return G(a,"&")?"document"in g?zd(a):Bd(a):a};function ej(a){var c=bj(a);c&&(c.className=a.Pl())}b.Uk=function(){var a=this.so();a&&(a.className=hj(this));if(a=Zi(this))a.style.backgroundPosition=ij(this)};b.ux=function(a){"expand"==a.target.getAttribute("type")&&O(this)?this.wk&&this.toggle():(this.select(),ej(this))};
b.rm=function(a){a.preventDefault()};b.sx=function(a){"expand"==a.target.getAttribute("type")&&O(this)||this.wk&&this.toggle()};
b.rs=function(a){var c=!0;switch(a.keyCode){case 39:if(a.altKey)break;O(this)&&(this.wc()?N(this,0).select():this.Vd(!0));break;case 37:if(a.altKey)break;if(O(this)&&this.wc()&&this.wk)this.Vd(!1);else{var d=this.getParent(),e=this.Tc();d&&(e.Th||d!=e)&&d.select()}break;case 40:(d=Ji(this))&&d.select();break;case 38:(d=Ki(this))&&d.select();break;default:c=!1}c&&(a.preventDefault(),(e=this.Tc())&&e.Sm.clear());return c};function kj(a){return a.wc()&&O(a)?kj(N(a,yf(a)-1)):a}
function Ji(a){if(O(a)&&a.wc())return N(a,0);for(var c=a,d;c!=a.Tc();){d=c.Ze;if(null!=d)return d;c=c.getParent()}return null}function Ki(a){var c=a.af;if(null!=c)return kj(c);c=a.getParent();var d=a.Tc();return!d.Th&&c==d||a==d?null:c}function $i(a,c){a.Vh!=c&&(a.Vh=c,jj(c,a),M(a,function(d){$i(d,c)}))}
var Wi={Qr:19,Iv:"goog-tree-root goog-tree-item",Fv:"goog-tree-hide-root",Gv:"goog-tree-item",wv:"goog-tree-children",xv:"goog-tree-children-nolines",Nq:"goog-tree-row",Hv:"goog-tree-item-label",xi:"goog-tree-icon",CB:"goog-tree-expand-icon",GB:"goog-tree-expand-icon-plus",FB:"goog-tree-expand-icon-minus",IB:"goog-tree-expand-icon-tplus",HB:"goog-tree-expand-icon-tminus",EB:"goog-tree-expand-icon-lplus",DB:"goog-tree-expand-icon-lminus",Dv:"goog-tree-expand-icon-t",Cv:"goog-tree-expand-icon-l",Bv:"goog-tree-expand-icon-blank",
Lq:"goog-tree-expanded-folder-icon",zv:"goog-tree-collapsed-folder-icon",Mq:"goog-tree-file-icon",Ev:"goog-tree-expanded-folder-icon",Av:"goog-tree-collapsed-folder-icon",Jv:"selected"};function lj(a){qf.call(this);this.ma=a;a=J?"focusout":"blur";this.pD=re(this.ma,J?"focusin":"focus",this,!J);this.qD=re(this.ma,a,this,!J)}v(lj,qf);lj.prototype.handleEvent=function(a){var c=new ce(a.Cf);c.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(c)};lj.prototype.Tb=function(){lj.w.Tb.call(this);Ae(this.pD);Ae(this.qD);delete this.ma};function mj(a,c,d){Vi.call(this,a,c,d)}v(mj,Vi);mj.prototype.Tc=function(){if(this.Vh)return this.Vh;var a=this.getParent();return a&&(a=a.Tc())?($i(this,a),a):null};mj.prototype.oo=function(){var a=this.wc(),c=this.bC;if(a&&c)return c;c=this.YC;if(!a&&c)return c;c=this.kb;if(O(this)){if(a&&c.Lq)return c.xi+" "+c.Lq;if(!a&&c.zv)return c.xi+" "+c.zv}else if(c.Mq)return c.xi+" "+c.Mq;return""};function nj(a){if(a.Ql&&"function"==typeof a.Ql)return a.Ql();if("string"===typeof a)return a.split("");if(pa(a)){for(var c=[],d=a.length,e=0;e<d;e++)c.push(a[e]);return c}c=[];d=0;for(e in a)c[d++]=a[e];return c};function oj(a){this.xa=void 0;this.Oc={};if(a){if(a.vo&&"function"==typeof a.vo)var c=a.vo();else if(a.Ql&&"function"==typeof a.Ql)c=void 0;else if(pa(a)||"string"===typeof a){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else for(e in c=[],d=0,a)c[d++]=e;a=nj(a);for(d=0;d<c.length;d++)this.set(c[d],a[d])}}b=oj.prototype;b.set=function(a,c){pj(this,a,c,!1)};b.add=function(a,c){pj(this,a,c,!0)};
function pj(a,c,d,e){for(var f=0;f<c.length;f++){var h=c.charAt(f);a.Oc[h]||(a.Oc[h]=new oj);a=a.Oc[h]}if(e&&void 0!==a.xa)throw Error('The collection already contains the key "'+c+'"');a.xa=d}b.get=function(a){a:{for(var c=this,d=0;d<a.length;d++)if(c=c.Oc[a.charAt(d)],!c){a=void 0;break a}a=c}return a?a.xa:void 0};b.Ql=function(){var a=[];qj(this,a);return a};function qj(a,c){void 0!==a.xa&&c.push(a.xa);for(var d in a.Oc)qj(a.Oc[d],c)}
b.vo=function(a){var c=[];if(a){for(var d=this,e=0;e<a.length;e++){var f=a.charAt(e);if(!d.Oc[f])return[];d=d.Oc[f]}rj(d,a,c)}else rj(this,"",c);return c};function rj(a,c,d){void 0!==a.xa&&d.push(c);for(var e in a.Oc)rj(a.Oc[e],c+e,d)}b.clear=function(){this.Oc={};this.xa=void 0};
b.remove=function(a){for(var c=this,d=[],e=0;e<a.length;e++){var f=a.charAt(e);if(!c.Oc[f])throw Error('The collection does not have the key "'+a+'"');d.push([c,f]);c=c.Oc[f]}a=c.xa;for(delete c.xa;0<d.length;)if(f=d.pop(),c=f[0],f=f[1],c.Oc[f].Rw())delete c.Oc[f];else break;return a};b.clone=function(){return new oj(this)};b.Rw=function(){var a;if(a=void 0===this.xa)a:{for(var c in this.Oc){a=!1;break a}a=!0}return a};function sj(){this.$i=new oj;this.Sb="";this.Wo=this.hs=null;this.zk=this.lm=0}function tj(a,c){var d=c.fc();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.$i.get(d);if(e){for(var f=yf(c),h=0;h<f;h++)tj(a,N(c,h));mc(e,c);e.length||a.$i.remove(d)}}}function uj(a,c){var d=!1;(c=a.$i.vo(c))&&c.length&&(a.zk=0,a.lm=0,d=a.$i.get(c[0]),d=vj(a,d))&&(a.hs=c);return d}function vj(a,c){if(c){if(a.zk<c.length){var d=c[a.zk];a.Wo=c}d&&(d.Os(),d.select())}return!!d}
sj.prototype.clear=function(){this.Sb=""};function wj(a,c,d){Vi.call(this,a,c,d);this.Jl=!0;dj(this,!0);this.$c=this;this.Sm=new sj;this.mr=this.Wc=null;this.Ll=!1;this.jC=null;this.gt=this.Th=this.ft=this.Dm=!0;if(J)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}v(wj,Vi);b=wj.prototype;b.Tc=function(){return this};b.fk=function(){return 0};b.Os=function(){};b.GC=function(){this.Ll=!0;Sf(this.S(),"focused");this.$c&&this.$c.select()};b.AC=function(){this.Ll=!1;Uf(this.S(),"focused")};b.hasFocus=function(){return this.Ll};
b.wc=function(){return!this.Th||wj.w.wc.call(this)};b.Vd=function(a){this.Th?wj.w.Vd.call(this,a):this.Jl=a};b.ur=function(){return sd};b.to=function(){var a=bj(this);return a?a.firstChild:null};b.so=function(){return null};b.Uk=function(){};b.Pl=function(){return wj.w.Pl.call(this)+(this.Th?"":" "+this.kb.Fv)};b.oo=function(){var a=this.wc(),c=this.bC;if(a&&c)return c;c=this.YC;if(!a&&c)return c;c=this.kb;return a&&c.Ev?c.xi+" "+c.Ev:!a&&c.Av?c.xi+" "+c.Av:""};
b.Tf=function(a){if(this.$c!=a){var c=!1;this.$c&&(c=this.$c==this.jC,dj(this.$c,!1));if(this.$c=a)dj(a,!0),c&&a.select();this.dispatchEvent("change")}};function xj(a){0!=a.Dm&&(a.Dm=!1,a.Xa&&yj(a))}function yj(a){function c(h){var k=Zi(h);if(k){var l=!e||d==h.getParent()&&!f?h.kb.xv:h.kb.wv;k.className=l;if(k=h.so())k.className=hj(h)}M(h,c)}var d=a,e=d.Dm,f=d.gt;c(a)}function zj(a){0!=a.ft&&(a.ft=!1,a.Xa&&yj(a))}
function Aj(a){if(0!=a.Th){a.Th=!1;if(a.Xa){var c=bj(a);c&&(c.className=a.Pl())}a.$c==a&&N(a,0)&&a.Tf(N(a,0))}}b.Fo=function(){wj.w.Fo.call(this);var a=this.S();Cf(a,"tree");P(a,"labelledby",Yi(this).id)};
b.vc=function(){wj.w.vc.call(this);var a=this.S();a.className=this.kb.Iv;a.setAttribute("hideFocus","true");a=this.S();a.tabIndex=0;var c=this.Wc=new Hf(a),d=this.mr=new lj(a);wf(this).Na(d,"focusout",this.AC).Na(d,"focusin",this.GC).Na(c,"key",this.Se).Na(a,"mousedown",this.Cr).Na(a,"click",this.Cr).Na(a,"dblclick",this.Cr);this.Fo()};b.oe=function(){wj.w.oe.call(this);this.Wc.J();this.Wc=null;this.mr.J();this.mr=null};
b.Cr=function(a){var c=Bj(this,a);if(c)switch(a.type){case "mousedown":c.ux(a);break;case "click":c.rm(a);break;case "dblclick":c.sx(a)}};
b.Se=function(a){var c=this.Sm;var d=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){d=40==a.keyCode?1:-1;var e=c.hs;if(e){var f=null,h=!1;if(c.Wo){var k=c.zk+d;0<=k&&k<c.Wo.length?(c.zk=k,f=c.Wo):h=!0}f||(k=c.lm+d,0<=k&&k<e.length&&(c.lm=k),e.length>c.lm&&(f=c.$i.get(e[c.lm])),f&&f.length&&h&&(c.zk=-1==d?f.length-1:0));vj(c,f)&&(c.hs=e)}d=!0}break;case 8:e=c.Sb.length-1;d=!0;0<e?(c.Sb=c.Sb.substring(0,e),uj(c,c.Sb)):0==e?c.Sb="":d=!1;break;case 27:c.Sb="",d=!0}(c=d||this.$c&&this.$c.rs(a))||(c=
this.Sm,d=!1,a.ctrlKey||a.altKey||(e=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==e.length&&" "<=e&&"~">=e||"\u0080"<=e&&"\ufffd">=e)&&(" "!=e||c.Sb)&&(c.Sb+=e,d=uj(c,c.Sb))),c=d);c&&a.preventDefault();return c};function Bj(a,c){for(var d=c.target;null!=d;){if(c=Xi[d.id])return c;if(d==a.S())break;d=d.parentNode}return null}b.createNode=function(a){return new mj(a||sd,this.kb,this.Gf())};
function jj(a,c){a=a.Sm;var d=c.fc();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.$i.get(d);e?e.push(c):a.$i.set(d,[c])}}b.removeNode=function(a){tj(this.Sm,a)};w.Hb=function(a){this.s=a;this.B=a.options.B;this.Ue=a.options.zd;this.ra=a.options.ra;this.kb={Qr:19,Iv:"blocklyTreeRoot",Fv:"blocklyHidden",Gv:"",Nq:"blocklyTreeRow",Hv:"blocklyTreeLabel",xi:"blocklyTreeIcon",Lq:"blocklyTreeIconOpen",Mq:"blocklyTreeIconNone",Jv:"blocklyTreeSelected"};this.By={Nq:"blocklyTreeSeparator"};this.Ue&&(this.kb.cssTreeRow+=a.B?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.By.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.B?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.kb.cssTreeIcon="")};b=w.Hb.prototype;b.width=0;b.height=0;b.gm=null;
b.Ja=function(){var a=this.s,c=B(this.s);this.ed=document.createElement("div");this.ed.className="blocklyToolboxDiv";this.ed.setAttribute("dir",a.B?"RTL":"LTR");c.parentNode.insertBefore(this.ed,c);w.ba(this.ed,"mousedown",this,function(d){w.g.Ah(d)||d.target==this.ed?w.gc(!1):w.gc(!0);w.Touch.ng()},!1,!0);c={pg:a.options.pg,Yc:a,B:a.B,Hh:a.options.Hh,zd:a.zd,ra:a.options.ra};this.N=null;this.N=a.zd?new w.Gj(c):new w.Rj(c);w.g.o.Pi(this.N.ia("svg"),B(this.s));this.N.Ja(a);this.kb.cleardotPath=a.options.$e+
"1x1.gif";this.kb.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.B?"Rtl":"Ltr");this.Fc=c=new w.Hb.ri(this,this.kb);Aj(c);xj(c);zj(c);c.Tf(null);a=this.hp(a.options.Of);c.oa(this.ed);a&&c.Tf(a);gi(this);this.position()};b.J=function(){this.N.J();this.Fc.J();w.g.o.removeNode(this.ed);this.gm=this.s=null};b.Uc=function(){return this.width};b.gk=function(){return this.height};
b.position=function(){var a=this.ed;if(a){var c=B(this.s);c=w.ty(c);this.Ue?(a.style.left="0",a.style.height="auto",a.style.width=c.width+"px",this.height=a.offsetHeight,this.ra==w.hd?a.style.top="0":a.style.bottom="0"):(this.ra==w.gg?a.style.right="0":a.style.left="0",a.style.height=c.height+"px",this.width=a.offsetWidth);this.N.position()}};
b.hp=function(a){this.Fc.Ox();this.Fc.uf=[];this.Gr=!1;a=Cj(this,a,this.Fc,this.s.options.$e);if(this.Fc.uf.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");La(this.s);return a};
function Cj(a,c,d,e){for(var f=null,h=null,k=0,l;l=c.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":h=w.g.Yb(l.getAttribute("name"));var m=a.Fc.createNode(h);m.uf=[];d.add(m);var n=l.getAttribute("custom");n?m.uf=n:(n=Cj(a,l,m,e))&&(f=n);n=l.getAttribute("categorystyle");var q=l.getAttribute("colour");q&&n?(m.Ki="",console.warn('Toolbox category "'+h+'" can not have both a style and a colour')):n?Dj(a,n,m,h):Ej(a,q,m,h);"true"==l.getAttribute("expanded")?(m.uf.length&&
(f=m),m.Vd(!0)):m.Vd(!1);h=l;break;case "SEP":if(h&&"CATEGORY"==h.tagName.toUpperCase()){d.add(new w.Hb.Du(a.By));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.uf.push(l),h=l}return f}function Ej(a,c,d,e){c=w.g.Yb(c);if(null===c||""===c)d.Ki="";else{var f=Number(c);isNaN(f)?(f=w.g.jb.parse(c))?(d.Ki=f,a.Gr=!0):(d.Ki="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+c)):(d.Ki=w.Kw(f),a.Gr=!0)}}
function Dj(a,c,d,e){if((d.sy=c)&&w.zo()){var f;(f=w.zo().gB[c])&&f.jb?Ej(a,f.jb,d,e):console.warn('Style "'+c+'" must exist and contain a colour value')}}function Fj(a,c){if(c=c||a.Fc){c=c.ug(!1);for(var d=0,e;e=c[d];d++)e.sy&&(Dj(a,e.sy,e,""),gi(a)),Fj(a,e)}}function Gj(a){var c=a.Fc;if(c&&(Fj(a,c),a=c.$c)){var d=a.Ki||"#57e";bj(a).style.backgroundColor=d;gi(c.fa,a)}}
function gi(a,c){c=(c||a.Fc).ug(!1);for(var d=0,e;e=c[d];d++){var f=bj(e);if(f){var h=a.Gr?"8px solid "+(e.Ki||"#ddd"):"none";a.s.B?f.style.borderRight=h:f.style.borderLeft=h}gi(a,e)}}b.ek=function(){if(!this.ed)return null;var a=this.ed.getBoundingClientRect(),c=a.top,d=c+a.height,e=a.left;a=e+a.width;return this.ra==w.hd?new w.g.Rect(-1E7,d,-1E7,1E7):this.ra==w.ah?new w.g.Rect(c,1E7,-1E7,1E7):this.ra==w.wd?new w.g.Rect(-1E7,1E7,-1E7,a):new w.g.Rect(-1E7,1E7,e,1E7)};
w.Hb.ri=function(a,c){this.fa=a;wj.call(this,sd,c)};v(w.Hb.ri,wj);w.Hb.ri.prototype.vc=function(){w.Hb.ri.w.vc.call(this);if(w.Touch.kq){var a=this.S();w.ba(a,"touchend",this,this.PC)}};w.Hb.ri.prototype.PC=function(a){var c=Bj(this,a);c&&"touchend"===a.type&&setTimeout(function(){c.rm(a)},1)};w.Hb.ri.prototype.createNode=function(a){a=a?kd(a):sd;return new w.Hb.Pj(this.fa,a,this.kb)};
w.Hb.ri.prototype.Tf=function(a){var c=this.fa;if(a!=this.$c&&a!=c.Fc){c.gm&&(bj(c.gm).style.backgroundColor="");if(a){var d=a.Ki||"#57e";bj(a).style.backgroundColor=d;gi(c,a)}d=this.$c;wj.prototype.Tf.call(this,a);a&&a.uf&&a.uf.length?(c.N.show(a.uf),c.gm!=a&&c.N.Qs()):c.N.Ca();d!=a&&d!=this&&(d=new w.i.ac(null,"category",d&&jd(d.Zl).toString(),a&&jd(a.Zl).toString()),d.Qb=c.s.id,w.i.ka(d));a&&(c.gm=a)}};
w.Hb.Pj=function(a,c,d){Vi.call(this,c,d,void 0);a&&(c=function(){w.Nk(a.s)},re(a.Fc,"expand",c),re(a.Fc,"collapse",c))};v(w.Hb.Pj,mj);b=w.Hb.Pj.prototype;b.ur=function(){return pd("span")};b.rm=function(){O(this)&&this.wk?(this.toggle(),this.select()):this.Oo()?this.Tc().Tf(null):this.select();ej(this)};b.ux=function(){};b.sx=function(){};
b.rs=function(a){if(this.Vh.fa.Ue){var c={};c[39]=this.Hk?38:40;c[37]=this.Hk?40:38;c[38]=37;c[40]=39;a.keyCode=c[a.keyCode]||a.keyCode}return w.Hb.Pj.w.rs.call(this,a)};w.Hb.Du=function(a){w.Hb.Pj.call(this,null,sd,a)};v(w.Hb.Du,w.Hb.Pj);w.td={};w.td.bl={OPEN:"handopen",CLOSED:"handclosed",ln:"handdelete"};w.td.bG="";w.td.Lw=!1;w.td.ex="";w.td.wh=function(a,c){if(!w.td.Lw){w.td.Lw=!0;var d=".blocklyDraggable {}\n";a&&(d+=w.td.It.join("\n"),w.td.It=null,w.uz&&(d+=w.uz.CSS.join("\n")));w.td.ex=c.replace(/[\\\/]$/,"");d=d.replace(/<<<PATH>>>/g,w.td.ex);a=document.createElement("style");a.appendChild(document.createTextNode(d));document.head.insertBefore(a,document.head.firstChild)}};w.td.Zx=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
w.td.It=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;",
"top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","-webkit-user-select: none;","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;",
"width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;",
"border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",
".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',
"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {",
"display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: 0.5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {",
"display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;",
"z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {",
"display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;",
"stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;",
"outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;",
"height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {",
"position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {",
"fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;",
"pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyVerticalCursor {","stroke-width: 3px;","fill: rgba(255,255,255,0.5);","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;",
"overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {",
"float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;",
"vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;",
"}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {","border-collapse: collapse;","}",".blocklyColourTable>tr>td {","border: 1px solid #666;",
"padding: 0;","}",".blocklyColourTable>tr>td>div {","border: 1px solid #666;","height: 13px;","width: 15px;","}",".blocklyColourTable>tr>td>div:hover {","border: 1px solid #fff;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border: 1px solid #000 !important;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;",
"padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem, ",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","padding: 5px 5px 5px 28px;","white-space: nowrap;",
"}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ",".blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {",
"padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ",
".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight, ",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 4px;","padding-top: 4px;","}",".blocklyDropDownDiv .goog-menuitem-highlight, ",".blocklyDropDownDiv .goog-menuitem-hover {","background-color: rgba(0, 0, 0, 0.2);","}",".blocklyWidgetDiv .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {",
"left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",
".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyWidgetDiv .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ",
".blocklyDropDownDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator, ",".blocklyDropDownDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];w.X={};w.X.ta=null;w.X.rd=null;w.X.$n=null;w.X.ia=function(){w.X.ta||(w.X.ta=document.createElement("div"),w.X.ta.className="blocklyWidgetDiv",document.body.appendChild(w.X.ta))};w.X.show=function(a,c,d){w.X.Ca();w.X.rd=a;w.X.$n=d;w.X.ta.style.top=w.g.style.vw().y+"px";w.X.ta.style.direction=c?"rtl":"ltr";w.X.ta.style.display="block"};w.X.Ca=function(){w.X.rd&&(w.X.rd=null,w.X.ta.style.display="none",w.X.ta.style.left="",w.X.ta.style.top="",w.X.$n&&w.X.$n(),w.X.$n=null,w.X.ta.innerHTML="")};
w.X.isVisible=function(){return!!w.X.rd};w.X.Li=function(a){w.X.rd==a&&w.X.Ca()};w.X.um=function(a,c,d){w.X.ta.style.left=a+"px";w.X.ta.style.top=c+"px";w.X.ta.style.height=d+"px"};w.X.Fx=function(a,c,d,e){var f=w.X.eB(a,c,d);a=w.X.dB(a,c,d,e);0>f?w.X.um(a,0,d.height+f):w.X.um(a,f,d.height)};w.X.dB=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};
w.X.eB=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};w.Ct=function(a){this.zl=a;this.ia()};b=w.Ct.prototype;b.fb=null;b.ne=null;b.zl=null;b.Nh=1;b.Km=null;b.ia=function(){this.fb||(this.fb=w.g.o.H("svg",{xmlns:w.g.o.vd,"xmlns:html":w.g.o.pf,"xmlns:xlink":w.g.o.Mc,version:"1.1","class":"blocklyBlockDragSurface"},this.zl),this.ne=w.g.o.H("g",{},this.fb))};function Ib(a,c){if(a.ne.childNodes.length)throw Error("Already dragging a block.");a.ne.appendChild(c);a.fb.style.display="block";a.Km=new w.g.R(0,0)}
b.Lg=function(a,c){this.Km=new w.g.R(a*this.Nh,c*this.Nh);a=this.Km.x;c=this.Km.y;a=a.toFixed(0);c=c.toFixed(0);this.fb.style.display="block";w.g.o.zm(this.fb,"translate3d("+a+"px, "+c+"px, 0px)")};b.yo=function(){var a=w.g.Qd(this.fb);return new w.g.R(a.x/this.Nh,a.y/this.Nh)};b.Vb=function(){return this.ne};
b.vl=function(a){a?a.appendChild(this.ne.firstChild):this.ne.removeChild(this.ne.firstChild);this.fb.style.display="none";if(this.ne.childNodes.length)throw Error("Drag group was not cleared.");this.Km=null};w.wh=function(a,c){w.iB();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!w.g.o.containsNode(document,a))throw Error("Error: container is not in current document.");c=new w.Jd(c||{});var d=document.createElement("div");d.className="injectionDiv";a.appendChild(d);a=w.Bl(d,c);var e=new w.Ct(d);d=new w.Lu(d);d=w.zB(a,c,e,d);w.ey(c.PE);w.fD(d);w.jm=d;w.Nk(d);return d};
w.Bl=function(a,c){a.setAttribute("dir","LTR");uf=c.B;w.td.wh(c.RC,c.$e);a=w.g.o.H("svg",{xmlns:w.g.o.vd,"xmlns:html":w.g.o.pf,"xmlns:xlink":w.g.o.Mc,version:"1.1","class":"blocklySvg"},a);var d=w.g.o.H("defs",{},a),e=String(Math.random()).substring(2),f=w.g.o.H("filter",{id:"blocklyEmbossFilter"+e},d);w.g.o.H("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var h=w.g.o.H("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",
result:"specOut"},f);w.g.o.H("fePointLight",{x:-5E3,y:-1E4,z:2E4},h);w.g.o.H("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);w.g.o.H("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},f);c.aw=f.id;f=w.g.o.H("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},d);w.g.o.H("rect",{width:10,height:10,fill:"#aaa"},f);w.g.o.H("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},f);c.pg=f.id;
c.xw=w.ei.ia(e,c.ww,d);return a};
w.zB=function(a,c,d,e){c.Yc=null;var f=new w.Wa(c,d,e);f.scale=c.hb.ny;a.appendChild(f.ia("blocklyMainBackground"));!c.Aw&&c.Of&&(d=$h(f,"svg"),w.g.o.Pi(d,a));c.Fw&&Yh(f);c.hb&&c.hb.controls&&Zh(f);w.u.Zx(f.cursor);w.u.zE(f.Uo);f.translate(0,0);w.jm=f;c.readOnly||f.hc()||f.jd(function(h){if(!f.Bc()&&!f.hc()&&-1!=w.i.Wy.indexOf(h.type)){var k=Object.create(null),l=f.Ab(),m=f.scale;k.rb=l.rb/m;k.Fb=l.Fb/m;k.Iy=(l.rb+l.Va)/m;k.Hy=(l.Fb+l.$a)/m;ei(f)?(l=Ia(f),k.tc=l.left,k.cc=l.top,k.rv=l.right,k.pv=
l.bottom):(k.tc=l.tc/m,k.cc=l.cc/m,k.rv=(l.tc+l.xd)/m,k.pv=(l.cc+l.ld)/m);if(k.cc<k.Fb||k.pv>k.Hy||k.tc<k.rb||k.rv>k.Iy){l=null;h&&(l=w.i.Vb(),w.i.ca(h.group));switch(h.type){case w.i.xt:case w.i.yt:var n=Aa(f,h.sc);n=Ta(n);break;case w.i.fn:case w.i.gn:n=sb(f,h.vf)}if(n){m=n.lo();var q=k.Fb-m.top;0<q&&n.moveBy(0,q);q=k.Hy-m.bottom;0>q&&n.moveBy(0,q);q=k.rb-m.left;0<q&&n.moveBy(q,0);k=k.Iy-m.right;0>k&&n.moveBy(k,0)}h&&(h.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),
w.i.ca(l))}}});w.Nk(f);w.X.ia();w.G.ia();w.K.ia();return f};w.fD=function(a){var c=a.options,d=B(a);w.ba(d.parentNode,"contextmenu",null,function(e){w.g.Po(e)||e.preventDefault()});d=w.ba(window,"resize",null,function(){w.gc(!0);w.Nk(a)});a.pp=d;w.wh.WA();c.Of&&(a.fa?a.fa.Ja(a):a.N&&(a.N.Ja(a),a.N.show(c.Of.childNodes),a.N.Qs()));d=w.ya.Mb;c.Fw&&(d=a.Ec.Ja(d));c.hb&&c.hb.controls&&a.zj.Ja(d);c.jc&&c.jc.scrollbars?(a.tb=new w.Oj(a),a.tb.resize()):a.Hg({x:.5,y:.5});c.TC&&w.wh.sD(c.$e,a)};
w.wh.WA=function(){w.XB||(w.ba(document,"scroll",null,function(){for(var a=w.Pa.getAll(),c=0,d;d=a[c];c++)d.Vm&&d.Vm()}),w.ba(document,"keydown",null,w.TD),w.rc(document,"touchend",null,w.Dh),w.rc(document,"touchcancel",null,w.Dh),w.g.userAgent.fi&&w.ba(window,"orientationchange",document,function(){w.Nk(w.yd())}));w.XB=!0};
w.wh.sD=function(a,c){function d(){for(;f.length;)w.cb(f.pop());e.preload()}var e=c.Ld;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(w.ba(document,"mousemove",null,d,!0));f.push(w.ba(document,"touchstart",null,d,!0))};
w.Dy=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");w.yd().Dy(a)};w.VERSION="uncompiled";w.jm=null;w.selected=null;w.cursor=null;w.Ti=!1;w.Hl=[];w.wl=null;w.Jn=null;w.Dq=null;w.ZF=null;w.vy=null;w.ty=function(a){return{width:a.Wu,height:a.Uu}};w.zG=function(a){La(a)};w.Nk=function(a){for(;a.options.Yc;)a=a.options.Yc;var c=B(a),d=c.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.Wu!=e&&(c.setAttribute("width",e+"px"),c.Wu=e);c.Uu!=d&&(c.setAttribute("height",d+"px"),c.Uu=d);a.resize()}};
w.TD=function(a){var c=w.jm;if(!(c.options.readOnly||w.g.Po(a)||c.ea&&!c.isVisible())){var d=!1;if(27==a.keyCode)w.gc(),w.Ti&&w.u.navigate(a);else if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(w.Fj.Pr())return;w.selected&&w.selected.Ac()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(w.Fj.Pr())return;w.selected&&w.selected.Ac()&&w.selected.hc()&&(67==a.keyCode?(w.gc(),w.Kq(w.selected)):88!=a.keyCode||w.selected.A.We||(w.Kq(w.selected),d=!0));86==a.keyCode?w.wl&&(a=w.Jn,a.We&&(a=a.sj),
w.Dq&&xb(a,w.Dq)&&(w.i.ca(!0),ci(a),w.i.ca(!1))):90==a.keyCode&&(w.gc(),c.ot(a.shiftKey))}else if(w.Ti&&w.u.navigate(a))return;d&&!w.selected.A.We&&(w.i.ca(!0),w.gc(),w.selected.J(!0,!0),w.i.ca(!1))}};w.Kq=function(a){if(a.Wr)var c=a.Qm();else{c=w.P.dh(a,!0);w.P.QB(c);var d=a.Ba();c.setAttribute("x",a.B?-d.x:d.x);c.setAttribute("y",d.y)}w.wl=c;w.Jn=a.A;w.Dq=a.Wr?null:w.g.qr(a,!0)};w.Zv=function(a){var c=w.wl,d=w.Jn;w.Kq(a);ci(a.A);w.wl=c;w.Jn=d};w.sG=function(a){w.g.Po(a)||a.preventDefault()};
w.gc=function(a){w.K.Ca();w.X.Ca();w.G.Iw();var c=w.yd();c.Ec&&c.Ec.N&&c.Ec.N.Ca();a||c.fa&&c.fa.N&&c.fa.N.Uj&&c.fa.Fc.Tf(null)};w.jd=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return w.yd().jd(a)};w.yd=function(){return w.jm};w.alert=function(a,c){alert(a);c&&c()};w.confirm=function(a,c){c(confirm(a))};w.prompt=function(a,c,d){d(prompt(a,c))};w.nD=function(a){return function(){pi(this,a)}};
w.cG=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(w.vb[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),w.vb[e]={Ja:w.nD(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};
w.ba=function(a,c,d,e,f,h){function k(t){var p=!f;t=w.Touch.EE(t);for(var x=0,D;D=t[x];x++)if(!p||w.Touch.et(D))w.Touch.yE(D),d?e.call(d,D):e(D),l=!0}var l=!1,m=[];if(w.g.global.PointerEvent&&c in w.Touch.rf)for(var n=0,q;q=w.Touch.rf[c][n];n++)a.addEventListener(q,k,!1),m.push([a,q,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in w.Touch.rf){var r=function(t){k(t);var p=!h;l&&p&&t.preventDefault()};for(n=0;q=w.Touch.rf[c][n];n++)a.addEventListener(q,r,!1),m.push([a,q,r])}return m};
w.rc=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var h=[];if(w.g.global.PointerEvent&&c in w.Touch.rf)for(var k=0,l;l=w.Touch.rf[c][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f]);else if(a.addEventListener(c,f,!1),h.push([a,c,f]),c in w.Touch.rf){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var q=n.changedTouches[0];n.clientX=q.clientX;n.clientY=q.clientY}f(n);n.preventDefault()};for(k=0;l=w.Touch.rf[c][k];k++)a.addEventListener(l,m,!1),h.push([a,l,m])}return h};
w.cb=function(a){for(;a.length;){var c=a.pop();c[0].removeEventListener(c[1],c[2],!1)}};w.mD=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};w.Kw=function(a){return w.g.jb.XC(a)};
w.iB=function(){w.Nc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);w.Nc("LOGIC_HUE",["Constants","Logic","HUE"],210);w.Nc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);w.Nc("LOOPS_HUE",["Constants","Loops","HUE"],120);w.Nc("MATH_HUE",["Blocks","math","HUE"],void 0);w.Nc("MATH_HUE",["Constants","Math","HUE"],230);w.Nc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);w.Nc("TEXTS_HUE",["Constants","Text","HUE"],160);w.Nc("LISTS_HUE",["Blocks","lists","HUE"],void 0);w.Nc("LISTS_HUE",["Constants","Lists","HUE"],
260);w.Nc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);w.Nc("COLOUR_HUE",["Constants","Colour","HUE"],20);w.Nc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);w.Nc("VARIABLES_HUE",["Constants","Variables","HUE"],330);w.Nc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);w.Nc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
w.Nc=function(a,c,d){for(var e="Blockly",f=w,h=0;h<c.length;++h)e+="."+c[h],f&&(f=f[c[h]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};w.ey=function(a){w.vy=a;(a=w.yd())&&w.oE(a)};w.oE=function(a){w.Cy(F(a).filter(function(d){return void 0!==d.Jm}));!a.fa&&a.N&&a.N.s?w.Cy(F(a.N.s)):di(a);a.fa&&Gj(a.fa);var c=new w.i.ac(null,"theme");c.Qb=a.id;w.i.ka(c)};
w.Cy=function(a){for(var c=0,d;d=a[c];c++)if(mi(d,d.Jm),d.Ye){var e=d.Ye.s;if(e&&F(e)){var f=F(e);for(d=0;d<f.length;d++){var h=f[d];mi(h,h.Jm)}e=F(e.N.s);for(d=0;d<e.length;d++)h=e[d],mi(h,h.Jm)}}};w.zo=function(){return w.vy};w.g.global.Blockly||(w.g.global.Blockly={});w.g.global.Blockly.getMainWorkspace=w.yd;w.g.global.Blockly.addChangeListener=w.jd;var Hj={en:"English"},Ij="ace ar fa he mzn ps ur".split(" "),Jj=window.BlocklyGamesLang,Kj=window.BlocklyGamesLanguages,Lj=!!window.location.pathname.match(/\.html$/),R=null,U,Mj=Number,Nj,Oj=window.location.search.match(/[?&]level=([^&]+)/);Nj=Oj?decodeURIComponent(Oj[1].replace(/\+/g,"%20")):"NaN";var Pj=Mj(Nj);U=isNaN(Pj)?1:w.g.ue.Cq(1,Pj,7);
function Qj(){document.title=document.getElementById("title").textContent;document.dir=-1!=Ij.indexOf(Jj)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",Jj);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<Kj.length;d++){var e=Kj[d];c.push([Hj[e],e])}c.sort(function(h,k){return h[0]>k[0]?1:h[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==Jj&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}for(d=1;7>=d;d++)a=document.getElementById("level"+d),c=!!Rj(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Sj,1)}function Rj(a){var c=Tj;try{var d=window.localStorage[c+a]}catch(e){}return d}function V(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}
function Uj(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function Sj(){if(!Lj){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};w.h.fG={};w.h.ADD_COMMENT="Add Comment";w.h.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";w.h.CHANGE_VALUE_TITLE="Change value:";w.h.CLEAN_UP="Clean up Blocks";w.h.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";w.h.COLLAPSE_ALL="Collapse Blocks";w.h.COLLAPSE_BLOCK="Collapse Block";w.h.COLOUR_BLEND_COLOUR1="colour 1";w.h.COLOUR_BLEND_COLOUR2="colour 2";w.h.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp";
w.h.COLOUR_BLEND_RATIO="ratio";w.h.COLOUR_BLEND_TITLE="blend";w.h.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).";w.h.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color";w.h.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.";w.h.COLOUR_RANDOM_HELPURL="http://randomcolour.com";w.h.COLOUR_RANDOM_TITLE="random colour";w.h.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.";w.h.COLOUR_RGB_BLUE="blue";w.h.COLOUR_RGB_GREEN="green";
w.h.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html";w.h.COLOUR_RGB_RED="red";w.h.COLOUR_RGB_TITLE="colour with";w.h.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";w.h.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";w.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";w.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";
w.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";w.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";w.h.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";w.h.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";w.h.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";w.h.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";
w.h.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";w.h.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";w.h.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";w.h.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";w.h.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";w.h.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";
w.h.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";w.h.CONTROLS_IF_MSG_ELSE="else";w.h.CONTROLS_IF_MSG_ELSEIF="else if";w.h.CONTROLS_IF_MSG_IF="if";w.h.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";w.h.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";w.h.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";
w.h.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";w.h.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";w.h.CONTROLS_REPEAT_INPUT_DO="do";w.h.CONTROLS_REPEAT_TITLE="repeat %1 times";w.h.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";w.h.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";
w.h.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";w.h.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";w.h.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";w.h.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";w.h.DELETE_ALL_BLOCKS="Delete all %1 blocks?";w.h.DELETE_BLOCK="Delete Block";w.h.DELETE_VARIABLE="Delete the '%1' variable";w.h.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";
w.h.DELETE_X_BLOCKS="Delete %1 Blocks";w.h.DISABLE_BLOCK="Disable Block";w.h.DUPLICATE_BLOCK="Duplicate";w.h.DUPLICATE_COMMENT="Duplicate Comment";w.h.ENABLE_BLOCK="Enable Block";w.h.EXPAND_ALL="Expand Blocks";w.h.EXPAND_BLOCK="Expand Block";w.h.EXTERNAL_INPUTS="External Inputs";w.h.HELP="Help";w.h.INLINE_INPUTS="Inline Inputs";w.h.IOS_CANCEL="Cancel";w.h.IOS_ERROR="Error";w.h.IOS_OK="OK";w.h.IOS_PROCEDURES_ADD_INPUT="+ Add Input";w.h.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements";
w.h.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.";w.h.IOS_PROCEDURES_INPUTS="INPUTS";w.h.IOS_VARIABLES_ADD_BUTTON="Add";w.h.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable";w.h.IOS_VARIABLES_DELETE_BUTTON="Delete";w.h.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.";w.h.IOS_VARIABLES_RENAME_BUTTON="Rename";w.h.IOS_VARIABLES_VARIABLE_NAME="Variable name";w.h.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";
w.h.LISTS_CREATE_EMPTY_TITLE="create empty list";w.h.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";w.h.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";w.h.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";w.h.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";w.h.LISTS_CREATE_WITH_INPUT_WITH="create list with";w.h.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";
w.h.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";w.h.LISTS_GET_INDEX_FIRST="first";w.h.LISTS_GET_INDEX_FROM_END="# from end";w.h.LISTS_GET_INDEX_FROM_START="#";w.h.LISTS_GET_INDEX_GET="get";w.h.LISTS_GET_INDEX_GET_REMOVE="get and remove";w.h.LISTS_GET_INDEX_LAST="last";w.h.LISTS_GET_INDEX_RANDOM="random";w.h.LISTS_GET_INDEX_REMOVE="remove";w.h.LISTS_GET_INDEX_TAIL="";w.h.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";
w.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";w.h.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";w.h.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";w.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";w.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";w.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";
w.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";w.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";w.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";w.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";w.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";w.h.LISTS_GET_SUBLIST_END_FROM_END="to # from end";
w.h.LISTS_GET_SUBLIST_END_FROM_START="to #";w.h.LISTS_GET_SUBLIST_END_LAST="to last";w.h.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";w.h.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";w.h.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";w.h.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";w.h.LISTS_GET_SUBLIST_TAIL="";w.h.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";
w.h.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";w.h.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";w.h.LISTS_INDEX_OF_FIRST="find first occurrence of item";w.h.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";w.h.LISTS_INDEX_OF_LAST="find last occurrence of item";w.h.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";w.h.LISTS_INLIST="in list";
w.h.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";w.h.LISTS_ISEMPTY_TITLE="%1 is empty";w.h.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";w.h.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";w.h.LISTS_LENGTH_TITLE="length of %1";w.h.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";w.h.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";w.h.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";
w.h.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";w.h.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";w.h.LISTS_REVERSE_MESSAGE0="reverse %1";w.h.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";w.h.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";w.h.LISTS_SET_INDEX_INPUT_TO="as";w.h.LISTS_SET_INDEX_INSERT="insert at";w.h.LISTS_SET_INDEX_SET="set";
w.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";w.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";w.h.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";w.h.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";w.h.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";w.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";
w.h.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";w.h.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";w.h.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";w.h.LISTS_SORT_ORDER_ASCENDING="ascending";w.h.LISTS_SORT_ORDER_DESCENDING="descending";w.h.LISTS_SORT_TITLE="sort %1 %2 %3";w.h.LISTS_SORT_TOOLTIP="Sort a copy of a list.";w.h.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";w.h.LISTS_SORT_TYPE_NUMERIC="numeric";
w.h.LISTS_SORT_TYPE_TEXT="alphabetic";w.h.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";w.h.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";w.h.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";w.h.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";w.h.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";w.h.LISTS_SPLIT_WITH_DELIMITER="with delimiter";
w.h.LOGIC_BOOLEAN_FALSE="false";w.h.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";w.h.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";w.h.LOGIC_BOOLEAN_TRUE="true";w.h.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";w.h.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";w.h.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";w.h.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";
w.h.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";w.h.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";w.h.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";w.h.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";w.h.LOGIC_NEGATE_TITLE="not %1";w.h.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";
w.h.LOGIC_NULL="null";w.h.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";w.h.LOGIC_NULL_TOOLTIP="Returns null.";w.h.LOGIC_OPERATION_AND="and";w.h.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";w.h.LOGIC_OPERATION_OR="or";w.h.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";w.h.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";w.h.LOGIC_TERNARY_CONDITION="test";w.h.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";
w.h.LOGIC_TERNARY_IF_FALSE="if false";w.h.LOGIC_TERNARY_IF_TRUE="if true";w.h.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";w.h.MATH_ADDITION_SYMBOL="+";w.h.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";w.h.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";w.h.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";
w.h.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";w.h.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";w.h.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";w.h.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";w.h.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";w.h.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";w.h.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";
w.h.MATH_CHANGE_TITLE="change %1 by %2";w.h.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";w.h.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";w.h.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";w.h.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";w.h.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";
w.h.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";w.h.MATH_DIVISION_SYMBOL="\u00f7";w.h.MATH_IS_DIVISIBLE_BY="is divisible by";w.h.MATH_IS_EVEN="is even";w.h.MATH_IS_NEGATIVE="is negative";w.h.MATH_IS_ODD="is odd";w.h.MATH_IS_POSITIVE="is positive";w.h.MATH_IS_PRIME="is prime";w.h.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";w.h.MATH_IS_WHOLE="is whole";
w.h.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";w.h.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";w.h.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";w.h.MATH_MULTIPLICATION_SYMBOL="\u00d7";w.h.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";w.h.MATH_NUMBER_TOOLTIP="A number.";w.h.MATH_ONLIST_HELPURL="";w.h.MATH_ONLIST_OPERATOR_AVERAGE="average of list";w.h.MATH_ONLIST_OPERATOR_MAX="max of list";w.h.MATH_ONLIST_OPERATOR_MEDIAN="median of list";
w.h.MATH_ONLIST_OPERATOR_MIN="min of list";w.h.MATH_ONLIST_OPERATOR_MODE="modes of list";w.h.MATH_ONLIST_OPERATOR_RANDOM="random item of list";w.h.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";w.h.MATH_ONLIST_OPERATOR_SUM="sum of list";w.h.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";w.h.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";w.h.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";
w.h.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";w.h.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";w.h.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";w.h.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";w.h.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";w.h.MATH_POWER_SYMBOL="^";w.h.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";
w.h.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";w.h.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";w.h.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";w.h.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";w.h.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";w.h.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";w.h.MATH_ROUND_OPERATOR_ROUND="round";
w.h.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";w.h.MATH_ROUND_OPERATOR_ROUNDUP="round up";w.h.MATH_ROUND_TOOLTIP="Round a number up or down.";w.h.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";w.h.MATH_SINGLE_OP_ABSOLUTE="absolute";w.h.MATH_SINGLE_OP_ROOT="square root";w.h.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";w.h.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";w.h.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";
w.h.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";w.h.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";w.h.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";w.h.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";w.h.MATH_SUBTRACTION_SYMBOL="-";w.h.MATH_TRIG_ACOS="acos";w.h.MATH_TRIG_ASIN="asin";w.h.MATH_TRIG_ATAN="atan";w.h.MATH_TRIG_COS="cos";w.h.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
w.h.MATH_TRIG_SIN="sin";w.h.MATH_TRIG_TAN="tan";w.h.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";w.h.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";w.h.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";w.h.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";w.h.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";w.h.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";w.h.NEW_COLOUR_VARIABLE="Create colour variable...";
w.h.NEW_NUMBER_VARIABLE="Create number variable...";w.h.NEW_STRING_VARIABLE="Create string variable...";w.h.NEW_VARIABLE="Create variable...";w.h.NEW_VARIABLE_TITLE="New variable name:";w.h.NEW_VARIABLE_TYPE_TITLE="New variable type:";w.h.ORDINAL_NUMBER_SUFFIX="";w.h.PROCEDURES_ALLOW_STATEMENTS="allow statements";w.h.PROCEDURES_BEFORE_PARAMS="with:";w.h.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";w.h.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";
w.h.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";w.h.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";w.h.PROCEDURES_CALL_BEFORE_PARAMS="with:";w.h.PROCEDURES_CREATE_DO="Create '%1'";w.h.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";w.h.PROCEDURES_DEFNORETURN_DO="";w.h.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";w.h.PROCEDURES_DEFNORETURN_PROCEDURE="do something";
w.h.PROCEDURES_DEFNORETURN_TITLE="to";w.h.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";w.h.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";w.h.PROCEDURES_DEFRETURN_RETURN="return";w.h.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";w.h.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.";w.h.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";w.h.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";
w.h.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";w.h.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";w.h.PROCEDURES_MUTATORARG_TITLE="input name:";w.h.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";w.h.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";w.h.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";w.h.REDO="Redo";w.h.REMOVE_COMMENT="Remove Comment";
w.h.RENAME_VARIABLE="Rename variable...";w.h.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";w.h.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";w.h.TEXT_APPEND_TITLE="to %1 append text %2";w.h.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.";w.h.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case";w.h.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case";w.h.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case";
w.h.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE";w.h.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.";w.h.TEXT_CHARAT_FIRST="get first letter";w.h.TEXT_CHARAT_FROM_END="get letter # from end";w.h.TEXT_CHARAT_FROM_START="get letter #";w.h.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text";w.h.TEXT_CHARAT_LAST="get last letter";w.h.TEXT_CHARAT_RANDOM="get random letter";w.h.TEXT_CHARAT_TAIL="";w.h.TEXT_CHARAT_TITLE="in text %1 %2";
w.h.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.";w.h.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings";w.h.TEXT_COUNT_MESSAGE0="count %1 in %2";w.h.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.";w.h.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.";w.h.TEXT_CREATE_JOIN_TITLE_JOIN="join";w.h.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.";
w.h.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end";w.h.TEXT_GET_SUBSTRING_END_FROM_START="to letter #";w.h.TEXT_GET_SUBSTRING_END_LAST="to last letter";w.h.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";w.h.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text";w.h.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter";w.h.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end";w.h.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #";
w.h.TEXT_GET_SUBSTRING_TAIL="";w.h.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.";w.h.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text";w.h.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text";w.h.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text";w.h.TEXT_INDEXOF_TITLE="in text %1 %2 %3";w.h.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";
w.h.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";w.h.TEXT_ISEMPTY_TITLE="%1 is empty";w.h.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.";w.h.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation";w.h.TEXT_JOIN_TITLE_CREATEWITH="create text with";w.h.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.";w.h.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";
w.h.TEXT_LENGTH_TITLE="length of %1";w.h.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.";w.h.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text";w.h.TEXT_PRINT_TITLE="print %1";w.h.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.";w.h.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";w.h.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.";
w.h.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.";w.h.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message";w.h.TEXT_PROMPT_TYPE_TEXT="prompt for text with message";w.h.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings";w.h.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3";w.h.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.";w.h.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text";
w.h.TEXT_REVERSE_MESSAGE0="reverse %1";w.h.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.";w.h.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)";w.h.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.";w.h.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";w.h.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of";w.h.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of";w.h.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of";
w.h.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.";w.h.TODAY="Today";w.h.UNDO="Undo";w.h.VARIABLES_DEFAULT_NAME="item";w.h.VARIABLES_GET_CREATE_SET="Create 'set %1'";w.h.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";w.h.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";w.h.VARIABLES_SET="set %1 to %2";w.h.VARIABLES_SET_CREATE_GET="Create 'get %1'";w.h.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";
w.h.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";w.h.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";w.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";w.h.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";w.h.CONTROLS_FOREACH_INPUT_DO=w.h.CONTROLS_REPEAT_INPUT_DO;w.h.CONTROLS_FOR_INPUT_DO=w.h.CONTROLS_REPEAT_INPUT_DO;w.h.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=w.h.CONTROLS_IF_MSG_ELSEIF;
w.h.CONTROLS_IF_ELSE_TITLE_ELSE=w.h.CONTROLS_IF_MSG_ELSE;w.h.CONTROLS_IF_IF_TITLE_IF=w.h.CONTROLS_IF_MSG_IF;w.h.CONTROLS_IF_MSG_THEN=w.h.CONTROLS_REPEAT_INPUT_DO;w.h.CONTROLS_WHILEUNTIL_INPUT_DO=w.h.CONTROLS_REPEAT_INPUT_DO;w.h.LISTS_CREATE_WITH_ITEM_TITLE=w.h.VARIABLES_DEFAULT_NAME;w.h.LISTS_GET_INDEX_HELPURL=w.h.LISTS_INDEX_OF_HELPURL;w.h.LISTS_GET_INDEX_INPUT_IN_LIST=w.h.LISTS_INLIST;w.h.LISTS_GET_SUBLIST_INPUT_IN_LIST=w.h.LISTS_INLIST;w.h.LISTS_INDEX_OF_INPUT_IN_LIST=w.h.LISTS_INLIST;
w.h.LISTS_SET_INDEX_INPUT_IN_LIST=w.h.LISTS_INLIST;w.h.MATH_CHANGE_TITLE_ITEM=w.h.VARIABLES_DEFAULT_NAME;w.h.PROCEDURES_DEFRETURN_COMMENT=w.h.PROCEDURES_DEFNORETURN_COMMENT;w.h.PROCEDURES_DEFRETURN_DO=w.h.PROCEDURES_DEFNORETURN_DO;w.h.PROCEDURES_DEFRETURN_PROCEDURE=w.h.PROCEDURES_DEFNORETURN_PROCEDURE;w.h.PROCEDURES_DEFRETURN_TITLE=w.h.PROCEDURES_DEFNORETURN_TITLE;w.h.TEXT_APPEND_VARIABLE=w.h.VARIABLES_DEFAULT_NAME;w.h.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=w.h.VARIABLES_DEFAULT_NAME;w.h.MATH_HUE="230";
w.h.LOOPS_HUE="120";w.h.LISTS_HUE="260";w.h.LOGIC_HUE="210";w.h.VARIABLES_HUE="330";w.h.TEXTS_HUE="160";w.h.PROCEDURES_HUE="290";w.h.COLOUR_HUE="20";w.h.VARIABLES_DYNAMIC_HUE="310";var X={ck:null,Ja:function(){Qj();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=V("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=V("Games_linkAlert"),BlocklyStorage.HASH_ERROR=V("Games_hashError"),BlocklyStorage.XML_ERROR=V("Games_xmlError"),BlocklyStorage.alert=W.py.bind(W,a),a&&Uj(a,BlocklyStorage.link)):a&&(a.style.display="none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",X.hB,!0);w.vb&&(w.vb.aA=!1);w.L&&
(w.L.aA=!1)},rD:function(a,c){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var d=null;try{d=window.sessionStorage.ax}catch(h){}d&&delete window.sessionStorage.ax;var e=Rj(U),f=c&&Rj(U-1);f&&"function"==typeof c&&(f=c(f));(a=d||e||f||a)&&X.Yx(a)}},Yx:function(a){X.ck?X.ck.setValue(a,-1):(a=w.P.Kg(a),R.clear(),w.P.lh(a,R),R.ev())},sr:function(){if(X.ck)var a=X.ck.getValue();else{a=w.P.yp(R,!0);if(1==C(R,!1).length&&a.querySelector){var c=
a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}a=w.P.Rc(a)}return a},qh:function(){return R},tE:function(){window.localStorage&&(window.localStorage[Tj+U]=X.sr())},sk:function(){window.location=(Lj?"index.html":"./")+"?lang="+Jj},hB:function(){if(window.sessionStorage){if(X.ck)var a=X.ck.getValue();else a=w.P.yp(R),a=w.P.Rc(a);window.sessionStorage.ax=a}a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;
c=1>=c.length?"?lang="+a:c.match(/[?&]lang=[^&]*/)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c},cp:function(){"maze"==Tj?7>U?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+Jj+"&level="+(U+1):X.sk():4>U?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+Jj+"&level="+(U+1):X.sk()},
Eo:function(a,c){if(a){var d=a.match(/^block_id_([^']+)$/);d&&(a=d[1])}bi(a,c)},nG:function(a,c){a=document.getElementById(a);a.firstChild||(a=w.wh(a,{rtl:-1!=Ij.indexOf(Jj),readOnly:!0}),"string"!=typeof c&&(c=c.join("")),w.P.lh(w.P.Kg(c),a))},JE:function(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")},Bf:function(a){if("click"==a.type&&"touchend"==X.Bf.Ds&&X.Bf.Cs+2E3>Date.now()||X.Bf.Ds==a.type&&X.Bf.Cs+400>Date.now())return a.preventDefault(),a.stopPropagation(),
!0;X.Bf.Ds=a.type;X.Bf.Cs=Date.now();return!1}};X.Bf.Ds=null;X.Bf.Cs=0;X.bD=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","third-party/JS-Interpreter/compressed.js");document.head.appendChild(a)};
X.cD=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=X;X.setCode=X.Yx;X.getCode=X.sr;X.getWorkspace=X.qh;var W={Qi:!1,Pv:null,Yn:null,Cm:function(a,c,d,e,f,h){function k(){W.Qi&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);W.Qi&&W.xc(!1);w.yd()&&w.gc(!0);W.Qi=!0;W.Pv=c;W.Yn=h;var l=document.getElementById("dialog");h=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),W.Qq=w.rc(e,"mousedown",null,W.RB));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(W.Vo(c,!1,.2),W.Vo(l,!0,.8),setTimeout(k,175)):k()},Qv:0,Rv:0,RB:function(a){W.Tq();if(!w.g.Ah(a)){var c=document.getElementById("dialog");W.Qv=c.offsetLeft-a.clientX;W.Rv=c.offsetTop-a.clientY;W.Sq=w.rc(document,"mouseup",null,W.Tq);W.Rq=w.rc(document,"mousemove",null,W.SB);a.stopPropagation()}},SB:function(a){var c=document.getElementById("dialog"),
d=W.Qv+a.clientX;a=W.Rv+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Tq:function(){W.Sq&&(w.cb(W.Sq),W.Sq=null);W.Rq&&(w.cb(W.Rq),W.Rq=null)},xc:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(W.Qi){W.Tq();W.Qq&&(w.cb(W.Qq),W.Qq=null);W.Qi=!1;W.Yn&&W.Yn();W.Yn=null;var d=!1===a?
null:W.Pv;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(W.Vo(a,!1,.8),W.Vo(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Vo:function(a,c,d){function e(){f.style.width=h.width+"px";f.style.height=h.height+"px";f.style.left=h.x+"px";f.style.top=
h.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),h=W.mC(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},mC:function(a){var c=ff(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},py:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");W.Cm(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},W.IE);W.FE()},KA:function(){if(!Rj(U))if(W.Qi||R.Bc())setTimeout(W.KA,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",W.xc,!0);c.addEventListener("touchend",W.xc,!0);c=document.getElementById("abortOk");c.addEventListener("click",X.sk,!0);c.addEventListener("touchend",X.sk,
!0);W.Cm(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",W.Nu,!0)});document.body.addEventListener("keydown",W.Nu,!0)}},hy:function(){document.getElementById("galleryXml").value=X.sr();var a=document.getElementById("galleryDialog");if(!W.hy.sE){var c=document.getElementById("galleryCancel");c.addEventListener("click",W.xc,!0);c.addEventListener("touchend",W.xc,!0);c=document.getElementById("galleryOk");c.addEventListener("click",W.pr,!0);c.addEventListener("touchend",
W.pr,!0);W.hy.sE=!0}c=document.getElementById("submitButton");W.Cm(a,c,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",W.iw,!0)});document.body.addEventListener("keydown",W.iw,!0);setTimeout(function(){document.getElementById("galleryTitle").focus()},250)},wB:function(){var a=document.getElementById("dialogDone");if(R){var c=document.getElementById("dialogLinesText");c.textContent="";var d=Ai();d=X.JE(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,
"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=2<U?V("Games_linesOfCode3").replace("%1",String(e)):1==e?V("Games_linesOfCode1"):V("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d="maze"==Tj?7>U?V("Games_nextLevel").replace("%1",String(U+1)):V("Games_finalLevel"):
4>U?V("Games_nextLevel").replace("%1",String(U+1)):V("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",W.xc,!0);c.addEventListener("touchend",W.xc,!0);c=document.getElementById("doneOk");c.addEventListener("click",X.cp,!0);c.addEventListener("touchend",X.cp,!0);W.Cm(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",W.nv,!0)});document.body.addEventListener("keydown",W.nv,!0);document.getElementById("dialogDoneText").textContent=
d},Ov:function(a){!W.Qi||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(W.xc(!0),a.stopPropagation(),a.preventDefault())},FE:function(){document.body.addEventListener("keydown",W.Ov,!0)},IE:function(){document.body.removeEventListener("keydown",W.Ov,!0)},nv:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)W.xc(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&X.cp()},Nu:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)W.xc(!0),a.stopPropagation(),a.preventDefault(),27!=
a.keyCode&&X.sk()},iw:function(a){27==a.keyCode?W.xc(!0):13==a.keyCode&&W.pr()},pr:function(){var a=document.getElementById("galleryTitle");if(a.value.trim()){a=document.getElementById("galleryForm");for(var c=[],d=0,e;e=a.elements[d];d++)e.name&&(c[d]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));var f=new XMLHttpRequest;f.open("POST",a.action);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onload=function(){if(4==f.readyState){var h=200==f.status?V("Games_submitted"):
V("Games_httpRequestError")+"\nStatus: "+f.status;W.py(null,h)}};f.send(c.join("&"));W.xc(!0)}else a.value="",a.focus()}};window.BlocklyDialogs=W;W.hideDialog=W.xc;
w.L=new w.Generator("JavaScript");Gi("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
w.L.rF=0;w.L.JF=1.1;w.L.vn=1.2;w.L.un=2;w.L.GF=3;w.L.AF=3;w.L.uF=4.1;w.L.MF=4.2;w.L.ju=4.3;w.L.fu=4.4;w.L.LF=4.5;w.L.NF=4.6;w.L.BF=4.7;w.L.sF=4.8;w.L.EF=5;w.L.hu=5.1;w.L.CF=5.2;w.L.IF=5.3;w.L.iu=6.1;w.L.tn=6.2;w.L.wF=7;w.L.KF=8;w.L.FF=8;w.L.HF=8;w.L.DF=9;w.L.tF=10;w.L.xF=11;w.L.vF=12;w.L.eu=13;w.L.gu=14;w.L.zF=15;w.L.qF=16;w.L.OF=17;w.L.yF=18;w.L.bA=99;w.L.wn=[[w.L.un,w.L.vn],[w.L.un,w.L.un],[w.L.vn,w.L.vn],[w.L.vn,w.L.un],[w.L.fu,w.L.fu],[w.L.hu,w.L.hu],[w.L.tn,w.L.tn],[w.L.eu,w.L.eu],[w.L.gu,w.L.gu]];
w.L.Ja=function(a){w.L.Vn=Object.create(null);w.L.kC=Object.create(null);w.L.Wm?w.L.Wm.reset():w.L.Wm=new w.He(w.L.$p);w.L.Wm.Ha=a.Ha;for(var c=[],d=w.Z.NA(a),e=0;e<d.length;e++)c.push(Li(d[e],w.He.Lp));a=w.Z.Pu(a);for(e=0;e<a.length;e++)c.push(Li(a[e].Ga(),w.Z.Jj));c.length&&(w.L.Vn.variables="var "+c.join(", ")+";")};w.L.finish=function(a){var c=[],d;for(d in w.L.Vn)c.push(w.L.Vn[d]);delete w.L.Vn;delete w.L.kC;w.L.Wm.reset();return c.join("\n\n")+"\n\n\n"+a};w.L.Vx=function(a){return a+";\n"};
w.L.tG=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
w.L.Rs=function(a,c,d){var e="";if(!a.V||!a.V.qa){var f=a.ro();(f=w.g.Ua.Ny(f,w.L.bz-3))&&(e=a.Gi?e+("/**\n"+Di(f+"\n"," * ")+" */\n"):e+Di(f+"\n","// "));for(var h=0;h<a.U.length;h++)if(a.U[h].type==w.La){var k=A(a.U[h].connection);if(k){f=[];k=y(k,!0);for(var l=0;l<k.length;l++){var m=k[l].ro();m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Di(f,"// "))}}}a=a.$&&A(a.$);d=d?"":Bi(w.L,a);return e+c+d};
w.L.jG=function(a,c,d,e,f){d=d||0;f=f||w.L.bA;a.A.options.Hh&&d--;var h=a.A.options.Hh?"1":"0";a=0<d?Ei(a,c,w.L.tn)||h:0>d?Ei(a,c,w.L.iu)||h:e?Ei(a,c,w.L.ju)||h:Ei(a,c,f)||h;if(w.mD(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=w.L.tn}else 0>d&&(a=a+" - "+-d,k=w.L.iu);e&&(a=d?"-("+a+")":"-"+a,k=w.L.ju);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};var Vj={};w.vb.maze_moveForward={Ja:function(){pi(this,{message0:V("Maze_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:V("Maze_moveForwardTooltip")})}};w.L.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};w.vb.maze_turn={Ja:function(){var a=[[V("Maze_turnLeft"),"turnLeft"],[V("Maze_turnRight"),"turnRight"]];a[0][0]+=" \u21ba";a[1][0]+=" \u21bb";this.sd(290);T(oi(this),new w.Ka(a),"DIR");this.Sh(!0);this.Lk(!0);this.xe(V("Maze_turnTooltip"))}};
w.L.maze_turn=function(a){return rb(a,"DIR")+"('block_id_"+a.id+"');\n"};w.vb.maze_if={Ja:function(){var a=[[V("Maze_pathAhead"),"isPathForward"],[V("Maze_pathLeft"),"isPathLeft"],[V("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.sd(210);T(oi(this),new w.Ka(a),"DIR");T(this.tf(w.ua,"DO"),V("Maze_doCode"));this.xe(V("Maze_ifTooltip"));this.Sh(!0);this.Lk(!0)}};w.L.maze_if=function(a){var c=rb(a,"DIR")+"('block_id_"+a.id+"')";a=Fi(a,"DO");return"if ("+c+") {\n"+a+"}\n"};
w.vb.maze_ifElse={Ja:function(){var a=[[V("Maze_pathAhead"),"isPathForward"],[V("Maze_pathLeft"),"isPathLeft"],[V("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.sd(210);T(oi(this),new w.Ka(a),"DIR");T(this.tf(w.ua,"DO"),V("Maze_doCode"));T(this.tf(w.ua,"ELSE"),V("Maze_elseCode"));this.xe(V("Maze_ifelseTooltip"));this.Sh(!0);this.Lk(!0)}};
w.L.maze_ifElse=function(a){var c=rb(a,"DIR")+"('block_id_"+a.id+"')",d=Fi(a,"DO");a=Fi(a,"ELSE");return"if ("+c+") {\n"+d+"} else {\n"+a+"}\n"};w.vb.maze_forever={Ja:function(){this.sd(120);T(T(oi(this),V("Maze_repeatUntil")),new w.Ge(Wj,12,16));T(this.tf(w.ua,"DO"),V("Maze_doCode"));this.Sh(!0);this.xe(V("Maze_whileTooltip"))}};w.L.maze_forever=function(a){var c=Fi(a,"DO");w.L.Tt&&(c=w.L.Tt.replace(/%1/g,"'block_id_"+a.id+"'")+c);return"while (notDone()) {\n"+c+"}\n"};
w.vb.maze_forever_books={Ja:function(){this.sd(182);T(T(T(oi(this),V("Maze_repeatTaskUntil")),new w.Ge(Vj.oF.SF.WF,20,17)),V("Maze_booksZero"),"booksZero");T(this.tf(w.ua,"DO"),V("Maze_doCode"));this.Sh(!0);this.xe(V("Maze_whileBooksTooltip"))}};var Xj={};function Yj(){throw Error("Do not instantiate directly");}Yj.prototype.Jq=null;Yj.prototype.oh=function(){return this.content};Yj.prototype.toString=function(){return this.content};Yj.prototype.vp=function(){if(this.qv!==Xj)throw Error("Sanitized content was not of kind HTML.");return ld(this.toString(),this.Jq||null)};function Zj(a){if(null!=a)switch(a.Jq){case 1:return 1;case -1:return-1;case 0:return 0}return null}function ak(){Yj.call(this)}v(ak,Yj);ak.prototype.qv=Xj;function bk(a){return null!=a&&a.qv===Xj?a:ck(String(String(a)).replace(dk,ek),Zj(a))}
var ck=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.Jq=e);return f}}(ak),fk={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ek(a){return fk[a]}var dk=/[\x00\x22\x26\x27\x3c\x3e]/g;function gk(){for(var a='<div style="display: none"><span id="Games_maze">Maze</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2"> You solved this level with %1 lines of JavaScript:</span><span id="Games_linesOfCode3"> ...and using %1 lines of JavaScript:</span><span id="Games_execTime"> You solved this level in %2 execution time!</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Congratulations for completing this challenge.</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Maze_moveForward">move forward</span><span id="Maze_turnLeft">turn left</span><span id="Maze_turnRight">turn right</span><span id="Maze_doCode">do</span><span id="Maze_elseCode">else</span><span id="Maze_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Maze_pathAhead">if path ahead</span><span id="Maze_pathLeft">if path to the left</span><span id="Maze_pathRight">if path to the right</span><span id="Maze_repeatUntil">repeat until</span><span id="Maze_moveForwardTooltip">Moves the player forward one space.</span><span id="Maze_turnTooltip">Turns the player left or right by 90 degrees.</span><span id="Maze_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Maze_ifelseTooltip">If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Maze_whileTooltip">Repeat the enclosed actions until finish point is reached.</span><span id="Maze_capacity0">You have %0 blocks left.</span><span id="Maze_capacity1">You have %1 block left.</span><span id="Maze_capacity2">You have %2 blocks left.</span><span id="Games_dialogStart">Start</span></div><div class="header"><a id="back" href="index.html" class="logo"><img id="banner" src="static/img/index/blocklypar0.png" width="70" alt="Blockly Games"></a>&nbsp<td><a><h1><span id="title">'+
(bk({appName:"Sequential Programming"}.appName)+"</span><center>"),c="&skin="+bk(0),d=" &nbsp; ",e=1;5>e;e++)d+=" "+(e==U?'<a class="level_number level_done" id="level'+bk(e)+'">'+bk(e)+"</a>":4==e?'<a class="level_number" id="level'+bk(e)+'" href="?lang='+bk(Jj)+"&level="+bk(e)+bk(c)+'">'+bk(e)+"</a>":'<a class="level_dot" id="level'+bk(e)+'" href="?lang='+bk(Jj)+"&level="+bk(e)+bk(c)+'"></a>');return a+d+'</center></h1></a></td><div class="nav-spacer"></div></div>&nbsp<div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze" width="400px" height="400px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg></div><table width="400"><tr><div class=\'parent\'><div align=\'left\' class=\'child inline-block-child\' id="counter"></div><div align=\'center\' class=\'child inline-block-child\' id="number"></div><div align=\'center\' class=\'child inline-block-child\' id="timeBubble"> <div id="time"></div> </div><div align=\'right\' class=\'child inline-block-child\' id="capacityBubble"> <div id="capacity"></div> </div></div><td style="width: 220px; text-align: right; vertical-align: top;"><td><button id="runButton" class="primary" title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Put the player back at the start of the maze."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" style="display: none;" xmlns="https://developers.google.com/blockly/xml"><block type="maze_moveForward"></block><block type="maze_turn"><field name="DIR">turnLeft</field></block><block type="maze_turn"><field name="DIR">turnRight</field></block>'+
((1<U?'<block type="maze_if"><field name="DIR">isPathRight</field></block><block type="maze_forever"></block>'+(2<U?'<block type="maze_ifElse"></block>':""):"")+'</xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>CONGRATULATIONS!</center></h3></div><div id="dialogRunText" style="font-size: large; margin: 1em;"></div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div><div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div></div>')+
(1==U?'<div id="dialog1Intro" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>LEVEL 1</center></h3></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;">Programming with blocks is easy!<table cellspacing="5"><tr><td><img class="img-responsive" src="static/img/games/serial/level1.png"></td><td>Just drag and drop the blocks together, one above the other to build your program.</td></table><button id="playStart" class="secondary">Ok</button></div></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td>You need to stack together all the blocks that you want to use.</td><td><div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpRun" class="dialogHiddenContent"><table><tr><td><img src="static/img/games/serial/left.png"></td><td>Run your program by clicking here!</td></tr></table></div>':
2==U?'<div id="dialogHelpReset" class="dialogHiddenContent"><table><tr><td colspan="2">Your program didn\'t solve this level.</td></tr><tr><td><img src="static/img/games/serial/left.png"></td><td>Click \'Reset\' and try again.</td></tr></table></div>':3==U?'<div id="dialogHelpIfElse" class="dialogHiddenContent">An \'if-else\' block will do one thing if the condition is true or the other, if the condition is false.</div>':"")};function hk(a,c){var d=ik;this.id=0;this.locked=!1;this.time=this.active=0;this.ga={x:a,y:c};this.ob=d;this.reset(this.ob,this.ga.x,this.ga.y)}hk.prototype.reset=function(a,c,d){this.locked=!1;this.ga={x:c,y:d};this.ob=a};var jk,kk,Y,lk=[],mk=[],Wj="static/img/games/serial/house.png";
function nk(a){function c(n,q){return 0>n||n>=ok||0>q||q>=pk?"0":qk[q][n]==rk?"0":"1"}var d=document.createElementNS(w.g.o.vd,"image");d.setAttributeNS(w.g.o.Mc,"xlink:href","static/img/games/serial/bg-serial.png");d.setAttribute("height",sk);d.setAttribute("width",tk);d.setAttribute("x",0);d.setAttribute("y",0);a.appendChild(d);for(var e=0,f=0;f<pk;f++)for(var h=0;h<ok;h++){var k=c(h,f)+c(h,f-1)+c(h+1,f)+c(h,f+1)+c(h-1,f);uk[k]||(k="00000"==k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));
var l=uk[k][0];k=uk[k][1];d=document.createElementNS(w.g.o.vd,"clipPath");d.id="tileClipPath"+e;var m=document.createElementNS(w.g.o.vd,"rect");m.setAttribute("width",Z);m.setAttribute("height",Z);m.setAttribute("x",h*Z);m.setAttribute("y",f*Z);d.appendChild(m);a.appendChild(d);d=document.createElementNS(w.g.o.vd,"image");d.setAttributeNS(w.g.o.Mc,"xlink:href","static/img/games/serial/tiles_ufsm2.png");d.setAttribute("height",4*Z);d.setAttribute("width",5*Z);d.setAttribute("clip-path","url(#tileClipPath"+
e+")");d.setAttribute("x",(h-l)*Z);d.setAttribute("y",(f-k)*Z);a.appendChild(d);e++}for(f=0;f<pk;f++)for(h=0;h<ok;h++)qk[f][h]==vk?(jk={x:h,y:f},Y=new hk(h,f)):qk[f][h]==wk&&(kk={x:h,y:f})}
function xk(a){for(var c=0;c<lk.length;c++)window.clearTimeout(lk[c]);lk=[];Y.reset(ik,jk.x,jk.y);a?(Y.ob++,lk.push(setTimeout(function(){yk([Y.ga.x,Y.ga.y,4*Y.ob-4]);Y.ob++},5*zk))):Ak(Y.ga.x,Y.ga.y,4*ik);a=document.getElementById("finish");a.setAttribute("x",Z*(kk.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",Z*(kk.y+.3)-a.getAttribute("height")/2)}
function Bk(){if("Interpreter"in window){mk=[];w.selected&&w.selected.Og();Ck=Dk;var a=Ai();a=new Interpreter(a,Ek);try{for(var c=1E5;a.step();)if(0==c--)throw Infinity;Ck=Fk()?Gk:Hk}catch(d){Infinity===d?Ck=Ik:!1===d?Ck=Jk:(Ck=Jk,alert(d))}Ck==Hk&&mk.push(["finish",null]);xk(!1);lk.push(setTimeout(Kk,100))}else setTimeout(Lk,250)}
function Ek(a,c){var d=function(e){Mk(0,e)};a.setProperty(c,"moveForward",a.createNativeFunction(d));d=function(e){Mk(2,e)};a.setProperty(c,"moveBackward",a.createNativeFunction(d));d=function(e){Nk(0,e)};a.setProperty(c,"turnLeft",a.createNativeFunction(d));d=function(e){Nk(1,e)};a.setProperty(c,"turnRight",a.createNativeFunction(d));d=function(e){return Ok(0,e)};a.setProperty(c,"isPathForward",a.createNativeFunction(d));d=function(e){return Ok(1,e)};a.setProperty(c,"isPathRight",a.createNativeFunction(d));
d=function(e){return Ok(2,e)};a.setProperty(c,"isPathBackward",a.createNativeFunction(d));d=function(e){return Ok(3,e)};a.setProperty(c,"isPathLeft",a.createNativeFunction(d));a.setProperty(c,"notDone",a.createNativeFunction(function(){return Fk()}))}
function Kk(){var a=mk.shift();if(a){X.Eo(a[1]);switch(a[0]){case "north":yk([Y.ga.x,Y.ga.y-1,4*Y.ob]);Y.ga.y--;break;case "east":yk([Y.ga.x+1,Y.ga.y,4*Y.ob]);Y.ga.x++;break;case "south":yk([Y.ga.x,Y.ga.y+1,4*Y.ob]);Y.ga.y++;break;case "west":yk([Y.ga.x-1,Y.ga.y,4*Y.ob]);Y.ga.x--;break;case "fail_forward":Pk(!0);break;case "fail_backward":Pk(!1);break;case "left":yk([Y.ga.x,Y.ga.y,4*Y.ob-4]);Y.ob=Qk(Y.ob-1);break;case "right":yk([Y.ga.x,Y.ga.y,4*Y.ob+4]);Y.ob=Qk(Y.ob+1);break;case "finish":X.tE(),
setTimeout(W.wB,1E3),R.Ld.play("win",.5)}lk.push(setTimeout(Kk,5*zk))}else X.Eo(null),Rk()}function Mk(a,c){if(!Ok(a,null))throw mk.push(["fail_"+(a?"backward":"forward"),c]),!1;switch(Qk(Y.ob+a)){case Sk:Y.ga.y--;var d="north";break;case ik:Y.ga.x++;d="east";break;case Tk:Y.ga.y++;d="south";break;case Uk:Y.ga.x--,d="west"}mk.push([d,c])}function Nk(a,c){a?(Y.ob++,mk.push(["right",c])):(Y.ob--,mk.push(["left",c]));Y.ob=Qk(Y.ob)}
function Ok(a,c){switch(Qk(Y.ob+a)){case Sk:var d=qk[Y.ga.y-1]&&qk[Y.ga.y-1][Y.ga.x];var e="look_north";break;case ik:d=qk[Y.ga.y][Y.ga.x+1];e="look_east";break;case Tk:d=qk[Y.ga.y+1]&&qk[Y.ga.y+1][Y.ga.x];e="look_south";break;case Uk:d=qk[Y.ga.y][Y.ga.x-1],e="look_west"}c&&mk.push([e,c]);return d!==rk&&void 0!==d}
function yk(a){var c=[Y.ga.x,Y.ga.y,4*Y.ob],d=[(a[0]-c[0])/4,(a[1]-c[1])/4,(a[2]-c[2])/4];lk.push(setTimeout(function(){Ak(c[0]+d[0],c[1]+d[1],Vk(c[2]+d[2]))},zk));lk.push(setTimeout(function(){Ak(c[0]+2*d[0],c[1]+2*d[1],Vk(c[2]+2*d[2]))},zk));lk.push(setTimeout(function(){Ak(c[0]+3*d[0],c[1]+3*d[1],Vk(c[2]+3*d[2]))},2*zk));lk.push(setTimeout(function(){Ak(a[0],a[1],Vk(a[2]))},3*zk))}
function Pk(a){var c=0,d=0;switch(Y.ob){case Sk:d=-1;break;case ik:c=1;break;case Tk:d=1;break;case Uk:c=-1}a||(c=-c,d=-d);c/=4;d/=4;var e=Vk(4*Y.ob);Ak(Y.ga.x,Y.ga.y+d,e);R.Ld.play("fail",.5);lk.push(setTimeout(function(){Ak(Y.ga.x,Y.ga.y,e)},zk));lk.push(setTimeout(function(){Ak(Y.ga.x+c,Y.ga.y+d,e);R.Ld.play("fail",.5)},2*zk));lk.push(setTimeout(function(){Ak(Y.ga.x,Y.ga.y,e)},3*zk))}
function Ak(a,c,d){var e=document.getElementById("student");e.setAttribute("x",a*Z-d*Wk+1);e.setAttribute("y",Z*(c+.5)-Xk/2-8);e.setAttribute("transform","rotate(0, 0, 0)");c=document.getElementById("clipRect");c.setAttribute("x",a*Z+1);c.setAttribute("y",e.getAttribute("y"))}function Fk(){return Y.ga.x!=kk.x||Y.ga.y!=kk.y};var Tj="serial",Yk=["serial/win.mp3","serial/win.ogg"],Zk=["serial/fail_pegman.mp3","serial/fail_pegman.ogg"];X.cp=function(){4>U?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+Jj+"&level="+(U+1)+"&skin=0":X.sk()};var $k=[void 0,Infinity,Infinity,Infinity,Infinity][U],zk=60,al=!0;document.getElementById("number");
var rk=0,vk=2,wk=3,qk=[void 0,[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,2,1,1,3,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0],[0,0,2,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,3,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0],[0,2,1,0,0,0,0],[0,0,1,1,0,0,0],[0,0,0,1,1,0,0],[0,0,0,0,1,1,0],[0,0,0,0,0,3,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0],[0,1,1,0,0,0,0],[0,2,1,0,0,0,0],[0,0,1,1,0,3,0],[0,0,0,1,1,1,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]]][U],pk=qk.length,
ok=qk[0].length,Z=50,Xk=52,Wk=49,tk=Z*ok,sk=Z*pk,Sk=0,ik=1,Tk=2,Uk=3,Dk=0,Hk=1,Gk=-1,Ik=2,Jk=-2,Ck=Dk,uk={10010:[4,0],10001:[3,3],11E3:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]};
function bl(){var a=document.getElementById("svgMaze"),c=Math.max(pk,ok)*Z;a.setAttribute("viewBox","0 0 "+c+" "+c);c=document.createElementNS(w.g.o.vd,"rect");c.setAttribute("width",tk);c.setAttribute("height",sk);c.setAttribute("fill","#F1EEE7");c.setAttribute("stroke-width",1);c.setAttribute("stroke","#CCB");a.appendChild(c);nk(a);c=document;var d=c.createElementNS(w.g.o.vd,"image");d.id="finish";d.setAttributeNS(w.g.o.Mc,"xlink:href",Wj);d.setAttribute("height",50);d.setAttribute("width",50);
a.appendChild(d);d=c.createElementNS(w.g.o.vd,"clipPath");d.id="studentClipPath";var e=c.createElementNS(w.g.o.vd,"rect");e.id="clipRect";e.setAttribute("width",Wk);e.setAttribute("height",Xk);d.appendChild(e);a.appendChild(d);c=c.createElementNS(w.g.o.vd,"image");c.id="student";c.setAttributeNS(w.g.o.Mc,"xlink:href","static/img/games/serial/pegman.png");c.setAttribute("height",Xk);c.setAttribute("width",21*Wk);c.setAttribute("clip-path","url(#studentClipPath)");a.appendChild(c)}
function Rk(a){if(!(a&&a.type==w.i.nl||R.Bc()||Ck==Hk||Rj(U))){var c=-1!=Ij.indexOf(Jj),d=w.P.Rc(w.P.yp(R)),e=C(R.N.s,!0),f=a=null,h=null;1==U?al?(a=document.getElementById("dialog1Intro"),h={width:"30%",top:"8em"},h[c?"right":"left"]="40%",f=e[0].Y(),c=document.getElementById("playStart"),c.addEventListener("click",W.xc,!0),c.addEventListener("touchend",W.xc,!0),al=!1):3>F(R).length?(a=document.getElementById("dialogHelpStack"),h={width:"190px",top:"150px"},h[c?"right":"left"]="215px",f=e[0].Y()):
Ck==Dk&&(a=document.getElementById("dialogHelpRun"),h={width:"220px",top:"525px"},h[c?"right":"left"]="410px",f=document.getElementById("runButton")):2==U?Ck!=Dk&&"none"==document.getElementById("runButton").style.display&&(a=document.getElementById("dialogHelpReset"),h={width:"200px",top:"505px"},h[c?"right":"left"]="410px",f=document.getElementById("resetButton")):3==U&&-1==d.indexOf("maze_ifElse")&&(a=document.getElementById("dialogHelpIfElse"),h={width:"240px",top:"550px"},h[c?"right":"left"]=
"625px",f=e[4].Y());a?a.parentNode!=document.getElementById("dialog")&&W.Cm(a,f,!0,!1,h,null):W.xc(!1)}}function cl(a){if(!X.Bf(a))if(W.xc(!1),1==U&&1<C(R,!1).length&&Ck!=Hk&&!Rj(U))Rk();else{a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");a.style.display="none";c.style.display="inline";xk(!1);Bk()}}
function dl(a){X.Bf(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",bi(null),xk(!1),Rk())}function Lk(){Bk()}function Qk(a){a=Math.round(a)%4;0>a&&(a+=4);return a}function Vk(a){a=Math.round(a)%16;0>a&&(a+=16);return a}
window.addEventListener("load",function(){function a(){d.style.top=Math.max(10,e.offsetTop-window.pageYOffset)+"px";d.style.left=c?"10px":"420px";d.style.width=window.innerWidth-440+"px"}document.body.innerHTML=gk();X.Ja();var c=-1!=Ij.indexOf(Jj),d=document.getElementById("blockly"),e=document.getElementById("visualization");window.addEventListener("scroll",function(){a(null);w.Nk(R)});window.addEventListener("resize",a);a(null);var f=document.getElementById("toolbox");R=w.wh("blockly",{media:"third-party/blockly/media/",
maxBlocks:$k,rtl:c,toolbox:f,trashcan:!0,zoom:{startScale:1+(1-U/7)/3}});R.Ld.load(Yk,"win");R.Ld.load(Zk,"fail");Gi("moveForward,moveBackwardturnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");X.rD(1==U?'<xml><block movable="'+(1!=U)+'" type="maze_moveForward" x="70" y="70"></block></xml>':'<xml><block movable="'+(1!=U)+'" type="maze_forever" x="70" y="70"></block></xml>',!1);bl();xk(!0);R.jd(function(){var h=wb(R),k=document.getElementById("capacity");if(Infinity==h)k.style.display=
"none";else{k.style.display="inline";k.innerHTML="";h=Number(h);var l=document.createElement("span");l.className="capacityNumber";l.appendChild(document.createTextNode(h));h=(0==h?V("Maze_capacity0"):1==h?V("Maze_capacity1"):V("Maze_capacity2")).split(/%\d/);for(var m=0;m<h.length;m++)k.appendChild(document.createTextNode(h[m])),m!=h.length-1&&k.appendChild(l.cloneNode(!0))}});Uj("runButton",cl);Uj("resetButton",dl);if(1==U||2==U)w.Lc*=2,w.Ht=w.Lc;setTimeout(function(){R.jd(Rk);Rk()},1E3);setTimeout(X.bD,
1);setTimeout(X.cD,1)});
