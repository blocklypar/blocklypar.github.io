// Automatically generated file.  Do not edit!
'use strict';var c,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(a,b){if(b){var d=ba;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&aa(d,a,{configurable:!0,writable:!0,value:b})}}
ca("String.prototype.startsWith",function(a){return a?a:function(b,d){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var e=this+"";b+="";var f=e.length,g=b.length;d=Math.max(0,Math.min(d|0,e.length));for(var k=0;k<g&&d<f;)if(e[d++]!=b[k++])return!1;return k>=g}});
function da(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ea(){ea=function(){};ba.Symbol||(ba.Symbol=fa)}function ha(a,b){this.Ry=a;aa(this,"description",{configurable:!0,writable:!0,value:b})}ha.prototype.toString=function(){return this.Ry};var fa=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ha("jscomp_symbol_"+(d||"")+"_"+b++,d)}var b=0;return a}();
function ia(){ea();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ka(da(this))}});ia=function(){}}function ka(a){ia();a={next:a};a[ba.Symbol.iterator]=function(){return this};return a}
function la(a,b){ia();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var f=d++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}ca("Array.prototype.keys",function(a){return a?a:function(){return la(this,function(b){return b})}});var ma=this||self;
function na(a,b){a=a.split(".");var d=ma;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=b}function oa(){}function pa(a){a.Wr=void 0;a.sh=function(){return a.Wr?a.Wr:a.Wr=new a}}
function qa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ra(a){return"array"==qa(a)}function sa(a){var b=qa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ta(a){return"function"==qa(a)}function ua(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function va(a){return a[wa]||(a[wa]=++xa)}var wa="closure_uid_"+(1E9*Math.random()>>>0),xa=0;function ya(a,b,d){return a.call.apply(a.bind,arguments)}
function za(a,b,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}}function Aa(a,b,d){Aa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ya:za;return Aa.apply(null,arguments)}
function Ba(a,b){var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice();e.push.apply(e,arguments);return a.apply(this,e)}}function h(a,b){function d(){}d.prototype=b.prototype;a.A=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.XA=function(e,f,g){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return b.prototype[f].apply(e,k)}};
var n={h:{}};
n.g={};n.g.XA={};n.g.global=this||self;n.g.T=function(a,b){this.x=a;this.y=b};n.g.T.Qe=function(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1};n.g.T.Wv=function(a,b){var d=a.x-b.x;a=a.y-b.y;return Math.sqrt(d*d+a*a)};n.g.T.vD=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};n.g.T.Kl=function(a,b){return new n.g.T(a.x-b.x,a.y-b.y)};n.g.T.sum=function(a,b){return new n.g.T(a.x+b.x,a.y+b.y)};n.g.T.prototype.scale=function(a){this.x*=a;this.y*=a;return this};n.g.T.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};n.g.Xa={};n.g.Xa.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};n.g.Xa.gt=function(a){return a.length?a.reduce(function(b,d){return b.length<d.length?b:d}).length:0};n.g.Xa.wB=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||n.g.Xa.gt(a);for(var e=0;e<b;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return b};
n.g.Xa.xB=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||n.g.Xa.gt(a);for(var e=0;e<b;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return b};n.g.Xa.Oy=function(a,b){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=n.g.Xa.eF(a[d],b);return a.join("\n")};
n.g.Xa.eF=function(a,b){if(a.length<=b)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>b&&(b=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=n.g.Xa.Py(d,a,b);e=n.g.Xa.ut(d,a,b);a=n.g.Xa.fF(d,a);f++}while(e>g);return k};
n.g.Xa.ut=function(a,b,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===b[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===b[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=b=0;g<e.length;g++)b-=2*Math.pow(Math.abs(d-e[g]),1.5),b-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?b+=d/3:-1!=",;)]}".indexOf(f[g])&&(b+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(b+=.5);return b};
n.g.Xa.Py=function(a,b,d){for(var e=n.g.Xa.ut(a,b,d),f,g=0;g<b.length-1;g++)if(b[g]!=b[g+1]){var k=[].concat(b);k[g]=!k[g];k[g+1]=!k[g+1];var l=n.g.Xa.ut(a,k,d);l>e&&(e=l,f=k)}return f?n.g.Xa.Py(a,f,d):b};n.g.Xa.fF=function(a,b){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==b[e]&&d.push(b[e]?"\n":" ");return d.join("")};n.g.userAgent={};
(function(a){function b(e){return-1!=d.indexOf(e.toUpperCase())}n.g.userAgent.raw=a;var d=n.g.userAgent.raw.toUpperCase();n.g.userAgent.Wg=b("Trident")||b("MSIE");n.g.userAgent.rn=b("Edge");n.g.userAgent.Mz=b("JavaFX");n.g.userAgent.Ju=b("WebKit")&&!n.g.userAgent.rn;n.g.userAgent.Rt=b("Gecko")&&!n.g.userAgent.Ju&&!n.g.userAgent.Wg&&!n.g.userAgent.rn;n.g.userAgent.Ej=b("Android");n.g.userAgent.ii=b("iPad");n.g.userAgent.Wt=b("iPod");n.g.userAgent.Vt=b("iPhone")&&!n.g.userAgent.ii&&!n.g.userAgent.Wt;
n.g.userAgent.Pz=b("Macintosh");n.g.userAgent.vA=n.g.userAgent.ii||n.g.userAgent.Ej&&!b("Mobile")||b("Silk");n.g.userAgent.$t=!n.g.userAgent.vA&&(n.g.userAgent.Wt||n.g.userAgent.Vt||n.g.userAgent.Ej||b("IEMobile"))})(n.g.global.navigator&&n.g.global.navigator.userAgent||"");n.g.tf=function(a,b){this.width=a;this.height=b};n.g.tf.Qe=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};n.g.style={};n.g.style.yg=function(a){if("none"!=n.g.style.zC(a)){var b=a.offsetWidth;a=a.offsetHeight;return new n.g.tf(b,a)}var d=a.style,e=d.display,f=d.visibility,g=d.position;d.visibility="hidden";d.position="absolute";d.display="inline";b=a.offsetWidth;a=a.offsetHeight;d.display=e;d.position=g;d.visibility=f;return new n.g.tf(b,a)};n.g.style.zC=function(a){return n.g.style.getComputedStyle(a,"display")||n.g.style.qC(a)||a.style&&a.style.display};
n.g.style.getComputedStyle=function(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""};n.g.style.qC=function(a){return a.currentStyle?a.currentStyle.display:null};n.g.style.wC=function(a){var b=new n.g.T(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new n.g.T(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);b.x=a.left+d.x;b.y=a.top+d.y;return b};
n.g.style.ww=function(){var a=document.body,b=document.documentElement;return new n.g.T(a.scrollLeft||b.scrollLeft,a.scrollTop||b.scrollTop)};
n.g.KD=function(a){a.preventDefault();a.stopPropagation()};n.g.So=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
n.g.Rd=function(a){var b=new n.g.T(0,0),d=a.getAttribute("x");d&&(b.x=parseInt(d,10));if(d=a.getAttribute("y"))b.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(n.g.Rd.HA))b.x+=Number(d[1]),d[3]&&(b.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(n.g.Rd.IA))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b};
n.g.Rl=function(a){for(var b=0,d=0;a;){var e=n.g.Rd(a);b+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new n.g.T(b,d)};n.g.Rd.HA=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;n.g.Rd.IA=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;n.g.Dh=function(a){return a.ctrlKey&&n.g.userAgent.Pz?!0:2==a.button};
n.g.tm=function(a,b,d){var e=b.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=b.getScreenCTM().inverse());return e.matrixTransform(d)};n.g.Ar=function(a){switch(a.deltaMode){case 0:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*n.Xt,y:a.deltaY*n.Xt};case 2:return{x:a.deltaX*n.nu,y:a.deltaY*n.nu}}};n.g.RE=function(a){return n.g.ot(a,!0)};n.g.bc=function(a){if("string"!=typeof a)return a;a=n.g.ot(a,!1);return a.length?a[0]:""};
n.g.av=function(a){for(var b=n.h,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==b[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
n.g.ot=function(a,b){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):b&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=n.g.Xa.startsWith(l,"BKY_")?
l.substring(4):null)&&l in n.h?(f=n.h[l],"string"==typeof f?Array.prototype.push.apply(d,n.g.ot(f,b)):b?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);b=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&b.push(l),a.length=0,b.push(d[k]));(l=a.join(""))&&b.push(l);a.length=0;return b};n.g.Hf=function(){for(var a=n.g.Hf.ky.length,b=[],d=0;20>d;d++)b[d]=n.g.Hf.ky.charAt(Math.random()*a);return b.join("")};
n.g.Hf.ky="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
n.g.Ah=function(){if(void 0!==n.g.Ah.Eq)return n.g.Ah.Eq;if(!n.g.global.getComputedStyle)return!1;var a=document.createElement("p"),b="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";b=n.g.global.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(d[e])}document.body.removeChild(a);
n.g.Ah.Eq="none"!==b;return n.g.Ah.Eq};n.g.Ux=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)};n.g.vw=function(){var a=n.g.style.ww();return{right:document.documentElement.clientWidth+a.x,bottom:document.documentElement.clientHeight+a.y,top:a.y,left:a.x}};
n.g.vl=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};n.g.wr=function(){var a=document.documentElement,b=window;return n.g.userAgent.Wg&&b.pageYOffset!=a.scrollTop?new n.g.T(a.scrollLeft,a.scrollTop):new n.g.T(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)};n.g.tr=function(a,b){var d=Object.create(null),e=Ca(a,!0);b&&(a=u(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;b=e[a];a++)d[b.type]?d[b.type]++:d[b.type]=1;return d};
n.g.vE=function(a,b){var d=b.x;b=b.y;var e=Da(a).getBoundingClientRect();d=new n.g.T(d-e.left,b-e.top);b=n.g.Rl(a.ab);return n.g.T.Kl(d,b).scale(1/a.scale)};
n.i={};n.i.Wl="";n.i.Gc=!0;n.i.Xq=0;n.i.mn="create";n.i.At=n.i.mn;n.i.pn="delete";n.i.Wy=n.i.pn;n.i.Fj="change";n.i.hF=n.i.Fj;n.i.kl="move";n.i.Bt=n.i.kl;n.i.Gu="var_create";n.i.Hu="var_delete";n.i.Iu="var_rename";n.i.ql="ui";n.i.kn="comment_create";n.i.Jt="comment_delete";n.i.It="comment_change";n.i.ln="comment_move";n.i.sz="finished_loading";n.i.Xy=[n.i.At,n.i.Bt,n.i.kn,n.i.ln];n.i.fl=[];n.i.ma=function(a){n.i.isEnabled()&&(n.i.fl.length||setTimeout(n.i.hC,0),n.i.fl.push(a))};
n.i.hC=function(){for(var a=n.i.filter(n.i.fl,!0),b=n.i.fl.length=0,d;d=a[b];b++){var e=n.Sa.qo(d.Ub);if(e){var f=d;if(f.Gc)for(e.wj.push(f),e.Bm.length=0;e.wj.length>e.Yt&&0<=e.Yt;)e.wj.shift();for(var g=0;d=e.td[g];g++)d(f)}}};
n.i.filter=function(a,b){a=a.slice();b||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.yk()){var k=[g.type,g.xc,g.Ub].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==n.i.kl&&l.index==f-1)m.bj=g.bj,m.aj=g.aj,m.Ih=g.Ih,l.index=f;else if(g.type==n.i.Fj&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type!=n.i.ql||"click"!=g.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:g,
index:1},d.push(g)}a=d.filter(function(p){return!p.yk()});b||a.reverse();for(f=1;g=a[f];f++)g.type==n.i.Fj&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};n.i.rB=function(){for(var a=0,b;b=n.i.fl[a];a++)b.Gc=!1};n.i.disable=function(){n.i.Xq++};n.i.enable=function(){n.i.Xq--};n.i.isEnabled=function(){return 0==n.i.Xq};n.i.Zb=function(){return n.i.Wl};n.i.fa=function(a){n.i.Wl="boolean"==typeof a?a?n.g.Hf():"":a};
n.i.nw=function(a){var b=[];a=Ca(a,!1);for(var d=0,e;e=a[d];d++)b[d]=e.id;return b};
n.i.pa=function(a){switch(a.type){case n.i.mn:var b=new n.i.Fe(null);break;case n.i.pn:b=new n.i.pf(null);break;case n.i.Fj:b=new n.i.Tg(null,"","","","");break;case n.i.kl:b=new n.i.mi(null);break;case n.i.Gu:b=new n.i.ie(null);break;case n.i.Hu:b=new n.i.Me(null);break;case n.i.Iu:b=new n.i.vf(null,"");break;case n.i.ql:b=new n.i.fc(null);break;case n.i.kn:b=new n.i.nf(null);break;case n.i.It:b=new n.i.di(null);break;case n.i.ln:b=new n.i.dg(null);break;case n.i.Jt:b=new n.i.Ee(null);break;default:throw Error("Unknown event type.");
}b.pa(a);b.Ub=(void 0).id;return b};n.i.UB=function(a){if(a.type==n.i.kl||a.type==n.i.mn){var b=n.Sa.qo(a.Ub);if(a=Ea(b,a.xc)){var d=a.getParent();if(d&&d.isEnabled())for(b=Ca(a,!1),a=0;d=b[a];a++)d.Ed(!0);else if((a.X||a.Y)&&!b.Fc()){do a.Ed(!1),a=u(a);while(a)}}}};
n.i.Abstract=function(){this.Ub=void 0;this.group=n.i.Wl;this.Gc=n.i.Gc};n.i.Abstract.prototype.Ua=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};n.i.Abstract.prototype.pa=function(a){this.group=a.group};n.i.Abstract.prototype.yk=function(){return!1};n.i.Abstract.prototype.run=function(){};function Fa(a){a=n.Sa.qo(a.Ub);if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};n.g.xml={};n.g.xml.Zz="https://developers.google.com/blockly/xml";n.g.xml.createElement=function(a){return document.createElementNS(n.g.xml.Zz,a)};n.g.xml.createTextNode=function(a){return document.createTextNode(a)};n.g.xml.ME=function(a){return(new DOMParser).parseFromString(a,"text/xml")};n.g.xml.Uc=function(a){return(new XMLSerializer).serializeToString(a)};n.i.lf=function(a){n.i.lf.A.constructor.call(this);this.xc=a.id;this.Ub=a.B.id};h(n.i.lf,n.i.Abstract);n.i.lf.prototype.Ua=function(){var a=n.i.lf.A.Ua.call(this);a.blockId=this.xc;return a};n.i.lf.prototype.pa=function(a){n.i.lf.A.Ua.call(this);this.xc=a.blockId};n.i.Tg=function(a,b,d,e,f){a&&(n.i.Tg.A.constructor.call(this,a),this.element=b,this.name=d,this.oldValue=e,this.newValue=f)};h(n.i.Tg,n.i.lf);n.i.mf=n.i.Tg;c=n.i.Tg.prototype;c.type=n.i.Fj;
c.Ua=function(){var a=n.i.Tg.A.Ua.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};c.pa=function(a){n.i.Tg.A.pa.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};c.yk=function(){return this.oldValue==this.newValue};
c.run=function(a){var b=Ea(Fa(this),this.xc);if(b)switch(b.af&&b.af.Ha(!1),a=a?this.newValue:this.oldValue,this.element){case "field":if(b=Ga(b,this.name)){var d=a,e=d;null!==e&&(void 0!==e&&(d=e),(e=b.Br())&&e.call(b,d));b.setValue(a)}else console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.Cm(a||null);break;case "collapsed":b.Th(a);break;case "disabled":b.Ed(!a);break;case "inline":b.Ok(a);break;case "mutation":d="";b.Dd&&(d=(d=b.Dd())&&n.S.Uc(d));b.tg&&(e=n.S.Ng(a||
"<mutation/>"),b.tg(e));n.i.ma(new n.i.Tg(b,"mutation",null,d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.xc)};n.i.Fe=function(a){a&&(n.i.Fe.A.constructor.call(this,a),this.xml=a.B.ha?n.S.zq(a):n.S.fh(a),this.Qi=n.i.nw(a))};h(n.i.Fe,n.i.lf);n.i.hn=n.i.Fe;n.i.Fe.prototype.type=n.i.mn;n.i.Fe.prototype.Ua=function(){var a=n.i.Fe.A.Ua.call(this);a.xml=n.S.Uc(this.xml);a.ids=this.Qi;return a};
n.i.Fe.prototype.pa=function(a){n.i.Fe.A.pa.call(this,a);this.xml=n.S.Ng(a.xml);this.Qi=a.ids};n.i.Fe.prototype.run=function(a){var b=Fa(this);if(a)a=n.g.xml.createElement("xml"),a.appendChild(this.xml),n.S.oh(a,b);else{a=0;for(var d;d=this.Qi[a];a++){var e=Ea(b,d);e?e.L(!1,!1):d==this.xc&&console.warn("Can't uncreate non-existent block: "+d)}}};
n.i.pf=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");n.i.pf.A.constructor.call(this,a);this.ts=a.B.ha?n.S.zq(a):n.S.fh(a);this.Qi=n.i.nw(a)}};h(n.i.pf,n.i.lf);n.i.Et=n.i.pf;n.i.pf.prototype.type=n.i.pn;n.i.pf.prototype.Ua=function(){var a=n.i.pf.A.Ua.call(this);a.ids=this.Qi;return a};n.i.pf.prototype.pa=function(a){n.i.pf.A.pa.call(this,a);this.Qi=a.ids};
n.i.pf.prototype.run=function(a){var b=Fa(this);if(a){a=0;for(var d;d=this.Qi[a];a++){var e=Ea(b,d);e?e.L(!1,!1):d==this.xc&&console.warn("Can't delete non-existent block: "+d)}}else a=n.g.xml.createElement("xml"),a.appendChild(this.ts),n.S.oh(a,b)};n.i.mi=function(a){a&&(n.i.mi.A.constructor.call(this,a),a=Ha(this),this.px=a.Ax,this.ox=a.Nw,this.qs=a.tv)};h(n.i.mi,n.i.lf);n.i.cl=n.i.mi;c=n.i.mi.prototype;c.type=n.i.kl;
c.Ua=function(){var a=n.i.mi.A.Ua.call(this);this.bj&&(a.newParentId=this.bj);this.aj&&(a.newInputName=this.aj);this.Ih&&(a.newCoordinate=Math.round(this.Ih.x)+","+Math.round(this.Ih.y));return a};c.pa=function(a){n.i.mi.A.pa.call(this,a);this.bj=a.newParentId;this.aj=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Ih=new n.g.T(Number(a[0]),Number(a[1])))};c.Gg=function(){var a=Ha(this);this.bj=a.Ax;this.aj=a.Nw;this.Ih=a.tv};
function Ha(a){var b=Ea(n.Sa.qo(a.Ub),a.xc);a={};var d=b.getParent();if(d){a.Ax=d.id;a:{for(var e=0,f;f=d.W[e];e++)if(f.connection&&w(f.connection)==b){b=f;break a}b=null}b&&(a.Nw=b.name)}else a.tv=b.Fa();return a}c.yk=function(){return this.px==this.bj&&this.ox==this.aj&&n.g.T.Qe(this.qs,this.Ih)};
c.run=function(a){var b=Fa(this),d=Ea(b,this.xc);if(d){var e=a?this.bj:this.px,f=a?this.aj:this.ox;a=a?this.Ih:this.qs;var g=null;if(e&&(g=Ea(b,e),!g)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&Ia(d);if(a)f=d.Fa(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.X||d.Y;if(f){if(b=Ja(g,f))var k=b.connection}else d.type==n.fe&&(k=g.ca);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.xc)};n.g.j={};n.g.j.aa="http://www.w3.org/2000/svg";n.g.j.sf="http://www.w3.org/1999/xhtml";n.g.j.ta="http://www.w3.org/1999/xlink";n.g.j.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};n.g.j.J=function(a,b,d){a=document.createElementNS(n.g.j.aa,a);for(var e in b)a.setAttribute(e,b[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
n.g.j.fb=function(a,b){var d=a.getAttribute("class")||"";if(-1!=(" "+d+" ").indexOf(" "+b+" "))return!1;d&&(d+=" ");a.setAttribute("class",d+b);return!0};n.g.j.Gb=function(a,b){var d=a.getAttribute("class");if(-1==(" "+d+" ").indexOf(" "+b+" "))return!1;d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=b||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class");return!0};n.g.j.Cw=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};
n.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};n.g.j.Si=function(a,b){var d=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");d?b.insertBefore(a,d):b.appendChild(a)};n.g.j.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&n.g.j.Node.DOCUMENT_POSITION_CONTAINED_BY)};n.g.j.Dm=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};n.eb={};n.eb.Zq=0;n.eb.co=null;n.eb.XB=function(a){var b=a.B,d=a.$();b.wb.play("delete");a=Ka(b,d);d=d.cloneNode(!0);d.VE=a.x;d.WE=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");x(b).appendChild(d);d.Uu=d.getBBox();n.eb.Vv(d,b.C,new Date,b.scale)};n.eb.Vv=function(a,b,d,e){var f=(new Date-d)/150;1<f?n.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.VE+(b?-1:1)*a.Uu.width*e/2*f)+","+(a.WE+a.Uu.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(n.eb.Vv,10,a,b,d,e))};
n.eb.zB=function(a){var b=a.B,d=b.scale;b.wb.play("click");if(!(1>d)){var e=Ka(b,a.$());a.X?(e.x+=(a.C?3:-3)*d,e.y+=13*d):a.Y&&(e.x+=(a.C?-23:23)*d,e.y+=3*d);a=n.g.j.J("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},x(b));n.eb.pv(a,new Date,d)}};n.eb.pv=function(a,b,d){var e=(new Date-b)/150;1<e?n.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,n.eb.Zq=setTimeout(n.eb.pv,10,a,b,d))};
n.eb.WB=function(a){a.B.wb.play("disconnect");if(!(1>a.B.scale)){var b=a.Db().height;b=Math.atan(10/b)/Math.PI*180;a.C||(b*=-1);n.eb.Uv(a.$(),b,new Date)}};n.eb.Uv=function(a,b,d){var e=(new Date-d)/200;1<e?a.qj="":(a.qj="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*b)+")",n.eb.co=a,n.eb.Zq=setTimeout(n.eb.Uv,10,a,b,d));a.setAttribute("transform",a.Pg+a.qj)};n.eb.$q=function(){if(n.eb.co){clearTimeout(n.eb.Zq);var a=n.eb.co;a.qj="";a.setAttribute("transform",a.Pg);n.eb.co=null}};n.i.gl=function(a){this.Ub=a.id;this.group=n.i.Wl;this.Gc=!1};h(n.i.gl,n.i.Abstract);n.i.gl.prototype.type=n.i.sz;n.i.gl.prototype.Ua=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Ub&&(a.workspaceId=this.Ub);return a};n.i.gl.prototype.pa=function(a){this.Ub=a.workspaceId;this.group=a.group};n.i.jg=function(a){n.i.jg.A.constructor.call(this);this.Zh=a.Ka();this.Ub=a.B.id};h(n.i.jg,n.i.Abstract);n.i.jg.prototype.Ua=function(){var a=n.i.jg.A.Ua.call(this);a.varId=this.Zh;return a};n.i.jg.prototype.pa=function(a){n.i.jg.A.Ua.call(this);this.Zh=a.varId};n.i.ie=function(a){a&&(n.i.ie.A.constructor.call(this,a),this.yj=a.type,this.xj=a.name)};h(n.i.ie,n.i.jg);n.i.ie.prototype.type=n.i.Gu;n.i.ie.prototype.Ua=function(){var a=n.i.ie.A.Ua.call(this);a.varType=this.yj;a.varName=this.xj;return a};
n.i.ie.prototype.pa=function(a){n.i.ie.A.pa.call(this,a);this.yj=a.varType;this.xj=a.varName};n.i.ie.prototype.run=function(a){var b=Fa(this);a?b.oe(this.xj,this.yj,this.Zh):b.Di(this.Zh)};n.i.Me=function(a){a&&(n.i.Me.A.constructor.call(this,a),this.yj=a.type,this.xj=a.name)};h(n.i.Me,n.i.jg);n.i.Me.prototype.type=n.i.Hu;n.i.Me.prototype.Ua=function(){var a=n.i.Me.A.Ua.call(this);a.varType=this.yj;a.varName=this.xj;return a};
n.i.Me.prototype.pa=function(a){n.i.Me.A.pa.call(this,a);this.yj=a.varType;this.xj=a.varName};n.i.Me.prototype.run=function(a){var b=Fa(this);a?b.Di(this.Zh):b.oe(this.xj,this.yj,this.Zh)};n.i.vf=function(a,b){a&&(n.i.vf.A.constructor.call(this,a),this.ss=a.name,this.ps=b)};h(n.i.vf,n.i.jg);n.i.vf.prototype.type=n.i.Iu;n.i.vf.prototype.Ua=function(){var a=n.i.vf.A.Ua.call(this);a.oldName=this.ss;a.newName=this.ps;return a};
n.i.vf.prototype.pa=function(a){n.i.vf.A.pa.call(this,a);this.ss=a.oldName;this.ps=a.newName};n.i.vf.prototype.run=function(a){var b=Fa(this);a?b.lj(this.Zh,this.ps):b.lj(this.Zh,this.ss)};n.S={};n.S.Bp=function(a,b){var d=n.g.xml.createElement("xml"),e=n.S.$E(n.ba.Qu(a));e.hasChildNodes()&&d.appendChild(e);var f=La(a,!0);e=0;for(var g;g=f[e];e++)d.appendChild(g.Um(b));a=y(a,!0);for(e=0;f=a[e];e++)d.appendChild(n.S.zq(f,b));return d};n.S.$E=function(a){for(var b=n.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=n.g.xml.createElement("variable");f.appendChild(n.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.Ka();b.appendChild(f)}return b};
n.S.zq=function(a,b){var d;a.B.C&&(d=a.B.Xc());b=n.S.fh(a,b);var e=a.Fa();b.setAttribute("x",Math.round(a.B.C?d-e.x:e.x));b.setAttribute("y",Math.round(e.y));return b};n.S.eC=function(a){var b=!1;a.name&&(a.hg?b=!0:a.Vg&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),b=!0));return b?(b=n.g.xml.createElement("field"),b.setAttribute("name",a.name),a.Tm(b)):null};
n.S.QA=function(a,b){for(var d=0,e;e=a.W[d];d++)for(var f=0,g;g=e.Ca[f];f++)(g=n.S.eC(g))&&b.appendChild(g)};
n.S.fh=function(a,b){var d=n.g.xml.createElement(a.bb?"shadow":"block");d.setAttribute("type",a.type);b||(d.id=a.id);if(a.Dd){var e=a.Dd();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}n.S.QA(a,d);var f=a.vo();f&&(e=n.g.xml.createElement("comment"),e.appendChild(n.g.xml.createTextNode(f)),"object"==typeof a.kb&&(e.setAttribute("pinned",a.kb.isVisible()),f=a.kb.Hi(),e.setAttribute("h",f.height),e.setAttribute("w",f.width)),d.appendChild(e));a.data&&(e=n.g.xml.createElement("data"),e.appendChild(n.g.xml.createTextNode(a.data)),
d.appendChild(e));f=0;for(var g;g=a.W[f];f++){var k,l=!0;if(g.type!=n.Ie){var m=w(g.connection);g.type==n.Oa?k=n.g.xml.createElement("value"):g.type==n.Ma&&(k=n.g.xml.createElement("statement"));e=g.connection.Xf;!e||m&&m.bb||k.appendChild(n.S.hv(e,b));m&&(k.appendChild(n.S.fh(m,b)),l=!1);k.setAttribute("name",g.name);l||d.appendChild(k)}}void 0!=a.Dg&&a.Dg!=a.hD&&d.setAttribute("inline",a.Dg);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Ec()||a.bb||
d.setAttribute("deletable",!1);a.mc()||a.bb||d.setAttribute("movable",!1);a.Yc()||d.setAttribute("editable",!1);if(f=u(a))k=n.g.xml.createElement("next"),k.appendChild(n.S.fh(f,b)),d.appendChild(k);e=a.ca&&a.ca.Xf;!e||f&&f.bb||k.appendChild(n.S.hv(e,b));return d};
n.S.hv=function(a,b){for(var d=a=a.cloneNode(!0),e;d;)if(b&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==n.g.j.Node.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&n.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==n.g.j.Node.TEXT_NODE&&""==e.data.trim()&&n.g.j.removeNode(e))}return a};n.S.Uc=function(a){return n.g.xml.Uc(a)};
n.S.bG=function(a){a=n.S.Uc(a).split("<");for(var b="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(b=b.substring(2));a[d]=b+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};n.S.Ng=function(a){var b=n.g.xml.ME(a);if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement};
n.S.YF=function(a,b){b.rc(!1);b.clear();a=n.S.oh(a,b);b.rc(!0);return a};
n.S.oh=function(a,b){if(a instanceof n.Sa){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;b.C&&(e=b.Xc());d=[];n.R.Km();var f=a.childNodes.length,g=n.i.Zb();g||n.i.fa(!0);b.rc&&b.rc(!1);var k=!0;try{for(var l=0;l<f;l++){var m=a.childNodes[l],p=m.nodeName.toLowerCase();if("block"==p||"shadow"==p&&!n.i.Gc){var r=n.S.fk(m,b);d.push(r.id);var t=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,v=m.hasAttribute("y")?parseInt(m.getAttribute("y"),
10):10;isNaN(t)||isNaN(v)||r.moveBy(b.C?e-t:t,v);k=!1}else{if("shadow"==p)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==p)b.ha?n.ja.Gi(m,b,e):n.le.Gi(m,b);else if("variables"==p){if(k)n.S.$B(m,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");k=!1}}}}finally{g||n.i.fa(!1),n.R.Mm()}b.rc&&b.rc(!0);n.i.ma(new n.i.gl(b));return d};
n.S.TF=function(a,b){if(b.hasOwnProperty("scale")){var d=n.s.ga;try{n.s.ga=0;var e=Ma(b)}finally{n.s.ga=d}}a=n.S.oh(a,b);if(e&&e.top!=e.bottom){d=e.bottom;var f=e.left;var g=Infinity,k=Infinity;for(e=0;e<a.length;e++){var l=Ea(b,a[e]).Fa();l.y<k&&(k=l.y);l.x<g&&(g=l.x)}d=d-k+n.s.si;f-=g;var m;b.C&&(m=b.Xc());for(e=0;e<a.length;e++)Ea(b,a[e]).moveBy(b.C?m-f:f,d)}return a};
n.S.fk=function(a,b){if(a instanceof n.Sa){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}n.i.disable();d=b.vg();try{var e=n.S.cr(a,b),f=Ca(e,!1);if(b.ha){Na(e,!0);for(var g=f.length-1;0<=g;g--)f[g].Bg();for(g=f.length-1;0<=g;g--)f[g].qa(!1);setTimeout(function(){e.B&&Na(e,!1)},1);Oa(e);Pa(b)}else for(g=f.length-1;0<=g;g--)f[g].Ri()}finally{n.i.enable()}if(n.i.isEnabled()){a=n.ba.kw(b,d);for(g=0;g<a.length;g++)n.i.ma(new n.i.ie(a[g]));n.i.ma(new n.i.hn(e))}return e};
n.S.$B=function(a,b){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==n.g.j.Node.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");b.oe(e.textContent,f,g)}};
n.S.cr=function(a,b){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=b.ep(e,f);var g=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=n.g.j.Node.TEXT_NODE){for(var l=g=null,m=0,p;p=k.childNodes[m];m++)p.nodeType==n.g.j.Node.ELEMENT_NODE&&("block"==p.nodeName.toLowerCase()?g=p:"shadow"==p.nodeName.toLowerCase()&&(l=p));!g&&l&&(g=l);m=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":d.tg&&(d.tg(k),
d.Bg&&d.Bg());break;case "comment":d.Cm(k.textContent);var r=k.getAttribute("pinned");r&&!d.rd&&setTimeout(function(){d.kb&&d.kb.Ha&&d.kb.Ha("true"==r)},1);g=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(g)&&!isNaN(k)&&d.kb&&d.kb.Ha&&d.kb.Sh(g,k);break;case "data":d.data=k.textContent;break;case "title":case "field":n.S.ZB(d,m,k);break;case "value":case "statement":k=Ja(d,m);if(!k){console.warn("Ignoring non-existent input "+m+" in block "+e);break}l&&(k.connection.Xf=
l);if(g)if(g=n.S.cr(g,b),g.X)k.connection.connect(g.X);else if(g.Y)k.connection.connect(g.Y);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.ca&&(d.ca.Xf=l);if(g){if(!d.ca)throw TypeError("Next statement does not exist.");if(d.ca.isConnected())throw TypeError("Next statement is already connected.");g=n.S.cr(g,b);if(!g.Y)throw TypeError("Next block does not have previous statement.");d.ca.connect(g.Y)}break;default:console.warn("Ignoring unknown tag: "+
k.nodeName)}}(f=a.getAttribute("inline"))&&d.Ok("true"==f);(f=a.getAttribute("disabled"))&&d.Ed("true"!=f&&"disabled"!=f);(f=a.getAttribute("deletable"))&&d.$s("true"==f);(f=a.getAttribute("movable"))&&d.oj("true"==f);(f=a.getAttribute("editable"))&&d.at("true"==f);(f=a.getAttribute("collapsed"))&&d.Th("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.wg(!1);for(f=0;b=a[f];f++)if(!b.bb)throw TypeError("Shadow block not allowed non-shadow child.");if(Qa(d).length)throw TypeError("Shadow blocks cannot have variable references.");
d.et(!0)}return d};n.S.ZB=function(a,b,d){var e=Ga(a,b);e?e.Gi(d):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};n.S.RB=function(a){for(var b=0,d;d=a.childNodes[b];b++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};n.g.global.Blockly||(n.g.global.Blockly={});n.g.global.Blockly.Xml||(n.g.global.Blockly.Xml={});n.g.global.Blockly.Xml.domToText=n.S.Uc;n.g.global.Blockly.Xml.domToWorkspace=n.S.oh;n.g.global.Blockly.Xml.textToDom=n.S.Ng;
n.g.global.Blockly.Xml.workspaceToDom=n.S.Bp;
n.Da=function(a,b){this.H=a;this.type=b;a.B.Bl&&(this.Pe=a.B.Bl[b],this.Sq=a.B.Bl[n.Pj[b]],this.Nr=!this.Pe)};n.Da.Jp=0;n.Da.su=1;n.Da.vu=2;n.Da.uu=3;n.Da.qu=4;n.Da.ru=5;n.Da.tu=6;c=n.Da.prototype;c.sa=null;c.mg=null;c.Xf=null;c.zb=0;c.Va=0;c.xh=!1;c.Pe=null;c.Sq=null;c.Nr=null;
c.Rn=function(a){var b=this,d=b.H,e=a.H;a.isConnected()&&a.disconnect();if(b.isConnected()){var f=w(b),g=b.Xf;b.Xf=null;if(f.bb)g=n.S.fh(f),f.L(),f=null;else if(b.type==n.Oa){if(!f.X)throw Error("Orphan block does not have an output connection.");var k=n.Da.Ww(e,f);k&&(f.X.connect(k),f=null)}else if(b.type==n.Ma){if(!f.Y)throw Error("Orphan block does not have a previous connection.");for(k=e;k.ca;){var l=u(k);if(l&&!l.bb)k=l;else{Ra(f.Y,k.ca)&&(k.ca.connect(f.Y),f=null);break}}}if(f&&(b.disconnect(),
n.i.Gc)){var m=n.i.Zb();setTimeout(function(){f.B&&!f.getParent()&&(n.i.fa(m),f.X?Sa(f.X,b):f.Y&&Sa(f.Y,b),n.i.fa(!1))},n.gn)}b.Xf=g}var p;n.i.isEnabled()&&(p=new n.i.cl(e));n.Da.yB(b,a);e.pj(d);p&&(p.Gg(),n.i.ma(p))};c.L=function(){if(this.isConnected()){this.Xf=null;var a=w(this);a.bb?a.L():Ia(a)}this.xh&&Ta(this.Pe,this)};function Ua(a){return a.type==n.Oa||a.type==n.Ma}c.isConnected=function(){return!!this.sa};
function Va(a,b){if(!b)return n.Da.uu;if(Ua(a))var d=a.H,e=b.H;else e=a.H,d=b.H;return d&&d==e?n.Da.su:b.type!=n.Pj[a.type]?n.Da.vu:d&&e&&d.B!==e.B?n.Da.ru:Ra(a,b)?d.bb&&!e.bb?n.Da.tu:n.Da.Jp:n.Da.qu}
c.No=function(a){if(a.H.Nf()||Va(this,a)!=n.Da.Jp)return!1;switch(a.type){case n.fe:return this.sa||-1!=n.Ll.indexOf(a)?a=!1:a.sa?(a=w(a),a=a.Nf()?!(a.Y&&w(a.Y)):!1):a=!0,a;case n.ee:if(a.isConnected()&&!w(a).Nf()||this.isConnected())return!1;break;case n.Oa:if(a.isConnected()&&!w(a).mc()&&!w(a).bb)return!1;break;case n.Ma:if(a.isConnected()&&!this.H.ca&&!w(a).bb&&w(a).ca)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=n.Ll.indexOf(a)?!1:!0};
c.connect=function(a){if(this.sa!=a){switch(Va(this,a)){case n.Da.Jp:break;case n.Da.su:throw Error("Attempted to connect a block to itself.");case n.Da.ru:throw Error("Blocks not on same workspace.");case n.Da.vu:throw Error("Attempt to connect incompatible types.");case n.Da.uu:throw Error("Target connection is null.");case n.Da.qu:throw Error("Connection checks failed. "+(this+" expected "+this.mg+", found "+a.mg));case n.Da.tu:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}var b=n.i.Zb();b||n.i.fa(!0);Ua(this)?this.Rn(a):a.Rn(this);b||n.i.fa(!1)}};n.Da.yB=function(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.sa=b;b.sa=a};n.Da.CE=function(a,b){for(var d=!1,e=0;e<a.W.length;e++){var f=a.W[e].connection;if(f&&f.type==n.Oa&&Ra(b.X,f)){if(d)return null;d=f}}return d};n.Da.Ww=function(a,b){for(var d;d=n.Da.CE(a,b);)if(a=w(d),!a||a.bb)return d;return null};c=n.Da.prototype;
c.disconnect=function(){var a=this.sa;if(!a)throw Error("Source connection not connected.");if(a.sa!=this)throw Error("Target connection not connected to source connection.");if(Ua(this)){var b=this.H;var d=a.H;a=this}else b=a.H,d=this.H;var e=n.i.Zb();e||n.i.fa(!0);this.Yq(b,d);a.Qs();e||n.i.fa(!1)};c.Yq=function(a,b){var d;n.i.isEnabled()&&(d=new n.i.cl(b));this.sa=this.sa.sa=null;b.pj(null);d&&(d.Gg(),n.i.ma(d))};
c.Qs=function(){var a=this.H,b=this.Xf;if(a.B&&b&&n.i.Gc)if(a=n.S.fk(b,a.B),a.X)this.connect(a.X);else if(a.Y)this.connect(a.Y);else throw Error("Child block does not have output or previous statement.");};function w(a){return a.isConnected()?a.sa.H:null}function Ra(a,b){if(!a.mg||!b.mg)return!0;for(var d=0;d<a.mg.length;d++)if(-1!=b.mg.indexOf(a.mg[d]))return!0;return!1}c.sx=function(){this.isConnected()&&!Ra(this,this.sa)&&Ia(Ua(this)?w(this):this.H)};
c.Mk=function(a){a?(Array.isArray(a)||(a=[a]),this.mg=a,this.sx()):this.mg=null};c.mx=function(){return[]};c.Kf=function(){for(var a=null,b=this.H,d=b.W,e=0;e<b.W.length;e++)if(d[e].connection===this){a=d[e];break}return a};
c.toString=function(){var a=this.H;if(a)if(a.X==this)var b="Output Connection of ";else if(a.Y==this)b="Previous Connection of ";else if(a.ca==this)b="Next Connection of ";else{b=null;for(var d=0,e;e=a.W[d];d++)if(e.connection==this){b=e;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return b+d};n.bh=function(a,b){n.bh.A.constructor.call(this,a,b);this.Eg=new n.g.T(0,0)};h(n.bh,n.Da);function Wa(a,b){var d=a.zb-b.zb;a=a.Va-b.Va;return Math.sqrt(d*d+a*a)}function Sa(a,b){if(!a.H.B.Fc()){var d=Xa(a.H);if(!d.rd){var e=!1;if(!d.mc()){d=Xa(b.H);if(!d.mc())return;b=a;e=!0}var f=n.selected==d;f||d.Xj();var g=b.zb+n.Ld+Math.floor(Math.random()*n.Hp)-a.zb,k=b.Va+n.Ld+Math.floor(Math.random()*n.Hp)-a.Va;e&&(k=-k);d.C&&(g=b.zb-n.Ld-Math.floor(Math.random()*n.Hp)-a.zb);d.moveBy(g,k);f||d.kj()}}}c=n.bh.prototype;
c.moveTo=function(a,b){this.xh&&Ta(this.Pe,this);this.zb=a;this.Va=b;this.Nr||Ya(this.Pe,this)};c.moveBy=function(a,b){this.moveTo(this.zb+a,this.Va+b)};function Za(a,b){a.moveTo(b.x+a.Eg.x,b.y+a.Eg.y)}function $a(a,b,d){a.Eg.x=b;a.Eg.y=d}function ab(a){var b=a.sa.zb-a.zb,d=a.sa.Va-a.Va;if(0!=b||0!=d){a=w(a);var e=a.$();if(!e)throw Error("block is not rendered.");e=n.g.Rd(e);a.$().setAttribute("transform","translate("+(e.x-b)+","+(e.y-d)+")");bb(a,-b,-d)}}
c.closest=function(a,b){var d=this.Sq;if(d.Ob.length){var e=this.Va,f=this.zb;this.zb=f+b.x;this.Va=e+b.y;var g=cb(d,this);b=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.Ob[m].Va-this.Va)<=a;)l=d.Ob[m],this.No(l,k)&&(b=l,k=Wa(l,this)),m--;for(;g<d.Ob.length&&Math.abs(d.Ob[g].Va-this.Va)<=a;)l=d.Ob[g],this.No(l,k)&&(b=l,k=Wa(l,this)),g++;this.zb=f;this.Va=e;a={connection:b,op:k}}else a={connection:null,op:a};return a};
c.Ve=function(){var a=this.type==n.Oa||this.type==n.ee?n.g.K.moveBy(0,-5)+n.g.K.$b("v",5)+n.m.w.ge.Lh+n.g.K.$b("v",5):n.g.K.moveBy(-5,0)+n.g.K.$b("h",5)+n.m.w.uc.fj+n.g.K.$b("h",5);var b=this.H.Fa();n.Da.Kw=n.g.j.J("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.zb-b.x)+","+(this.Va-b.y)+")"+(this.H.C?" scale(-1 1)":"")},this.H.$())};
function db(a){eb(a,!1);var b=[];if(a.type!=n.Oa&&a.type!=n.Ma)return b;if(a=w(a)){if(a.isCollapsed()){var d=[];a.X&&d.push(a.X);a.ca&&d.push(a.ca);a.Y&&d.push(a.Y)}else d=a.re(!0);for(var e=0;e<d.length;e++)b.push.apply(b,db(d[e]));b.length||(b[0]=a)}return b}function eb(a,b){(a.Nr=b)&&a.xh?Ta(a.Pe,a):b||a.xh||Ya(a.Pe,a)}c.No=function(a,b){return Wa(this,a)>b?!1:n.bh.A.No.call(this,a)};c.Yq=function(a,b){n.bh.A.Yq.call(this,a,b);a.ha&&a.qa();b.ha&&(Oa(b),b.qa())};
c.Qs=function(){var a=this.H,b=this.Xf;if(a.B&&b&&n.i.Gc){n.bh.A.Qs.call(this);b=w(this);if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.Bg();b.qa(!1);a.ha&&a.qa()}};c.mx=function(a){return fb(this.Sq,this,a)};c.Rn=function(a){n.bh.A.Rn.call(this,a);var b=this.H;a=a.H;b.ha&&Oa(b);a.ha&&Oa(a);b.ha&&a.ha&&(this.type==n.Ma||this.type==n.fe?a.qa():b.qa())};c.sx=function(){this.isConnected()&&!Ra(this,this.sa)&&(Ia(Ua(this)?w(this):this.H),this.H.nd())};
n.un=function(a){this.jf=n.selected=a;this.u=a.B;this.Xi=this.ds=null;this.hk=gb(this,this.jf);this.nc=this.mb=null;this.bg=!1;this.Yi=null;this.Pr=!1;this.tk=null;a=this.jf.re(!1);var b;a:{for(b=this.jf.ca;b;){var d=w(b);if(!d)break a;b=d.ca}b=null}b&&b!=this.jf.ca&&(a.push(b),this.ds=b,this.Xi=gb(this,b.H));this.wq=a};
n.un.prototype.L=function(){this.u=this.jf=null;this.wq.length=0;this.nc=this.mb=null;n.i.disable();try{this.hk&&(this.hk.L(),this.hk=null),this.Xi&&(this.Xi.L(),this.Xi=null)}finally{n.i.enable()}this.tk=null};
n.un.prototype.update=function(a,b){var d=this.mb&&this.nc?n.dz:n.Ld;for(var e=null,f=null,g=0;g<this.wq.length;g++){var k=this.wq[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.op)}e=(d={closest:e,local:f,op:d},!!d.closest)&&b!=n.Ot;if((this.bg=!!b&&!this.jf.getParent()&&this.jf.Ec()&&!e)||hb(this,d,a)){n.i.disable();d.closest?(a=this.mb!=d.closest,b=this.nc!=d.local,this.mb&&this.nc&&(a||b||this.bg)&&ib(this)):ib(this);this.nc=this.mb=this.Yi=null;if(!this.bg&&(a=d.closest,b=d.local,
a))if(a==this.mb||a.H.Nf())console.log("trying to connect to an insertion marker");else{this.mb=a;this.nc=b;a=this.mb;b=this.nc;if(b.type==n.ee)a=a.isConnected()&&!n.Da.Ww(this.jf,a.sa.H);else{a:{for(d=0;e=b.H.W[d];d++)if(e.connection&&e.connection.type==n.Ma){d=e.connection;break a}d=null}a=b==d?0:!this.jf.ca&&b.type==n.fe&&a.isConnected()}if(a)a=this.mb,b=this.nc,w(a)?(this.tk=w(a),jb(w(a),!0)):b.type==n.ee&&(this.tk=a.H,a.H.XC(a,!0)),this.Pr=!0;else{d=this.nc;a=this.mb;b=this.ds&&d==this.ds?this.Xi:
this.hk;a:{f=d.H;e=b.re(!0);f=f.re(!0);if(e.length!=f.length)throw Error("Connection lists did not match in length.");for(g=0;g<f.length;g++)if(f[g]==d){d=e[g];break a}d=null}if(d==this.Yi)throw Error("Made it to connectMarker_ even though the marker isn't changing");b.qa();b.ha=!0;b.$().setAttribute("visibility","visible");d.type!=n.Ma&&d.type!=n.Oa||b.moveBy(a.zb-d.zb,a.Va-d.Va);d.connect(a);this.Yi=d}this.mb&&this.mb.Ve()}n.i.enable()}};
function gb(a,b){var d=b.type;n.i.disable();try{var e=a.u.ep(d);e.ay(!0);e.Th(b.isCollapsed());if(b.Dd){var f=b.Dd();f&&e.tg(f)}for(a=0;a<b.W.length;a++){var g=b.W[a];for(d=0;d<g.Ca.length;d++){var k=g.Ca[d],l=k.getValue(),m=k.name,p=Ga(e,m);if(!p)throw Error('Field "'+m+'" not found.');p.setValue(l)}}e.Bg();e.$().setAttribute("visibility","hidden")}finally{n.i.enable()}return e}
function hb(a,b,d){var e=b.local,f=b.closest;b=b.op;if(e&&f){if(a.nc&&a.mb){if(a.mb==f&&a.nc==e)return!1;e=a.nc.zb+d.x-a.mb.zb;a=a.nc.Va+d.y-a.mb.Va;a=Math.sqrt(e*e+a*a);return!(f&&b>a-n.ez)}if(a.nc||a.mb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.nc||!a.mb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function ib(a){a.mb&&(n.g.j.removeNode(n.Da.Kw),delete n.Da.Kw);if(a.Pr){var b=a.mb;b.type!=n.Oa||b.isConnected()?jb(a.tk,!1):a.tk.XC(b,!1);a.tk=null;a.Pr=!1}else if(a.Yi)if(a.Yi){b=a.Yi;var d=b.H,e=d.ca,f=d.Y,g=d.X;g=b.type==n.Oa&&!(g&&g.sa);!(b!=e||f&&f.sa)||g?Ia(w(b),!1):b.type==n.Ma&&b!=e?(e=b.sa,Ia(e.H,!1),f=f?f.sa:null,Ia(d,!0),f&&f.connect(e)):Ia(d,!0);if(b.sa)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Yi=null;d.$().setAttribute("visibility",
"hidden")}else console.log("No insertion marker connection to disconnect")}n.un.prototype.lk=function(){var a=[];this.hk&&a.push(this.hk);this.Xi&&a.push(this.Xi);return a};n.ai=function(a,b){this.pb=a;this.u=b;this.Cf=new n.un(this.pb);this.Ci=null;this.bg=!1;this.Zf=this.pb.Fa();this.ho=n.ai.fD(a)};n.ai.prototype.L=function(){this.ec=this.u=this.pb=null;this.ho.length=0;this.Cf&&(this.Cf.L(),this.Cf=null)};n.ai.fD=function(a){var b=[];a=Ca(a,!1);for(var d=0,e;e=a[d];d++){e=kb(e);for(var f=0;f<e.length;f++)b.push({location:e[f].uk,icon:e[f]})}return b};
function lb(a,b,d){d=a.Ik(d);var e=n.g.T.sum(a.Zf,d);a.pb.bp(e);for(e=0;e<a.ho.length;e++){var f=a.ho[e];mb(f.icon,n.g.T.sum(f.location,d))}a.Ci=nb(a.u,b);a.Cf.update(d,a.Ci);a.bg=a.Cf.bg;b=a.u.Ic;a.bg?(a.pb.Em(!0),a.Ci==n.Np&&b&&ob(b,!0)):(a.pb.Em(!1),b&&ob(b,!1))}
function pb(a,b,d){lb(a,b,d);a.ho=[];n.R.Mm();n.eb.$q();b=a.Ik(d);d=n.g.T.sum(a.Zf,b);a.pb.lx(d);d=a.u.Ic;a.bg?(d&&setTimeout(d.close.bind(d),100),a.Ol(),a.pb.L(!1,!0)):d&&d.close();a.bg||(bb(a.pb,b.x,b.y),a.pb.Uh(!1),a.Ol(),a.Cf.mb?(b=a.Cf,b.mb&&(n.i.disable(),ib(b),n.i.enable(),b.nc.connect(b.mb),b.jf.ha&&(n.eb.zB((Ua(b.nc)?b.mb:b.nc).H),qb(Xa(b.jf))))):a.pb.qa(),rb(a.pb));a.u.rc(!0);(b=a.u.ia)&&n.g.j.Gb(b.jd,a.pb.Ec()?"blocklyToolboxDelete":"blocklyToolboxGrab");n.i.fa(!1)}
n.ai.prototype.Ol=function(){var a=new n.i.cl(this.pb);a.qs=this.Zf;a.Gg();n.i.ma(a)};n.ai.prototype.Ik=function(a){a=new n.g.T(a.x/this.u.scale,a.y/this.u.scale);this.u.Vi&&a.scale(1/this.u.options.ad.scale);return a};n.ai.prototype.lk=function(){return this.Cf&&this.Cf.lk?this.Cf.lk():[]};n.Touch={};n.Touch.nq="ontouchstart"in n.g.global||!!(n.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!n.g.global.navigator||!n.g.global.navigator.maxTouchPoints&&!n.g.global.navigator.msMaxTouchPoints);n.Touch.Vm=null;n.Touch.uf={};
n.g.global.PointerEvent?n.Touch.uf={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:n.Touch.nq&&(n.Touch.uf={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});n.Wo=0;
n.uD=function(a,b){n.Gh();a.changedTouches&&1!=a.changedTouches.length||(n.Wo=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&sb(b,a)},n.Oz))};n.Gh=function(){n.Wo&&(clearTimeout(n.Wo),n.Wo=0)};n.Touch.pg=function(){n.Touch.Vm=null};n.Touch.ht=function(a){return!n.Touch.lD(a)||n.Touch.oB(a)};
n.Touch.Eo=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};n.Touch.oB=function(a){var b=n.Touch.Eo(a);return void 0!==n.Touch.Vm&&null!==n.Touch.Vm?n.Touch.Vm==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(n.Touch.Vm=b,!0):!1};
n.Touch.yE=function(a){if(n.g.Xa.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};n.Touch.lD=function(a){return n.g.Xa.startsWith(a.type,"touch")||n.g.Xa.startsWith(a.type,"mouse")||n.g.Xa.startsWith(a.type,"pointer")};n.Touch.To=function(a){return n.g.Xa.startsWith(a.type,"touch")||n.g.Xa.startsWith(a.type,"pointer")};
n.Touch.EE=function(a){var b=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)b[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};n.g.we={};n.g.we.Sm=function(a){return a*Math.PI/180};n.g.we.QE=function(a){return 180*a/Math.PI};n.g.we.Fq=function(a,b,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(b,d))};n.el=function(a){this.xb=null;this.xk=!!a};c=n.el.prototype;c.types={eg:"field",De:"block",Yg:"input",oi:"output",fg:"next",pi:"previous",Le:"stack",kg:"workspace"};function tb(a,b){a.xb=b;a.Fy()}c.Fy=function(){};c.next=function(){var a=this.xb;if(!a)return null;(a=a.next())&&a.fd===n.G.types.fg&&(a=a.next()||a);a&&tb(this,a);return a};c.em=function(){var a=this.xb;if(!a)return null;(a=a.em())&&a.fd===n.G.types.oi&&(a=a.next()||a);a&&tb(this,a);return a};
c.Jk=function(){var a=this.xb;if(!a)return null;(a=a.Jk())&&a.fd===n.G.types.fg&&(a=a.Jk()||a);a&&tb(this,a);return a};c.xm=function(){var a=this.xb;if(!a)return null;(a=a.xm())&&tb(this,a);return a};n.EA=function(){var a=n.eh.bi.hB;this.cB=n.eh.bi.LB;this.iB=a};n.eh={};n.eh.bi={};n.eh.bi.LB={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
n.eh.bi.hB={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};n.eh.bi=new n.EA;n.pq=function(a){this.La=Object.create(null);this.B=a};c=n.pq.prototype;c.clear=function(){this.La=Object.create(null)};c.Ls=function(a,b){var d=this.Te(b,a.type),e=ub(this.B,!1);n.i.fa(!0);try{if(d&&d.Ka()!=a.Ka()){var f=a.type;b!=d.name&&vb(d,b,e);for(b=0;b<e.length;b++)for(var g=void 0,k=e[b],l=a.Ka(),m=d.Ka(),p=0;g=k.W[p];p++)for(var r=0,t;t=g.Ca[r];r++)t.pp()&&l==t.getValue()&&t.setValue(m);n.i.ma(new n.i.Me(a));this.La[f].splice(this.Vl(f).indexOf(a),1)}else vb(a,b,e)}finally{n.i.fa(!1)}};
c.lj=function(a,b){var d=this.zg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.Ls(d,b)};function vb(a,b,d){n.i.ma(new n.i.vf(a,b));a.name=b;for(b=0;b<d.length;b++)for(var e,f=d[b],g=a,k=0;e=f.W[k];k++)for(var l=0,m;m=e.Ca[l];l++)m.pp()&&g.Ka()==m.getValue()&&(m.xa=m.gd.name,wb(m))}
c.oe=function(a,b,d){var e=this.Te(a,b);if(e){if(d&&e.Ka()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.Ka()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.zg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||n.g.Hf();b=b||"";e=new n.Uj(this.B,a,b,e);a=this.La[b]||[];a.push(e);delete this.La[b];this.La[b]=a;return e};
c.Di=function(a){var b=this.zg(a);if(b){var d=b.name,e=this.Dr(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=xb(f,"NAME");d=n.h.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);n.alert(d);return}var g=this;1<e.length?(d=n.h.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),n.confirm(d,function(k){k&&g.$n(b,e)})):g.$n(b,e)}else console.warn("Can't delete non-existent variable: "+a)};
c.$n=function(a,b){var d=n.i.Zb();d||n.i.fa(!0);try{for(var e=0;e<b.length;e++)b[e].L(!0,!1);var f=this.La[a.type];b=0;for(var g;g=f[b];b++)if(g.Ka()==a.Ka()){f.splice(b,1);n.i.ma(new n.i.Me(a));break}}finally{d||n.i.fa(!1)}};c.Te=function(a,b){if(b=this.La[b||""])for(var d=0,e;e=b[d];d++)if(n.Je.Qe(e.name,a))return e;return null};c.zg=function(a){for(var b=Object.keys(this.La),d=0;d<b.length;d++)for(var e=b[d],f=0,g;g=this.La[e][f];f++)if(g.Ka()==a)return g;return null};
c.Vl=function(a){return(a=this.La[a||""])?a.slice():[]};c.Cr=function(a){var b=[];a&&a.Mh&&(b=Object.keys(a.Mh.La));a=Object.keys(this.La).concat(b);b=!1;for(var d=0;d<a.length;d++)""==a[d]&&(b=!0);b||a.push("");return a};c.vg=function(){var a=[],b;for(b in this.La)a=a.concat(this.La[b]);return a};c.Dr=function(a){for(var b=[],d=ub(this.B,!1),e=0;e<d.length;e++){var f=Qa(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].Ka()==a&&b.push(d[e])}return b};n.i.ci=function(a){this.xf=a.id;this.Ub=a.B.id;this.group=n.i.Wl;this.Gc=n.i.Gc};h(n.i.ci,n.i.Abstract);n.i.ci.prototype.Ua=function(){var a={type:this.type};this.group&&(a.group=this.group);this.xf&&(a.commentId=this.xf);return a};n.i.ci.prototype.pa=function(a){this.xf=a.commentId;this.group=a.group};n.i.di=function(a,b,d){a&&(n.i.di.A.constructor.call(this,a),this.nx=b,this.fp=d)};h(n.i.di,n.i.ci);c=n.i.di.prototype;c.type=n.i.It;
c.Ua=function(){var a=n.i.di.A.Ua.call(this);a.newContents=this.fp;return a};c.pa=function(a){n.i.di.A.pa.call(this,a);this.fp=a.newValue};c.yk=function(){return this.nx==this.fp};c.run=function(a){var b=yb(Fa(this),this.xf);b?b.Uf(a?this.fp:this.nx):console.warn("Can't change non-existent comment: "+this.xf)};n.i.nf=function(a){a&&(n.i.nf.A.constructor.call(this,a),this.xml=a.Um())};h(n.i.nf,n.i.ci);n.i.nf.prototype.type=n.i.kn;
n.i.nf.prototype.Ua=function(){var a=n.i.nf.A.Ua.call(this);a.xml=n.S.Uc(this.xml);return a};n.i.nf.prototype.pa=function(a){n.i.nf.A.pa.call(this,a);this.xml=n.S.Ng(a.xml)};n.i.nf.prototype.run=function(a){n.i.Lt(this,a)};n.i.Lt=function(a,b){var d=Fa(a);b?(b=n.g.xml.createElement("xml"),b.appendChild(a.xml),n.S.oh(b,d)):(d=yb(d,a.xf))?d.L(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.xf)};n.i.Ee=function(a){a&&(n.i.Ee.A.constructor.call(this,a),this.xml=a.Um())};h(n.i.Ee,n.i.ci);
n.i.Ee.prototype.type=n.i.Jt;n.i.Ee.prototype.Ua=function(){return n.i.Ee.A.Ua.call(this)};n.i.Ee.prototype.pa=function(a){n.i.Ee.A.pa.call(this,a)};n.i.Ee.prototype.run=function(a){n.i.Lt(this,!a)};n.i.dg=function(a){a&&(n.i.dg.A.constructor.call(this,a),this.Jq=a,this.rs=zb(a),this.$i=null)};h(n.i.dg,n.i.ci);c=n.i.dg.prototype;c.Gg=function(){if(!this.Jq)throw Error("Tried to record the new position of a comment on the same event twice.");this.$i=zb(this.Jq);this.Jq=null};c.type=n.i.ln;
c.Ua=function(){var a=n.i.dg.A.Ua.call(this);this.$i&&(a.newCoordinate=Math.round(this.$i.x)+","+Math.round(this.$i.y));return a};c.pa=function(a){n.i.dg.A.pa.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.$i=new n.g.T(Number(a[0]),Number(a[1])))};c.yk=function(){return n.g.T.Qe(this.rs,this.$i)};c.run=function(a){var b=yb(Fa(this),this.xf);if(b){a=a?this.$i:this.rs;var d=zb(b);b.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.xf)};n.le=function(a,b,d,e,f){this.id=f&&!yb(a,f)?f:n.g.Hf();a.Tk.push(this);a.Pn[this.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+this.id+'"');a.Pn[this.id]=this;this.Ce=new n.g.T(0,0);this.Pa=d;this.va=e;this.B=a;this.C=a.C;this.um=this.Jl=!0;this.ic=b;this.Zr=!0;n.le.lr(this)};c=n.le.prototype;
c.L=function(){if(this.B){n.i.isEnabled()&&n.i.ma(new n.i.Ee(this));var a=this.B;if(!n.g.vl(a.Tk,this))throw Error("Comment not present in workspace's list of top-most comments.");delete a.Pn[this.id];this.B=null}};c.kk=function(){return this.Pa};c.Xc=function(){return this.va};function zb(a){return new n.g.T(a.Ce.x,a.Ce.y)}c.moveBy=function(a,b){var d=new n.i.dg(this);this.Ce.translate(a,b);d.Gg();n.i.ma(d)};c.Ec=function(){return this.Jl&&!(this.B&&this.B.options.readOnly)};
c.$s=function(a){this.Jl=a};c.mc=function(){return this.um&&!(this.B&&this.B.options.readOnly)};c.oj=function(a){this.um=a};c.rh=function(){return this.ic};c.Uf=function(a){this.ic!=a&&(n.i.ma(new n.i.di(this,this.ic,a)),this.ic=a)};c.Um=function(a){a=this.Tm(a);a.setAttribute("x",Math.round(this.Ce.x));a.setAttribute("y",Math.round(this.Ce.y));a.setAttribute("h",this.Pa);a.setAttribute("w",this.va);return a};
c.Tm=function(a){var b=n.g.xml.createElement("comment");a||(b.id=this.id);b.textContent=this.rh();return b};n.le.lr=function(a){if(n.i.isEnabled()){var b=n.i.Zb();b||n.i.fa(!0);try{n.i.ma(new n.i.nf(a))}finally{b||n.i.fa(!1)}}};n.le.Gi=function(a,b){var d=n.le.Bx(a);b=new n.le(b,d.content,d.zw,d.Ky,d.id);d=parseInt(a.getAttribute("x"),10);a=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(a)||b.moveBy(d,a);n.le.lr(b);return b};
n.le.Bx=function(a){var b=a.getAttribute("h"),d=a.getAttribute("w");return{id:a.getAttribute("id"),zw:b?parseInt(b,10):100,Ky:d?parseInt(d,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};n.Sa=function(a){this.id=n.g.Hf();n.Sa.rl[this.id]=this;this.options=a||{};this.C=!!this.options.C;this.Ad=!!this.options.Ad;this.ua=this.options.ua;this.Sk=[];this.Tk=[];this.Pn=Object.create(null);this.td=[];this.wj=[];this.Bm=[];this.yq=Object.create(null);this.Qg=Object.create(null);this.La=new n.pq(this);this.Mh=null;this.cursor=this.uv();this.Xo=this.vv();n.Do()||n.gy(n.eh.bi)};c=n.Sa.prototype;c.ha=!1;c.Yr=!1;c.Yt=1024;c.Bl=null;c.uv=function(){return new n.el};c.vv=function(){return new n.el(!0)};
c.L=function(){this.td.length=0;this.clear();delete n.Sa.rl[this.id]};n.Sa.xu=3;c=n.Sa.prototype;c.Yf=function(a,b){a=a.Fa();b=b.Fa();return a.y+n.Sa.prototype.Yf.offset*a.x-(b.y+n.Sa.prototype.Yf.offset*b.x)};function Ab(a,b){if(!n.g.vl(a.Sk,b))throw Error("Block not present in workspace's list of top-most blocks.");}function y(a,b){var d=[].concat(a.Sk);b&&1<d.length&&(a.Yf.offset=Math.sin(n.g.we.Sm(n.Sa.xu)),a.C&&(a.Yf.offset*=-1),d.sort(a.Yf));return d}
function La(a,b){var d=[].concat(a.Tk);b&&1<d.length&&(a.Yf.offset=Math.sin(n.g.we.Sm(n.Sa.xu)),a.C&&(a.Yf.offset*=-1),d.sort(a.Yf));return d}function ub(a,b){if(b){a=y(a,!0);b=[];for(var d=0;d<a.length;d++)b.push.apply(b,Ca(a[d],!0))}else for(b=y(a,!1),d=0;d<b.length;d++)b.push.apply(b,b[d].wg(!1));return b.filter(function(e){return!e.Nf()})}
c.clear=function(){this.Yr=!0;try{var a=n.i.Zb();for(a||n.i.fa(!0);this.Sk.length;)this.Sk[0].L();for(;this.Tk.length;)this.Tk[this.Tk.length-1].L();a||n.i.fa(!1);this.La.clear();this.Mh&&this.Mh.clear()}finally{this.Yr=!1}};c.lj=function(a,b){this.La.lj(a,b)};c.oe=function(a,b,d){return this.La.oe(a,b,d)};c.Dr=function(a){return this.La.Dr(a)};c.Di=function(a){this.La.Di(a)};c.$n=function(a,b){this.La.$n(a,b)};c.Te=function(a,b){return this.La.Te(a,b)};c.zg=function(a){return this.La.zg(a)};
c.Vl=function(a){return this.La.Vl(a)};c.Cr=function(){return this.La.Cr(this)};c.vg=function(){return this.La.vg()};c.Xc=function(){return 0};c.ep=function(a,b){return new n.bl(this,a,b)};function Bb(a){return isNaN(a.options.ms)?Infinity:a.options.ms-ub(a).length}function Cb(a,b){if(!Db(a))return!0;var d=0,e;for(e in b){var f=b[e];if(a.options.ns){var g=a.options.ns[e]||Infinity;var k=a.Qg[e]?a.Qg[e].slice(0):[];g-=k.length}else g=Infinity;if(f>g)return!1;d+=b[e]}return d>Bb(a)?!1:!0}
function Db(a){return Infinity!=a.options.ms||!!a.options.ns}c.rt=function(a){var b=a?this.Bm:this.wj,d=a?this.wj:this.Bm,e=b.pop();if(e){for(var f=[e];b.length&&e.group&&e.group==b[b.length-1].group;)f.push(b.pop());for(b=0;e=f[b];b++)d.push(e);f=n.i.filter(f,a);n.i.Gc=!1;try{for(b=0;e=f[b];b++)e.run(a)}finally{n.i.Gc=!0}}};c.fv=function(){this.wj.length=0;this.Bm.length=0;n.i.rB()};c.Pc=function(a){this.td.push(a);return a};c.jj=function(a){n.g.vl(this.td,a)};
function Ea(a,b){return a.yq[b]||null}function yb(a,b){return a.Pn[b]||null}n.Sa.rl=Object.create(null);n.Sa.qo=function(a){return n.Sa.rl[a]||null};n.Sa.getAll=function(){var a=[],b;for(b in n.Sa.rl)a.push(n.Sa.rl[b]);return a};n.Sa.prototype.clear=n.Sa.prototype.clear;n.Sa.prototype.clearUndo=n.Sa.prototype.fv;n.Sa.prototype.addChangeListener=n.Sa.prototype.Pc;n.Sa.prototype.removeChangeListener=n.Sa.prototype.jj;n.la=function(a,b,d,e,f,g){this.u=a;this.ic=b;this.hy=d;d=n.la.Ty;this.u.C&&(d=-d);this.VA=n.g.we.Sm(d);a.ae.appendChild(this.Fl(b,!(!f||!g)));this.Mb=e;this.mj&&Eb(this);f&&g||(b=this.ic.getBBox(),f=b.width+2*n.la.Lc,g=b.height+2*n.la.Lc);this.Sh(f,g);Eb(this);Fb(this);this.mj=!0;a.options.readOnly||(n.ea(this.xl,"mousedown",this,this.dB),this.cc&&n.ea(this.cc,"mousedown",this,this.Ns))};n.la.Lc=6;n.la.Uy=5;n.la.Ty=20;n.la.xt=4;n.la.Sy=8;n.la.$c=null;n.la.xe=null;n.la.prototype.Ms=null;
n.la.Wk=function(){n.la.$c&&(n.gb(n.la.$c),n.la.$c=null);n.la.xe&&(n.gb(n.la.xe),n.la.xe=null)};n.la.eB=function(){n.Touch.pg();n.la.Wk()};c=n.la.prototype;c.mj=!1;c.Mb=null;c.Hg=0;c.Oh=0;c.va=0;c.Pa=0;c.In=!0;
c.Fl=function(a,b){this.Od=n.g.j.J("g",{},null);var d={filter:"url(#"+this.u.options.bw+")"};n.g.userAgent.Mz&&(d={});d=n.g.j.J("g",d,this.Od);this.Cq=n.g.j.J("path",{},d);this.xl=n.g.j.J("rect",{"class":"blocklyDraggable",x:0,y:0,rx:n.la.Lc,ry:n.la.Lc},d);b?(this.cc=n.g.j.J("g",{"class":this.u.C?"blocklyResizeSW":"blocklyResizeSE"},this.Od),b=2*n.la.Lc,n.g.j.J("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.cc),n.g.j.J("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/
3},this.cc),n.g.j.J("line",{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.cc)):this.cc=null;this.Od.appendChild(a);return this.Od};c.$=function(){return this.Od};function Gb(a,b){a.Od.dataset&&(a.Od.dataset.xc=b)}c.dB=function(a){var b=this.u.Jf(a);b&&Hb(b,a,this)};c.Pk=function(){};c.Ec=function(){return!1};
c.Ns=function(a){Ib(this);n.la.Wk();n.g.Dh(a)||(this.u.vp(a,new n.g.T(this.u.C?-this.va:this.va,this.Pa)),n.la.$c=n.ea(document,"mouseup",this,n.la.eB),n.la.xe=n.ea(document,"mousemove",this,this.Os),n.lc());a.stopPropagation()};c.Os=function(a){this.In=!1;a=Jb(this.u,a);this.Sh(this.u.C?-a.x:a.x,a.y);this.u.C&&Eb(this)};function Ib(a){var b=a.Od.parentNode;return b.lastChild!==a.Od?(b.appendChild(a.Od),!0):!1}
function Kb(a,b,d){var e=a.u.C?a.Mb.x-b.x-a.va:b.x+a.Mb.x;b=b.y+a.Mb.y;return Math.max(0,Math.min(1,(Math.min(e+a.va,d.vb+d.Ya)-Math.max(e,d.vb))*(Math.min(b+a.Pa,d.Jb+d.cb)-Math.max(b,d.Jb))/(a.va*a.Pa)))}function Eb(a){var b=a.Mb.x;b=a.u.C?b-(a.Hg+a.va):b+a.Hg;a.moveTo(b,a.Oh+a.Mb.y)}c.moveTo=function(a,b){this.Od.setAttribute("transform","translate("+a+","+b+")")};c.Hi=function(){return{width:this.va,height:this.Pa}};
c.Sh=function(a,b){var d=2*n.la.Lc;a=Math.max(a,d+45);b=Math.max(b,d+20);this.va=a;this.Pa=b;this.xl.setAttribute("width",a);this.xl.setAttribute("height",b);this.cc&&(this.u.C?this.cc.setAttribute("transform","translate("+2*n.la.Lc+","+(b-d)+") scale(-1 1)"):this.cc.setAttribute("transform","translate("+(a-d)+","+(b-d)+")"));if(this.mj){if(this.In){a=this.u.Eb();a.vb/=this.u.scale;a.Ya/=this.u.scale;a.Jb/=this.u.scale;a.cb/=this.u.scale;b=-this.va/4;if(!(this.va>a.Ya)){if(this.u.C){d=this.Mb.x-b;
var e=d-this.va;var f=a.vb+a.Ya,g=a.vb+n.Ba.Qb/this.u.scale}else e=b+this.Mb.x,d=e+this.va,g=a.vb,f=a.vb+a.Ya-n.Ba.Qb/this.u.scale;this.u.C?e<g?b=-(g-this.Mb.x+this.va):d>f&&(b=-(f-this.Mb.x)):e<g?b=g-this.Mb.x:d>f&&(b=f-this.Mb.x-this.va)}e=b;b=-this.Pa/4;if(!(this.Pa>a.cb)){d=this.Mb.y+b;f=d+this.Pa;g=a.Jb;var k=a.Jb+a.cb-n.Ba.Qb/this.u.scale,l=this.Mb.y;d<g?b=g-l:f>k&&(b=k-l-this.Pa)}g=b;f=this.hy.getBBox();b={x:e,y:-this.Pa-n.s.jl};d={x:-this.va-30,y:g};g={x:f.width,y:g};k={x:e,y:f.height};e=
f.width<f.height?g:k;f=f.width<f.height?k:g;g=Kb(this,b,a);k=Kb(this,d,a);l=Kb(this,e,a);a=Math.max(g,k,l,Kb(this,f,a));g==a?(this.Hg=b.x,this.Oh=b.y):k==a?(this.Hg=d.x,this.Oh=d.y):l==a?(this.Hg=e.x,this.Oh=e.y):(this.Hg=f.x,this.Oh=f.y)}Eb(this);Fb(this)}this.Ms&&this.Ms()};
function Fb(a){var b=[],d=a.va/2,e=a.Pa/2,f=-a.Hg,g=-a.Oh;if(d==f&&e==g)b.push("M "+d+","+e);else{g-=e;f-=d;a.u.C&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var p=Math.sin(m),r=Math.cos(m),t=a.Hi();m=(t.width+t.height)/n.la.Uy;m=Math.min(m,t.width,t.height)/4;t=1-n.la.Sy/k;f=d+t*f;g=e+t*g;t=d+m*r;var v=e+m*p;d-=m*r;e-=m*p;p=l+a.VA;p>2*Math.PI&&(p-=2*Math.PI);l=Math.sin(p)*k/n.la.xt;k=Math.cos(p)*k/n.la.xt;b.push("M"+t+","+
v);b.push("C"+(t+k)+","+(v+l)+" "+f+","+g+" "+f+","+g);b.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}b.push("z");a.Cq.setAttribute("d",b.join(" "))}c.dc=function(a){this.xl.setAttribute("fill",a);this.Cq.setAttribute("fill",a)};c.L=function(){n.la.Wk();n.g.j.removeNode(this.Od);this.hy=this.ic=this.u=this.cc=this.xl=this.Cq=this.Od=null};c.bp=function(a,b){a?a.Og(b.x,b.y):this.moveTo(b.x,b.y);this.Hg=this.u.C?this.Mb.x-b.x-this.va:b.x-this.Mb.x;this.Oh=b.y-this.Mb.y;Fb(this)};
c.Fa=function(){return new n.g.T(this.Mb.x+this.Hg,this.Mb.y+this.Oh)};c.Xx=function(a){this.In=a};n.i.fc=function(a,b,d,e){n.i.fc.A.constructor.call(this);this.xc=a?a.id:null;this.Ub=a?a.B.id:null;this.element=b;this.oldValue=d;this.newValue=e;this.Gc=!1};h(n.i.fc,n.i.Abstract);n.i.fc.prototype.type=n.i.ql;n.i.fc.prototype.Ua=function(){var a=n.i.fc.A.Ua.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.xc&&(a.blockId=this.xc);return a};n.i.fc.prototype.pa=function(a){n.i.fc.A.pa.call(this,a);this.element=a.element;this.newValue=a.newValue;this.xc=a.blockId};n.g.Rect=function(a,b,d,e){this.top=a;this.bottom=b;this.left=d;this.right=e};n.g.Rect.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};n.ja=function(a,b,d,e,f){this.D=n.g.j.J("g",{"class":"blocklyComment"},null);this.D.Pg="";this.Qm=n.g.j.J("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:n.ja.dn,ry:n.ja.dn});this.D.appendChild(this.Qm);this.mj=!1;this.ag=n.g.Ah()&&!!a.Nb;n.ja.A.constructor.call(this,a,b,d,e,f);this.qa()};h(n.ja,n.le);n.ja.Mt=100;c=n.ja.prototype;
c.L=function(){if(this.B){if(n.selected==this){this.Ae();var a=this.B;a.Pb&&a.Pb.cancel()}n.i.isEnabled()&&n.i.ma(new n.i.Ee(this));n.g.j.removeNode(this.D);this.tj=this.Xh=this.Pd=this.Ib=this.Qm=this.D=null;this.sg=!0;n.i.disable();n.ja.A.L.call(this);n.i.enable()}};c.Bg=function(){if(!this.B.ha)throw TypeError("Workspace is headless.");this.B.options.readOnly||this.jr||(n.ea(this.Xh,"mousedown",this,this.Dx),n.ea(this.tj,"mousedown",this,this.Dx));this.jr=!0;Lb(this);this.$().parentNode||this.B.ae.appendChild(this.$())};
c.Dx=function(a){var b=this.B.Jf(a);b&&Hb(b,a,this)};c.Pk=function(a){if(!this.B.options.readOnly){var b=[];this.Ec()&&this.mc()&&(b.push(n.ya.uB(this)),b.push(n.ya.tB(this)));n.ya.show(a,b,this.C)}};c.select=function(){if(n.selected!=this){var a=null;if(n.selected){a=n.selected.id;n.i.disable();try{n.selected.Ae()}finally{n.i.enable()}}a=new n.i.fc(null,"selected",a,this.id);a.Ub=this.B.id;n.i.ma(a);n.selected=this;this.Xj()}};
c.Ae=function(){if(n.selected==this){var a=new n.i.fc(null,"selected",this.id,null);a.Ub=this.B.id;n.i.ma(a);n.selected=null;this.kj();Mb(this)}};c.Xj=function(){n.g.j.fb(this.D,"blocklySelected");this.bt()};c.kj=function(){n.g.j.Gb(this.D,"blocklySelected");Mb(this)};
c.Fa=function(){var a=0,b=0,d=this.ag?this.B.Nb.Zb():null,e=this.$();if(e){do{var f=n.g.Rd(e);a+=f.x;b+=f.y;this.ag&&this.B.Nb.pe.firstChild==e&&(f=this.B.Nb.Co(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.B.ae&&e!=d)}return this.Ce=new n.g.T(a,b)};c.moveBy=function(a,b){var d=new n.i.dg(this),e=this.Fa();this.translate(e.x+a,e.y+b);this.Ce=new n.g.T(e.x+a,e.y+b);d.Gg();n.i.ma(d);Pa(this.B)};
c.translate=function(a,b){this.Ce=new n.g.T(a,b);this.$().setAttribute("transform","translate("+a+","+b+")")};c.cp=function(){if(this.ag){var a=this.Fa();this.$().removeAttribute("transform");this.B.Nb.Og(a.x,a.y);Nb(this.B.Nb,this.$())}};c.lx=function(a){this.ag&&(this.translate(a.x,a.y),this.B.Nb.zl(this.B.ab))};c.bp=function(a,b){a?a.Og(b.x,b.y):(this.D.Pg="translate("+b.x+","+b.y+")",this.D.setAttribute("transform",this.D.Pg+this.D.qj))};c.moveTo=function(a,b){this.translate(a,b)};
c.po=function(){var a=this.Fa(),b=this.Db(),d=a.y,e=a.y+b.height;if(this.C){var f=a.x-b.width;a=a.x}else f=a.x,a=a.x+b.width;return new n.g.Rect(d,e,f,a)};function Lb(a){a.mc()?n.g.j.fb(a.D,"blocklyDraggable"):n.g.j.Gb(a.D,"blocklyDraggable")}c.oj=function(a){n.ja.A.oj.call(this,a);Lb(this)};c.Uh=function(a){a?(a=this.$(),a.Pg="",a.qj="",n.g.j.fb(this.D,"blocklyDragging")):n.g.j.Gb(this.D,"blocklyDragging")};c.$=function(){return this.D};c.rh=function(){return this.Ib?this.Ib.value:this.ic};
c.Uf=function(a){n.ja.A.Uf.call(this,a);this.Ib&&(this.Ib.value=a)};c.Em=function(a){a?n.g.j.fb(this.D,"blocklyDraggingDelete"):n.g.j.Gb(this.D,"blocklyDraggingDelete")};c.Xx=function(){};n.ja.Gi=function(a,b,d){n.i.disable();try{var e=n.le.Bx(a),f=new n.ja(b,e.content,e.zw,e.Ky,e.id);b.ha&&(f.Bg(),f.qa(!1));if(!isNaN(e.x)&&!isNaN(e.y))if(b.C){var g=d||b.Xc();f.moveBy(g-e.x,e.y)}else f.moveBy(e.x,e.y)}finally{n.i.enable()}n.le.lr(f);return f};
n.ja.prototype.Um=function(a){var b;this.B.C&&(b=this.B.Xc());a=this.Tm(a);var d=this.Fa();a.setAttribute("x",Math.round(this.B.C?b-d.x:d.x));a.setAttribute("y",Math.round(d.y));a.setAttribute("h",this.kk());a.setAttribute("w",this.Xc());return a};n.dl=function(a,b){this.Yb=a;this.u=b;this.Ci=null;this.Cp=!1;this.Zf=this.Yb.Fa();this.Ei=n.g.Ah()&&b.Nb?b.Nb:null};n.dl.prototype.L=function(){this.Ei=this.u=this.Yb=null};function Ob(a,b,d){d=a.Ik(d);d=n.g.T.sum(a.Zf,d);a.Yb.bp(a.Ei,d);a.Yb.Ec()&&(a.Ci=nb(a.u,b),a.Cp=a.Ci!=n.Nt,b=a.u.Ic,a.Cp?(a.Yb.Em(!0),a.Ci==n.Np&&b&&ob(b,!0)):(a.Yb.Em(!1),b&&ob(b,!1)))}
function Pb(a,b,d){Ob(a,b,d);b=a.Ik(d);b=n.g.T.sum(a.Zf,b);a.Yb.moveTo(b.x,b.y);b=a.u.Ic;a.Cp?(b&&setTimeout(b.close.bind(b),100),a.Ol(),a.Yb.L(!1,!0)):b&&b.close();a.Cp||(a.Ei&&a.Ei.zl(a.u.ae),a.Yb.Uh&&a.Yb.Uh(!1),a.Ol());a.u.rc(!0);a.u.ia&&n.g.j.Gb(a.u.ia.jd,a.Yb.Ec()?"blocklyToolboxDelete":"blocklyToolboxGrab");n.i.fa(!1)}n.dl.prototype.Ol=function(){if(this.Yb.Zr){var a=new n.i.dg(this.Yb);a.rs=this.Zf;a.Gg();n.i.ma(a)}};
n.dl.prototype.Ik=function(a){a=new n.g.T(a.x/this.u.scale,a.y/this.u.scale);this.u.Vi&&a.scale(1/this.u.options.ad.scale);return a};n.dl.prototype.cp=function(){this.Yb.moveTo(0,0);this.Ei.Og(this.Zf.x,this.Zf.y);Nb(this.Ei,this.Yb.$())};n.w={};n.Xt=40;n.nu=125;n.hz=5;n.uz=10;n.Ld=28;n.dz=n.Ld;n.ez=8;n.Kz="#000000";n.gn=250;n.Hp=10;n.az=30;n.Oz=750;n.mA=100;n.iz=!0;n.Bz=.45;n.Cz=.65;n.ld={width:96,height:124,url:"sprites.png"};n.Oa=1;n.ee=2;n.Ma=3;n.fe=4;n.Ie=5;n.Dj=-1;n.$k=0;n.al=1;n.lF=0;n.mF=1;n.jF=1;n.kF=2;n.Pj=[];n.Pj[n.Oa]=n.ee;n.Pj[n.ee]=n.Oa;n.Pj[n.Ma]=n.fe;n.Pj[n.fe]=n.Ma;n.md=0;n.dh=1;n.xd=2;n.ig=3;n.Nt=null;n.Np=1;n.Ot=2;n.Fu="VARIABLE";n.FA="VARIABLE_DYNAMIC";n.ou="PROCEDURE";n.wu="RENAME_VARIABLE_ID";n.Pt="DELETE_VARIABLE_ID";n.sl=function(a){this.u=a;this.py=new n.g.T(a.scrollX,a.scrollY)};n.sl.prototype.L=function(){this.u=null};n.sl.prototype.vp=function(){n.selected&&n.selected.Ae();Qb(this.u)};n.sl.prototype.ph=function(a){a=n.g.T.sum(this.py,a);this.u.scroll(a.x,a.y)};n.sn=function(a){n.sn.A.constructor.call(this,a.th());this.Rb=a.Rb;this.Xe=a.Xe};h(n.sn,n.sl);n.sn.prototype.ph=function(a){a=n.g.T.sum(this.py,a);this.Xe?this.Rb.set(-a.x):this.Rb.set(-a.y)};n.N={};n.N.visible=!1;n.N.$j=!1;n.N.Nz=50;n.N.kx=0;n.N.Im=0;n.N.fs=0;n.N.gs=0;n.N.oa=null;n.N.jp=null;n.N.du=0;n.N.eu=10;n.N.gA=10;n.N.Az=750;n.N.Yp=5;n.N.wa=null;n.N.ka=function(){n.N.wa||(n.N.wa=document.createElement("div"),n.N.wa.className="blocklyTooltipDiv",document.body.appendChild(n.N.wa))};n.N.Zj=function(a){n.wc(a,"mouseover",null,n.N.aE);n.wc(a,"mouseout",null,n.N.$D);a.addEventListener("mousemove",n.N.ZD,!1)};
n.N.aE=function(a){if(!n.N.$j){for(a=a.currentTarget;"string"!=typeof a.hf&&"function"!=typeof a.hf;)a=a.hf;n.N.oa!=a&&(n.N.Ga(),n.N.jp=null,n.N.oa=a);clearTimeout(n.N.kx)}};n.N.$D=function(){n.N.$j||(n.N.kx=setTimeout(function(){n.N.oa=null;n.N.jp=null;n.N.Ga()},1),clearTimeout(n.N.Im))};
n.N.ZD=function(a){if(n.N.oa&&n.N.oa.hf&&!n.N.$j)if(n.N.visible){var b=n.N.fs-a.pageX;a=n.N.gs-a.pageY;Math.sqrt(b*b+a*a)>n.N.gA&&n.N.Ga()}else n.N.jp!=n.N.oa&&(clearTimeout(n.N.Im),n.N.fs=a.pageX,n.N.gs=a.pageY,n.N.Im=setTimeout(n.N.BE,n.N.Az))};n.N.Ga=function(){n.N.visible&&(n.N.visible=!1,n.N.wa&&(n.N.wa.style.display="none"));n.N.Im&&clearTimeout(n.N.Im)};n.N.block=function(){n.N.Ga();n.N.$j=!0};n.N.XE=function(){n.N.$j=!1};
n.N.BE=function(){if(!n.N.$j&&(n.N.jp=n.N.oa,n.N.wa)){n.N.wa.innerHTML="";for(var a=n.N.oa.hf;"function"==typeof a;)a=a();a=n.g.Xa.Oy(a,n.N.Nz);a=a.split("\n");for(var b=0;b<a.length;b++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[b]));n.N.wa.appendChild(d)}a=n.N.oa.C;b=document.documentElement.clientWidth;d=document.documentElement.clientHeight;n.N.wa.style.direction=a?"rtl":"ltr";n.N.wa.style.display="block";n.N.visible=!0;var e=n.N.fs;e=a?e-(n.N.du+n.N.wa.offsetWidth):
e+n.N.du;var f=n.N.gs+n.N.eu;f+n.N.wa.offsetHeight>d+window.scrollY&&(f-=n.N.wa.offsetHeight+2*n.N.eu);a?e=Math.max(n.N.Yp-window.scrollX,e):e+n.N.wa.offsetWidth>b+window.scrollX-2*n.N.Yp&&(e=b-n.N.wa.offsetWidth-2*n.N.Yp);n.N.wa.style.top=f+"px";n.N.wa.style.left=e+"px"}};n.Ij=function(a,b){this.ec=this.sc=this.rj=this.sj=this.Yd=this.qd=this.jx=null;this.wv=b;this.hm=this.Ui=this.im=this.Li=!1;this.$e=a;this.P=this.$h=this.Oe=this.lg=this.Gk=this.hp=null;this.Po=this.Mi=this.Yu=!1;this.Hw=!n.iz};c=n.Ij.prototype;c.L=function(){n.Touch.pg();n.N.XE();this.wv.Pb=null;this.hp&&n.gb(this.hp);this.Gk&&n.gb(this.Gk);this.P=this.ec=this.sc=this.rj=this.sj=null;this.Oe&&(this.Oe.L(),this.Oe=null);this.$h&&(this.$h.L(),this.$h=null);this.lg&&(this.lg.L(),this.lg=null)};
function Rb(a,b){a.qd=n.g.T.Kl(new n.g.T(b.clientX,b.clientY),a.jx);if(a.Li)var d=!1;else a.Li=n.g.T.vD(a.qd)>(a.P?n.uz:n.hz),d=a.Li;if(d){if(a.Yu)throw Error("updateIsDragging_ should only be called once per gesture.");a.Yu=!0;if(a.Yd){a.hm=!0;a.lg=new n.dl(a.Yd,a.ec);d=a.lg;n.i.Zb()||n.i.fa(!0);d.u.rc(!1);d.Yb.Xx(!1);d.Ei&&d.cp();d.Yb.Uh&&d.Yb.Uh(!0);var e=d.u.ia;e&&n.g.j.fb(e.jd,d.Yb.Ec()?"blocklyToolboxDelete":"blocklyToolboxGrab");Ob(a.lg,a.$e,a.qd);d=!0}else d=!1;if(!d){if(a.sc)if(a.P?(a.P.Qw(a.sc)?
!Sb(a.P)||a.P.Rw(a.qd)?(a.ec=a.P.Ia,Tb(a.ec),n.i.Zb()||n.i.fa(!0),a.rj=null,a.sc=Ub(a.P,a.sc),a.sc.select(),d=!0):d=!1:d=!1,a.Ui=d):a.sc.mc()&&(a.Ui=!0),a.Ui){a.Oe=new n.ai(a.sc,a.ec);d=a.Oe;e=a.qd;var f=a.Hw;n.i.Zb()||n.i.fa(!0);d.u.Vi&&qb(d.pb);n.R.Km();d.u.rc(!1);n.eb.$q();if(d.pb.getParent()||f&&d.pb.ca&&w(d.pb.ca))Ia(d.pb,f),e=d.Ik(e),e=n.g.T.sum(d.Zf,e),d.pb.translate(e.x,e.y),n.eb.WB(d.pb);d.pb.Uh(!0);d.pb.cp();(e=d.u.ia)&&n.g.j.fb(e.jd,d.pb.Ec()?"blocklyToolboxDelete":"blocklyToolboxGrab");
lb(a.Oe,a.$e,a.qd);d=!0}else d=!1;else d=!1;if(d=!d)if(a.P)d=Sb(a.P);else if(d=a.ec)d=a.ec,d=d.options.oc&&d.options.oc.ph;d&&(a.$h=a.P?new n.sn(a.P):new n.sl(a.ec),a.im=!0,a.$h.vp())}n.Gh()}a.$e=b}
c.ar=function(a){n.g.So(a)?this.cancel():(this.Mi=!0,n.eb.$q(),Tb(this.ec),this.ec.Vi&&this.ec.resize(),Vb(this.ec),this.$e=a,n.lc(!!this.P),n.N.block(),this.sc&&(this.sc.select(),!this.sc.rd&&a.shiftKey&&n.v.mo()),n.g.Dh(a)?sb(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||n.uD(a,this),this.jx=new n.g.T(a.clientX,a.clientY),this.Hw=a.altKey||a.ctrlKey||a.metaKey,this.Zj(a)))};
c.Zj=function(a){this.hp=n.ea(document,"mousemove",null,this.Zl.bind(this));this.Gk=n.ea(document,"mouseup",null,this.Go.bind(this));a.preventDefault();a.stopPropagation()};c.Zl=function(a){Rb(this,a);this.im?this.$h.ph(this.qd):this.Ui?lb(this.Oe,this.$e,this.qd):this.hm&&Ob(this.lg,this.$e,this.qd);a.preventDefault();a.stopPropagation()};
c.Go=function(a){Rb(this,a);n.Gh();if(this.Po)console.log("Trying to end a gesture recursively.");else{this.Po=!0;if(this.hm)Pb(this.lg,a,this.qd);else if(this.Ui)pb(this.Oe,a,this.qd);else if(this.im){var b=this.$h;b.ph(this.qd);Wb(b.u)}else if(this.Yd&&!this.Li)this.Yd.bt&&this.Yd.bt(),this.Yd.select&&this.Yd.select();else if(Xb(this))this.sj.ff(),Yb(this);else if(this.rj&&!this.Li&&!Xb(this))this.P&&this.P.Yj?this.sc.isEnabled()&&(n.i.Zb()||n.i.fa(!0),rb(Ub(this.P,this.sc))):n.i.ma(new n.i.fc(this.rj,
"click",void 0,void 0)),Yb(this),n.i.fa(!1);else if(!(this.rj||this.Yd||this.sj||this.Li))if(n.Wi=!1,b=this.wv,b.cursor.Ga(),a.shiftKey){var d=n.g.vE(b,new n.g.T(a.clientX,a.clientY));d=n.G.Il(b,d);tb(b.cursor,d);n.Wi=!0}else n.selected&&n.selected.Ae();a.preventDefault();a.stopPropagation();this.L()}};c.cancel=function(){if(!this.Po){n.Gh();if(this.hm)Pb(this.lg,this.$e,this.qd);else if(this.Ui)pb(this.Oe,this.$e,this.qd);else if(this.im){var a=this.$h;a.ph(this.qd);Wb(a.u)}this.L()}};
function sb(a,b){a.sc?(Yb(a),n.lc(a.P),a.sc.Pk(b)):a.Yd?a.Yd.Pk(b):a.ec&&!a.P&&(n.lc(),a.ec.Pk(b));b.preventDefault();b.stopPropagation();a.L()}function Zb(a,b,d){if(a.Mi)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.ec||(a.ec=d);a.$e=b;a.ar(b)}function $b(a,b,d){if(a.Mi)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.P||(a.P=d);Zb(a,b,d.th())}
function Hb(a,b,d){if(a.Mi)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");a.Yd||(a.Yd=d);a.$e=b}function Yb(a){a.sc&&!a.P&&qb(a.sc)}function ac(a,b){a.rj||a.Yd||(a.rj=b,b.rd&&b!=Xa(b)?bc(a,Xa(b)):bc(a,b))}function bc(a,b){b.bb?bc(a,b.getParent()):a.sc=b}function Xb(a){if(a.sj){var b=a.sj;b=!!b.H&&b.H.Yc()&&!!b.ff&&"function"===typeof b.ff}else b=!1;return b&&!a.Li&&(!a.P||!a.P.Yj)}c.Fc=function(){return this.im||this.Ui||this.hm};
c.lk=function(){return this.Oe?this.Oe.lk():[]};n.Ij.Sr=function(){for(var a=n.Sa.getAll(),b=0,d;d=a[b];b++)if(d.Pb)return!0;return!1};n.R=function(a,b){this.rb=new n.g.tf(0,0);this.setValue(a);b&&(this.Ap=b)};n.R.Cu={};n.R.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'"');if(!b||"function"!=typeof b.pa)throw Error('Field "'+b+'" must have a fromJson function');n.R.Cu[a]=b};n.R.pa=function(a){var b=n.R.Cu[a.type];return b?(b=b.pa(a),void 0!==a.tooltip&&(a=n.g.bc(a.tooltip),b.dd(a)),b):null};n.R.wi=null;n.R.Dq=0;n.R.fn=16;n.R.Bu=12.5;n.R.tl=10;n.R.ei=n.R.tl/2;c=n.R.prototype;
c.name=void 0;c.ex=50;c.Aa=null;c.xa="";c.By=null;c.H=null;c.Ye=!0;c.Kb=!0;c.Ap=null;c.Mn=null;n.R.au="\u00a0";c=n.R.prototype;c.Vg=!0;c.hg=!1;c.ft=function(a){if(this.H)throw Error("Field already bound to a block.");this.H=a};c.za=function(){this.Re||(this.Re=n.g.j.J("g",{},null),this.isVisible()||(this.Re.style.display="none"),this.H.$().appendChild(this.Re),this.Mf(),this.Rg(),this.dd(this.By),n.N.Zj(this.Mn||this.$()),this.ix=n.ea(this.Mn||this.$(),"mousedown",this,this.Jh),this.Ri())};
c.Mf=function(){cc(this);dc(this)};function cc(a){a.rb.height=Math.max(a.rb.height,n.R.fn);a.rb.width=Math.max(a.rb.width,n.R.tl);a.Nd=n.g.j.J("rect",{rx:4,ry:4,x:0,y:0,height:a.rb.height,width:a.rb.width},a.Re)}function dc(a){a.Hb=n.g.j.J("text",{"class":"blocklyText",y:n.R.Bu,x:a.Nd?n.R.ei:0},a.Re);a.Rm=document.createTextNode("");a.Hb.appendChild(a.Rm)}c.Ri=function(){};c.Gi=function(a){this.setValue(a.textContent)};c.Tm=function(a){a.textContent=this.getValue();return a};
c.L=function(){n.I.Oi(this);n.Z.Oi(this);this.ix&&n.gb(this.ix);n.g.j.removeNode(this.Re)};c.Rg=function(){var a=this.Mn||this.$();this.Vg&&a&&(this.H.Yc()?(n.g.j.fb(a,"blocklyEditableText"),n.g.j.Gb(a,"blocklyNonEditableText"),a.style.cursor=this.nn):(n.g.j.fb(a,"blocklyNonEditableText"),n.g.j.Gb(a,"blocklyEditableText"),a.style.cursor=""))};function ec(a){return a.Vg&&!!a.H&&a.H.Yc()}c.isVisible=function(){return this.Kb};
c.Ha=function(a){if(this.Kb!=a){this.Kb=a;var b=this.$();b&&(b.style.display=a?"block":"none")}};c.Br=function(){return this.Ap};c.$=function(){return this.Re};c.Be=function(){};c.Tf=function(){this.Rm.nodeValue=fc(this);var a=n.R.ro(this.Hb);this.Nd&&(a+=n.R.tl,this.Nd.setAttribute("width",a));this.rb.width=a};
n.R.ro=function(a){var b=a.textContent+"\n"+a.className.baseVal,d;if(n.R.wi&&(d=n.R.wi[b]))return d;try{d=n.g.userAgent.Wg||n.g.userAgent.rn?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}n.R.wi&&(n.R.wi[b]=d);return d};n.R.Km=function(){n.R.Dq++;n.R.wi||(n.R.wi={})};n.R.Mm=function(){n.R.Dq--;n.R.Dq||(n.R.wi=null)};c=n.R.prototype;
c.yg=function(){if(!this.isVisible())return new n.g.tf(0,0);this.Ye?(this.Tf(),this.Ye=!1):this.Kb&&0==this.rb.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Tf());return this.rb};function gc(a){var b=a.Nd.getBBox(),d=b.height*a.H.B.scale;b=b.width*a.H.B.scale;a=n.g.style.wC(a.Nd);return{top:a.y,bottom:a.y+d,left:a.x,right:a.x+b}}
function fc(a){var b=a.xa;if(!b)return n.R.au;b.length>a.ex&&(b=b.substring(0,a.ex-2)+"\u2026");b=b.replace(/\s/g,n.R.au);a.H.C&&(b+="\u200f");return b}c.kc=function(){return this.xa};c.Wf=function(a){null!==a&&(a=String(a),a!==this.xa&&(this.xa=a,wb(this)))};function wb(a){a.Ye=!0;a.H&&a.H.ha&&(a.H.qa(),a.H.nd())}
c.setValue=function(a){if(null!==a){var b=this.Tc(a);a=ic(this,a,b);if(!(a instanceof Error)){if(b=this.Br())if(b=b.call(this,a),a=ic(this,a,b),a instanceof Error)return;b=this.getValue();b!==a&&(this.H&&n.i.isEnabled()&&n.i.ma(new n.i.mf(this.H,"field",this.name,b,a)),this.nh(a),this.Ye&&wb(this))}}};function ic(a,b,d){if(null===d)return a.Xv(),a.Ye&&wb(a),Error();void 0!==d&&(b=d);return b}c.getValue=function(){return this.Aa};c.Tc=function(a){return a};
c.nh=function(a){this.Aa=a;this.Ye=!0;this.xa=String(a)};c.Xv=function(){};c.Jh=function(a){if(this.H&&this.H.B&&(a=this.H.B.Jf(a))){if(a.Mi)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.sj||(a.sj=this)}};c.dd=function(a){var b=this.Mn||this.$();b?b.hf=a||""===a?a:this.H:this.By=a};c.pp=function(){return!1};c.Kf=function(){for(var a=null,b=this.H,d=b.W,e=0;e<b.W.length;e++)for(var f=d[e],g=f.Ca,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};n.g.Vk={};n.g.Vk.yg=function(a){a=a.U();var b=n.g.style.yg(a);b.height=a.scrollHeight;return b};n.g.Vk.Pu=function(a,b,d){b.left+=d.width;b.right+=d.width;a.left+=d.width;a.right+=d.width};function jc(a){if(Error.captureStackTrace)Error.captureStackTrace(this,jc);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}h(jc,Error);jc.prototype.name="CustomError";var kc;function lc(a,b){a=a.split("%s");for(var d="",e=a.length-1,f=0;f<e;f++)d+=a[f]+(f<b.length?b[f]:"%s");jc.call(this,d+a[e])}h(lc,jc);lc.prototype.name="AssertionError";var mc=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var d=0;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},nc=Array.prototype.forEach?function(a,b,d){Array.prototype.forEach.call(a,b,d)}:function(a,b,d){for(var e=a.length,f="string"===typeof a?a.split(""):a,g=0;g<e;g++)g in f&&b.call(d,f[g],g,a)},oc=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,
b,void 0)}:function(a,b){for(var d=a.length,e=[],f=0,g="string"===typeof a?a.split(""):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(void 0,l,k,a)&&(e[f++]=l)}return e},pc=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var d=a.length,e=Array(d),f="string"===typeof a?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(void 0,f[g],g,a));return e},qc=Array.prototype.every?function(a,b){return Array.prototype.every.call(a,b,void 0)}:function(a,b){for(var d=a.length,
e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(void 0,e[f],f,a))return!1;return!0};function rc(a,b){return 0<=mc(a,b)}function sc(a,b){b=mc(a,b);var d;(d=0<=b)&&Array.prototype.splice.call(a,b,1);return d}function tc(a){return Array.prototype.concat.apply([],arguments)}function uc(a){var b=a.length;if(0<b){for(var d=Array(b),e=0;e<b;e++)d[e]=a[e];return d}return[]}function vc(a,b,d,e){Array.prototype.splice.apply(a,wc(arguments,1))}
function wc(a,b,d){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,d)};var xc=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};
function yc(a,b){if(b)a=a.replace(zc,"&amp;").replace(Ac,"&lt;").replace(Bc,"&gt;").replace(Cc,"&quot;").replace(Dc,"&#39;").replace(Ec,"&#0;");else{if(!Fc.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(zc,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ac,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Bc,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Cc,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Dc,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ec,"&#0;"))}return a}
var zc=/&/g,Ac=/</g,Bc=/>/g,Cc=/"/g,Dc=/'/g,Ec=/\x00/g,Fc=/[\x00&<>"']/;function Gc(a,b){return-1!=a.indexOf(b)}function Hc(a,b){return a<b?-1:a>b?1:0};var Ic;a:{var Jc=ma.navigator;if(Jc){var Kc=Jc.userAgent;if(Kc){Ic=Kc;break a}}Ic=""};function Lc(a,b,d){for(var e in a)b.call(d,a[e],e,a)}var Mc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nc(a,b){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var g=0;g<Mc.length;g++)d=Mc[g],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}}
function Oc(a){var b=arguments.length;if(1==b&&ra(arguments[0]))return Oc.apply(null,arguments[0]);for(var d={},e=0;e<b;e++)d[arguments[e]]=!0;return d};var Pc={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function Qc(a,b){this.sy=a===Rc&&b||"";this.uA=Sc}Qc.prototype.Lf=!0;Qc.prototype.se=function(){return this.sy};function Tc(a){return a instanceof Qc&&a.constructor===Qc&&a.uA===Sc?a.sy:"type_error:Const"}var Sc={},Rc={};function Uc(){this.Hx=""}Uc.prototype.Lf=!0;Uc.prototype.se=function(){return this.Hx.toString()};Uc.prototype.yh=function(a){this.Hx=a;return this};(new Uc).yh("");function Vc(a,b){this.Kx=a===Wc&&b||"";this.DA=Xc}Vc.prototype.Lf=!0;Vc.prototype.se=function(){return this.Kx.toString()};Vc.prototype.Rr=!0;Vc.prototype.Ii=function(){return 1};var Xc={},Wc={};function Yc(a,b){this.Jx=a===Zc&&b||"";this.kA=$c}Yc.prototype.Lf=!0;Yc.prototype.se=function(){return this.Jx.toString()};Yc.prototype.Rr=!0;Yc.prototype.Ii=function(){return 1};function ad(a){if(a instanceof Yc&&a.constructor===Yc&&a.kA===$c)return a.Jx;qa(a);return"type_error:SafeUrl"}var bd=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function cd(a){if(a instanceof Yc)return a;a="object"==typeof a&&a.Lf?a.se():String(a);bd.test(a)||(a="about:invalid#zClosurez");return new Yc(Zc,a)}
var $c={},Zc={};function dd(){this.Is="";this.jA=ed}dd.prototype.Lf=!0;var ed={};dd.prototype.se=function(){return this.Is};dd.prototype.yh=function(a){this.Is=a;return this};var fd=(new dd).yh("");function gd(a){var b="",d;for(d in a){if(!/^[-_a-zA-Z0-9]+$/.test(d))throw Error("Name allows only [-_a-zA-Z0-9], got: "+d);var e=a[d];null!=e&&(e=ra(e)?pc(e,hd).join(" "):hd(e),b+=d+":"+e+";")}return b?(new dd).yh(b):fd}
function hd(a){if(a instanceof Yc)return'url("'+ad(a).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(a instanceof Qc)a=Tc(a);else{a=String(a);var b=a.replace(id,"$1").replace(id,"$1").replace(jd,"url");if(kd.test(b)){if(b=!ld.test(a)){for(var d=b=!0,e=0;e<a.length;e++){var f=a.charAt(e);"'"==f&&d?b=!b:'"'==f&&b&&(d=!d)}b=b&&d&&md(a)}a=b?nd(a):"zClosurez"}else a="zClosurez"}if(/[{;}]/.test(a))throw new lc("Value does not allow [{;}], got: %s.",[a]);return a}
function md(a){for(var b=!0,d=/^[-_a-zA-Z0-9]$/,e=0;e<a.length;e++){var f=a.charAt(e);if("]"==f){if(b)return!1;b=!0}else if("["==f){if(!b)return!1;b=!1}else if(!b&&!d.test(f))return!1}return b}var kd=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,jd=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,id=/\b(calc|cubic-bezier|fit-content|hsl|hsla|matrix|minmax|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,ld=/\/\*/;
function nd(a){return a.replace(jd,function(b,d,e,f){var g="";e=e.replace(/^(['"])(.*)\1$/,function(k,l,m){g=l;return m});b=cd(e).se();return d+g+b+g+f})};function od(){this.Ix=""}od.prototype.Lf=!0;od.prototype.se=function(){return this.Ix};od.prototype.yh=function(a){this.Ix=a;return this};(new od).yh("");function pd(){this.Hs="";this.iA=qd;this.Tv=null}pd.prototype.Rr=!0;pd.prototype.Ii=function(){return this.Tv};pd.prototype.Lf=!0;pd.prototype.se=function(){return this.Hs.toString()};function rd(a){if(a instanceof pd&&a.constructor===pd&&a.iA===qd)return a.Hs;qa(a);return"type_error:SafeHtml"}function sd(a){if(a instanceof pd)return a;var b="object"==typeof a,d=null;b&&a.Rr&&(d=a.Ii());return td(yc(b&&a.Lf?a.se():String(a)),d)}
var ud=/^[a-zA-Z0-9-]+$/,vd={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},wd={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
function xd(a,b,d){var e=String(a);if(!ud.test(e))throw Error("");if(e.toUpperCase()in wd)throw Error("");a=String(a);e=null;var f="<"+a,g="";if(b)for(m in b){if(!ud.test(m))throw Error("");var k=b[m];if(null!=k){var l=m;if(k instanceof Qc)k=Tc(k);else if("style"==l.toLowerCase()){if(!ua(k))throw Error("");k instanceof dd||(k=gd(k));k instanceof dd&&k.constructor===dd&&k.jA===ed?k=k.Is:(qa(k),k="type_error:SafeStyle")}else{if(/^on/i.test(l))throw Error("");if(l.toLowerCase()in vd)if(k instanceof Vc)k instanceof
Vc&&k.constructor===Vc&&k.DA===Xc?k=k.Kx:(qa(k),k="type_error:TrustedResourceUrl"),k=k.toString();else if(k instanceof Yc)k=ad(k);else if("string"===typeof k)k=cd(k).se();else throw Error("");}k.Lf&&(k=k.se());l=l+'="'+yc(String(k))+'"';g+=" "+l}}var m=f+g;null==d?d=[]:ra(d)||(d=[d]);!0===Pc[a.toLowerCase()]?m+=">":(d=yd(d),m+=">"+rd(d).toString()+"</"+a+">",e=d.Ii());(b=b&&b.dir)&&(e=/^(ltr|rtl|auto)$/i.test(b)?0:null);return td(m,e)}
function zd(a){function b(g){ra(g)?nc(g,b):(g=sd(g),f.push(rd(g).toString()),g=g.Ii(),0==e?e=g:0!=g&&e!=g&&(e=null))}var d=sd(Ad),e=d.Ii(),f=[];nc(a,b);return td(f.join(rd(d).toString()),e)}function yd(a){return zd(Array.prototype.slice.call(arguments))}var qd={};function td(a,b){return(new pd).yh(a,b)}pd.prototype.yh=function(a,b){this.Hs=a;this.Tv=b;return this};td("<!DOCTYPE html>",0);var Ad=td("",0),Bd=td("<br>",0);var Cd=function(a){var b=!1,d;return function(){b||(d=a(),b=!0);return d}}(function(){var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);b=a.firstChild.firstChild;a.innerHTML=rd(Ad);return!b.parentElement});function Dd(a,b){if(Cd())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=rd(b)}function Ed(a,b){Dd(a,b)};function Fd(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function Gd(a){return a=yc(a,void 0)}function Hd(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var d=ma.document.createElement("div");return a.replace(Id,function(e,f){var g=b[e];if(g)return g;"#"==f.charAt(0)&&(f=Number("0"+f.substr(1)),isNaN(f)||(g=String.fromCharCode(f)));g||(g=td(e+" ",null),Dd(d,g),g=d.firstChild.nodeValue.slice(0,-1));return b[e]=g})}
function Jd(a){return a.replace(/&([^;]+);/g,function(b,d){switch(d){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=d.charAt(0)||(d=Number("0"+d.substr(1)),isNaN(d))?b:String.fromCharCode(d)}})}var Id=/&([^;\s<&]+);?/g;function Kd(a){Kd[" "](a);return a}Kd[" "]=oa;function Ld(a,b){var d=Md;return Object.prototype.hasOwnProperty.call(d,a)?d[a]:d[a]=b(a)};var Nd=Gc(Ic,"Opera"),z=Gc(Ic,"Trident")||Gc(Ic,"MSIE"),Od=Gc(Ic,"Edge"),Pd=Gc(Ic,"Gecko")&&!(Gc(Ic.toLowerCase(),"webkit")&&!Gc(Ic,"Edge"))&&!(Gc(Ic,"Trident")||Gc(Ic,"MSIE"))&&!Gc(Ic,"Edge"),Qd=Gc(Ic.toLowerCase(),"webkit")&&!Gc(Ic,"Edge"),Rd=Gc(Ic,"Macintosh");function Sd(){var a=ma.document;return a?a.documentMode:void 0}var Td;
a:{var Ud="",Vd=function(){var a=Ic;if(Pd)return/rv:([^\);]+)(\)|;)/.exec(a);if(Od)return/Edge\/([\d\.]+)/.exec(a);if(z)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Qd)return/WebKit\/(\S+)/.exec(a);if(Nd)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Vd&&(Ud=Vd?Vd[1]:"");if(z){var Wd=Sd();if(null!=Wd&&Wd>parseFloat(Ud)){Td=String(Wd);break a}}Td=Ud}var Md={};
function Xd(a){return Ld(a,function(){for(var b=0,d=xc(String(Td)).split("."),e=xc(String(a)).split("."),f=Math.max(d.length,e.length),g=0;0==b&&g<f;g++){var k=d[g]||"",l=e[g]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;b=Hc(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||Hc(0==k[2].length,0==l[2].length)||Hc(k[2],l[2]);k=k[3];l=l[3]}while(0==b)}return 0<=b})}var Yd;
Yd=ma.document&&z?Sd():void 0;var Zd=!z||9<=Number(Yd),$d=!z||9<=Number(Yd),ae=z&&!Xd("9"),be="PointerEvent"in ma,ce="MSPointerEvent"in ma&&!(!ma.navigator||!ma.navigator.msPointerEnabled),de=function(){if(!ma.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ma.addEventListener("test",oa,b),ma.removeEventListener("test",oa,b)}catch(d){}return a}();function ee(){0!=fe&&(ge[va(this)]=this);this.sg=this.sg;this.Fg=this.Fg}var fe=0,ge={};ee.prototype.sg=!1;ee.prototype.L=function(){if(!this.sg&&(this.sg=!0,this.Xb(),0!=fe)){var a=va(this);if(0!=fe&&this.Fg&&0<this.Fg.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ge[a]}};function he(a,b){a.sg?b():(a.Fg||(a.Fg=[]),a.Fg.push(b))}ee.prototype.Xb=function(){if(this.Fg)for(;this.Fg.length;)this.Fg.shift()()};
function ie(a){a&&"function"==typeof a.L&&a.L()};function je(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.ij=!1;this.Tx=!0}je.prototype.stopPropagation=function(){this.ij=!0};je.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Tx=!1};var ke={ki:be?"pointerdown":ce?"MSPointerDown":"mousedown",li:be?"pointerup":ce?"MSPointerUp":"mouseup",Mj:be?"pointercancel":ce?"MSPointerCancel":"mousecancel",Wz:be?"pointermove":ce?"MSPointerMove":"mousemove",Yz:be?"pointerover":ce?"MSPointerOver":"mouseover",Xz:be?"pointerout":ce?"MSPointerOut":"mouseout",Uz:be?"pointerenter":ce?"MSPointerEnter":"mouseenter",Vz:be?"pointerleave":ce?"MSPointerLeave":"mouseleave"},le={ki:"mousedown",li:"mouseup",Mj:"mousecancel",Wz:"mousemove",Yz:"mouseover",Xz:"mouseout",
Uz:"mouseenter",Vz:"mouseleave"};function me(a,b){je.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Ds=!1;this.pointerId=0;this.pointerType="";this.Ef=null;a&&this.za(a,b)}h(me,je);var ne=[1,4,2],oe={2:"touch",3:"pen",4:"mouse"};
me.prototype.za=function(a,b){var d=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(Pd){a:{try{Kd(b.nodeName);var f=!0;break a}catch(g){}f=!1}f||(b=null)}}else"mouseover"==d?b=a.fromElement:"mouseout"==d&&(b=a.toElement);this.relatedTarget=b;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=
e.screenY||0):(this.offsetX=Qd||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Qd||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==d?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Ds=Rd?
a.metaKey:a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:oe[a.pointerType]||"";this.state=a.state;this.Ef=a;a.defaultPrevented&&this.preventDefault()};function pe(a){return Zd?0==a.Ef.button:"click"==a.type?!0:!!(a.Ef.button&ne[0])}me.prototype.stopPropagation=function(){me.A.stopPropagation.call(this);this.Ef.stopPropagation?this.Ef.stopPropagation():this.Ef.cancelBubble=!0};
me.prototype.preventDefault=function(){me.A.preventDefault.call(this);var a=this.Ef;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ae)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var qe="closure_listenable_"+(1E6*Math.random()|0);function re(a){return!(!a||!a[qe])}var se=0;function te(a,b,d,e,f){this.listener=a;this.proxy=null;this.src=b;this.type=d;this.capture=!!e;this.Ho=f;this.key=++se;this.Kk=this.Jn=!1}function ue(a){a.Kk=!0;a.listener=null;a.proxy=null;a.src=null;a.Ho=null};function ve(a){this.src=a;this.sd={};this.Xm=0}ve.prototype.add=function(a,b,d,e,f){var g=a.toString();a=this.sd[g];a||(a=this.sd[g]=[],this.Xm++);var k=we(a,b,e,f);-1<k?(b=a[k],d||(b.Jn=!1)):(b=new te(b,this.src,g,!!e,f),b.Jn=d,a.push(b));return b};ve.prototype.remove=function(a,b,d,e){a=a.toString();if(!(a in this.sd))return!1;var f=this.sd[a];b=we(f,b,d,e);return-1<b?(ue(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete this.sd[a],this.Xm--),!0):!1};
function xe(a,b){var d=b.type;d in a.sd&&sc(a.sd[d],b)&&(ue(b),0==a.sd[d].length&&(delete a.sd[d],a.Xm--))}ve.prototype.removeAll=function(a){a=a&&a.toString();var b=0,d;for(d in this.sd)if(!a||d==a){for(var e=this.sd[d],f=0;f<e.length;f++)++b,ue(e[f]);delete this.sd[d];this.Xm--}return b};ve.prototype.Sl=function(a,b,d,e){a=this.sd[a.toString()];var f=-1;a&&(f=we(a,b,d,e));return-1<f?a[f]:null};
function we(a,b,d,e){for(var f=0;f<a.length;++f){var g=a[f];if(!g.Kk&&g.listener==b&&g.capture==!!d&&g.Ho==e)return f}return-1};var ye="closure_lm_"+(1E6*Math.random()|0),ze={},Ae=0;function Be(a,b,d,e,f){if(e&&e.once)return Ce(a,b,d,e,f);if(ra(b)){for(var g=0;g<b.length;g++)Be(a,b[g],d,e,f);return null}d=De(d);return re(a)?a.Qa(b,d,ua(e)?!!e.capture:!!e,f):Ee(a,b,d,!1,e,f)}
function Ee(a,b,d,e,f,g){if(!b)throw Error("Invalid event type");var k=ua(f)?!!f.capture:!!f,l=Fe(a);l||(a[ye]=l=new ve(a));d=l.add(b,d,e,k,g);if(d.proxy)return d;e=Ge();d.proxy=e;e.src=a;e.listener=d;if(a.addEventListener)de||(f=k),void 0===f&&(f=!1),a.addEventListener(b.toString(),e,f);else if(a.attachEvent)a.attachEvent(He(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");Ae++;return d}
function Ge(){var a=Ie,b=$d?function(d){return a.call(b.src,b.listener,d)}:function(d){d=a.call(b.src,b.listener,d);if(!d)return d};return b}function Ce(a,b,d,e,f){if(ra(b)){for(var g=0;g<b.length;g++)Ce(a,b[g],d,e,f);return null}d=De(d);return re(a)?a.ax(b,d,ua(e)?!!e.capture:!!e,f):Ee(a,b,d,!0,e,f)}function Je(a,b,d,e,f){if(ra(b))for(var g=0;g<b.length;g++)Je(a,b[g],d,e,f);else e=ua(e)?!!e.capture:!!e,d=De(d),re(a)?a.be(b,d,e,f):a&&(a=Fe(a))&&(b=a.Sl(b,d,e,f))&&Ke(b)}
function Ke(a){if("number"!==typeof a&&a&&!a.Kk){var b=a.src;if(re(b))xe(b.ug,a);else{var d=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(d,e,a.capture):b.detachEvent?b.detachEvent(He(d),e):b.addListener&&b.removeListener&&b.removeListener(e);Ae--;(d=Fe(b))?(xe(d,a),0==d.Xm&&(d.src=null,b[ye]=null)):ue(a)}}}function He(a){return a in ze?ze[a]:ze[a]="on"+a}
function Le(a,b,d,e){var f=!0;if(a=Fe(a))if(b=a.sd[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.capture==d&&!g.Kk&&(g=Me(g,e),f=f&&!1!==g)}return f}function Me(a,b){var d=a.listener,e=a.Ho||a.src;a.Jn&&Ke(a);return d.call(e,b)}
function Ie(a,b){if(a.Kk)return!0;if(!$d){if(!b)a:{b=["window","event"];for(var d=ma,e=0;e<b.length;e++)if(d=d[b[e]],null==d){b=null;break a}b=d}e=b;b=new me(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=b.currentTarget;f;f=f.parentNode)e.push(f);a=a.type;for(f=e.length-1;!b.ij&&0<=f;f--){b.currentTarget=e[f];var g=Le(e[f],a,!0,b);d=d&&g}for(f=0;!b.ij&&f<e.length;f++)b.currentTarget=
e[f],g=Le(e[f],a,!1,b),d=d&&g}return d}return Me(a,new me(b,this))}function Fe(a){a=a[ye];return a instanceof ve?a:null}var Ne="__closure_events_fn_"+(1E9*Math.random()>>>0);function De(a){if(ta(a))return a;a[Ne]||(a[Ne]=function(b){return a.handleEvent(b)});return a[Ne]};function Oe(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}c=Oe.prototype;c.clone=function(){return new Oe(this.x,this.y)};c.Qe=function(a){return a instanceof Oe&&Pe(this,a)};function Pe(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}c.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};c.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};c.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
c.translate=function(a,b){a instanceof Oe?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),"number"===typeof b&&(this.y+=b));return this};c.scale=function(a,b){this.x*=a;this.y*="number"===typeof b?b:a;return this};var Qe=!z||9<=Number(Yd),Re=!Pd&&!z||z&&9<=Number(Yd)||Pd&&Xd("1.9.1"),Se=z&&!Xd("9");function Te(a,b){this.width=a;this.height=b}c=Te.prototype;c.clone=function(){return new Te(this.width,this.height)};c.aspectRatio=function(){return this.width/this.height};c.Sw=function(){return!(this.width*this.height)};c.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};c.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
c.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};c.scale=function(a,b){this.width*=a;this.height*="number"===typeof b?b:a;return this};function Ue(a){return a?new Ve(We(a)):kc||(kc=new Ve)}function Xe(a,b){Lc(b,function(d,e){d&&"object"==typeof d&&d.Lf&&(d=d.se());"style"==e?a.style.cssText=d:"class"==e?a.className=d:"for"==e?a.htmlFor=d:Ye.hasOwnProperty(e)?a.setAttribute(Ye[e],d):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,d):a[e]=d})}
var Ye={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ze(a){return a.scrollingElement?a.scrollingElement:Qd||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}
function $e(a,b,d,e){function f(k){k&&b.appendChild("string"===typeof k?a.createTextNode(k):k)}for(;e<d.length;e++){var g=d[e];!sa(g)||ua(g)&&0<g.nodeType?f(g):nc(af(g)?uc(g):g,f)}}function bf(a,b){b=String(b);"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)}function cf(a){for(var b;b=a.firstChild;)a.removeChild(b)}function df(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function ef(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function We(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function ff(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else cf(a),a.appendChild(We(a).createTextNode(String(b)))}var gf={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},hf={IMG:" ",BR:"\n"};function jf(a){return z&&!Xd("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")}
function kf(a){a=a.tabIndex;return"number"===typeof a&&0<=a&&32768>a}function lf(a){var b=[];mf(a,b,!1);return b.join("")}function mf(a,b,d){if(!(a.nodeName in gf))if(3==a.nodeType)d?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in hf)b.push(hf[a.nodeName]);else for(a=a.firstChild;a;)mf(a,b,d),a=a.nextSibling}
function af(a){if(a&&"number"==typeof a.length){if(ua(a))return"function"==typeof a.item||"string"==typeof a.item;if(ta(a))return"function"==typeof a.item}return!1}function Ve(a){this.Bf=a||ma.document||document}c=Ve.prototype;c.If=Ue;c.U=function(a){return"string"===typeof a?this.Bf.getElementById(a):a};c.getElementsByTagName=function(a,b){return(b||this.Bf).getElementsByTagName(String(a))};c.setProperties=Xe;
c.ka=function(a,b,d){var e=this.Bf,f=arguments,g=String(f[0]),k=f[1];if(!Qe&&k&&(k.name||k.type)){g=["<",g];k.name&&g.push(' name="',Gd(k.name),'"');if(k.type){g.push(' type="',Gd(k.type),'"');var l={};Nc(l,k);delete l.type;k=l}g.push(">");g=g.join("")}g=bf(e,g);k&&("string"===typeof k?g.className=k:ra(k)?g.className=k.join(" "):Xe(g,k));2<f.length&&$e(e,g,f,2);return g};c.createElement=function(a){return bf(this.Bf,a)};c.createTextNode=function(a){return this.Bf.createTextNode(String(a))};
c.wr=function(){var a=this.Bf,b=Ze(a);a=a.parentWindow||a.defaultView;return z&&Xd("10")&&a.pageYOffset!=b.scrollTop?new Oe(b.scrollLeft,b.scrollTop):new Oe(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};c.appendChild=function(a,b){a.appendChild(b)};c.append=function(a,b){$e(We(a),a,arguments,1)};c.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
c.Px=cf;c.removeNode=df;c.wg=function(a){return Re&&void 0!=a.children?a.children:oc(a.childNodes,function(b){return 1==b.nodeType})};c.contains=ef;
c.Bh=function(a){var b;(b="A"==a.tagName&&a.hasAttribute("href")||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!jf(a)||kf(a)):jf(a)&&kf(a))&&z?(a=!ta(a.getBoundingClientRect)||z&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a};function nf(a,b,d,e){this.top=a;this.right=b;this.bottom=d;this.left=e}c=nf.prototype;c.Xc=function(){return this.right-this.left};c.kk=function(){return this.bottom-this.top};c.clone=function(){return new nf(this.top,this.right,this.bottom,this.left)};c.contains=function(a){return this&&a?a instanceof nf?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
c.expand=function(a,b,d,e){ua(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(d),this.left-=Number(e));return this};c.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
c.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};c.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
c.translate=function(a,b){a instanceof Oe?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,"number"===typeof b&&(this.top+=b,this.bottom+=b));return this};c.scale=function(a,b){b="number"===typeof b?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function of(a,b){var d=We(a);return d.defaultView&&d.defaultView.getComputedStyle&&(a=d.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function pf(a){try{var b=a.getBoundingClientRect()}catch(d){return{left:0,top:0,right:0,bottom:0}}z&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function qf(a){var b=We(a),d=new Oe(0,0);var e=b?We(b):document;e=!z||9<=Number(Yd)||"CSS1Compat"==Ue(e).Bf.compatMode?e.documentElement:e.body;if(a==e)return d;a=pf(a);b=Ue(b).wr();d.x=a.left+b.x;d.y=a.top+b.y;return d}function rf(a){"number"==typeof a&&(a+="px");return a}function sf(a,b){a.style.display=b?"":"none"}var tf=Pd?"MozUserSelect":Qd||Od?"WebkitUserSelect":null;
function uf(a,b,d){d=d?null:a.getElementsByTagName("*");if(tf){if(b=b?"none":"",a.style&&(a.style[tf]=b),d){a=0;for(var e;e=d[a];a++)e.style&&(e.style[tf]=b)}}else if(z||Nd)if(b=b?"on":"",a.setAttribute("unselectable",b),d)for(a=0;e=d[a];a++)e.setAttribute("unselectable",b)}var vf={thin:2,medium:4,thick:6};
function wf(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var d=a.currentStyle?a.currentStyle[b+"Width"]:null;if(d in vf)a=vf[d];else if(/^\d+px?$/.test(d))a=parseInt(d,10);else{b=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=d;d=a.style.pixelLeft;a.style.left=b;a.runtimeStyle.left=e;a=+d}return a};function xf(a){ee.call(this);this.rk=a;this.Bk={}}h(xf,ee);var yf=[];c=xf.prototype;c.Qa=function(a,b,d,e){ra(b)||(b&&(yf[0]=b.toString()),b=yf);for(var f=0;f<b.length;f++){var g=Be(a,b[f],d||this.handleEvent,e||!1,this.rk||this);if(!g)break;this.Bk[g.key]=g}return this};c.ax=function(a,b,d,e){return zf(this,a,b,d,e)};function zf(a,b,d,e,f,g){if(ra(d))for(var k=0;k<d.length;k++)zf(a,b,d[k],e,f,g);else{b=Ce(b,d,e||a.handleEvent,f,g||a.rk||a);if(!b)return a;a.Bk[b.key]=b}return a}
c.be=function(a,b,d,e,f){if(ra(b))for(var g=0;g<b.length;g++)this.be(a,b[g],d,e,f);else d=d||this.handleEvent,e=ua(e)?!!e.capture:!!e,f=f||this.rk||this,d=De(d),e=!!e,b=re(a)?a.Sl(b,d,e,f):a?(a=Fe(a))?a.Sl(b,d,e,f):null:null,b&&(Ke(b),delete this.Bk[b.key]);return this};c.removeAll=function(){Lc(this.Bk,function(a,b){this.Bk.hasOwnProperty(b)&&Ke(a)},this);this.Bk={}};c.Xb=function(){xf.A.Xb.call(this);this.removeAll()};
c.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Af(){ee.call(this);this.ug=new ve(this);this.NA=this;this.ys=null}h(Af,ee);Af.prototype[qe]=!0;c=Af.prototype;c.Ao=function(){return this.ys};c.dt=function(a){this.ys=a};c.addEventListener=function(a,b,d,e){Be(this,a,b,d,e)};c.removeEventListener=function(a,b,d,e){Je(this,a,b,d,e)};
c.dispatchEvent=function(a){var b,d=this.Ao();if(d)for(b=[];d;d=d.Ao())b.push(d);d=this.NA;var e=a.type||a;if("string"===typeof a)a=new je(a,d);else if(a instanceof je)a.target=a.target||d;else{var f=a;a=new je(e,d);Nc(a,f)}f=!0;if(b)for(var g=b.length-1;!a.ij&&0<=g;g--){var k=a.currentTarget=b[g];f=Bf(k,e,!0,a)&&f}a.ij||(k=a.currentTarget=d,f=Bf(k,e,!0,a)&&f,a.ij||(f=Bf(k,e,!1,a)&&f));if(b)for(g=0;!a.ij&&g<b.length;g++)k=a.currentTarget=b[g],f=Bf(k,e,!1,a)&&f;return f};
c.Xb=function(){Af.A.Xb.call(this);this.removeAllListeners();this.ys=null};c.Qa=function(a,b,d,e){return this.ug.add(String(a),b,!1,d,e)};c.ax=function(a,b,d,e){return this.ug.add(String(a),b,!0,d,e)};c.be=function(a,b,d,e){return this.ug.remove(String(a),b,d,e)};c.removeAllListeners=function(a){return this.ug?this.ug.removeAll(a):0};
function Bf(a,b,d,e){b=a.ug.sd[String(b)];if(!b)return!0;b=b.concat();for(var f=!0,g=0;g<b.length;++g){var k=b[g];if(k&&!k.Kk&&k.capture==d){var l=k.listener,m=k.Ho||k.src;k.Jn&&xe(a.ug,k);f=!1!==l.call(m,e)&&f}}return f&&0!=e.Tx}c.Sl=function(a,b,d,e){return this.ug.Sl(String(a),b,d,e)};function Cf(){}pa(Cf);Cf.prototype.JD=0;Cf.prototype.aD="";function Df(a){Af.call(this);this.fo=a||Ue();this.Lk=Ef;this.vk=null;this.$a=!1;this.oa=null;this.uh=void 0;this.gh=this.Sc=this.Vd=this.os=null;this.hj=this.aF=!1}h(Df,Af);Df.prototype.$C=Cf.sh();var Ef=null;
function Ff(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}c=Df.prototype;c.Ka=function(){var a;(a=this.vk)||(a=this.$C,a=this.vk=a.aD+":"+(a.JD++).toString(36));return a};c.U=function(){return this.oa};
function Gf(a){a.uh||(a.uh=new xf(a));return a.uh}c.pj=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.Vd&&this.vk&&Hf(this.Vd,this.vk)&&this.Vd!=a)throw Error("Unable to set parent component");this.Vd=a;Df.A.dt.call(this,a)};c.getParent=function(){return this.Vd};c.dt=function(a){if(this.Vd&&this.Vd!=a)throw Error("Method not supported");Df.A.dt.call(this,a)};c.If=function(){return this.fo};c.ka=function(){this.oa=this.fo.createElement("DIV")};c.qa=function(a){this.Tf(a)};
c.Tf=function(a,b){if(this.$a)throw Error("Component already rendered");this.oa||this.ka();a?a.insertBefore(this.oa,b||null):this.fo.Bf.body.appendChild(this.oa);this.Vd&&!this.Vd.$a||this.Ac()};c.Ac=function(){this.$a=!0;If(this,function(a){!a.$a&&a.U()&&a.Ac()})};c.qe=function(){If(this,function(a){a.$a&&a.qe()});this.uh&&this.uh.removeAll();this.$a=!1};
c.Xb=function(){this.$a&&this.qe();this.uh&&(this.uh.L(),delete this.uh);If(this,function(a){a.L()});!this.aF&&this.oa&&df(this.oa);this.Vd=this.os=this.oa=this.gh=this.Sc=null;Df.A.Xb.call(this)};c.Gn=function(a,b){this.Wj(a,Jf(this),b)};
c.Wj=function(a,b,d){if(a.$a&&(d||!this.$a))throw Error("Component already rendered");if(0>b||b>Jf(this))throw Error("Child component index out of bounds");this.gh&&this.Sc||(this.gh={},this.Sc=[]);if(a.getParent()==this){var e=a.Ka();this.gh[e]=a;sc(this.Sc,a)}else{e=this.gh;var f=a.Ka();if(null!==e&&f in e)throw Error('The object already contains the key "'+f+'"');e[f]=a}a.pj(this);vc(this.Sc,b,0,a);a.$a&&this.$a&&a.getParent()==this?(d=this.Qd(),b=d.childNodes[b]||null,b!=a.U()&&d.insertBefore(a.U(),
b)):d?(this.oa||this.ka(),b=B(this,b+1),a.Tf(this.Qd(),b?b.oa:null)):this.$a&&!a.$a&&a.oa&&a.oa.parentNode&&1==a.oa.parentNode.nodeType&&a.Ac()};c.Qd=function(){return this.oa};function Kf(a){if(null==a.Lk){var b=a.$a?a.oa:a.fo.Bf.body;b=of(b,"direction")||(b.currentStyle?b.currentStyle.direction:null)||b.style&&b.style.direction;a.Lk="rtl"==b}return a.Lk}c.Lg=function(a){if(this.$a)throw Error("Component already rendered");this.Lk=a};function Lf(a){return!!a.Sc&&0!=a.Sc.length}
function Jf(a){return a.Sc?a.Sc.length:0}function Hf(a,b){a.gh&&b?(a=a.gh,b=(null!==a&&b in a?a[b]:void 0)||null):b=null;return b}function B(a,b){return a.Sc?a.Sc[b]||null:null}function If(a,b,d){a.Sc&&nc(a.Sc,b,d)}function Mf(a,b){return a.Sc&&b?mc(a.Sc,b):-1}c.removeChild=function(a,b){if(a){var d="string"===typeof a?a:a.Ka();a=Hf(this,d);if(d&&a){var e=this.gh;d in e&&delete e[d];sc(this.Sc,a);b&&(a.qe(),a.oa&&df(a.oa));a.pj(null)}}if(!a)throw Error("Child is not in parent component");return a};
c.Px=function(a){for(var b=[];Lf(this);)b.push(this.removeChild(B(this,0),a));return b};var Nf;Oc("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));function Of(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}
function C(a,b,d){ra(d)&&(d=d.join(" "));var e="aria-"+b;""===d||void 0==d?(Nf||(Nf={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),d=Nf,b in d?a.setAttribute(e,d[b]):a.removeAttribute(e)):a.setAttribute(e,d)};function Pf(a,b,d,e,f,g){if(Qd&&!Xd("525"))return!0;if(Rd&&f)return Qf(a);if(f&&!e)return!1;if(!Pd){"number"===typeof b&&(b=Rf(b));var k=17==b||18==b||Rd&&91==b;if((!d||Rd)&&k||Rd&&16==b&&(e||g))return!1}if((Qd||Od)&&e&&d)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(z&&e&&b==a)return!1;switch(a){case 13:return Pd?g||f?!1:!(d&&e):!0;case 27:return!(Qd||Od||Pd)}return Pd&&(e||f||g)?!1:Qf(a)}
function Qf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(Qd||Od)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Pd;default:return!1}}function Rf(a){if(Pd)a=Sf(a);else if(Rd&&Qd)switch(a){case 93:a=91}return a}
function Sf(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Tf(a,b){Af.call(this);a&&Uf(this,a,b)}h(Tf,Af);c=Tf.prototype;c.oa=null;c.Uo=null;c.bs=null;c.Vo=null;c.Cd=-1;c.Pf=-1;c.rq=!1;
var Vf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Wf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Xf=!Qd||Xd("525"),Yf=Rd&&Pd;c=Tf.prototype;
c.JC=function(a){if(Qd||Od)if(17==this.Cd&&!a.ctrlKey||18==this.Cd&&!a.altKey||Rd&&91==this.Cd&&!a.metaKey)this.Pf=this.Cd=-1;-1==this.Cd&&(a.ctrlKey&&17!=a.keyCode?this.Cd=17:a.altKey&&18!=a.keyCode?this.Cd=18:a.metaKey&&91!=a.keyCode&&(this.Cd=91));Xf&&!Pf(a.keyCode,this.Cd,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.Pf=Rf(a.keyCode),Yf&&(this.rq=a.altKey))};c.KC=function(a){this.Pf=this.Cd=-1;this.rq=a.altKey};
c.handleEvent=function(a){var b=a.Ef,d=b.altKey;if(z&&"keypress"==a.type){var e=this.Pf;var f=13!=e&&27!=e?b.keyCode:0}else(Qd||Od)&&"keypress"==a.type?(e=this.Pf,f=0<=b.charCode&&63232>b.charCode&&Qf(e)?b.charCode:0):Nd&&!Qd?(e=this.Pf,f=Qf(e)?b.keyCode:0):("keypress"==a.type?(Yf&&(d=this.rq),b.keyCode==b.charCode?32>b.keyCode?(e=b.keyCode,f=0):(e=this.Pf,f=b.charCode):(e=b.keyCode||this.Pf,f=b.charCode||0)):(e=b.keyCode||this.Pf,f=b.charCode||0),Rd&&63==f&&224==e&&(e=191));var g=e=Rf(e);e?63232<=
e&&e in Vf?g=Vf[e]:25==e&&a.shiftKey&&(g=9):b.keyIdentifier&&b.keyIdentifier in Wf&&(g=Wf[b.keyIdentifier]);Pd&&Xf&&"keypress"==a.type&&!Pf(g,this.Cd,a.shiftKey,a.ctrlKey,d,a.metaKey)||(a=g==this.Cd,this.Cd=g,b=new Zf(g,f,a,b),b.altKey=d,this.dispatchEvent(b))};c.U=function(){return this.oa};function Uf(a,b,d){a.Vo&&a.detach();a.oa=b;a.Uo=Be(a.oa,"keypress",a,d);a.bs=Be(a.oa,"keydown",a.JC,d,a);a.Vo=Be(a.oa,"keyup",a.KC,d,a)}
c.detach=function(){this.Uo&&(Ke(this.Uo),Ke(this.bs),Ke(this.Vo),this.Vo=this.bs=this.Uo=null);this.oa=null;this.Pf=this.Cd=-1};c.Xb=function(){Tf.A.Xb.call(this);this.detach()};function Zf(a,b,d,e){me.call(this,e);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=d}h(Zf,me);function $f(a){return"string"==typeof a.className?a.className:a.getAttribute&&a.getAttribute("class")||""}function ag(a){return a.classList?a.classList:$f(a).match(/\S+/g)||[]}function bg(a,b){"string"==typeof a.className?a.className=b:a.setAttribute&&a.setAttribute("class",b)}function cg(a,b){return a.classList?a.classList.contains(b):rc(ag(a),b)}function dg(a,b){if(a.classList)a.classList.add(b);else if(!cg(a,b)){var d=$f(a);bg(a,d+(0<d.length?" "+b:b))}}
function eg(a,b){if(a.classList)nc(b,function(f){dg(a,f)});else{var d={};nc(ag(a),function(f){d[f]=!0});nc(b,function(f){d[f]=!0});b="";for(var e in d)b+=0<b.length?" "+e:e;bg(a,b)}}function fg(a,b){a.classList?a.classList.remove(b):cg(a,b)&&bg(a,oc(ag(a),function(d){return d!=b}).join(" "))}function gg(a,b){a.classList?nc(b,function(d){fg(a,d)}):bg(a,oc(ag(a),function(d){return!rc(b,d)}).join(" "))};function hg(a,b){if(!a)throw Error("Invalid class name "+a);if(!ta(b))throw Error("Invalid decorator function "+b);}var ig={};function jg(a){this.Su=a}pa(jg);c=jg.prototype;c.oo=function(){return this.Su};function kg(a,b){a&&(a.tabIndex=b?0:-1)}c.ka=function(a){return a.If().ka("DIV",this.uo(a).join(" "))};c.Qd=function(a){return a};c.fm=function(a){a=a.U();uf(a,!0,Pd);z&&(a.hideFocus=!0);var b=this.oo();b&&Of(a,b)};c.jc=function(a){return a.U()};c.Vc=function(){return"goog-container"};c.uo=function(a){var b=this.Vc(),d=[b,a.ej==lg?b+"-horizontal":b+"-vertical"];a.isEnabled()||d.push(b+"-disabled");return d};function mg(){}var ng;pa(mg);var og={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};c=mg.prototype;c.oo=function(){};c.ka=function(a){return a.If().ka("DIV",this.uo(a).join(" "),a.rh())};c.Qd=function(a){return a};c.Ml=function(a,b,d){if(a=a.U?a.U():a){var e=[b];z&&!Xd("7")&&(e=pg(ag(a),b),e.push(b));(d?eg:gg)(a,e)}};c.fm=function(a){Kf(a)&&this.Lg(a.U(),!0);a.isEnabled()&&this.Vh(a,a.isVisible())};
function qg(a,b,d){if(a=d||a.oo())d=b.getAttribute("role")||null,a!=d&&Of(b,a)}function rg(a,b,d){var e=b.Ru;null!=e&&a.Xs(d,e);b.isVisible()||C(d,"hidden",!b.isVisible());b.isEnabled()||sg(d,1,!b.isEnabled());b.Tb&8&&sg(d,8,b.Ro());b.Tb&16&&sg(d,16,!!(b.Sb&16));b.Tb&64&&sg(d,64,b.zk())}c.Xs=function(a,b){C(a,"label",b)};c.Ws=function(a,b){uf(a,!b,!z&&!Nd)};c.Lg=function(a,b){this.Ml(a,this.Vc()+"-rtl",b)};c.Bh=function(a){var b;return a.Tb&32&&(b=a.jc())?jf(b)&&kf(b):!1};
c.Vh=function(a,b){var d;if(a.Tb&32&&(d=a.jc())){if(!b&&a.Sb&32){try{d.blur()}catch(e){}a.Sb&32&&a.Xl(null)}(jf(d)&&kf(d))!=b&&(a=d,b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex")))}};c.Ha=function(a,b){sf(a,b);a&&C(a,"hidden",!b)};c.ef=function(a,b,d){var e=a.U();if(e){var f=this.to(b);f&&this.Ml(a,f,d);sg(e,b,d)}};
function sg(a,b,d){ng||(ng={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=ng[b];var e=a.getAttribute("role")||null;e&&(e=og[e]||b,b="checked"==b||"selected"==b?e:b);b&&C(a,b,d)}c.Uf=function(a,b){var d=this.Qd(a);d&&(cf(d),b&&("string"===typeof b?ff(d,b):(a=function(e){if(e){var f=We(d);d.appendChild("string"===typeof e?f.createTextNode(e):e)}},ra(b)?nc(b,a):!sa(b)||"nodeType"in b?a(b):nc(uc(b),a))))};c.jc=function(a){return a.U()};c.Vc=function(){return"goog-control"};
c.uo=function(a){var b=this.Vc(),d=[b],e=this.Vc();e!=b&&d.push(e);b=a.getState();for(e=[];b;){var f=b&-b;e.push(this.to(f));b&=~f}d.push.apply(d,e);(a=a.Ff)&&d.push.apply(d,a);z&&!Xd("7")&&d.push.apply(d,pg(d));return d};function pg(a,b){var d=[];b&&(a=tc(a,[b]));nc([],function(e){!qc(e,Ba(rc,a))||b&&!rc(e,b)||d.push(e.join("_"))});return d}
c.to=function(a){if(!this.cv){var b=this.Vc();b.replace(/\xa0|\s/g," ");this.cv={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}}return this.cv[a]};function tg(a,b,d){Df.call(this,d);if(!b){b=this.constructor;for(var e;b;){e=va(b);if(e=ig[e])break;b=b.A?b.A.constructor:null}b=e?ta(e.sh)?e.sh():new e:null}this.Ta=b;this.ic=void 0!==a?a:null;this.Ru=null}h(tg,Df);c=tg.prototype;c.ic=null;c.Sb=0;c.Tb=39;c.WA=255;c.Lm=0;c.Kb=!0;c.Ff=null;c.Yl=!0;c.qq=!1;c.mE=null;c.jc=function(){return this.Ta.jc(this)};c.yo=function(){return this.Zc||(this.Zc=new Tf)};
c.Ml=function(a,b){b?a&&(this.Ff?rc(this.Ff,a)||this.Ff.push(a):this.Ff=[a],this.Ta.Ml(this,a,!0)):a&&this.Ff&&sc(this.Ff,a)&&(0==this.Ff.length&&(this.Ff=null),this.Ta.Ml(this,a,!1))};c.ka=function(){var a=this.Ta.ka(this);this.oa=a;qg(this.Ta,a,this.Bo());this.qq||this.Ta.Ws(a,!1);this.isVisible()||this.Ta.Ha(a,!1)};c.Bo=function(){return this.mE};c.Xs=function(a){this.Ru=a;var b=this.U();b&&this.Ta.Xs(b,a)};c.Qd=function(){return this.Ta.Qd(this.U())};
c.Ac=function(){tg.A.Ac.call(this);rg(this.Ta,this,this.oa);this.Ta.fm(this);if(this.Tb&-2&&(this.Yl&&ug(this,!0),this.Tb&32)){var a=this.jc();if(a){var b=this.yo();Uf(b,a);Gf(this).Qa(b,"key",this.Ue).Qa(a,"focus",this.Fo).Qa(a,"blur",this.Xl)}}};
function ug(a,b){var d=a.hj?ke:le,e=Gf(a),f=a.U();b?(e.Qa(f,d.ki,a.pk).Qa(f,[d.li,d.Mj],a.qk).Qa(f,"mouseover",a.Hr).Qa(f,"mouseout",a.Gr),a.hj&&e.Qa(f,"gotpointercapture",a.np),a.nk!=oa&&e.Qa(f,"contextmenu",a.nk),z&&(Xd(9)||e.Qa(f,"dblclick",a.Aw),a.dm||(a.dm=new vg(a),he(a,Ba(ie,a.dm))))):(e.be(f,d.ki,a.pk).be(f,[d.li,d.Mj],a.qk).be(f,"mouseover",a.Hr).be(f,"mouseout",a.Gr),a.hj&&e.be(f,"gotpointercapture",a.np),a.nk!=oa&&e.be(f,"contextmenu",a.nk),z&&(Xd(9)||e.be(f,"dblclick",a.Aw),ie(a.dm),a.dm=
null))}c.qe=function(){tg.A.qe.call(this);this.Zc&&this.Zc.detach();this.isVisible()&&this.isEnabled()&&this.Ta.Vh(this,!1)};c.Xb=function(){tg.A.Xb.call(this);this.Zc&&(this.Zc.L(),delete this.Zc);delete this.Ta;this.dm=this.Ff=this.ic=null};c.rh=function(){return this.ic};c.Uf=function(a){this.Ta.Uf(this.U(),a);this.ic=a};
c.ur=function(){var a=this.rh();if(!a)return"";if("string"!==typeof a)if(ra(a))a=pc(a,lf).join("");else{if(Se&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];mf(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Se||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}return Fd(a)};c.Lg=function(a){tg.A.Lg.call(this,a);var b=this.U();b&&this.Ta.Lg(b,a)};c.Ws=function(a){this.qq=a;var b=this.U();b&&this.Ta.Ws(b,a)};
c.isVisible=function(){return this.Kb};c.Ha=function(a,b){return b||this.Kb!=a&&this.dispatchEvent(a?"show":"hide")?((b=this.U())&&this.Ta.Ha(b,a),this.isEnabled()&&this.Ta.Vh(this,a),this.Kb=a,!0):!1};c.isEnabled=function(){return!(this.Sb&1)};c.Ed=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!wg(this,1,!a)||(a||(this.setActive(!1),this.Fd(!1)),this.isVisible()&&this.Ta.Vh(this,a),this.ef(1,!a,!0))};c.Fd=function(a){wg(this,2,a)&&this.ef(2,a)};
c.setActive=function(a){wg(this,4,a)&&this.ef(4,a)};c.Ro=function(){return!!(this.Sb&8)};function xg(a,b){wg(a,16,b)&&a.ef(16,b)}c.zk=function(){return!!(this.Sb&64)};function yg(a,b){wg(a,64,b)&&a.ef(64,b)}c.getState=function(){return this.Sb};c.ef=function(a,b,d){d||1!=a?this.Tb&a&&b!=!!(this.Sb&a)&&(this.Ta.ef(this,a,b),this.Sb=b?this.Sb|a:this.Sb&~a):this.Ed(!b)};
c.Xd=function(a,b){if(this.$a&&this.Sb&a&&!b)throw Error("Component already rendered");!b&&this.Sb&a&&this.ef(a,!1);this.Tb=b?this.Tb|a:this.Tb&~a};function zg(a,b){return!!(a.WA&b)&&!!(a.Tb&b)}function wg(a,b,d){return!!(a.Tb&b)&&!!(a.Sb&b)!=d&&(!(a.Lm&b)||a.dispatchEvent(Ff(b,d)))&&!a.sg}c.Hr=function(a){!Ag(a,this.U())&&this.dispatchEvent("enter")&&this.isEnabled()&&zg(this,2)&&this.Fd(!0)};
c.Gr=function(a){!Ag(a,this.U())&&this.dispatchEvent("leave")&&(zg(this,4)&&this.setActive(!1),zg(this,2)&&this.Fd(!1))};c.np=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};c.nk=oa;function Ag(a,b){return!!a.relatedTarget&&ef(b,a.relatedTarget)}c.pk=function(a){this.isEnabled()&&(zg(this,2)&&this.Fd(!0),!pe(a)||Qd&&Rd&&a.ctrlKey||(zg(this,4)&&this.setActive(!0),this.Ta&&this.Ta.Bh(this)&&this.jc().focus()));this.qq||!pe(a)||Qd&&Rd&&a.ctrlKey||a.preventDefault()};
c.qk=function(a){this.isEnabled()&&(zg(this,2)&&this.Fd(!0),this.Sb&4&&Bg(this,a)&&zg(this,4)&&this.setActive(!1))};c.Aw=function(a){this.isEnabled()&&Bg(this,a)};function Bg(a,b){zg(a,16)&&xg(a,!(a.Sb&16));zg(a,8)&&wg(a,8,!0)&&a.ef(8,!0);zg(a,64)&&yg(a,!a.zk());var d=new je("action",a);b&&(d.altKey=b.altKey,d.ctrlKey=b.ctrlKey,d.metaKey=b.metaKey,d.shiftKey=b.shiftKey,d.Ds=b.Ds);return a.dispatchEvent(d)}c.Fo=function(){zg(this,32)&&wg(this,32,!0)&&this.ef(32,!0)};
c.Xl=function(){zg(this,4)&&this.setActive(!1);zg(this,32)&&wg(this,32,!1)&&this.ef(32,!1)};c.Ue=function(a){return this.isVisible()&&this.isEnabled()&&this.Ki(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};c.Ki=function(a){return 13==a.keyCode&&Bg(this,a)};if(!ta(tg))throw Error("Invalid component class "+tg);if(!ta(mg))throw Error("Invalid renderer class "+mg);var Cg=va(tg);ig[Cg]=mg;hg("goog-control",function(){return new tg(null)});
function vg(a){ee.call(this);this.Tn=a;this.Ln=!1;this.rk=new xf(this);he(this,Ba(ie,this.rk));var b=this.Tn.oa;a=a.hj?ke:le;this.rk.Qa(b,a.ki,this.MC).Qa(b,a.li,this.NC).Qa(b,"click",this.DC)}h(vg,ee);var Dg=!z||9<=Number(Yd);vg.prototype.MC=function(){this.Ln=!1};vg.prototype.NC=function(){this.Ln=!0};
function Eg(a,b){if(!Dg)return a.button=0,a.type=b,a;var d=document.createEvent("MouseEvents");d.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return d}vg.prototype.DC=function(a){if(this.Ln)this.Ln=!1;else{var b=a.Ef,d=b.button,e=b.type,f=Eg(b,"mousedown");this.Tn.pk(new me(f,a.currentTarget));f=Eg(b,"mouseup");this.Tn.qk(new me(f,a.currentTarget));Dg||(b.button=d,b.type=e)}};
vg.prototype.Xb=function(){this.Tn=null;vg.A.Xb.call(this)};function Fg(a,b,d){Df.call(this,d);this.Ta=b||jg.sh();this.ej=a||Gg}h(Fg,Df);var lg="horizontal",Gg="vertical";c=Fg.prototype;c.cs=null;c.Zc=null;c.Ta=null;c.ej=null;c.Kb=!0;c.Fi=!0;c.rr=!0;c.ub=-1;c.ac=null;c.Fk=!1;c.SA=!1;c.fE=!0;c.og=null;c.jc=function(){return this.cs||this.Ta.jc(this)};c.yo=function(){return this.Zc||(this.Zc=new Tf(this.jc()))};c.ka=function(){this.oa=this.Ta.ka(this)};c.Qd=function(){return this.Ta.Qd(this.U())};
c.Ac=function(){Fg.A.Ac.call(this);If(this,function(d){d.$a&&Hg(this,d)},this);var a=this.U();this.Ta.fm(this);this.Ha(this.Kb,!0);var b=this.hj?ke:le;Gf(this).Qa(this,"enter",this.Er).Qa(this,"highlight",this.IC).Qa(this,"unhighlight",this.RC).Qa(this,"open",this.OC).Qa(this,"close",this.EC).Qa(a,b.ki,this.pk).Qa(We(a),[b.li,b.Mj],this.FC).Qa(a,[b.ki,b.li,b.Mj,"mouseover","mouseout","contextmenu"],this.CC);this.hj&&Gf(this).Qa(a,"gotpointercapture",this.np);this.Bh()&&Ig(this,!0)};
c.np=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};function Ig(a,b){var d=Gf(a),e=a.jc();b?d.Qa(e,"focus",a.Fo).Qa(e,"blur",a.Xl).Qa(a.yo(),"key",a.Ue):d.be(e,"focus",a.Fo).be(e,"blur",a.Xl).be(a.yo(),"key",a.Ue)}c.qe=function(){this.Nk(-1);this.ac&&yg(this.ac,!1);this.Fk=!1;Fg.A.qe.call(this)};c.Xb=function(){Fg.A.Xb.call(this);this.Zc&&(this.Zc.L(),this.Zc=null);this.Ta=this.ac=this.og=this.cs=null};c.Er=function(){return!0};
c.IC=function(a){var b=Mf(this,a.target);if(-1<b&&b!=this.ub){var d=B(this,this.ub);d&&d.Fd(!1);this.ub=b;d=B(this,this.ub);this.Fk&&d.setActive(!0);this.fE&&this.ac&&d!=this.ac&&(d.Tb&64?yg(d,!0):yg(this.ac,!1))}b=this.U();null!=a.target.U()&&C(b,"activedescendant",a.target.U().id)};c.RC=function(a){a.target==B(this,this.ub)&&(this.ub=-1);this.U().removeAttribute("aria-activedescendant")};c.OC=function(a){(a=a.target)&&a!=this.ac&&a.getParent()==this&&(this.ac&&yg(this.ac,!1),this.ac=a)};
c.EC=function(a){a.target==this.ac&&(this.ac=null);var b=this.U(),d=a.target.U();b&&a.target.Sb&2&&d&&(a="",d&&(a=d.id),C(b,"activedescendant",a))};c.pk=function(a){this.Fi&&(this.Fk=!0);var b=this.jc();b&&jf(b)&&kf(b)?b.focus():a.preventDefault()};c.FC=function(){this.Fk=!1};
c.CC=function(a){var b=this.hj?ke:le;a:{var d=a.target;if(this.og)for(var e=this.U();d&&d!==e;){var f=d.id;if(f in this.og){d=this.og[f];break a}d=d.parentNode}d=null}if(d)switch(a.type){case b.ki:d.pk(a);break;case b.li:case b.Mj:d.qk(a);break;case "mouseover":d.Hr(a);break;case "mouseout":d.Gr(a);break;case "contextmenu":d.nk(a)}};c.Fo=function(){};c.Xl=function(){this.Nk(-1);this.Fk=!1;this.ac&&yg(this.ac,!1)};
c.Ue=function(a){return this.isEnabled()&&this.isVisible()&&(0!=Jf(this)||this.cs)&&this.Ki(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
c.Ki=function(a){var b=B(this,this.ub);if(b&&"function"==typeof b.Ue&&b.Ue(a)||this.ac&&this.ac!=b&&"function"==typeof this.ac.Ue&&this.ac.Ue(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Bh())this.jc().blur();else return!1;break;case 36:Jg(this);break;case 35:Kg(this);break;case 38:if(this.ej==Gg)Lg(this);else return!1;break;case 37:if(this.ej==lg)Kf(this)?Mg(this):Lg(this);else return!1;break;case 40:if(this.ej==Gg)Mg(this);else return!1;break;
case 39:if(this.ej==lg)Kf(this)?Lg(this):Mg(this);else return!1;break;default:return!1}return!0};function Hg(a,b){var d=b.U();d=d.id||(d.id=b.Ka());a.og||(a.og={});a.og[d]=b}c.Gn=function(a,b){Fg.A.Gn.call(this,a,b)};
c.Wj=function(a,b,d){a.Lm|=2;a.Lm|=64;!this.Bh()&&this.SA||a.Xd(32,!1);a.$a&&0!=a.Yl&&ug(a,!1);a.Yl=!1;var e=a.getParent()==this?Mf(this,a):-1;Fg.A.Wj.call(this,a,b,d);a.$a&&this.$a&&Hg(this,a);a=e;-1==a&&(a=Jf(this));a==this.ub?this.ub=Math.min(Jf(this)-1,b):a>this.ub&&b<=this.ub?this.ub++:a<this.ub&&b>this.ub&&this.ub--};
c.removeChild=function(a,b){if(a="string"===typeof a?Hf(this,a):a){var d=Mf(this,a);-1!=d&&(d==this.ub?(a.Fd(!1),this.ub=-1):d<this.ub&&this.ub--);var e=a.U();e&&e.id&&this.og&&(d=this.og,e=e.id,e in d&&delete d[e])}b=a=Fg.A.removeChild.call(this,a,b);b.$a&&1!=b.Yl&&ug(b,!0);b.Yl=!0;return a};c.setOrientation=function(a){if(this.U())throw Error("Component already rendered");this.ej=a};c.isVisible=function(){return this.Kb};
c.Ha=function(a,b){if(b||this.Kb!=a&&this.dispatchEvent(a?"show":"hide")){this.Kb=a;var d=this.U();d&&(sf(d,a),this.Bh()&&kg(this.jc(),this.Fi&&this.Kb),b||this.dispatchEvent(this.Kb?"aftershow":"afterhide"));return!0}return!1};c.isEnabled=function(){return this.Fi};
c.Ed=function(a){this.Fi!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.Fi=!0,If(this,function(b){b.Ly?delete b.Ly:b.Ed(!0)})):(If(this,function(b){b.isEnabled()?b.Ed(!1):b.Ly=!0}),this.Fk=this.Fi=!1),this.Bh()&&kg(this.jc(),a&&this.Kb))};c.Bh=function(){return this.rr};c.Vh=function(a){a!=this.rr&&this.$a&&Ig(this,a);this.rr=a;this.Fi&&this.Kb&&kg(this.jc(),a)};c.Nk=function(a){(a=B(this,a))?a.Fd(!0):-1<this.ub&&B(this,this.ub).Fd(!1)};c.Fd=function(a){this.Nk(Mf(this,a))};
function Jg(a){Ng(a,function(b,d){return(b+1)%d},Jf(a)-1)}function Kg(a){Ng(a,function(b,d){b--;return 0>b?d-1:b},0)}function Mg(a){Ng(a,function(b,d){return(b+1)%d},a.ub)}function Lg(a){Ng(a,function(b,d){b--;return 0>b?d-1:b},a.ub)}function Ng(a,b,d){d=0>d?Mf(a,a.ac):d;var e=Jf(a);d=b.call(a,d,e);for(var f=0;f<=e;){var g=B(a,d);if(g&&a.Zu(g)){a.Nk(d);break}f++;d=b.call(a,d,e)}}c.Zu=function(a){return a.isVisible()&&a.isEnabled()&&!!(a.Tb&2)};function Og(){}h(Og,mg);pa(Og);Og.prototype.Vc=function(){return"goog-menuheader"};function Pg(a,b,d){tg.call(this,a,d||Og.sh(),b);this.Xd(1,!1);this.Xd(2,!1);this.Xd(4,!1);this.Xd(32,!1);this.Sb=1}h(Pg,tg);hg("goog-menuheader",function(){return new Pg(null)});function Qg(){this.dv=[]}h(Qg,mg);pa(Qg);function Rg(a,b){var d=a.dv[b];if(!d){switch(b){case 0:d=a.Vc()+"-highlight";break;case 1:d=a.Vc()+"-checkbox";break;case 2:d=a.Vc()+"-content"}a.dv[b]=d}return d}c=Qg.prototype;c.oo=function(){return"menuitem"};c.ka=function(a){var b=a.If().ka("DIV",this.uo(a).join(" "),Sg(this,a.rh(),a.If()));Tg(this,a,b,!!(a.Tb&8)||!!(a.Tb&16));return b};c.Qd=function(a){return a&&a.firstChild};
c.Uf=function(a,b){var d=this.Qd(a),e=Ug(this,a)?d.firstChild:null;Qg.A.Uf.call(this,a,b);e&&!Ug(this,a)&&d.insertBefore(e,d.firstChild||null)};function Sg(a,b,d){a=Rg(a,2);return d.ka("DIV",a,b)}c.ey=function(a,b,d){a&&b&&Tg(this,a,b,d)};c.Zs=function(a,b,d){a&&b&&Tg(this,a,b,d)};function Ug(a,b){return(b=a.Qd(b))?(b=b.firstChild,a=Rg(a,1),!!b&&ua(b)&&1==b.nodeType&&cg(b,a)):!1}
function Tg(a,b,d,e){qg(a,d,b.Bo());rg(a,b,d);e!=Ug(a,d)&&(e?dg(d,"goog-option"):fg(d,"goog-option"),d=a.Qd(d),e?(a=Rg(a,1),d.insertBefore(b.If().ka("DIV",a),d.firstChild||null)):d.removeChild(d.firstChild))}c.to=function(a){switch(a){case 2:return Rg(this,0);case 16:case 8:return"goog-option-selected";default:return Qg.A.to.call(this,a)}};c.Vc=function(){return"goog-menuitem"};function Vg(a,b,d,e){tg.call(this,a,e||Qg.sh(),d);this.setValue(b)}h(Vg,tg);c=Vg.prototype;c.getValue=function(){var a=this.os;return null!=a?a:this.ur()};c.setValue=function(a){this.os=a};c.Xd=function(a,b){Vg.A.Xd.call(this,a,b);switch(a){case 8:this.Sb&16&&!b&&xg(this,!1);(a=this.U())&&this.Ta.ey(this,a,b);break;case 16:(a=this.U())&&this.Ta.Zs(this,a,b)}};c.ey=function(a){this.Xd(8,a)};c.Zs=function(a){this.Xd(16,a)};
c.ur=function(){var a=this.rh();return ra(a)?(a=pc(a,function(b){return ua(b)&&1==b.nodeType&&(cg(b,"goog-menuitem-accel")||cg(b,"goog-menuitem-mnemonic-separator"))?"":lf(b)}).join(""),Fd(a)):Vg.A.ur.call(this)};c.qk=function(a){var b=this.getParent();if(b){var d=b.zx;b.zx=null;if(d&&"number"==typeof a.clientX&&Pe(d,new Oe(a.clientX,a.clientY)))return}Vg.A.qk.call(this,a)};c.Ki=function(a){return a.keyCode==this.hx&&Bg(this,a)?!0:Vg.A.Ki.call(this,a)};c.vC=function(){return this.hx};
hg("goog-menuitem",function(){return new Vg(null)});Vg.prototype.Bo=function(){return this.Tb&16?"menuitemcheckbox":this.Tb&8?"menuitemradio":Vg.A.Bo.call(this)};Vg.prototype.getParent=function(){return tg.prototype.getParent.call(this)};Vg.prototype.Ao=function(){return tg.prototype.Ao.call(this)};function Wg(){}h(Wg,mg);pa(Wg);Wg.prototype.ka=function(a){return a.If().ka("DIV",this.Vc())};Wg.prototype.Uf=function(){};Wg.prototype.Vc=function(){return"goog-menuseparator"};function Xg(a,b){tg.call(this,null,a||Wg.sh(),b);this.Xd(1,!1);this.Xd(2,!1);this.Xd(4,!1);this.Xd(32,!1);this.Sb=1}h(Xg,tg);Xg.prototype.Ac=function(){Xg.A.Ac.call(this);var a=this.U();Of(a,"separator")};hg("goog-menuseparator",function(){return new Xg});function Yg(a){this.Su=a||"menu"}h(Yg,jg);pa(Yg);Yg.prototype.Vc=function(){return"goog-menu"};Yg.prototype.fm=function(a){Yg.A.fm.call(this,a);a=a.U();C(a,"haspopup","true")};hg("goog-menuseparator",function(){return new Xg});function Zg(a,b){Fg.call(this,Gg,b||Yg.sh(),a);this.Vh(!1)}h(Zg,Fg);c=Zg.prototype;c.Hn=!0;c.TA=!1;c.Vc=function(){return this.Ta.Vc()};c.removeItem=function(a){(a=this.removeChild(a,!0))&&a.L()};c.setPosition=function(a,b){var d=this.isVisible();d||sf(this.U(),!0);var e=this.U(),f=a;a=qf(e);f instanceof Oe&&(b=f.y,f=f.x);var g=e.offsetLeft+(f-a.x);g instanceof Oe?(f=g.x,b=g.y):(f=g,b=e.offsetTop+(Number(b)-a.y));e.style.left=rf(f);e.style.top=rf(b);d||sf(this.U(),!1)};
c.rw=function(){return this.isVisible()?qf(this.U()):null};c.Ha=function(a,b,d){(b=Zg.A.Ha.call(this,a,b))&&a&&this.$a&&this.Hn&&this.jc().focus();this.zx=a&&d&&"number"==typeof d.clientX?new Oe(d.clientX,d.clientY):null;return b};c.Er=function(a){this.Hn&&this.jc().focus();return Zg.A.Er.call(this,a)};c.Zu=function(a){return(this.TA||a.isEnabled())&&a.isVisible()&&!!(a.Tb&2)};
c.Ki=function(a){var b=Zg.A.Ki.call(this,a);b||If(this,function(d){!b&&d.vC&&d.hx==a.keyCode&&(this.isEnabled()&&this.Fd(d),b=d.Ue(a))},this);return b};
c.Nk=function(a){Zg.A.Nk.call(this,a);if(a=B(this,a)){var b=a.U();a=this.U()||Ze(document);var d=a||Ze(document);var e=qf(b),f=qf(d);if(!z||9<=Number(Yd)){k=of(d,"borderLeftWidth");var g=of(d,"borderRightWidth");l=of(d,"borderTopWidth");m=of(d,"borderBottomWidth");g=new nf(parseFloat(l),parseFloat(g),parseFloat(m),parseFloat(k))}else{var k=wf(d,"borderLeft");g=wf(d,"borderRight");var l=wf(d,"borderTop"),m=wf(d,"borderBottom");g=new nf(l,g,m,k)}d==Ze(document)?(k=e.x-d.scrollLeft,e=e.y-d.scrollTop,
!z||10<=Number(Yd)||(k+=g.left,e+=g.top)):(k=e.x-f.x-g.left,e=e.y-f.y-g.top);f=b.offsetWidth;g=b.offsetHeight;l=Qd&&!f&&!g;(void 0===f||l)&&b.getBoundingClientRect?(b=pf(b),b=new Te(b.right-b.left,b.bottom-b.top)):b=new Te(f,g);f=d.clientHeight-b.height;g=d.scrollLeft;l=d.scrollTop;g+=Math.min(k,Math.max(k-(d.clientWidth-b.width),0));l+=Math.min(e,Math.max(e-f,0));d=new Oe(g,l);a.scrollLeft=d.x;a.scrollTop=d.y}};n.Ea=function(a,b){"function"!=typeof a&&n.Ea.Gy(a);this.Zi=a;this.mt=this.Es=null;a=this.Zi;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=n.g.bc(f):(null!=f.alt&&(a[e][0].alt=n.g.bc(f.alt)),d=!0)}if(!(d||2>a.length)){d=[];for(e=0;e<a.length;e++)d.push(a[e][0]);e=n.g.Xa.gt(d);f=n.g.Xa.wB(d,e);var g=n.g.Xa.xB(d,e);!f&&!g||e<=f+g||(f&&(this.Es=d[0].substring(0,f-1)),g&&(this.mt=d[0].substr(1-g)),this.Zi=n.Ea.UA(a,f,g))}}a=this.getOptions()[0];n.Ea.A.constructor.call(this,
a[1],b)};h(n.Ea,n.R);n.Ea.pa=function(a){return new n.Ea(a.options)};n.Ea.prototype.hg=!0;n.Ea.Gt=25;n.Ea.Sz=.45;n.Ea.Ut=5;n.Ea.Dz=2*n.Ea.Ut;n.Ea.yt=n.g.userAgent.Ej?"\u25bc":"\u25be";c=n.Ea.prototype;c.nn="default";c.Bd=null;c.wh=null;c.Mf=function(){n.Ea.A.Mf.call(this);this.Bd=n.g.j.J("image",{y:n.Ea.Ut},this.Re);this.Ne=n.g.j.J("tspan",{},this.Hb);this.Ne.appendChild(document.createTextNode(this.H.C?n.Ea.yt+" ":" "+n.Ea.yt));this.H.C?this.Hb.insertBefore(this.Ne,this.Rm):this.Hb.appendChild(this.Ne)};
c.ff=function(){n.Z.show(this,this.H.C,this.tt.bind(this));this.rm=this.st();this.rm.qa(n.Z.wa);n.g.j.fb(this.rm.U(),"blocklyDropdownMenu");var a=this.rm,b=n.g.vw(),d=gc(this);this.H.C?d.right+=n.Ea.Gt:d.left-=n.Ea.Gt;a=n.g.Vk.yg(a);var e=n.Ea.Sz*document.documentElement.clientHeight;a.height>e&&(a.height=e);this.H.C&&n.g.Vk.Pu(b,d,a);n.Z.Gx(b,d,a,this.H.C);b=this.rm;b.Hn=!0;b.Vh(!0);this.rm.U().focus()};
c.st=function(){var a=new Zg;a.Lg(this.H.C);for(var b=this.getOptions(),d=0;d<b.length;d++){var e=b[d][0],f=b[d][1];if("object"==typeof e){var g=new Image(e.width,e.height);g.src=e.src;g.alt=e.alt||"";e=g}e=new Vg(e);e.Lg(this.H.C);e.setValue(f);e.Zs(!0);a.Gn(e,!0);xg(e,f==this.Aa)}this.xD=Be(a,"action",this.LC,!1,this);return a};c.tt=function(){Ke(this.xD)};c.LC=function(a){n.Z.Oi(this);this.ux(a.target)};c.ux=function(a){this.setValue(a.getValue())};
n.Ea.UA=function(a,b,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(b,g.length-d);e[f]=[g,k]}return e};c=n.Ea.prototype;c.getOptions=function(){if("function"==typeof this.Zi){var a=this.Zi.call(this);n.Ea.Gy(a);return a}return this.Zi};
c.Tc=function(a){for(var b=!1,d=this.getOptions(),e=0,f;f=d[e];e++)if(f[1]==a){b=!0;break}return b?a:(this.H&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.H.type+", Field name: "+this.name+", Value: "+a),null)};c.nh=function(a){n.Ea.A.nh.call(this,a);a=this.getOptions();for(var b=0,d;d=a[b];b++)d[1]==this.Aa&&(d=d[0],"object"==typeof d?(this.wh=d,this.xa=d.alt):(this.wh=null,this.xa=d))};
c.Be=function(){this.H&&this.Ne&&(this.Ne.style.fill=this.H.bb?$g(this.H):this.H.hh)};
c.Tf=function(){this.Rm.nodeValue="";this.Bd.style.display="none";if(this.wh){this.Bd.style.display="";this.Bd.setAttributeNS(n.g.j.ta,"xlink:href",this.wh.src);this.Bd.setAttribute("height",this.wh.height);this.Bd.setAttribute("width",this.wh.width);var a=n.R.ro(this.Ne),b=Number(this.wh.width);this.rb.height=Number(this.wh.height)+n.Ea.Dz;this.rb.width=b+a+n.R.tl;this.H.C?(b=n.R.ei-1,this.Bd.setAttribute("x",n.R.ei+a),this.Hb.setAttribute("x",b)):(b=b+a+n.R.ei+1,this.Hb.setAttribute("text-anchor",
"end"),this.Hb.setAttribute("x",b),this.Bd.setAttribute("x",n.R.ei))}else this.Rm.nodeValue=fc(this),this.Hb.setAttribute("text-anchor","start"),this.Hb.setAttribute("x",n.R.ei),this.rb.height=n.R.fn,this.rb.width=n.R.ro(this.Hb)+n.R.tl;this.Nd.setAttribute("height",this.rb.height);this.Nd.setAttribute("width",this.rb.width)};
n.Ea.Gy=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var b=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+e[0]+" in: ",e)):(b=!0,console.error("Invalid option["+
d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(b)throw TypeError("Found invalid FieldDropdown options.");};n.R.register("field_dropdown",n.Ea);n.g.K={};n.g.K.Ra=function(a,b){return" "+a+","+b+" "};n.g.K.curve=function(a,b){return" "+a+b.join("")};n.g.K.moveTo=function(a,b){return" M "+a+","+b+" "};n.g.K.moveBy=function(a,b){return" m "+a+","+b+" "};n.g.K.lineTo=function(a,b){return" l "+a+","+b+" "};n.g.K.line=function(a){return" l"+a.join("")};n.g.K.$b=function(a,b){return" "+a+" "+b+" "};n.g.K.arc=function(a,b,d,e){return a+" "+d+" "+d+" "+b+e};n.m={};n.m.w={};n.m.w.ah=0;n.m.w.lA=3;n.m.w.ji=5;n.m.w.Zt=8;n.m.w.wd=10;n.m.w.wA=n.m.w.ji;n.m.w.Ge=1;n.m.w.he=15;n.m.w.ol=5;n.m.w.PF=2.5;n.m.w.ga=8;n.m.w.Jd=15;n.m.w.$z=4;n.m.w.Tz=12;n.m.w.mz=16;n.m.w.O=8;n.m.w.Oj=n.m.w.Jd;n.m.w.bu=n.m.w.Oj-n.m.w.O;n.m.w.sA=5;n.m.w.tA=20;n.m.w.Vy=4;n.m.w.Rz=66.5;n.m.w.Rj=15;n.m.w.rA=100;n.m.w.nA=15;n.m.w.wn=24;n.m.w.oz=n.m.w.ga+14.5;n.m.w.nz=n.m.w.he+11;n.m.w.rz=10;n.m.w.pz=n.m.w.wn;n.m.w.qz=32;n.m.w.fA=25;n.m.w.hq=n.g.K.moveBy(0,0);n.m.w.mq="m 0,"+n.m.w.O;
n.m.w.Vp=12;n.m.w.Wp=6;var ah=n.m.w,bh=n.m.w.Vp,ch=n.m.w.Wp,dh=n.g.K.line([n.g.K.Ra(6,3),n.g.K.Ra(-12,6),n.g.K.Ra(6,3)]);ah.$g={height:bh,width:ch,path:dh};var eh=n.m.w,fh=n.m.w.Rj,gh=n.m.w.rA,hh=n.g.K.curve("c",[n.g.K.Ra(30,-fh),n.g.K.Ra(70,-fh),n.g.K.Ra(gh,0)]);eh.ti={height:fh,width:gh,path:hh};
n.m.w.ge=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=n.g.K.Ra(b,g*l);return n.g.K.curve("c",[n.g.K.Ra(0,g*(l+2.5)),n.g.K.Ra(-b,k*(l+.5)),n.g.K.Ra(-b,g*l)])+n.g.K.curve("s",[n.g.K.Ra(b,2.5*k),m])}var b=n.m.w.ga,d=n.m.w.he,e=a(!0),f=a(!1);return{width:b,height:d,Lh:f,Bs:e}}();n.m.w.uc=function(){function a(k){return n.g.K.line([n.g.K.Ra(k*e,d),n.g.K.Ra(3*k,0),n.g.K.Ra(k*e,-d)])}var b=n.m.w.Jd,d=n.m.w.$z,e=(b-3)/2,f=a(1),g=a(-1);return{width:b,height:d,fj:f,Ex:g}}();
var ih=n.m.w,jh=n.m.w.O,kh=n.g.K.arc("a","0 0,0",jh,n.g.K.Ra(-jh,jh)),lh=n.g.K.arc("a","0 0,0",jh,n.g.K.Ra(jh,jh));ih.Rp={height:jh,As:kh,ip:lh};var mh=n.m.w,nh=n.m.w.O,oh=n.g.K.arc("A","0 0,1",nh,n.g.K.Ra(nh,0)),ph=n.g.K.arc("a","0 0,1",nh,n.g.K.Ra(-nh,-nh));mh.lu={qt:oh,Aq:ph};n.m.Id=function(){this.Ud=!1;this.height=this.width=0;this.type=null;this.xi=this.cg=0};function qh(a){return"field"==a.type}n.m.Id.prototype.Of=function(){return"between-row spacer"==this.type||"in-row spacer"==this.type};function rh(a){return"external value input"==a.type}function sh(a){return"inline input"==a.type}function th(a){return"statement input"==a.type}function uh(a){return"previous connection"==a.type}function vh(a){return"next connection"==a.type}
n.m.Zg=function(a){n.m.Zg.A.constructor.call(this);this.Ud=!0;this.input=a;this.align=a.align;if(this.ak=a.connection&&w(a.connection)?w(a.connection):null){var b=this.ak.Db();this.Lq=b.width;this.Sn=b.height}else this.Sn=this.Lq=0;this.connection=a.connection;this.yf=0};h(n.m.Zg,n.m.Id);n.m.Nc=function(a){n.m.Nc.A.constructor.call(this);this.icon=a;this.isVisible=a.isVisible();this.type="icon";a=new n.g.tf(n.Nc.prototype.ml,n.Nc.prototype.ml-2);this.height=a.height;this.width=a.width};h(n.m.Nc,n.m.Id);
n.m.Xp=function(){n.m.Xp.A.constructor.call(this);this.type="jagged edge";this.height=n.m.w.$g.height;this.width=n.m.w.$g.width};h(n.m.Xp,n.m.Id);n.m.R=function(a,b){n.m.R.A.constructor.call(this);this.dw=a;this.Yc=ec(a);this.iC=a instanceof n.de&&a.ew;this.type="field";a=this.dw.yg();this.height=a.height;this.width=a.width;this.hE=b};h(n.m.R,n.m.Id);
n.m.Tp=function(a){n.m.Tp.A.constructor.call(this,a);this.type="inline input";this.ak?(this.width=this.Lq+n.m.w.ga+n.m.w.Ge,this.height=this.Sn+n.m.w.Ge):(this.height=n.m.w.nz,this.width=n.m.w.oz);this.yf=n.m.w.ol;this.Cl=n.m.w.ge.height;this.bk=n.m.w.ge.width};h(n.m.Tp,n.m.Zg);n.m.jq=function(a){n.m.jq.A.constructor.call(this,a);this.type="statement input";this.ak?(this.width=n.m.w.fA,this.height=this.Sn+n.m.w.sA,this.ak.ca&&(this.height-=n.m.w.uc.height)):(this.height=n.m.w.pz,this.width=n.m.w.qz)};
h(n.m.jq,n.m.Zg);n.m.Pp=function(a){n.m.Pp.A.constructor.call(this,a);this.type="external value input";this.height=this.ak?this.Sn-2*n.m.w.ol:n.m.w.he;this.width=n.m.w.rz;this.yf=n.m.w.ol;this.Cl=n.m.w.ge.height;this.bk=n.m.w.ge.width};h(n.m.Pp,n.m.Zg);n.m.aq=function(){n.m.aq.A.constructor.call(this);this.type="output connection";this.height=n.m.w.ge.height;this.width=n.m.w.ge.width;this.yf=n.m.w.ol};h(n.m.aq,n.m.Id);
n.m.bq=function(){n.m.bq.A.constructor.call(this);this.type="previous connection";this.height=n.m.w.uc.height;this.width=n.m.w.uc.width};h(n.m.bq,n.m.Id);n.m.$p=function(){n.m.$p.A.constructor.call(this);this.type="next connection";this.height=n.m.w.uc.height;this.width=n.m.w.uc.width};h(n.m.$p,n.m.Id);n.m.Qp=function(){n.m.Qp.A.constructor.call(this);this.type="hat";this.height=n.m.w.ah;this.width=n.m.w.ti.width};h(n.m.Qp,n.m.Id);
n.m.Fn=function(){n.m.Fn.A.constructor.call(this);this.type="square corner";this.height=n.m.w.uc.height;this.width=n.m.w.ah};h(n.m.Fn,n.m.Id);n.m.Bn=function(){n.m.Bn.A.constructor.call(this);this.type="round corner";this.width=n.m.w.O;this.height=n.m.w.uc.height};h(n.m.Bn,n.m.Id);n.m.Qj=function(){this.type="row";this.Bj=0;this.elements=[];this.height=this.width=0;this.Fw=this.Dw=this.Kr=this.Td=this.am=!1};n.m.Qj.prototype.Of=function(){return!1};
n.m.Qj.prototype.measure=function(){for(var a=0,b=0;b<this.elements.length;b++){var d=this.elements[b];this.width+=d.width;!d.Ud||"statement input"!=d.type&&"external value input"!=d.type||(a+=d.Lq);d.Of()||(this.height=Math.max(this.height,d.height))}this.bF=this.width+a};function wh(a){for(var b=a.elements.length-1;0<=b;b--){var d=a.elements[b];if(!d.Of()){if(d.Ud)return d;if(qh(d))return d.hE}}return null}n.m.Dt=function(a,b){this.type="between-row spacer";this.width=b;this.height=a;this.hw=!1};
h(n.m.Dt,n.m.Id);n.m.Sp=function(a){this.type="in-row spacer";this.width=a;this.height=n.m.w.nA};h(n.m.Sp,n.m.Id);n.m.oq=function(a){n.m.oq.A.constructor.call(this);this.elements=[];this.type="top row";this.TC=!!a.Y;this.connection=a.Y;a.W.length&&a.W[0].type==n.Ma&&!a.isCollapsed()?this.height=n.m.w.wd:this.height=n.m.w.ji};h(n.m.oq,n.m.Qj);
n.m.Ip=function(a){n.m.Ip.A.constructor.call(this);this.type="bottom row";this.Lr=!!a.ca;this.connection=a.ca;var b=a.W.length&&a.W[a.W.length-1].type==n.Ma;this.Ew=b&&xh(a);this.height=b?n.m.w.wd:n.m.w.uc.height};h(n.m.Ip,n.m.Qj);n.m.hA=function(a){this.V=a;this.X=a.X?new n.m.aq:null;this.Tw=xh(a)&&!a.isCollapsed();this.isCollapsed=a.isCollapsed();this.Nf=a.Nf();this.C=a.C;this.Zd=this.width=this.Ny=this.height=0;this.rows=[];this.Mr=[];this.me=this.kf=null;a=this.V.Ag?"cap"===this.V.Ag:n.s.ti;var b=!!this.V.Y;var d=this.V;d=d.Y&&w(d.Y);d=!!this.V.X||a||d&&u(d)==this.V;this.kf=new n.m.oq(this.V);d?this.kf.elements.push(new n.m.Fn):this.kf.elements.push(new n.m.Bn);a?this.kf.elements.push(new n.m.Qp):b&&this.kf.elements.push(new n.m.bq);
this.rows.push(this.kf);a=new n.m.Qj;d=kb(this.V);if(d.length)for(b=0;b<d.length;b++){var e=d[b],f=new n.m.Nc(e);this.isCollapsed&&e.Hq?this.Mr.push(f):a.elements.push(f)}e=void 0;for(b=0;b<this.V.W.length;b++)if(d=this.V.W[b],d.isVisible()){!e||d.type!=n.Ma&&(d.type!=n.Oa&&d.type!=n.Ie||this.Tw)||(this.rows.push(a),a=new n.m.Qj);for(e=0;e<d.Ca.length;e++)a.elements.push(new n.m.R(d.Ca[e],d));e=d;f=a;this.Tw&&e.type==n.Oa?(f.elements.push(new n.m.Tp(e)),f.Kr=!0):e.type==n.Ma?(f.elements.push(new n.m.jq(e)),
f.Td=!0):e.type==n.Oa?(f.elements.push(new n.m.Pp(e)),f.am=!0):e.type==n.Ie&&(f.Dw=!0);e=d}this.isCollapsed&&(a.Fw=!0,a.elements.push(new n.m.Xp));a.elements.length&&this.rows.push(a);a=!!this.V.X||!!u(this.V);this.me=new n.m.Ip(this.V);a?this.me.elements.push(new n.m.Fn):this.me.elements.push(new n.m.Bn);this.me.Lr&&this.me.elements.push(new n.m.$p);this.rows.push(this.me);for(a=0;a<this.rows.length;a++)for(b=this.rows[a],d=b.elements,b.elements=[],"top row"!=b.type&&"bottom row"!=b.type&&b.elements.push(new n.m.Sp(yh(this,
null,d[0]))),e=0;e<d.length;e++)b.elements.push(d[e]),b.elements.push(new n.m.Sp(yh(this,d[e],d[e+1])));for(e=d=b=a=0;e<this.rows.length;e++)f=this.rows[e],f.measure(),f.Td||(b=Math.max(b,f.width)),f.Td&&(a=Math.max(a,f.width-wh(f).width)),d=Math.max(d,f.bF);this.width=(this.Zd=a)?Math.max(b,a+2*n.m.w.uc.width):b;for(e=0;e<this.rows.length;e++)f=this.rows[e],f.Td&&(f.Zd=this.Zd);this.Ny=Math.max(b,d);for(a=0;a<this.rows.length;a++)if(b=this.rows[a],!b.Td&&!b.Kr&&(d=b.width,e=this.width,"bottom row"===
b.type&&b.Ew&&(e=n.m.w.Rz),d=e-d))if(e=b.elements,f=wh(b)){var g=b.elements[0],k=b.elements[b.elements.length-1];b.am&&(k=e[e.length-3]);f.align==n.Dj?k.width+=d:f.align==n.$k?(g.width+=d/2,k.width+=d/2):f.align==n.al&&(g.width+=d);b.width+=d}else if("top row"===b.type||"bottom row"===b.type)b.elements[b.elements.length-1].width+=d,b.width+=d;a=this.rows;this.rows=[];for(b=0;b<a.length;b++)this.rows.push(a[b]),b!==a.length-1&&this.rows.push(zh(this,a[b],a[b+1]));for(b=a=0;b<this.rows.length;b++)if(d=
this.rows[b],d.Bj=a,a+=d.height,d==this.me&&a<n.m.w.wn&&(this.me.height+=n.m.w.wn-a,a=n.m.w.wn),!d.Of())for(f=e=0;f<d.elements.length;f++){g=d.elements[f];g.cg=e;k=d.Bj;if(qh(g)){if(k+=g.height/2,d.Kr||d.Td)k+=n.m.w.wA}else k=sh(g)?k+g.height/2:vh(g)?k+(d.height+g.height/2):k+d.height/2;g.xi=k;e+=g.width}this.height=a};
function yh(a,b,d){if(!b)return qh(d)&&d.Yc?n.m.w.ji:d.Ud&&sh(d)?n.m.w.Zt:th(d)?n.m.w.tA:n.m.w.wd;if(!b.Ud&&!d)return qh(b)&&b.Yc?n.m.w.ji:"icon"==b.type?2*n.m.w.wd+1:"hat"==b.type?n.m.w.ah:uh(b)||vh(b)?n.m.w.wd:"round corner"==b.type?n.m.w.Tz:"jagged edge"==b.type?n.m.w.ah:n.m.w.wd;if(b.Ud&&!d){if(rh(b))return n.m.w.ah;if(sh(b))return n.m.w.wd;if(th(b))return n.m.w.ah}if(!b.Ud&&d.Ud){if(b.Yc){if(sh(d)||rh(d))return n.m.w.lA}else{if(sh(d)||rh(d))return n.m.w.Zt;if(th(d))return n.m.w.wd}return n.m.w.wd-
1}if("icon"==b.type&&!d.Ud)return n.m.w.wd;if(sh(b)&&!d.Ud)return d.Yc?n.m.w.ji:n.m.w.wd;if("square corner"==b.type){if("hat"==d.type)return n.m.w.ah;if(uh(d))return n.m.w.Oj;if(vh(d))return a=(a.C?1:-1)*n.m.w.Ge/2,n.m.w.Oj+a}if("round corner"==b.type){if(uh(d))return n.m.w.bu;if(vh(d))return a=(a.C?1:-1)*n.m.w.Ge/2,n.m.w.bu+a}return!b.Ud&&!d.Ud&&b.Yc==d.Yc||"jagged edge"==d.type?n.m.w.wd:n.m.w.ji}
function zh(a,b,d){a=new n.m.Dt("top row"===b.type&&"bottom row"===d.type?n.m.w.mz:"top row"===b.type||"bottom row"===d.type?n.m.w.ah:b.am&&d.am?n.m.w.wd:!b.Td&&d.Td?n.m.w.Vy:b.Td&&d.Td||d.Dw?n.m.w.wd:n.m.w.ji,"bottom row"===d.type&&d.Ew?d.width:a.width);b.Td&&(a.hw=!0);return a};n.m.Fb={};n.m.Fb.Ke=.5;n.m.Fb.hq=n.g.K.moveBy(n.m.Fb.Ke,n.m.Fb.Ke);n.m.Fb.Lz=function(){var a=n.m.w.O,b=n.m.Fb.Ke,d=(1-Math.SQRT1_2)*(a+b)-b,e=n.g.K.moveBy(d,d)+n.g.K.arc("a","0 0,0",a,n.g.K.Ra(-d-b,a-d)),f=n.g.K.arc("a","0 0,0",a+b,n.g.K.Ra(a+b,a+b)),g=n.g.K.moveBy(d,-d)+n.g.K.arc("a","0 0,0",a+b,n.g.K.Ra(a-d,d+b));return{height:a,As:function(k){return k?e:""},ip:function(k){return k?f:g}}}();
n.m.Fb.eA=function(){var a=n.m.w.O,b=n.m.Fb.Ke,d=(1-Math.SQRT1_2)*(a-b)+b,e=n.g.K.moveBy(d,d),f=n.g.K.moveBy(b,a-b),g=n.g.K.arc("A","0 0,1",a-b,n.g.K.Ra(a,b));return{height:a,qt:function(k){return(k?e:f)+g},Aq:function(k){return n.g.K.moveTo(d+b,k-d)+n.g.K.arc("A","0 0,1",a-b,n.g.K.Ra(b,k-a))}}}();
n.m.Fb.ge=function(){var a=n.m.w.ga,b=n.m.w.he,d=n.g.K.moveTo(-.25*a,8.4)+n.g.K.lineTo(-.45*a,-2.1),e=n.g.K.$b("v",2.5)+n.g.K.moveBy(.97*-a,2.5)+n.g.K.curve("q",[n.g.K.Ra(.05*-a,10),n.g.K.Ra(.3*a,9.5)])+n.g.K.moveBy(.67*a,-1.9)+n.g.K.$b("v",2.5),f=n.g.K.$b("V",b+n.m.w.ol-1.5)+n.g.K.moveBy(-.92*a,-.5)+n.g.K.curve("q",[n.g.K.Ra(-.19*a,-5.5),n.g.K.Ra(0,-11)])+n.g.K.moveBy(.92*a,1)+n.g.K.$b("V",.5)+n.g.K.$b("H",1),g=n.g.K.moveBy(-5,b-.7)+n.g.K.lineTo(.46*a,-2.1);return{width:a,height:b,Bs:function(k){return k?
d:f},Lh:function(k){return k?e:g}}}();n.m.Fb.uc={fj:n.g.K.$b("h",n.m.Fb.Ke)+n.m.w.uc.fj};n.m.Fb.$g={fj:n.g.K.lineTo(5.1,2.6)+n.g.K.moveBy(-10.2,6.8)+n.g.K.lineTo(5.1,2.6)};n.m.Fb.ti=function(){var a=n.g.K.moveBy(25,-8.7)+n.g.K.curve("c",[n.g.K.Ra(29.7,-6.2),n.g.K.Ra(57.2,-.5),n.g.K.Ra(75,8.7)]),b=n.g.K.curve("c",[n.g.K.Ra(17.8,-9.2),n.g.K.Ra(45.3,-14.9),n.g.K.Ra(75,-8.7)])+n.g.K.moveTo(100.5,.5);return{path:function(d){return d?a:b}}}();n.m.Tt=function(a,b){this.Na=a;this.gj=b;this.na=this.gj.ue;this.Cg=this.gj.Or;this.Oc=this.Na.C;this.We=n.m.Fb.Ke;this.xs=n.m.Fb.eA;this.Lo=n.m.Fb.Lz;this.Am=n.m.Fb.ge;this.LD=n.m.Fb.uc;this.HE=n.m.Fb.ti;this.Uw=n.m.Fb.$g};n.m.Tt.prototype.er=function(a){this.Na.C&&(this.na.push("H",a.width-this.We),this.na.push(this.Uw.fj),this.na.push(n.g.K.$b("v",a.height-this.Uw.height-this.We)))};function Ah(a,b){b.hw&&a.na.push("H",b.width);a.Oc&&(a.na.push("H",b.width-a.We),a.na.push("v",b.height))};n.m.lz=function(){this.Bi=[];this.Rk=null};function Bh(a,b){if(b.type==n.Oa){var d=4;var e="magenta";var f="none"}else b.type==n.ee?(d=2,f=e="magenta"):b.type==n.Ma?(d=4,e="goldenrod",f="none"):b.type==n.fe&&(d=2,f=e="goldenrod");a.Bi.push(n.g.j.J("circle",{"class":"blockRenderDebug",cx:b.Eg.x,cy:b.Eg.y,r:d,fill:f,stroke:e},a.Rk))};n.m.Qt=function(a,b){this.V=a;this.Na=b;a.Fa();this.gj=new n.s.pu;this.na=this.gj.gf;this.Cg=this.gj.Vr;this.Cc=new n.m.Tt(this.Na,this.gj)};n.m.Qt.prototype.er=function(a){this.Cc&&this.Cc.er(a);this.na.push(n.m.w.$g.path);this.na.push("v",a.height-n.m.w.$g.height)};n.m.qa=function(a){a.Qx||(a.Qx=new n.m.lz);var b=new n.m.hA(a);a=new n.m.Qt(a,b);for(b=0;b<a.Na.Mr.length;b++)a.Na.Mr[b].icon.Dc.setAttribute("display","none");b=a.Na.kf;var d=b.elements;if(a.Cc){for(var e=a.Cc,f=0,g;g=b.elements[f];f++)"square corner"===g.type?e.na.push(n.m.Fb.hq):"round corner"===g.type?e.na.push(e.xs.qt(e.Oc)):"previous connection"===g.type?e.na.push(e.LD.fj):"hat"===g.type?e.na.push(e.HE.path(e.Oc)):g.Of()&&e.na.push("H",g.cg+g.width-e.We);e.na.push("H",b.width-e.We);Ah(a.Cc,
b)}a.Na.kf.TC&&(e=n.m.w.Oj,$a(a.Na.kf.connection,a.Na.C?-e:e,0));for(e=0;f=d[e];e++)"square corner"===f.type?a.na.push(n.m.w.hq):"round corner"===f.type?a.na.push(n.m.w.mq,n.m.w.lu.qt):"previous connection"===f.type?a.na.push(n.m.w.uc.fj):"hat"===f.type?a.na.push(n.m.w.ti.path):f.Of()&&a.na.push("h",f.width);a.na.push("v",b.height);for(b=1;b<a.Na.rows.length-1;b++)if(e=a.Na.rows[b],e.Fw)a.er(e);else if(e.Td){d=a;if(d.Cc){f=d.Cc;g=e;if(f.Oc){var k=g.height-2*f.Lo.height;g=n.g.K.moveTo(g.Zd,g.Bj)+f.Lo.As(f.Oc)+
n.g.K.$b("v",k)+f.Lo.ip(f.Oc)}else g=n.g.K.moveTo(g.Zd,g.Bj+g.height)+f.Lo.ip(f.Oc);f.na.push(g)}d.na.push("H",e.Zd+n.m.w.Oj+n.m.w.uc.width);d.na.push(n.m.w.uc.Ex+" h -"+(n.m.w.Jd-n.m.w.O)+n.m.w.Rp.As);d.na.push("v",e.height-2*n.m.w.Rp.height);d.na.push(n.m.w.Rp.ip);f=wh(e);f.connection&&(g=e.Zd+n.m.w.Oj,d.Na.C&&(g*=-1),$a(f.connection,g+.5,e.Bj+n.m.w.Ge))}else if(e.am){d=a;f=wh(e);if(d.Cc){g=d.Cc;k=e;var l=wh(k);g.Oc?(k=k.height-l.Cl+g.We,k=n.g.K.$b("v",-g.We)+g.Am.Lh(g.Oc)+n.g.K.$b("v",k)):k=n.g.K.moveTo(k.width,
k.Bj)+g.Am.Lh(g.Oc);g.na.push(k)}d.na.push("H",e.width);d.na.push(n.m.w.ge.Lh);d.na.push("v",e.height-f.Cl);f=wh(e);f.connection&&(g=e.width+n.m.w.Ge,d.Na.C&&(g*=-1),$a(f.connection,g,e.Bj))}else d=a,d.Cc&&Ah(d.Cc,e),d.na.push("H",e.width),d.na.push("v",e.height);d=a.Na.me;b=d.elements;a.Cc&&(e=a.Cc,f=e.Na.height,e.Oc?e.na.push("V",f):(g=e.Na.me.elements[0],"square corner"===g.type?e.na.push(n.g.K.moveTo(e.We,f-e.We)):"round corner"===g.type&&e.na.push(e.xs.Aq(f))));e=a.Na.me;e.Lr&&(f=(e.Lr?e.elements[2]:
null).cg,$a(e.connection,(a.Na.C?-f:f)+.5,a.Na.height+n.m.w.Ge));a.na.push("v",d.height);for(d=b.length-1;0<=d;d--)e=b[d],"next connection"===e.type?a.na.push(n.m.w.uc.Ex):"square corner"===e.type?a.na.push("H 0"):"round corner"===e.type?a.na.push(n.m.w.lu.Aq):e.Of()&&a.na.push("h",-1*e.width);a.Cc&&(b=a.Cc,b.Na.X&&b.na.push(b.Am.Bs(b.Oc)),b.Oc||("square corner"==b.Na.kf.elements[0].type?b.na.push("V",b.We):b.na.push("V",b.xs.height)));(b=a.Na.X)&&$a(a.V.X,0,a.Na.X.yf);b&&(a.na.push("V",b.yf+b.height),
a.na.push(n.m.w.ge.Bs));a.na.push("z");for(b=0;b<a.Na.rows.length;b++)if(d=a.Na.rows[b],!d.Of())for(e=0;e<d.elements.length;e++)if(g=d.elements[e],sh(g)){f=a;if(f.Cc){k=f.Cc;var m=g;l=k.We;var p=m.cg+m.bk,r=m.xi-m.height/2,t=m.width-m.bk,v=r+l;k.Oc?(r=m.yf-l,m=m.height-(m.yf+m.Cl)+l,l=n.g.K.moveTo(p-l,v)+n.g.K.$b("v",r)+k.Am.Lh(k.Oc)+n.g.K.$b("v",m)+n.g.K.$b("h",t)):l=n.g.K.moveTo(m.cg+m.width+l,v)+n.g.K.$b("v",m.height)+n.g.K.$b("h",-t)+n.g.K.moveTo(p,r+m.yf)+k.Am.Lh(k.Oc);k.Cg.push(l)}k=g.width;
l=g.height;p=g.yf;t=g.Cl+p;f.Cg.push("M",g.cg+g.bk+","+(g.xi-l/2));f.Cg.push("v ",p);f.Cg.push(n.m.w.ge.Lh);f.Cg.push("v",l-t);f.Cg.push("h",k-g.bk);f.Cg.push("v",-l);f.Cg.push("z");k=g.xi-g.height/2;g.connection&&(l=g.cg+g.bk+n.m.w.Ge,f.Na.C&&(l*=-1),$a(g.connection,l,k+g.yf+n.m.w.Ge))}else if("icon"==g.type||qh(g)){f=a;if("field"==g.type)var q=g.dw.$();else"icon"==g.type&&(q=g.icon.Dc);k=g.xi-g.height/2;l=g.cg;p="";f.Na.C&&(l=-(l+g.width),g.iC&&(l+=g.width,p="scale(-1 1)"));"icon"==g.type?(q.setAttribute("display",
"block"),q.setAttribute("transform","translate("+l+","+k+")"),Ch(g.icon)):q.setAttribute("transform","translate("+l+","+k+")"+p);f.Na.Nf&&q.setAttribute("display","none")}Dh(a.V,a.gj);q=a.V.Qx;b=a.V;d=a.Na;for(e=0;f=q.Bi[e];e++)n.g.j.removeNode(f);q.Bi=[];q.Rk=b.$();for(f=e=0;f<d.rows.length;f++){g=d.rows[f];if(g.Of())q.Bi.push(n.g.j.J("rect",{"class":"rowSpacerRect blockRenderDebug",x:d.C?-g.width:0,y:e,width:g.width,height:g.height},q.Rk));else{k=q;l=g;p=e;t=d.C;for(v=0;v<l.elements.length;v++)if(m=
l.elements[v],m.Of()){r=m.cg;t&&(r=-(r+m.width));var A=Math.min(m.height,l.height);k.Bi.push(n.g.j.J("rect",{"class":"elemSpacerRect blockRenderDebug",x:r,y:m.xi-A/2,width:m.width,height:A},k.Rk))}else r=k,A=m.cg,t&&(A=-(A+m.width)),r.Bi.push(n.g.j.J("rect",{"class":"rowRenderingRect blockRenderDebug",x:A,y:m.xi-m.height/2,width:m.width,height:m.height},r.Rk)),m.Ud&&Bh(r,m.connection);k.Bi.push(n.g.j.J("rect",{"class":"elemRenderingRect blockRenderDebug",x:t?-l.width:0,y:p,width:l.width,height:l.height},
k.Rk))}e+=g.height}b.Y&&Bh(q,b.Y);b.ca&&Bh(q,b.ca);b.X&&Bh(q,b.X);a.V.height=a.Na.height+n.m.w.Ge;a.V.width=a.Na.Ny+n.m.w.Ge;a.V.wp=a.Na.kf.AG};n.jb=Object.create(null);n.Nc=function(a){this.V=a};c=n.Nc.prototype;c.Hq=!0;c.ml=17;c.sb=null;c.uk=null;function Eh(a){a.Dc||(a.Dc=n.g.j.J("g",{"class":"blocklyIconGroup"},null),a.V.rd&&n.g.j.fb(a.Dc,"blocklyIconGroupReadonly"),a.dr(a.Dc),a.V.$().appendChild(a.Dc),n.ea(a.Dc,"mouseup",a,a.Qr),a.Rg())}c.L=function(){n.g.j.removeNode(this.Dc);this.Dc=null;this.Ha(!1);this.V=null};c.Rg=function(){};c.isVisible=function(){return!!this.sb};c.Qr=function(a){this.V.B.Fc()||this.V.rd||n.g.Dh(a)||this.Ha(!this.isVisible())};
c.Be=function(){this.isVisible()&&this.sb.dc(this.V.hh)};function mb(a,b){a.uk=b;a.isVisible()&&(a=a.sb,a.Mb=b,a.mj&&Eb(a))}function Ch(a){var b=a.V.Fa(),d=n.g.Rd(a.Dc);b=new n.g.T(b.x+d.x+a.ml/2,b.y+d.y+a.ml/2);n.g.T.Qe(a.uk,b)||mb(a,b)};n.Comment=function(a){n.Comment.A.constructor.call(this,a);Eh(this)};h(n.Comment,n.Nc);c=n.Comment.prototype;c.xa="";c.va=160;c.Pa=80;
c.dr=function(a){n.g.j.J("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);n.g.j.J("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);n.g.j.J("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
c.Gl=function(){this.Pd=n.g.j.J("foreignObject",{x:n.la.Lc,y:n.la.Lc},null);var a=document.createElementNS(n.g.j.sf,"body");a.setAttribute("xmlns",n.g.j.sf);a.className="blocklyMinimalBody";var b=document.createElementNS(n.g.j.sf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.V.C?"RTL":"LTR");a.appendChild(b);this.Ib=b;this.Pd.appendChild(a);n.ea(b,"mouseup",this,this.OE,!0,!0);n.ea(b,"wheel",this,function(d){d.stopPropagation()});n.ea(b,"change",this,function(){this.xa!=
b.value&&(n.i.ma(new n.i.mf(this.V,"comment",null,this.xa,b.value)),this.xa=b.value)});setTimeout(function(){b.focus()},0);return this.Pd};c.Rg=function(){this.isVisible()&&(this.Ha(!1),this.Ha(!0));n.Nc.prototype.Rg.call(this)};c.rp=function(){if(this.isVisible()){var a=this.sb.Hi(),b=2*n.la.Lc;this.Pd.setAttribute("width",a.width-b);this.Pd.setAttribute("height",a.height-b);this.Ib.style.width=a.width-b-4+"px";this.Ib.style.height=a.height-b-4+"px"}};
c.Ha=function(a){if(a!=this.isVisible())if(n.i.ma(new n.i.fc(this.V,"commentOpen",!a,a)),!this.V.Yc()&&!this.Ib||n.g.userAgent.Wg)n.ke.prototype.Ha.call(this,a);else{var b=this.kc(),d=this.Hi();a?(this.sb=new n.la(this.V.B,this.Gl(),this.V.ed,this.uk,this.va,this.Pa),Gb(this.sb,this.V.id),a=this.rp.bind(this),this.sb.Ms=a,this.Be()):(this.sb.L(),this.Pd=this.Ib=this.sb=null);this.Wf(b);this.Sh(d.width,d.height)}};c.OE=function(){Ib(this.sb)&&this.Ib.focus()};
c.Hi=function(){return this.isVisible()?this.sb.Hi():{width:this.va,height:this.Pa}};c.Sh=function(a,b){this.Ib?this.sb.Sh(a,b):(this.va=a,this.Pa=b)};c.kc=function(){return this.Ib?this.Ib.value:this.xa};c.Wf=function(a){this.xa!=a&&(n.i.ma(new n.i.mf(this.V,"comment",null,this.xa,a)),this.xa=a);this.Ib&&(this.Ib.value=a)};c.L=function(){n.i.isEnabled()&&this.Wf("");this.V.kb=null;n.Nc.prototype.L.call(this)};n.Gj=function(){this.Ob=[]};function Ya(a,b){if(b.xh)throw Error("Connection already in database.");b.H.rd||(a.Ob.splice(cb(a,b),0,b),b.xh=!0)}function Fh(a,b){if(!a.Ob.length)return-1;var d=cb(a,b);if(d>=a.Ob.length)return-1;for(var e=b.Va,f=d;0<=f&&a.Ob[f].Va==e;){if(a.Ob[f]==b)return f;f--}for(;d<a.Ob.length&&a.Ob[d].Va==e;){if(a.Ob[d]==b)return d;d++}return-1}
function cb(a,b){if(!a.Ob.length)return 0;for(var d=0,e=a.Ob.length;d<e;){var f=Math.floor((d+e)/2);if(a.Ob[f].Va<b.Va)d=f+1;else if(a.Ob[f].Va>b.Va)e=f;else{d=f;break}}return d}function Ta(a,b){if(!b.xh)throw Error("Connection not in database.");var d=Fh(a,b);if(-1==d)throw Error("Unable to find connection in connectionDB.");b.xh=!1;a.Ob.splice(d,1)}
function fb(a,b,d){function e(p){var r=g-f[p].zb,t=k-f[p].Va;Math.sqrt(r*r+t*t)<=d&&m.push(f[p]);return t<d}var f=a.Ob,g=b.zb,k=b.Va;a=0;for(var l=b=f.length-2;a<l;)f[l].Va<k?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(f.length){for(;0<=a&&e(a);)a--;do b++;while(b<f.length&&e(b))}return m}n.Gj.za=function(){var a=[];a[n.Oa]=new n.Gj;a[n.ee]=new n.Gj;a[n.Ma]=new n.Gj;a[n.fe]=new n.Gj;return a};n.Wa=function(a,b){n.Wa.A.constructor.call(this,b);this.u=a};h(n.Wa,n.el);n.Wa.Mp=5;n.Wa.on=100;n.Wa.oF=24;n.Wa.QF=5;n.Wa.Cn=10;n.Wa.Lp="#cc0a0a";n.Wa.Qz="#4286f4";c=n.Wa.prototype;c.Vd=null;c.jh=null;c.$=function(){return this.D};
c.ka=function(){this.D=n.g.j.J("g",{"class":"blocklyCursor"},null);var a=this.xk?n.Wa.Qz:n.Wa.Lp;this.Rq=n.g.j.J("g",{width:n.Wa.on,height:n.Wa.Mp},this.D);this.kh=n.g.j.J("rect",{x:"0",y:"0",fill:a,width:n.Wa.on,height:n.Wa.Mp,style:"display: none;"},this.Rq);this.lh=n.g.j.J("rect",{"class":"blocklyVerticalCursor",x:"0",y:"0",rx:"10",ry:"10",style:"display: none;",stroke:a},this.Rq);this.Xn=n.g.j.J("path",{width:n.Wa.on,height:n.Wa.Mp,d:"m 0,0 "+n.s.lq+" v 5",transform:"",style:"display: none;",
fill:a},this.Rq);this.xk||(n.g.j.J("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:n.Wa.Lp+";transparent;transparent;",repeatCount:"indefinite"},this.kh),n.g.j.J("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:n.Wa.Lp+";transparent;transparent;",repeatCount:"indefinite"},this.Xn));return this.D};function Gh(a,b){var d=a.Vd;if(b!=d){var e=a.$();b?b.appendChild(e):d&&a.u.ab.appendChild(e);a.Vd=b}}
function Hh(a,b,d,e){a.kh.setAttribute("x",b);a.kh.setAttribute("y",d);a.kh.setAttribute("width",e)}function Ih(a,b,d,e,f){a.lh.setAttribute("x",b);a.lh.setAttribute("y",d);a.lh.setAttribute("width",e);a.lh.setAttribute("height",f)}function Jh(a){a.Ga();a.jh.style.display=""}c.Ga=function(){this.kh.style.display="none";this.lh.style.display="none";this.Xn.style.display="none"};
c.Fy=function(){if(this.xb){var a=this.xb;if(a.fd===n.G.types.De)a=this.xb.ra,this.jh=this.lh,Gh(this,a.$()),Ih(this,0,0,a.width,a.height),Jh(this);else if(a.ra.type===n.Oa||a.fd===n.G.types.oi)a=this.xb.ra,this.jh=this.Xn,Gh(this,a.H.$()),this.Xn.setAttribute("transform","translate("+a.Eg.x+","+a.Eg.y+")"+(a.H.C?" scale(-1 1)":"")),Jh(this);else if(a.ra.type===n.Ma){a=this.xb.ra;var b=a.Eg.y,d=a.H.Db().width;this.jh=this.kh;Gh(this,a.H.$());Hh(this,0,b,d);Jh(this)}else if(a.fd===n.G.types.pi)a=this.xb.ra,
b=a.H.Db().width,this.jh=this.kh,Gh(this,a.H.$()),Hh(this,0,0,b),Jh(this);else if(a.fd===n.G.types.eg)a=this.xb.ra,b=a.Nd.width.baseVal.value,d=a.Nd.height.baseVal.value,this.jh=this.lh,Gh(this,a.$()),Ih(this,0,0,b,d),Jh(this);else if(a.fd===n.G.types.kg)a=this.xb.Zk,this.jh=this.kh,Gh(this,this.u.ab),Hh(this,a.x,a.y,n.Wa.on),Jh(this);else if(a.fd===n.G.types.Le){a=this.xb.ra;d=a.Db();b=d.width+n.Wa.Cn;d=d.height+n.Wa.Cn;var e=-1*n.Wa.Cn/2,f=-1*n.Wa.Cn/2;a.X&&(e-=n.s.ga);this.jh=this.lh;Gh(this,a.$());
Ih(this,e,f,b,d);Jh(this)}}};c.next=function(){return this.xk?null:n.Wa.A.next.call(this)};c.em=function(){return this.xk?null:n.Wa.A.em.call(this)};c.Jk=function(){return this.xk?null:n.Wa.A.Jk.call(this)};c.xm=function(){return this.xk?null:n.Wa.A.xm.call(this)};c.L=function(){this.D&&n.g.j.removeNode(this.D)};n.hi=function(a,b){this.mk=a;this.kt=b.spacing;this.Zw=b.length;this.pD=(this.js=a.firstChild)&&this.js.nextSibling;this.DE=b.snap};n.hi.prototype.Rh=1;n.hi.prototype.L=function(){this.mk=null};n.hi.prototype.update=function(a){this.Rh=a;var b=this.kt*a||100;this.mk.setAttribute("width",b);this.mk.setAttribute("height",b);b=Math.floor(this.kt/2)+.5;var d=b-this.Zw/2,e=b+this.Zw/2;b*=a;d*=a;e*=a;Kh(this.js,a,d,e,b,b);Kh(this.pD,a,b,b,d,e)};
function Kh(a,b,d,e,f,g){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}n.hi.prototype.moveTo=function(a,b){this.mk.setAttribute("x",a);this.mk.setAttribute("y",b);(n.g.userAgent.Wg||n.g.userAgent.rn)&&this.update(this.Rh)};
n.hi.ka=function(a,b,d){a=n.g.j.J("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<b.length&&0<b.spacing?(n.g.j.J("line",{stroke:b.colour},a),1<b.length&&n.g.j.J("line",{stroke:b.colour},a)):n.g.j.J("line",{},a);return a};n.Kd=function(a){var b=!!a.readOnly;if(b)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else{d=n.Kd.Cx(a.toolbox||null);e=!(!d||!d.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var p=a.maxTrashcanContents;f?void 0===p&&(p=32):p=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var r=!!a.rtl,t=a.horizontalLayout;void 0===t&&(t=!1);var v=a.toolboxPosition;v="end"===v?!1:!0;v=t?v?n.md:n.dh:v==r?n.ig:n.xd;var q=
a.css;void 0===q&&(q=!0);var A="https://blockly-demo.appspot.com/static/media/";a.media?A=a.media:a.path&&(A=a.path+"media/");var N=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,T=a.theme||n.eh.bi;this.C=r;this.Kh=N;this.collapse=g;this.vB=k;this.disable=l;this.readOnly=b;this.ms=a.maxBlocks||Infinity;this.ns=a.maxInstances;this.cf=A;this.Bw=e;this.oc=n.Kd.kE(a,e);this.Gw=f;this.Ek=p;this.UC=m;this.SC=q;this.Ad=t;this.Qf=d;this.xw=n.Kd.jE(a);this.lb=n.Kd.lE(a);this.ua=v;this.PE=T};
n.Kd.prototype.ad=null;n.Kd.prototype.Jg=null;n.Kd.prototype.Eb=null;n.Kd.kE=function(a,b){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?b:!!d.scrollbars||!!a.scrollbars;e.zj=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.ph=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
n.Kd.lE=function(a){a=a.zoom||{};var b={};b.controls=void 0===a.controls?!1:!!a.controls;b.zj=void 0===a.wheel?!1:!!a.wheel;b.oy=void 0===a.startScale?1:Number(a.startScale);b.qm=void 0===a.maxScale?3:Number(a.maxScale);b.sm=void 0===a.minScale?.3:Number(a.minScale);b.uE=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);return b};n.Kd.jE=function(a){a=a.grid||{};var b={};b.spacing=Number(a.spacing)||0;b.nb=a.colour||"#888";b.length=Number(a.length)||1;b.zG=0<b.spacing&&!!a.snap;return b};
n.Kd.Cx=function(a){if(a){if("string"!=typeof a&&(n.g.userAgent.Wg&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=n.S.Ng(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};n.Sj=function(a){this.u=a;this.Sd=new n.Ba(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.ce=new n.Ba(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.El=n.g.j.J("rect",{height:n.Ba.Qb,width:n.Ba.Qb,"class":"blocklyScrollbarBackground"},null);n.g.j.Si(this.El,a.ae)};n.Sj.prototype.qb=null;n.Sj.prototype.L=function(){n.g.j.removeNode(this.El);this.qb=this.u=this.El=null;this.Sd.L();this.Sd=null;this.ce.L();this.ce=null};
n.Sj.prototype.resize=function(){var a=this.u.Eb();if(a){var b=!1,d=!1;this.qb&&this.qb.Ya==a.Ya&&this.qb.cb==a.cb&&this.qb.Cb==a.Cb&&this.qb.Bb==a.Bb?(this.qb&&this.qb.yd==a.yd&&this.qb.vb==a.vb&&this.qb.yc==a.yc||(b=!0),this.qb&&this.qb.od==a.od&&this.qb.Jb==a.Jb&&this.qb.hc==a.hc||(d=!0)):d=b=!0;b&&this.Sd.resize(a);d&&this.ce.resize(a);this.qb&&this.qb.Ya==a.Ya&&this.qb.Bb==a.Bb||this.El.setAttribute("x",this.ce.bd.x);this.qb&&this.qb.cb==a.cb&&this.qb.Cb==a.Cb||this.El.setAttribute("y",this.Sd.bd.y);
this.qb=a}};n.Sj.prototype.set=function(a,b){var d={};a*=this.Sd.pc;b*=this.ce.pc;var e=this.ce.ye,f=a/this.Sd.ye;d.x=isNaN(f)?0:f;e=b/e;d.y=isNaN(e)?0:e;this.u.Jg(d);Lh(this.Sd,a);Lh(this.ce,b)};
n.Ba=function(a,b,d,e){this.u=a;this.Hk=d||!1;this.Pi=b;this.qb=null;this.Fl(e);this.bd=new n.g.T(0,0);a=n.Ba.Qb;b?(this.$d.setAttribute("height",a),this.Rf.setAttribute("height",a),this.$f.setAttribute("height",a-5),this.$f.setAttribute("y",2.5),this.mm="width",this.Fx="x"):(this.$d.setAttribute("width",a),this.Rf.setAttribute("width",a),this.$f.setAttribute("width",a-5),this.$f.setAttribute("x",2.5),this.mm="height",this.Fx="y");this.wx=n.ea(this.$d,"mousedown",this,this.WD);this.xx=n.ea(this.$f,
"mousedown",this,this.XD)};c=n.Ba.prototype;c.ws=new n.g.T(0,0);c.ny=0;c.ye=0;c.vh=0;c.$l=0;c.Eh=!0;c.yi=!0;n.Ba.Qb=15;n.Touch.nq&&(n.Ba.Qb=25);n.Ba.yD=function(a,b){return a&&b&&a.Ya==b.Ya&&a.cb==b.cb&&a.vb==b.vb&&a.Jb==b.Jb&&a.Cb==b.Cb&&a.Bb==b.Bb&&a.yd==b.yd&&a.od==b.od&&a.yc==b.yc&&a.hc==b.hc?!0:!1};n.Ba.prototype.L=function(){Mh();n.gb(this.wx);this.wx=null;n.gb(this.xx);this.xx=null;n.g.j.removeNode(this.Rf);this.u=this.$f=this.$d=this.D=this.Rf=null};
function Lh(a,b){a.$l=b;a.$f.setAttribute(a.Fx,a.$l)}function Nh(a,b){a.ye=b;a.Rf.setAttribute(a.mm,a.ye);a.$d.setAttribute(a.mm,a.ye)}n.Sj.prototype.nj=function(a){this.Sd.nj(a);this.ce.nj(a)};function Oh(a,b,d){a.bd.x=b;a.bd.y=d;n.g.j.Dm(a.Rf,"translate("+(a.bd.x+a.ws.x)+"px,"+(a.bd.y+a.ws.y)+"px)")}c=n.Ba.prototype;c.resize=function(a){if(!a&&(a=this.u.Eb(),!a))return;n.Ba.yD(a,this.qb)||(this.qb=a,this.Pi?Ph(this,a):Qh(this,a),Rh(this))};
function Ph(a,b){var d=b.Ya-1;a.Hk&&(d-=n.Ba.Qb);Nh(a,Math.max(0,d));d=b.Bb+.5;a.Hk&&a.u.C&&(d+=n.Ba.Qb);Oh(a,d,b.Cb+b.cb-n.Ba.Qb-.5);Sh(a,b)}function Sh(a,b){a.Hk||a.Ha(a.ye<b.yd);a.pc=a.ye/b.yd;if(-Infinity==a.pc||Infinity==a.pc||isNaN(a.pc))a.pc=0;a.vh=Math.max(0,b.Ya*a.pc);a.$f.setAttribute(a.mm,a.vh);Lh(a,Th(a,(b.vb-b.yc)*a.pc))}function Qh(a,b){var d=b.cb-1;a.Hk&&(d-=n.Ba.Qb);Nh(a,Math.max(0,d));d=b.Bb+.5;a.u.C||(d+=b.Ya-n.Ba.Qb-1);Oh(a,d,b.Cb+.5);Uh(a,b)}
function Uh(a,b){a.Hk||a.Ha(a.ye<b.od);a.pc=a.ye/b.od;if(-Infinity==a.pc||Infinity==a.pc||isNaN(a.pc))a.pc=0;a.vh=Math.max(0,b.cb*a.pc);a.$f.setAttribute(a.mm,a.vh);Lh(a,Th(a,(b.Jb-b.hc)*a.pc))}
c.Fl=function(a){var b="blocklyScrollbar"+(this.Pi?"Horizontal":"Vertical");a&&(b+=" "+a);this.Rf=n.g.j.J("svg",{"class":b},null);this.D=n.g.j.J("g",{},this.Rf);this.$d=n.g.j.J("rect",{"class":"blocklyScrollbarBackground"},this.D);a=Math.floor((n.Ba.Qb-5)/2);this.$f=n.g.j.J("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.D);n.g.j.Si(this.Rf,x(this.u))};c.isVisible=function(){return this.Eh};c.nj=function(a){var b=a!=this.yi;this.yi=a;b&&this.Ym()};
c.Ha=function(a){var b=a!=this.isVisible();if(this.Hk)throw Error("Unable to toggle visibility of paired scrollbars.");this.Eh=a;b&&this.Ym()};c.Ym=function(){this.yi&&this.isVisible()?this.Rf.setAttribute("display","block"):this.Rf.setAttribute("display","none")};
c.WD=function(a){Vb(this.u);n.Touch.pg();Mh();if(n.g.Dh(a))a.stopPropagation();else{var b=n.g.tm(a,x(this.u),Vh(this.u));b=this.Pi?b.x:b.y;var d=n.g.Rl(this.$f);d=this.Pi?d.x:d.y;var e=this.$l,f=.95*this.vh;b<=d?e-=f:b>=d+this.vh&&(e+=f);Lh(this,Th(this,e));Rh(this);a.stopPropagation();a.preventDefault()}};
c.XD=function(a){Vb(this.u);Mh();n.g.Dh(a)?a.stopPropagation():(this.GE=this.$l,Qb(this.u),this.ny=this.Pi?a.clientX:a.clientY,n.Ba.$c=n.ea(document,"mouseup",this,this.bE),n.Ba.xe=n.ea(document,"mousemove",this,this.YD),a.stopPropagation(),a.preventDefault())};c.YD=function(a){Lh(this,Th(this,this.GE+((this.Pi?a.clientX:a.clientY)-this.ny)));Rh(this)};c.bE=function(){Wb(this.u);n.Touch.pg();Mh()};function Mh(){n.lc(!0);n.Ba.$c&&(n.gb(n.Ba.$c),n.Ba.$c=null);n.Ba.xe&&(n.gb(n.Ba.xe),n.Ba.xe=null)}
function Th(a,b){return b=0>=b||isNaN(b)||a.ye<a.vh?0:Math.min(b,a.ye-a.vh)}function Rh(a){var b=a.$l/a.ye;isNaN(b)&&(b=0);var d={};a.Pi?d.x=b:d.y=b;a.u.Jg(d)}c.set=function(a){Lh(this,Th(this,a*this.pc));Rh(this)};n.Md=function(a,b){n.Md.A.constructor.call(this,a,b);this.Qo=!1;this.ne={};this.my=this.zm=0;this.vs=null};h(n.Md,n.Ij);n.Md.KA=5;n.Md.LA=6;c=n.Md.prototype;c.ar=function(a){n.Md.A.ar.call(this,a);!this.Po&&n.Touch.To(a)&&Wh(this,a)};c.Zj=function(a){this.vs=n.ea(document,"mousedown",null,this.PC.bind(this),!0);this.hp=n.ea(document,"mousemove",null,this.Zl.bind(this),!0);this.Gk=n.ea(document,"mouseup",null,this.Go.bind(this),!0);a.preventDefault();a.stopPropagation()};
c.PC=function(a){!this.Fc()&&n.Touch.To(a)&&(Wh(this,a),this.Qo&&n.Gh())};c.Zl=function(a){if(this.Fc())n.Touch.ht(a)&&n.Md.A.Zl.call(this,a);else if(this.Qo){if(n.Touch.To(a)){this.ne[n.Touch.Eo(a)]=Xh(this,a);var b=Object.keys(this.ne);if(2==b.length){b=n.g.T.Wv(this.ne[b[0]],this.ne[b[1]])/this.my;if(0<this.zm&&Infinity>this.zm){var d=b-this.zm;d=0<d?d*n.Md.KA:d*n.Md.LA;var e=this.ec,f=n.g.tm(a,x(e),Vh(e));e.zoom(f.x,f.y,d)}this.zm=b;a.preventDefault()}}n.Gh()}else n.Md.A.Zl.call(this,a)};
c.Go=function(a){if(n.Touch.To(a)&&!this.Fc()){var b=n.Touch.Eo(a);this.ne[b]&&delete this.ne[b];2>Object.keys(this.ne).length&&(this.ne={},this.zm=0)}!this.Qo||this.Fc()?n.Touch.ht(a)&&n.Md.A.Go.call(this,a):(a.preventDefault(),a.stopPropagation(),this.L())};c.L=function(){n.Md.A.L.call(this);this.vs&&n.gb(this.vs)};function Wh(a,b){a.ne[n.Touch.Eo(b)]=Xh(a,b);var d=Object.keys(a.ne);2==d.length&&(a.my=n.g.T.Wv(a.ne[d[0]],a.ne[d[1]]),a.Qo=!0,b.preventDefault())}
function Xh(a,b){return a.ec?new n.g.T(b.pageX?b.pageX:b.changedTouches[0].pageX,b.pageY?b.pageY:b.changedTouches[0].pageY):null};n.Du=function(a){this.u=a;this.Ir=!1;this.ck=[];0>=this.u.options.Ek||(a={scrollbars:!0,rg:this.u.options.rg,ad:this.u,C:this.u.C,Kh:this.u.options.Kh},this.u.Ad?(a.ua=this.u.ua==n.md?n.dh:n.md,this.P=new n.Jj(a)):(a.ua=this.u.ua==n.ig?n.xd:n.ig,this.P=new n.Vj(a)),this.u.Pc(Yh(this)))};c=n.Du.prototype;c.vi=47;c.cn=44;c.Lj=16;c.Zp=20;c.il=20;c.vn=10;c.fq=0;c.gq=32;c.zz=.1;c.zk=!1;c.ap=0;c.D=null;c.xp=null;c.hs=0;c.Fh=0;c.lm=0;c.Uk=0;
c.ka=function(){this.D=n.g.j.J("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=n.g.j.J("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.D);n.g.j.J("rect",{width:this.vi,height:this.cn,y:this.Lj},b);var d=n.g.j.J("image",{width:n.ld.width,x:-this.fq,height:n.ld.height,y:-this.gq,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.D);d.setAttributeNS(n.g.j.ta,"xlink:href",this.u.options.cf+n.ld.url);b=n.g.j.J("clipPath",{id:"blocklyTrashLidClipPath"+a},this.D);
n.g.j.J("rect",{width:this.vi,height:this.Lj},b);this.xp=n.g.j.J("image",{width:n.ld.width,x:-this.fq,height:n.ld.height,y:-this.gq,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.D);this.xp.setAttributeNS(n.g.j.ta,"xlink:href",this.u.options.cf+n.ld.url);n.ea(this.D,"mouseup",this,this.click);n.wc(d,"mouseover",this,this.BD);n.wc(d,"mouseout",this,this.AD);this.sq();return this.D};
c.za=function(a){0<this.u.options.Ek&&(n.g.j.Si(this.P.ka("svg"),x(this.u)),this.P.za(this.u),this.P.Qw=function(){return!0});this.Sg=this.Zp+a;ob(this,!1);return this.Sg+this.cn+this.Lj};c.L=function(){this.D&&(n.g.j.removeNode(this.D),this.D=null);this.u=this.xp=null;clearTimeout(this.hs)};
c.position=function(){if(this.Sg){var a=this.u.Eb();a&&(this.lm=a.ua==n.xd||this.u.Ad&&!this.u.C?a.Ya+a.Bb-this.vi-this.il-n.Ba.Qb:this.il+n.Ba.Qb,this.Uk=a.ua==n.dh?this.Sg:a.cb+a.Cb-(this.cn+this.Lj)-this.Sg,this.D.setAttribute("transform","translate("+this.lm+","+this.Uk+")"))}};c.ik=function(){if(!this.D)return null;var a=this.D.getBoundingClientRect(),b=a.top+this.gq-this.vn;a=a.left+this.fq-this.vn;return new n.g.Rect(b,b+this.Lj+this.cn+2*this.vn,a,a+this.vi+2*this.vn)};
function ob(a,b){a.zk!=b&&(clearTimeout(a.hs),a.zk=b,a.sq())}c.sq=function(){this.Fh+=this.zk?.2:-.2;this.Fh=Math.min(Math.max(this.Fh,this.ap),1);Zh(this,45*this.Fh);this.D.style.opacity=.4+.4*this.Fh;this.Fh>this.ap&&1>this.Fh&&(this.hs=setTimeout(this.sq.bind(this),20))};function Zh(a,b){var d=a.u.ua==n.ig||a.u.Ad&&a.u.C;a.xp.setAttribute("transform","rotate("+(d?-b:b)+","+(d?4:a.vi-4)+","+(a.Lj-2)+")")}c.close=function(){ob(this,!1)};
c.click=function(){if(this.Ir){for(var a=[],b=0,d;d=this.ck[b];b++)a[b]=n.S.Ng(d);this.P.show(a)}};c.BD=function(){this.Ir&&ob(this,!0)};c.AD=function(){ob(this,!1)};
function Yh(a){return function(b){if(!(0>=a.u.options.Ek)&&b.type==n.i.Wy&&"shadow"!=b.ts.tagName.toLowerCase()){for(var d=b=b.ts.cloneNode(!0);d;){d.removeAttribute&&(d.removeAttribute("x"),d.removeAttribute("y"),d.removeAttribute("id"));var e=d.firstChild||d.nextSibling;if(!e)for(e=d.parentNode;e;){if(e.nextSibling){e=e.nextSibling;break}e=e.parentNode}d=e}b=n.S.Uc(b);-1==a.ck.indexOf(b)&&(a.ck.unshift(b),a.ck.length>a.u.options.Ek&&a.ck.splice(a.u.options.Ek,a.ck.length-a.u.options.Ek),a.Ir=!0,
a.ap=a.zz,Zh(a,45*a.ap))}}};n.Uj=function(a,b,d,e){this.B=a;this.name=b;this.type=d||"";this.vk=e||n.g.Hf();n.i.ma(new n.i.ie(this))};n.Uj.prototype.Ka=function(){return this.vk};n.Uj.Kq=function(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};n.ba={};n.ba.Nj=n.Fu;n.ba.Qu=function(a){var b=ub(a,!1);a=Object.create(null);for(var d=0;d<b.length;d++){var e=Qa(b[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.Ka();k&&(a[k]=g)}}b=[];for(k in a)b.push(a[k]);return b};n.ba.SF=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};n.ba.wt={};
n.ba.PA=function(a){a=ub(a,!1);for(var b=Object.create(null),d=0,e;e=a[d];d++){var f=e.iG;!f&&e.tC&&(f=e.tC,n.ba.wt[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),n.ba.wt[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)b[e[f]]=!0}return Object.keys(b)};
n.ba.qh=function(a){var b=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");$h(a,"CREATE_VARIABLE",function(e){n.ba.dk(e.Ia)});b.push(d);a=n.ba.pr(a);return b=b.concat(a)};
n.ba.pr=function(a){a=a.Vl("");var b=[];if(0<a.length){var d=a[a.length-1];if(n.jb.variables_set){var e=n.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",n.jb.math_change?8:24);e.appendChild(n.ba.Ql(d));b.push(e)}n.jb.math_change&&(e=n.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",n.jb.variables_get?20:8),e.appendChild(n.ba.Ql(d)),d=n.S.Ng('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),b.push(e));if(n.jb.variables_get){a.sort(n.Uj.Kq);d=0;for(var f;f=a[d];d++)e=n.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(n.ba.Ql(f)),b.push(e)}}return b};
n.ba.mC=function(a){a=a.vg();var b="";if(a.length)for(var d=1,e=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(e);!b;){for(var g=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){g=!0;break}g?(e++,25==e&&(e=0,d++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(e),1<d&&(f+=d)):b=f}else b="i";return b};
n.ba.dk=function(a,b,d){function e(g){n.ba.Mx(n.h.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=n.ba.FD(k,a);if(l){var m=k.toLowerCase();if(l.type==f)var p=n.h.VARIABLE_ALREADY_EXISTS.replace("%1",m);else p=n.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,p=p.replace("%1",m).replace("%2",l.type);n.alert(p,function(){e(k)})}else a.oe(k,f),b&&b(k)}else b&&b(null)})}var f=d||"";e("")};na("Blockly.Variables.createVariableButtonHandler",n.ba.dk);n.ba.oe=n.ba.dk;na("Blockly.Variables.createVariable",n.ba.oe);
n.ba.Ls=function(a,b){function d(e){var f=n.h.RENAME_VARIABLE_TITLE.replace("%1",b.name);n.ba.Mx(f,e,function(g){if(g){var k=n.ba.GD(g,b.type,a);k?(k=n.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",g.toLowerCase()).replace("%2",k.type),n.alert(k,function(){d(g)})):a.lj(b.Ka(),g)}})}d("")};n.ba.Mx=function(a,b,d){n.prompt(a,b,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==n.h.RENAME_VARIABLE||e==n.h.NEW_VARIABLE)&&(e=null);d(e)})};
n.ba.GD=function(a,b,d){d=d.La.vg();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=b)return f;return null};n.ba.FD=function(a,b){b=b.La.vg();a=a.toLowerCase();for(var d=0,e;e=b[d];d++)if(e.name.toLowerCase()==a)return e;return null};n.ba.Ql=function(a){var b=n.g.xml.createElement("field");b.setAttribute("name","VAR");b.setAttribute("id",a.Ka());b.setAttribute("variabletype",a.type);b.appendChild(n.g.xml.createTextNode(a.name));return b};
n.ba.qw=function(a,b,d,e){var f=n.ba.Te(a,b,d,e);f||(f=n.ba.BB(a,b,d,e));return f};n.ba.Te=function(a,b,d,e){var f=a.Mh;if(b){var g=a.zg(b);!g&&f&&(g=f.zg(b));if(g)return g}if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.Te(d,e);!g&&f&&(g=f.Te(d,e))}return g};n.ba.BB=function(a,b,d,e){var f=a.Mh;d||(d=n.ba.mC(a.Ze?a.vj:a));return f?f.oe(d,e,b):a.oe(d,e,b)};
n.ba.kw=function(a,b){a=a.vg();var d=[];if(b.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==b.indexOf(f)&&d.push(f)}return d};n.je={};n.je.PD=function(a){n.ba.dk(a.Ia,null,"String")};n.je.OD=function(a){n.ba.dk(a.Ia,null,"Number")};n.je.ND=function(a){n.ba.dk(a.Ia,null,"Colour")};
n.je.qh=function(a){var b=[],d=document.createElement("button");d.setAttribute("text",n.h.NEW_STRING_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(d);d=document.createElement("button");d.setAttribute("text",n.h.NEW_NUMBER_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(d);d=document.createElement("button");d.setAttribute("text",n.h.NEW_COLOUR_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");b.push(d);$h(a,"CREATE_VARIABLE_STRING",n.je.PD);
$h(a,"CREATE_VARIABLE_NUMBER",n.je.OD);$h(a,"CREATE_VARIABLE_COLOUR",n.je.ND);a=n.je.pr(a);return b=b.concat(a)};
n.je.pr=function(a){a=a.vg();var b=[];if(0<a.length){if(n.jb.variables_set_dynamic){var d=a[a.length-1],e=n.g.xml.createElement("block");e.setAttribute("type","variables_set_dynamic");e.setAttribute("gap",24);e.appendChild(n.ba.Ql(d));b.push(e)}if(n.jb.variables_get_dynamic){a.sort(n.Uj.Kq);d=0;for(var f;f=a[d];d++)e=n.g.xml.createElement("block"),e.setAttribute("type","variables_get_dynamic"),e.setAttribute("gap",8),e.appendChild(n.ba.Ql(f)),b.push(e)}}return b};n.Lu=function(a){this.zs=a;this.nl=Object.create(null)};c=n.Lu.prototype;c.es=null;c.L=function(){this.nl=this.zs=null};c.load=function(a,b){if(a.length){try{var d=new n.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new n.g.global.Audio(g);break}}e&&e.play&&(this.nl[b]=e)}};
c.preload=function(){for(var a in this.nl){var b=this.nl[a];b.volume=.01;var d=b.play();void 0!==d?d.then(b.pause).catch(function(){}):b.pause();if(n.g.userAgent.ii||n.g.userAgent.Vt)break}};c.play=function(a,b){var d=this.nl[a];d?(a=new Date,null!=this.es&&a-this.es<n.mA||(this.es=a,d=n.g.userAgent.ii||n.g.userAgent.Ej?d:d.cloneNode(),d.volume=void 0===b?1:b,d.play())):this.zs&&this.zs.wb.play(a,b)};n.ja.qa={};n.ja.vc=8;n.ja.dn=3;n.ja.xA=2;n.ja.pl=10;c=n.ja.prototype;c.Db=function(){return{width:this.Xc(),height:this.kk()}};
c.qa=function(){if(!this.mj){var a=this.Db();this.Gl();this.D.appendChild(this.Pd);this.tj=n.g.j.J("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.D.appendChild(this.tj);this.Xh=n.g.j.J("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:n.ja.dn,ry:n.ja.dn});this.D.appendChild(this.Xh);this.cc=n.g.j.J("g",{"class":this.C?"blocklyResizeSW":"blocklyResizeSE"},this.D);n.g.j.J("polygon",{points:"0,x x,x x,0".replace(/x/g,n.ja.vc.toString())},this.cc);n.g.j.J("line",{"class":"blocklyResizeLine",
x1:n.ja.vc/3,y1:n.ja.vc-1,x2:n.ja.vc-1,y2:n.ja.vc/3},this.cc);n.g.j.J("line",{"class":"blocklyResizeLine",x1:2*n.ja.vc/3,y1:n.ja.vc-1,x2:n.ja.vc-1,y2:2*n.ja.vc/3},this.cc);this.Ec()&&(this.mh=n.g.j.J("g",{"class":"blocklyCommentDeleteIcon"},this.D),this.Ov=n.g.j.J("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.mh),n.g.j.J("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.mh),n.g.j.J("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},
this.mh));ai(this,a.width,a.height);this.Ib.value=this.ic;this.mj=!0;this.cc&&n.ea(this.cc,"mousedown",this,this.Ns);this.Ec()&&(n.ea(this.mh,"mousedown",this,this.OB),n.ea(this.mh,"mouseout",this,this.PB),n.ea(this.mh,"mouseup",this,this.QB))}};
c.Gl=function(){this.Pd=n.g.j.J("foreignObject",{x:0,y:n.ja.pl,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(n.g.j.sf,"body");a.setAttribute("xmlns",n.g.j.sf);a.className="blocklyMinimalBody";var b=document.createElementNS(n.g.j.sf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.C?"RTL":"LTR");a.appendChild(b);this.Ib=b;this.Pd.appendChild(a);n.ea(b,"wheel",this,function(d){d.stopPropagation()});n.ea(b,"change",this,function(){this.Uf(b.value)});
return this.Pd};c.Ns=function(a){this.Wk();n.g.Dh(a)||(this.B.vp(a,new n.g.T(this.B.C?-this.va:this.va,this.Pa)),this.$c=n.ea(document,"mouseup",this,this.sE),this.xe=n.ea(document,"mousemove",this,this.Os),n.lc());a.stopPropagation()};c.OB=function(a){n.g.j.fb(this.Ov,"blocklyDeleteIconHighlighted");a.stopPropagation()};c.PB=function(){n.g.j.Gb(this.Ov,"blocklyDeleteIconHighlighted")};c.QB=function(a){this.L(!0,!0);a.stopPropagation()};
c.Wk=function(){this.$c&&(n.gb(this.$c),this.$c=null);this.xe&&(n.gb(this.xe),this.xe=null)};c.sE=function(){n.Touch.pg();this.Wk()};c.Os=function(a){this.In=!1;a=Jb(this.B,a);ai(this,this.C?-a.x:a.x,a.y)};
function ai(a,b,d){b=Math.max(b,45);d=Math.max(d,20+n.ja.pl);a.va=b;a.Pa=d;a.Qm.setAttribute("width",b);a.Qm.setAttribute("height",d);a.Xh.setAttribute("width",b);a.Xh.setAttribute("height",d);a.tj.setAttribute("width",b);a.tj.setAttribute("height",n.ja.pl);a.C&&(a.Qm.setAttribute("transform","scale(-1 1)"),a.Xh.setAttribute("transform","scale(-1 1)"));a.cc&&(a.C?(a.cc.setAttribute("transform","translate("+(-b+n.ja.vc)+","+(d-n.ja.vc)+") scale(-1 1)"),a.mh.setAttribute("transform","translate("+(-b+
n.ja.vc)+","+-n.ja.vc+") scale(-1 1)")):(a.cc.setAttribute("transform","translate("+(b-n.ja.vc)+","+(d-n.ja.vc)+")"),a.mh.setAttribute("transform","translate("+(b-n.ja.vc)+","+-n.ja.vc+")")));b=a.Db();d=2*n.ja.xA;a.Pd.setAttribute("width",b.width);a.Pd.setAttribute("height",b.height-n.ja.pl);a.C&&a.Pd.setAttribute("x",-b.width);a.Ib.style.width=b.width-d+"px";a.Ib.style.height=b.height-d-n.ja.pl+"px"}
c.bt=function(){var a=this;this.Pl=!0;setTimeout(function(){a.sg||(a.Ib.focus(),n.g.j.fb(a.D,"blocklyFocused"),n.g.j.fb(a.Xh,"blocklyCommentTargetFocused"),n.g.j.fb(a.tj,"blocklyCommentHandleTargetFocused"))},0)};function Mb(a){a.Pl=!1;setTimeout(function(){a.sg||(a.Ib.blur(),n.g.j.Gb(a.D,"blocklyFocused"),n.g.j.Gb(a.Xh,"blocklyCommentTargetFocused"),n.g.j.Gb(a.tj,"blocklyCommentHandleTargetFocused"))},0)};n.Mu=function(a){this.Dl=a;this.ka()};c=n.Mu.prototype;c.ib=null;c.pe=null;c.Dl=null;c.ka=function(){this.ib||(this.ib=n.g.j.J("svg",{xmlns:n.g.j.aa,"xmlns:html":n.g.j.sf,"xmlns:xlink":n.g.j.ta,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Dl.appendChild(this.ib))};c.Og=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.ib.style.display="block";n.g.j.Dm(this.ib,"translate3d("+a+"px, "+b+"px, 0px)")};c.Co=function(){return n.g.Rd(this.ib)};
c.zl=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.ib.childNodes[0],d=this.ib.childNodes[1];if(!(b&&d&&n.g.j.Cw(b,"blocklyBlockCanvas")&&n.g.j.Cw(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.df?n.g.j.Si(b,this.df):a.insertBefore(b,a.firstChild);n.g.j.Si(d,b);this.ib.style.display="none";if(this.ib.childNodes.length)throw Error("Drag surface was not cleared.");n.g.j.Dm(this.ib,
"");this.df=null};
n.Nu=function(a){this.u=a};c=n.Nu.prototype;c.vi=32;c.St=110;c.Zp=20;c.il=20;c.D=null;c.lm=0;c.Uk=0;c.ka=function(){this.D=n.g.j.J("g",{},null);var a=String(Math.random()).substring(2);bi(this,a);ci(this,a);this.u.mc()&&di(this,a);return this.D};c.za=function(a){this.Sg=this.Zp+a;return this.Sg+this.St};c.L=function(){this.D&&(n.g.j.removeNode(this.D),this.D=null);this.u=null};
c.position=function(){if(this.Sg){var a=this.u.Eb();a&&(this.lm=a.ua==n.xd||this.u.Ad&&!this.u.C?a.Ya+a.Bb-this.vi-this.il-n.Ba.Qb:this.il+n.Ba.Qb,a.ua==n.dh?(this.Uk=this.Sg,this.Dp.setAttribute("transform","translate(0, 34)"),this.Ep&&this.Ep.setAttribute("transform","translate(0, 77)")):(this.Uk=a.cb+a.Cb-this.St-this.Sg,this.Dp.setAttribute("transform","translate(0, 43)"),this.vt.setAttribute("transform","translate(0, 77)")),this.D.setAttribute("transform","translate("+this.lm+","+this.Uk+")"))}};
function bi(a,b){var d=a.u;a.vt=n.g.j.J("g",{"class":"blocklyZoom"},a.D);var e=n.g.j.J("clipPath",{id:"blocklyZoomoutClipPath"+b},a.vt);n.g.j.J("rect",{width:32,height:32},e);a=n.g.j.J("image",{width:n.ld.width,height:n.ld.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},a.vt);a.setAttributeNS(n.g.j.ta,"xlink:href",d.options.cf+n.ld.url);n.ea(a,"mousedown",null,function(f){Vb(d);ei(d,-1);n.Touch.pg();f.stopPropagation();f.preventDefault()})}
function ci(a,b){var d=a.u;a.Dp=n.g.j.J("g",{"class":"blocklyZoom"},a.D);var e=n.g.j.J("clipPath",{id:"blocklyZoominClipPath"+b},a.Dp);n.g.j.J("rect",{width:32,height:32},e);a=n.g.j.J("image",{width:n.ld.width,height:n.ld.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+b+")"},a.Dp);a.setAttributeNS(n.g.j.ta,"xlink:href",d.options.cf+n.ld.url);n.ea(a,"mousedown",null,function(f){Vb(d);ei(d,1);n.Touch.pg();f.stopPropagation();f.preventDefault()})}
function di(a,b){var d=a.u;a.Ep=n.g.j.J("g",{"class":"blocklyZoom"},a.D);var e=n.g.j.J("clipPath",{id:"blocklyZoomresetClipPath"+b},a.Ep);n.g.j.J("rect",{width:32,height:32},e);a=n.g.j.J("image",{width:n.ld.width,height:n.ld.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},a.Ep);a.setAttributeNS(n.g.j.ta,"xlink:href",d.options.cf+n.ld.url);n.ea(a,"mousedown",null,function(f){Vb(d);d.setScale(d.options.lb.oy);fi(d);gi(d);setTimeout(function(){n.g.j.Gb(d.ab,"blocklyCanvasTransitioning");
n.g.j.Gb(d.ae,"blocklyCanvasTransitioning")},500);n.Touch.pg();f.stopPropagation();f.preventDefault()})};
n.Za=function(a,b,d){n.Za.A.constructor.call(this,a);this.Eb=a.Eb||n.Za.AC;this.Jg=a.Jg||n.Za.AE;this.Bl=n.Gj.za();b&&(this.Nb=b);d&&(this.Aj=d);this.zp=this.Aj&&n.g.Ah();this.bm=[];this.wb=new n.Lu(a.ad);this.te=this.options.yw?new n.hi(a.yw,a.xw):null;n.ba&&n.ba.qh&&hi(this,n.Fu,n.ba.qh);n.je&&n.je.qh&&hi(this,n.FA,n.je.qh);n.Ab&&n.Ab.qh&&hi(this,n.ou,n.Ab.qh)};h(n.Za,n.Sa);c=n.Za.prototype;c.sp=null;c.ha=!0;c.Eh=!0;c.Ze=!1;c.Vi=!1;c.Ps=!0;c.scrollX=0;c.scrollY=0;c.Zv=null;c.scale=1;c.Ic=null;
c.yb=null;c.P=null;c.ia=null;c.Pb=null;c.Nb=null;c.Aj=null;c.zp=!1;c.Oo=!1;c.Ur=null;c.Xw=null;c.nr={};c.pt={};c.nv=null;c.vj=null;c.Pw=null;c.Xr=!0;c.uv=function(){return new n.Wa(this)};c.vv=function(){return new n.Wa(this,!0)};function Vh(a){if(a.Xr){var b=x(a).getScreenCTM();b&&(a.Pw=b.inverse(),a.Xr=!1)}return a.Pw}c.Zm=function(){this.Xr=!0};c.isVisible=function(){return this.Eh};
function Ka(a,b){var d=0,e=0,f=1;if(n.g.j.containsNode(a.ab,b)||n.g.j.containsNode(a.ae,b))f=a.scale;do{var g=n.g.Rd(b);if(b==a.ab||b==a.ae)f=1;d+=g.x*f;e+=g.y*f;b=b.parentNode}while(b&&b!=x(a));return new n.g.T(d,e)}function Da(a){if(!a.Ur)for(var b=a.D;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Ur=b;break}b=b.parentNode}return a.Ur}
c.ka=function(a){this.D=n.g.j.J("g",{"class":"blocklyWorkspace"},null);a&&(this.$d=n.g.j.J("rect",{height:"100%",width:"100%","class":a},this.D),"blocklyMainBackground"==a&&this.te&&(this.$d.style.fill="url(#"+this.te.mk.id+")"));this.ab=n.g.j.J("g",{"class":"blocklyBlockCanvas"},this.D);this.ae=n.g.j.J("g",{"class":"blocklyBubbleCanvas"},this.D);this.Ze||(n.ea(this.D,"mousedown",this,this.Jh,!1,!0),n.ea(this.D,"wheel",this,this.dE));this.options.Bw&&(this.ia=new n.Lb(this));this.te&&this.te.update(this.scale);
ii(this);a=this.cursor.ka();this.D.appendChild(a);a=this.Xo.ka();this.D.appendChild(a);return this.D};
c.L=function(){this.ha=!1;this.Pb&&this.Pb.cancel();n.Za.A.L.call(this);this.D&&(n.g.j.removeNode(this.D),this.D=null);this.ae=this.ab=null;this.ia&&(this.ia.L(),this.ia=null);this.P&&(this.P.L(),this.P=null);this.Ic&&(this.Ic.L(),this.Ic=null);this.yb&&(this.yb.L(),this.yb=null);this.Cj&&(this.Cj.L(),this.Cj=null);this.Xo&&this.Xo.L();this.cursor&&this.cursor.L();this.wb&&(this.wb.L(),this.wb=null);this.te&&(this.te.L(),this.te=null);this.nr=this.pt=this.Bl=null;if(!this.options.ad){var a=x(this).parentNode;
a&&n.g.j.removeNode(a)}this.sp&&(n.gb(this.sp),this.sp=null)};c.ep=function(a,b){return new n.s(this,a,b)};function ji(a){a.Ic=new n.Du(a);var b=a.Ic.ka();a.D.insertBefore(b,a.ab)}function ki(a){a.Cj=new n.Nu(a);var b=a.Cj.ka();a.D.appendChild(b)}function li(a,b){var d={rg:a.options.rg,ad:a,C:a.C,Kh:a.options.Kh,Ad:a.Ad,ua:a.options.ua};a.P=a.Ad?new n.Jj(d):new n.Vj(d);a.P.Yj=!1;return a.P.ka(b)}function mi(a){return a.P?a.P:a.ia?a.ia.P:null}
function Pa(a){if(a.Ps&&a.ha){if(a.yb){var b=a.Eb();Sh(a.yb.Sd,b);Uh(a.yb.ce,b)}a.Zm()}}c.resize=function(){this.ia&&this.ia.position();this.P&&this.P.position();this.Ic&&this.Ic.position();this.Cj&&this.Cj.position();this.yb&&this.yb.resize();this.Zm();ii(this)};function Tb(a){var b=n.g.wr();n.g.T.Qe(a.Xw,b)||(a.Xw=b,a.Zm(),ii(a))}function x(a){if(a.Wu)return a.Wu;for(var b=a.D;b;){if("svg"==b.tagName)return a.Wu=b;b=b.parentNode}return null}
c.translate=function(a,b){if(this.zp&&this.Oo)this.Aj.Og(a,b);else{var d="translate("+a+","+b+") scale("+this.scale+")";this.ab.setAttribute("transform",d);this.ae.setAttribute("transform",d)}if(this.Nb){d=this.Nb;var e=this.scale;d.Rh=e;d.pe.setAttribute("transform","translate("+a.toFixed(0)+","+b.toFixed(0)+") scale("+e+")")}this.te&&this.te.moveTo(a,b)};
function Wb(a){if(a.zp){a.Oo=!1;var b=a.Aj.Co();a.Aj.zl(a.D);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.ab.setAttribute("transform",b);a.ae.setAttribute("transform",b)}}
function Qb(a){if(a.zp&&!a.Oo){a.Oo=!0;var b=a.ab.previousSibling,d=parseInt(x(a).getAttribute("width"),10),e=parseInt(x(a).getAttribute("height"),10),f=n.g.Rd(a.ab),g=a.Aj,k=a.ab,l=a.ae,m=a.scale;if(g.ib.childNodes.length)throw Error("Already dragging a block.");g.df=b;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.ib.setAttribute("width",d);g.ib.setAttribute("height",e);g.ib.appendChild(k);g.ib.appendChild(l);g.ib.style.display=
"block";a.Aj.Og(f.x,f.y)}}c.Xc=function(){var a=this.Eb();return a?a.Ya/this.scale:0};c.Ha=function(a){this.yb&&this.yb.nj(a);mi(this)&&mi(this).nj(a);x(this).style.display=a?"block":"none";this.ia&&(this.ia.jd.style.display=a?"block":"none");a?(this.qa(),this.ia&&this.ia.position()):n.lc(!0);this.Eh=a};c.qa=function(){for(var a=ub(this,!1),b=a.length-1;0<=b;b--)a[b].qa(!1);if(this.Pb)for(a=this.Pb.lk(),b=0;b<a.length;b++)a[b].qa(!1)};
function ni(a,b){var d=D;if(void 0===b){for(var e=0,f;f=d.bm[e];e++)f.Fd(!1);d.bm.length=0}if(f=a?Ea(d,a):null)(a=void 0===b||b)?-1==d.bm.indexOf(f)&&d.bm.push(f):n.g.vl(d.bm,f),f.Fd(a)}
function oi(a){var b=n.Al;if(a.ha&&!(b.getElementsByTagName("block").length>=Bb(a)))if(a.Pb&&a.Pb.cancel(),"comment"==b.tagName.toLowerCase()){n.i.disable();try{var d=n.ja.Gi(b,a),e=parseInt(b.getAttribute("x"),10),f=parseInt(b.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.C&&(e=-e),d.moveBy(e+50,f+50))}finally{n.i.enable()}d.select()}else a:{n.i.disable();try{var g=n.S.fk(b,a),k=n.v.Hh.xb;if(n.Wi&&k){n.v.Ow(g,k.ra);break a}var l=parseInt(b.getAttribute("x"),10),m=parseInt(b.getAttribute("y"),10);
if(!isNaN(l)&&!isNaN(m)){a.C&&(l=-l);do{b=!1;var p=ub(a,!1);d=0;for(var r;r=p[d];d++){var t=r.Fa();if(1>=Math.abs(l-t.x)&&1>=Math.abs(m-t.y)){b=!0;break}}if(!b){var v=g.re(!1);d=0;for(var q;q=v[d];d++)if(q.closest(n.Ld,new n.g.T(l,m)).connection){b=!0;break}}b&&(l=a.C?l-n.Ld:l+n.Ld,m+=2*n.Ld)}while(b);g.moveBy(l,m)}}finally{n.i.enable()}n.i.isEnabled()&&!g.bb&&n.i.ma(new n.i.hn(g));g.select()}}function pi(a){if((a=a.Ze?a.vj:a)&&!a.Pb&&a.ia&&a.ia.P){a=a.ia;var b=a.Jc.cd;b&&b.wf&&a.P.show(b.wf)}}
c.lj=function(a,b){n.Za.A.lj.call(this,a,b);pi(this)};c.Di=function(a){n.Za.A.Di.call(this,a);pi(this)};c.oe=function(a,b,d){a=n.Za.A.oe.call(this,a,b,d);pi(this);return a};function ii(a){a.Nv=a.Ic&&a.D.parentNode?a.Ic.ik():null;a.Mv=a.P?a.P.ik():a.ia?a.ia.ik():null}function nb(a,b){return a.Nv&&a.Nv.contains(b.clientX,b.clientY)?n.Np:a.Mv&&a.Mv.contains(b.clientX,b.clientY)?n.Ot:n.Nt}c.Jh=function(a){var b=this.Jf(a);b&&Zb(b,a,this)};
c.vp=function(a,b){a=n.g.tm(a,x(this),Vh(this));a.x/=this.scale;a.y/=this.scale;this.Zv=n.g.T.Kl(b,a)};function Jb(a,b){b=n.g.tm(b,x(a),Vh(a));b.x/=a.scale;b.y/=a.scale;return n.g.T.sum(a.Zv,b)}c.Fc=function(){return null!=this.Pb&&this.Pb.Fc()};function qi(a){return a.options.oc&&a.options.oc.scrollbars||a.options.oc&&a.options.oc.zj||a.options.oc&&a.options.oc.ph||a.options.lb&&a.options.lb.controls||a.options.lb&&a.options.lb.zj}
c.mc=function(){return this.options.oc&&this.options.oc.scrollbars||this.options.oc&&this.options.oc.zj||this.options.oc&&this.options.oc.ph||this.options.lb&&this.options.lb.zj};
c.dE=function(a){if(n.Ij.Sr())a.preventDefault(),a.stopPropagation();else{var b=this.options.lb&&this.options.lb.zj,d=this.options.oc&&this.options.oc.zj;if(b||d){var e=n.g.Ar(a);!b||!a.ctrlKey&&d?(b=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(b=this.scrollX-e.y,d=this.scrollY),this.scroll(b,d)):(e=-e.y/50,b=n.g.tm(a,x(this),Vh(this)),this.zoom(b.x,b.y,e));a.preventDefault()}}};
function Ma(a){var b=y(a,!1);a=La(a,!1);b=b.concat(a);if(!b.length)return new n.g.Rect(0,0,0,0);a=b[0].po();for(var d=1;d<b.length;d++){var e=b[d].po();e.top<a.top&&(a.top=e.top);e.bottom>a.bottom&&(a.bottom=e.bottom);e.left<a.left&&(a.left=e.left);e.right>a.right&&(a.right=e.right)}return a}c.pB=function(){this.rc(!1);n.i.fa(!0);for(var a=y(this,!0),b=0,d=0,e;e=a[d];d++)if(e.mc()){var f=e.Fa();e.moveBy(-f.x,b-f.y);ri(e);b=e.Fa().y+e.Db().height+n.s.jl}n.i.fa(!1);this.rc(!0)};
c.Pk=function(a){function b(q){if(q.Ec())v=v.concat(Ca(q,!1));else{q=q.wg(!1);for(var A=0;A<q.length;A++)b(q[A])}}function d(){n.i.fa(g);var q=v.shift();q&&(q.B?(q.L(!1,!0),setTimeout(d,10)):d());n.i.fa(!1)}if(!this.options.readOnly&&!this.Ze){var e=[],f=y(this,!0),g=n.g.Hf(),k=this,l={};l.text=n.h.UNDO;l.enabled=0<this.wj.length;l.gc=this.rt.bind(this,!1);e.push(l);l={};l.text=n.h.REDO;l.enabled=0<this.Bm.length;l.gc=this.rt.bind(this,!0);e.push(l);this.mc()&&(l={},l.text=n.h.CLEAN_UP,l.enabled=
1<f.length,l.gc=this.pB.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,p=0;p<f.length;p++)for(var r=f[p];r;)r.isCollapsed()?l=!0:m=!0,r=u(r);var t=function(q){for(var A=0,N=0;N<f.length;N++)for(var T=f[N];T;)setTimeout(T.Th.bind(T,q),A),T=u(T),A+=10};m={enabled:m};m.text=n.h.COLLAPSE_ALL;m.gc=function(){t(!0)};e.push(m);l={enabled:l};l.text=n.h.EXPAND_ALL;l.gc=function(){t(!1)};e.push(l)}var v=[];for(p=0;p<f.length;p++)b(f[p]);l={text:1==v.length?n.h.DELETE_BLOCK:n.h.DELETE_X_BLOCKS.replace("%1",
String(v.length)),enabled:0<v.length,gc:function(){k.Pb&&k.Pb.cancel();2>v.length?d():n.confirm(n.h.DELETE_ALL_BLOCKS.replace("%1",v.length),function(q){q&&d()})}};e.push(l);this.nv&&this.nv(e);n.ya.show(a,e,this.C)}};
c.Ey=function(a){if(a=n.Kd.Cx(a)){if(!this.options.Qf)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.ia)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.Qf=a;a=this.ia.kp(a);si(this.ia);this.ia.position();this.ia.Jc.Vf(a)}else{if(!this.P)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.Qf=a;this.P.show(a.childNodes)}}else if(this.options.Qf)throw Error("Can't nullify an existing toolbox.");
};function Vb(a){if(a.options.ad)Vb(a.options.ad);else{n.nm=a;document.activeElement&&document.activeElement.blur();try{x(a).focus()}catch(b){try{x(a).parentNode.setActive()}catch(d){x(a).parentNode.focus()}}}}
c.zoom=function(a,b,d){if(!this.Ze&&!this.Vi){d=Math.pow(this.options.lb.uE,d);var e=this.scale*d;if(this.scale!=e){e>this.options.lb.qm?d=this.options.lb.qm/this.scale:e<this.options.lb.sm&&(d=this.options.lb.sm/this.scale);var f=this.ab.getCTM(),g=x(this).createSVGPoint();g.x=a;g.y=b;g=g.matrixTransform(f.inverse());a=g.x;b=g.y;f=f.translate(a*(1-d),b*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}}};
function ei(a,b){var d=a.Eb();if(a.P){var e=d.LE/2;d=d.KE/2}else e=d.Ya/2+d.Bb,d=d.cb/2+d.Cb;a.zoom(e,d,b)}function fi(a){n.g.j.fb(a.ab,"blocklyCanvasTransitioning");n.g.j.fb(a.ae,"blocklyCanvasTransitioning")}function gi(a){if(a.mc()){var b=a.Eb(),d=(b.yd-b.Ya)/2,e=(b.od-b.cb)/2;d=-d-b.yc;e=-e-b.hc;a.scroll(d,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}
c.setScale=function(a){this.options.lb.qm&&a>this.options.lb.qm?a=this.options.lb.qm:this.options.lb.sm&&a<this.options.lb.sm&&(a=this.options.lb.sm);this.scale=a;n.lc(!1);this.P&&(this.P.Js(),ii(this));this.te&&this.te.update(this.scale);a=this.Eb();this.scrollX-=a.Bb;this.scrollY-=a.Cb;a.vb+=a.Bb;a.Jb+=a.Cb;this.scroll(this.scrollX,this.scrollY);this.yb&&(this.P?(Ph(this.yb.Sd,a),Qh(this.yb.ce,a)):(Sh(this.yb.Sd,a),Uh(this.yb.ce,a)))};
c.scroll=function(a,b){n.lc(!0);var d=this.Eb(),e=d.yd+d.yc-d.Ya,f=d.od+d.hc-d.cb;a=Math.min(a,-d.yc);b=Math.min(b,-d.hc);a=Math.max(a,-e);b=Math.max(b,-f);this.scrollX=a;this.scrollY=b;this.yb&&(Lh(this.yb.Sd,-(a+d.yc)*this.yb.Sd.pc),Lh(this.yb.ce,-(b+d.hc)*this.yb.ce.pc));a+=d.Bb;b+=d.Cb;this.translate(a,b)};n.Za.ow=function(a){var b=0,d=0;a&&(b=a.Xc(),d=a.kk());return{width:b,height:d}};n.Za.sC=function(a,b){return qi(a)?n.Za.rC(a,b):n.Za.lw(a)};
n.Za.lw=function(a){var b=Ma(a),d=a.scale;a=b.top*d;var e=b.bottom*d,f=b.left*d;b=b.right*d;return{top:a,bottom:e,left:f,right:b,width:b-f,height:e-a}};n.Za.rC=function(a,b){a=n.Za.lw(a);var d=b.width;b=b.height;var e=d/2,f=b/2,g=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-b);return{left:g,top:k,height:Math.max(a.bottom+f,a.top+b)-k,width:Math.max(a.right+e,a.left+d)-g}};
n.Za.AC=function(){var a=n.Za.ow(this.ia),b=n.Za.ow(this.P),d=n.uy(x(this)),e={height:d.height,width:d.width};if(this.ia)if(this.ua==n.md||this.ua==n.dh)e.height-=a.height;else{if(this.ua==n.xd||this.ua==n.ig)e.width-=a.width}else if(this.P)if(this.ua==n.md||this.ua==n.dh)e.height-=b.height;else if(this.ua==n.xd||this.ua==n.ig)e.width-=b.width;var f=n.Za.sC(this,e),g=0;this.ia&&this.ua==n.xd?g=a.width:this.P&&this.ua==n.xd&&(g=b.width);var k=0;this.ia&&this.ua==n.md?k=a.height:this.P&&this.ua==n.md&&
(k=b.height);return{od:f.height,yd:f.width,hc:f.top,yc:f.left,cb:e.height,Ya:e.width,Jb:-this.scrollY,vb:-this.scrollX,Cb:k,Bb:g,KE:d.height,LE:d.width,Ay:a.width,zy:a.height,fG:b.width,eG:b.height,ua:this.ua}};n.Za.AE=function(a){var b=this.Eb();"number"==typeof a.x&&(this.scrollX=-b.yd*a.x-b.yc);"number"==typeof a.y&&(this.scrollY=-b.od*a.y-b.hc);this.translate(this.scrollX+b.Bb,this.scrollY+b.Cb)};n.Za.prototype.rc=function(a){var b=!this.Ps&&a;this.Ps=a;b&&Pa(this)};
n.Za.prototype.clear=function(){this.rc(!1);n.Za.A.clear.call(this);this.rc(!0)};function $h(a,b,d){if("function"!=typeof d)throw TypeError("Button callbacks must be functions.");a.nr[b]=d}function ti(a,b){return(a=a.nr[b])?a:null}function hi(a,b,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.pt[b]=d}
n.Za.prototype.Jf=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Pb;return d?b&&d.Mi?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:b?this.Pb=new n.Md(a,this):null};n.Za.prototype.setVisible=n.Za.prototype.Ha;n.ni=function(a){n.ni.A.constructor.call(this,null);this.Nx=a};h(n.ni,n.Nc);c=n.ni.prototype;c.Yk=0;c.an=0;
c.dr=function(a){n.g.j.J("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);n.g.j.J("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
n.g.j.J("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};c.Qr=function(a){this.V.Yc()&&n.Nc.prototype.Qr.call(this,a)};
c.Gl=function(){this.Pm=n.g.j.J("svg",{x:n.la.Lc,y:n.la.Lc},null);if(this.Nx.length)for(var a=n.g.xml.createElement("xml"),b=0,d;d=this.Nx[b];b++){var e=n.g.xml.createElement("block");e.setAttribute("type",d);a.appendChild(e)}else a=null;a={disable:!1,rg:this.V.B.options.rg,Qf:a,ad:this.V.B,cf:this.V.B.options.cf,C:this.V.C,ua:this.V.C?n.ig:n.xd,Ad:!1,Eb:this.uC.bind(this),Jg:null};this.u=new n.Za(a);this.u.Vi=!0;this.u.Pc(n.i.UB);a=li(this.u,"g");b=this.u.ka("blocklyMutatorBackground");b.insertBefore(a,
this.u.ab);this.Pm.appendChild(b);return this.Pm};c.Rg=function(){this.V.rd||(this.V.Yc()?this.Dc&&n.g.j.Gb(this.Dc,"blocklyIconGroupReadonly"):(this.Ha(!1),this.Dc&&n.g.j.fb(this.Dc,"blocklyIconGroupReadonly")));n.Nc.prototype.Rg.call(this)};
c.rp=function(){var a=2*n.la.Lc,b=this.u.ab.getBBox();var d=this.V.C?-b.x:b.width+b.x;b=b.height+3*a;if(this.u.P){var e=this.u.P.xg();b=Math.max(b,e.od+20)}d+=3*a;if(Math.abs(this.Yk-d)>a||Math.abs(this.an-b)>a)this.Yk=d,this.an=b,this.sb.Sh(d+a,b+a),this.Pm.setAttribute("width",this.Yk),this.Pm.setAttribute("height",this.an);this.V.C&&this.u.ab.setAttribute("transform","translate("+this.Yk+",0)");this.u.resize()};
c.Ha=function(a){if(a!=this.isVisible())if(n.i.ma(new n.i.fc(this.V,"mutatorOpen",!a,a)),a){this.sb=new n.la(this.V.B,this.Gl(),this.V.ed,this.uk,null,null);Gb(this.sb,this.V.id);if(a=this.u.options.Qf)this.u.P.za(this.u),this.u.P.show(a.childNodes);this.Ig=this.V.Yn(this.u);a=Ca(this.Ig,!1);for(var b=0,d;d=a[b];b++)d.qa();this.Ig.oj(!1);this.Ig.$s(!1);this.u.P?(a=2*this.u.P.O,b=mi(this.u).Xc()+a):b=a=16;this.V.C&&(b=-b);this.Ig.moveBy(b,a);if(this.V.Vx){var e=this;this.V.Vx(this.Ig);this.up=function(){e.V.Vx(e.Ig)};
this.V.B.Pc(this.up)}this.rp();this.u.Pc(this.cF.bind(this));this.Be()}else this.Pm=null,this.u.L(),this.Ig=this.u=null,this.sb.L(),this.sb=null,this.an=this.Yk=0,this.up&&(this.V.B.jj(this.up),this.up=null)};
c.cF=function(a){if(a.type!=n.i.ql&&(a.type!=n.i.Fj||"disabled"!=a.element)){if(!this.u.Fc()){a=y(this.u,!1);for(var b=0,d;d=a[b];b++){var e=d.Fa(),f=d.Db();20>e.y+f.height&&d.moveBy(0,20-f.height-e.y)}}if(this.Ig.B==this.u){n.i.fa(!0);d=this.V;a=(a=d.Dd())&&n.S.Uc(a);b=d.ha;d.ha=!1;d.Qn(this.Ig);d.ha=b;d.Bg();b=(b=d.Dd())&&n.S.Uc(b);if(a!=b){n.i.ma(new n.i.mf(d,"mutation",null,a,b));var g=n.i.Zb();setTimeout(function(){n.i.fa(g);d.nd();n.i.fa(!1)},n.gn)}d.ha&&d.qa();this.u.Fc()||this.rp();n.i.fa(!1)}}};
c.uC=function(){return{cb:this.an,Ya:this.Yk-mi(this.u).Xc(),Cb:0,Bb:this.u.C?0:mi(this.u).Xc()}};c.L=function(){this.V.af=null;n.Nc.prototype.L.call(this)};n.ni.oE=function(a,b,d){if(!a||!a.H.B)return!1;d=Ja(b,d).connection;var e=w(a);return e&&e!=b||d.sa==a?!1:(d.isConnected()&&d.disconnect(),d.connect(a),!0)};n.ni.dG=function(a){var b=null;if(a&&a.options){var d=a.options.ad;a.Ze?d&&d.options&&(b=d.options.ad):d&&(b=d)}return b};n.g.global.Blockly||(n.g.global.Blockly={});
n.g.global.Blockly.Mutator||(n.g.global.Blockly.Mutator={});n.g.global.Blockly.Mutator.reconnect=n.ni.oE;n.Ja={};n.Ja.Fp={};n.Ja.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(n.Ja.Fp[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');n.Ja.Fp[a]=b};n.Ja.rG=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');n.Ja.register(a,function(){ui(this,b)})};
n.Ja.sG=function(a,b,d,e){var f='Error when registering mutator "'+a+'": ';n.Ja.$u(f,b.tg,"domToMutation");n.Ja.$u(f,b.Dd,"mutationToDom");var g=n.Ja.bv(b,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');n.Ja.register(a,function(){g&&this.by(new n.ni(e));ui(this,b);d&&d.apply(this)})};
n.Ja.apply=function(a,b,d){var e=n.Ja.Fp[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)n.Ja.nB(a,b);else var f=n.Ja.yr(b);e.apply(b);if(d)n.Ja.lB('Error after applying mutator "'+a+'": ',b);else if(!n.Ja.ED(f,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
n.Ja.$u=function(a,b,d){if(!b)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof b)throw Error(a+'" required property "'+d+'" must be a function');};n.Ja.nB=function(a,b){if(n.Ja.yr(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
n.Ja.bv=function(a,b){var d=void 0!==a.Qn,e=void 0!==a.Yn;if(d&&e){if("function"!=typeof a.Qn)throw Error(b+"compose must be a function.");if("function"!=typeof a.Yn)throw Error(b+"decompose must be a function.");return!0}if(d||e)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
n.Ja.lB=function(a,b){if("function"!=typeof b.tg)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.Dd)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');n.Ja.bv(b,a)};n.Ja.yr=function(a){var b=[];void 0!==a.tg&&b.push(a.tg);void 0!==a.Dd&&b.push(a.Dd);void 0!==a.Qn&&b.push(a.Qn);void 0!==a.Yn&&b.push(a.Yn);return b};n.Ja.ED=function(a,b){b=n.Ja.yr(b);if(b.length!=a.length)return!1;for(var d=0;d<b.length;d++)if(a[d]!=b[d])return!1;return!0};
n.Ja.UF=function(a,b){var d=[];"object"==typeof document&&n.g.Ux(function(){for(var e in b)n.g.av(b[e])});return function(){this.type&&-1===d.indexOf(this.type)&&(n.Ja.mB(this,a,b),d.push(this.type));this.dd(function(){var e=xb(this,a),f=b[e];null==f?-1===d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=n.g.bc(f);return f}.bind(this))}};
n.Ja.mB=function(a,b,d){var e=Ga(a,b);if("function"!=typeof e.Zi){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+b+" of block type "+a.type)}}};n.Ja.VF=function(a,b){"object"==typeof document&&n.g.Ux(function(){n.g.av(a)});return function(){this.dd(function(){var d=Ga(this,b);return n.g.bc(a).replace("%1",d?d.kc():"")}.bind(this))}};
n.Ja.dC=function(){this.UE=this.hf;this.dd(function(){var a=this.getParent();return a&&xh(a)&&a.hf||this.UE}.bind(this))};n.Ja.register("parent_tooltip_when_inline",n.Ja.dC);n.qf=function(a,b){this.rb=new n.g.tf(0,n.R.Bu);this.ev=b;a=this.Tc(a);null===a&&(a="");this.setValue(a)};h(n.qf,n.R);n.qf.pa=function(a){var b=n.g.bc(a.text);return new n.qf(b,a["class"])};n.qf.prototype.Vg=!1;n.qf.prototype.Mf=function(){dc(this);this.Hb.setAttribute("y",this.rb.height);this.ev&&n.g.j.fb(this.Hb,this.ev)};n.qf.prototype.Tc=function(a){return null===a||void 0===a?null:String(a)};n.R.register("field_label",n.qf);n.Zg=function(a,b,d,e){if(a!=n.Ie&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.H=d;this.connection=e;this.Ca=[]};c=n.Zg.prototype;c.align=n.Dj;c.Kb=!0;function E(a,b,d){vi(a,a.Ca.length,b,d);return a}
function vi(a,b,d,e){if(0>b||b>a.Ca.length)throw Error("index "+b+" out of bounds.");if(!d&&!e)return b;"string"==typeof d&&(d=new n.qf(d));d.ft(a.H);a.H.ha&&d.za();d.name=e;d.Es&&(b=vi(a,b,d.Es));a.Ca.splice(b,0,d);++b;d.mt&&(b=vi(a,b,d.mt));a.H.ha&&(a.H.qa(),a.H.nd());return b}c.isVisible=function(){return this.Kb};
c.Ha=function(a){var b=[];if(this.Kb==a)return b;for(var d=(this.Kb=a)?"block":"none",e=0,f;f=this.Ca[e];e++)f.Ha(a);if(this.connection){if(a)b=db(this.connection);else if(e=this.connection,eb(e,!0),e.sa)for(e=Ca(w(e),!1),f=0;f<e.length;f++){for(var g=e[f],k=g.re(!0),l=0;l<k.length;l++)eb(k[l],!0);g=kb(g);for(l=0;l<g.length;l++)g[l].Ha(!1)}if(e=w(this.connection))e.$().style.display=d,a||(e.ha=!1)}return b};
c.Mk=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Mk(a)};c.za=function(){if(this.H.B.ha)for(var a=0;a<this.Ca.length;a++)this.Ca[a].za()};c.L=function(){for(var a=0,b;b=this.Ca[a];a++)b.L();this.connection&&this.connection.L();this.H=null};n.ke=function(a){n.ke.A.constructor.call(this,a);Eh(this);this.xa={}};h(n.ke,n.Nc);n.ke.prototype.Hq=!1;n.ke.prototype.dr=function(a){n.g.j.J("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);n.g.j.J("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);n.g.j.J("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
n.ke.NE=function(a){var b=n.g.j.J("text",{"class":"blocklyText blocklyBubbleText",y:n.la.Lc},null);a=a.split("\n");for(var d=0;d<a.length;d++)n.g.j.J("tspan",{dy:"1em",x:n.la.Lc},b).appendChild(document.createTextNode(a[d]));return b};
n.ke.prototype.Ha=function(a){if(a!=this.isVisible())if(n.i.ma(new n.i.fc(this.V,"warningOpen",!a,a)),a){a=n.ke.NE(this.kc());this.sb=new n.la(this.V.B,a,this.V.ed,this.uk,null,null);Gb(this.sb,this.V.id);if(this.V.C)for(var b=a.getBBox().width,d=0,e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+n.la.Lc);this.Be();a=this.sb.Hi();this.sb.Sh(a.width,a.height)}else this.sb.L(),this.sb=null};
n.ke.prototype.Wf=function(a,b){this.xa[b]!=a&&(a?this.xa[b]=a:delete this.xa[b],this.isVisible()&&(this.Ha(!1),this.Ha(!0)))};n.ke.prototype.kc=function(){var a=[],b;for(b in this.xa)a.push(this.xa[b]);return a.join("\n")};n.ke.prototype.L=function(){this.V.Kc=null;n.Nc.prototype.L.call(this)};n.bl=function(a,b,d){if("undefined"!==typeof n.Generator.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=d&&!Ea(a,d)?d:n.g.Hf();a.yq[this.id]=this;this.Y=this.ca=this.X=null;this.W=[];this.Dg=void 0;this.disabled=!1;this.hf="";this.contextMenu=!0;this.Sf=null;this.ng=[];this.aw=this.um=this.Jl=!0;this.qg=this.bb=!1;this.kb=null;this.Ce=new n.g.T(0,0);this.B=a;this.rd=a.Ze;this.C=a.C;this.jm=!1;this.Ag=void 0;if(b){this.type=b;d=n.jb[b];if(!d||
"object"!=typeof d)throw TypeError("Unknown block type: "+b);for(var e in d)this[e]=d[e]}a.Sk.push(this);a.Qg[this.type]||(a.Qg[this.type]=[]);a.Qg[this.type].push(this);"function"==typeof this.za&&this.za();this.hD=this.Dg;if(n.i.isEnabled()){(a=n.i.Zb())||n.i.fa(!0);try{n.i.ma(new n.i.hn(this))}finally{a||n.i.fa(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.wm&&this.B.jj(this.wm);if(this.onchange=a)this.wm=a.bind(this),
this.B.Pc(this.wm)}};n.bl.oG=function(a,b){console.warn("Deprecated call to Blockly.Block.obtain, use workspace.newBlock instead.");return a.ep(b)};c=n.bl.prototype;c.data=null;c.hh="#000000";c.jv=null;c.kv=null;c.Nm=null;
c.L=function(a){if(this.B){this.wm&&this.B.jj(this.wm);Ia(this,a);n.i.isEnabled()&&n.i.ma(new n.i.Et(this));n.i.disable();try{if(this.B){Ab(this.B,this);var b=this.B;b.Qg[this.type].splice(b.Qg[this.type].indexOf(this),1);b.Qg[this.type].length||delete b.Qg[this.type];delete this.B.yq[this.id];this.B=null}n.selected==this&&(n.selected=null);for(var d=this.ng.length-1;0<=d;d--)this.ng[d].L(!1);d=0;for(var e;e=this.W[d];d++)e.L();this.W.length=0;var f=this.re(!0);d=0;for(var g;g=f[d];d++)g.L()}finally{n.i.enable()}}};
c.Ri=function(){for(var a=0,b;b=this.W[a];a++)for(var d=0,e;e=b.Ca[d];d++)e.Ri&&e.Ri()};
function Ia(a,b){if(a.X){var d=null;a.X.isConnected()&&(d=a.X.sa,a.X.disconnect());if(d&&b){a:{b=null;for(var e=0;e<a.W.length;e++){var f=a.W[e].connection;if(f&&f.type==n.Oa&&f.sa){if(b){a=null;break a}b=f}}a=b}a&&a.isConnected()&&!w(a).bb&&(a=a.sa,Ra(a,d)&&(a.disconnect(),d.connect(a)))}}else a.Y&&(d=null,a.Y.isConnected()&&(d=a.Y.sa,a.Y.disconnect()),e=u(a),b&&e&&!e.bb&&(a=a.ca.sa,a.disconnect(),d&&Ra(d,a)&&d.connect(a)))}
c.re=function(){var a=[];this.X&&a.push(this.X);this.Y&&a.push(this.Y);this.ca&&a.push(this.ca);for(var b=0,d;d=this.W[b];b++)d.connection&&a.push(d.connection);return a};c.nd=function(){console.warn("Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.")};c.getParent=function(){return this.Sf};function wi(a){do{var b=a;a=a.getParent();if(!a)return null}while(u(a)==b);return a}function u(a){return a.ca&&w(a.ca)}
function Xa(a){var b=a;do a=b,b=a.Sf;while(b);return a}c.wg=function(a){if(!a)return this.ng;a=[];for(var b=0,d;d=this.W[b];b++)d.connection&&(d=w(d.connection))&&a.push(d);(b=u(this))&&a.push(b);return a};c.pj=function(a){if(a!=this.Sf){if(this.Sf){n.g.vl(this.Sf.ng,this);if(this.Y&&this.Y.isConnected())throw Error("Still connected to previous block.");if(this.X&&this.X.isConnected())throw Error("Still connected to parent block.");this.Sf=null}else Ab(this.B,this);(this.Sf=a)?a.ng.push(this):this.B.Sk.push(this)}};
function Ca(a,b){var d=[a];a=a.wg(b);for(var e,f=0;e=a[f];f++)d.push.apply(d,Ca(e,b));return d}c.Ec=function(){return this.Jl&&!this.bb&&!(this.B&&this.B.options.readOnly)};c.$s=function(a){this.Jl=a};c.mc=function(){return this.um&&!this.bb&&!(this.B&&this.B.options.readOnly)};c.oj=function(a){this.um=a};c.et=function(a){this.bb=a};c.Nf=function(){return this.jm};c.ay=function(a){this.jm=a};c.Yc=function(){return this.aw&&!(this.B&&this.B.options.readOnly)};
c.at=function(a){this.aw=a;a=0;for(var b;b=this.W[a];a++)for(var d=0,e;e=b.Ca[d];d++)e.Rg()};function Na(a,b){if(!b&&a.isCollapsed()){if(a.X&&eb(a.X,b),a.Y&&eb(a.Y,b),a.ca){eb(a.ca,b);var d=w(a.ca);d&&Na(d,b)}}else{a=a.re(!0);for(var e=0;d=a[e];e++)eb(d,b),Ua(d)&&(d=w(d))&&Na(d,b)}}c.dd=function(a){this.hf=a};function $g(a){var b=a.jv;return b?b:n.g.nb.xq("white",a.hh,.6)}
function xi(a){var b=a.kv;if(b)return{On:b,Iq:null,iv:null};a=a.hh;return{On:null,Iq:n.g.nb.xq("white",a,.3),iv:n.g.nb.xq("black",a,.2)}}c.dc=function(a){var b="string"==typeof a?n.g.bc(a):a,d=Number(b);if(!isNaN(d)&&0<=d&&360>=d)this.hh=n.Lw(d);else if(d=n.g.nb.parse(b))this.hh=d;else throw d='Invalid colour: "'+b+'"',a!=b&&(d+=' (from "'+a+'")'),Error(d);};
function yi(a,b){var d=n.Do();if(!d)throw Error("Trying to set block style to "+b+" before theme was defined via Blockly.setTheme().");d=d.cB[b];a.Nm=b;if(d)a.jv=d.colourSecondary,a.kv=d.colourTertiary,a.Ag=d.Ag,a.dc(d.colourPrimary);else throw Error("Invalid style name: "+b);}function Ga(a,b){for(var d=0,e;e=a.W[d];d++)for(var f=0,g;g=e.Ca[f];f++)if(g.name===b)return g;return null}
function Qa(a){for(var b=[],d=0,e;e=a.W[d];d++)for(var f=0,g;g=e.Ca[f];f++)g.pp()&&(g=a.B.zg(g.getValue()))&&b.push(g);return b}function xb(a,b){return(a=Ga(a,b))?a.getValue():null}c.ze=function(a,b){if(a){void 0===b&&(b=null);if(!this.Y){if(this.X)throw Error("Remove output connection prior to adding previous connection.");this.Y=this.om(n.fe)}this.Y.Mk(b)}else if(this.Y){if(this.Y.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.Y.L();this.Y=null}};
c.Kg=function(a,b){if(a)void 0===b&&(b=null),this.ca||(this.ca=this.om(n.Ma)),this.ca.Mk(b);else if(this.ca){if(this.ca.isConnected())throw Error("Must disconnect next statement before removing connection.");this.ca.L();this.ca=null}};
c.ct=function(a,b){if(a){void 0===b&&(b=null);if(!this.X){if(this.Y)throw Error("Remove previous connection prior to adding output connection.");this.X=this.om(n.ee)}this.X.Mk(b)}else if(this.X){if(this.X.isConnected())throw Error("Must disconnect output value before removing connection.");this.X.L();this.X=null}};c.Ok=function(a){this.Dg!=a&&(n.i.ma(new n.i.mf(this,"inline",null,this.Dg,a)),this.Dg=a)};
function xh(a){if(void 0!=a.Dg)return a.Dg;for(var b=1;b<a.W.length;b++)if(a.W[b-1].type==n.Ie&&a.W[b].type==n.Ie)return!1;for(b=1;b<a.W.length;b++)if(a.W[b-1].type==n.Oa&&a.W[b].type==n.Ie)return!0;return!1}c.isEnabled=function(){return!this.disabled};c.Ed=function(a){this.isEnabled()!=a&&(n.i.ma(new n.i.mf(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function zi(a){for(a=wi(a);a;){if(a.disabled)return!0;a=wi(a)}return!1}c.isCollapsed=function(){return this.qg};
c.Th=function(a){this.qg!=a&&(n.i.ma(new n.i.mf(this,"collapsed",null,this.qg,a)),this.qg=a)};c.toString=function(a,b){var d=[],e=b||"?";if(this.qg)d.push(Ja(this,"_TEMP_COLLAPSED_INPUT").Ca[0].xa);else for(var f=0,g;g=this.W[f];f++){for(var k=0,l;l=g.Ca[k];k++)l instanceof n.Ea&&!l.getValue()?d.push(e):d.push(l.kc());g.connection&&((g=w(g.connection))?d.push(g.toString(void 0,b)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};
function Ai(a,b){return a.ul(n.Ma,b)}function Bi(a,b){return a.ul(n.Ie,b||"")}
function Ci(a,b){var d=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");b.style&&b.style.Ag&&(a.Ag=b.style.Ag,b.style=null);if(b.style&&b.colour)throw Error(d+"Must not have both a colour and a style.");if(b.style){var e=b.style;try{yi(a,e)}catch(q){console.warn(d+"Style does not exist: ",e)}}else if("colour"in b)if(void 0===b.colour)console.warn(d+"Undefined colour value.");else{e=b.colour;try{a.dc(e)}catch(q){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==b["message"+e];){for(var f=a,g=b["args"+e]||[],k=b["lastDummyAlign"+e],l=n.g.RE(b["message"+e]),m=[],p=0,r=[],t=0;t<l.length;t++){var v=l[t];if("number"==typeof v){if(0>=v||v>g.length)throw Error('Block "'+f.type+'": Message index %'+v+" out of range.");if(m[v])throw Error('Block "'+f.type+'": Message index %'+v+" duplicated.");m[v]=!0;p++;r.push(g[v-1])}else(v=v.trim())&&r.push(v)}if(p!=g.length)throw Error('Block "'+f.type+'": Message does not reference all '+
g.length+" arg(s).");r.length&&("string"==typeof r[r.length-1]||n.g.Xa.startsWith(r[r.length-1].type,"field_"))&&(t={type:"input_dummy"},k&&(t.align=k),r.push(t));k={LEFT:n.Dj,RIGHT:n.al,CENTRE:n.$k};g=[];for(t=0;t<r.length;t++)if(m=r[t],"string"==typeof m)g.push([m,void 0]);else{l=p=null;do if(v=!1,"string"==typeof m)p=new n.qf(m);else switch(m.type){case "input_value":l=f.ul(n.Oa,m.name);break;case "input_statement":l=Ai(f,m.name);break;case "input_dummy":l=Bi(f,m.name);break;default:p=n.R.pa(m),
p||(m.alt?(m=m.alt,v=!0):console.warn("Blockly could not create a field of type "+m.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}while(v);if(p)g.push([p,m.name]);else if(l){m.check&&l.Mk(m.check);m.align&&(p=l,p.align=k[m.align],p.H.ha&&p.H.qa());for(m=0;m<g.length;m++)E(l,g[m][0],g[m][1]);g.length=0}}e++}void 0!==b.inputsInline&&a.Ok(b.inputsInline);void 0!==b.output&&a.ct(!0,b.output);void 0!==b.previousStatement&&a.ze(!0,b.previousStatement);
void 0!==b.nextStatement&&a.Kg(!0,b.nextStatement);void 0!==b.tooltip&&(e=b.tooltip,e=n.g.bc(e),a.dd(e));void 0!==b.enableContextMenu&&(e=b.enableContextMenu,a.contextMenu=!!e);void 0!==b.helpUrl&&(e=b.helpUrl,e=n.g.bc(e),a.sk=e);"string"==typeof b.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&n.Ja.apply(b.mutator,a,!0);if(Array.isArray(b.extensions))for(b=
b.extensions,d=0;d<b.length;++d)n.Ja.apply(b[d],a,!1)}function ui(a,b){var d=[],e;for(e in b)void 0!==a[e]&&d.push(e);if(d.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(d));for(var f in b)a[f]=b[f]}c.ul=function(a,b){var d=null;if(a==n.Oa||a==n.Ma)d=this.om(a);a=new n.Zg(a,b,this,d);this.W.push(a);return a};c.Ks=function(a,b){for(var d=0,e;e=this.W[d];d++)if(e.name==a){e.L();this.W.splice(d,1);return}if(!b)throw Error("Input not found: "+a);};
function Ja(a,b){for(var d=0,e;e=a.W[d];d++)if(e.name==b)return e;return null}function Di(a,b){return(a=Ja(a,b))&&a.connection&&w(a.connection)}c.vo=function(){return this.kb||""};c.Cm=function(a){this.kb!=a&&(n.i.ma(new n.i.mf(this,"comment",null,this.kb,a||"")),this.kb=a)};c.Fm=function(){};c.by=function(){};c.Fa=function(){return this.Ce};c.moveBy=function(a,b){if(this.Sf)throw Error("Block has parent.");var d=new n.i.cl(this);this.Ce.translate(a,b);d.Gg();n.i.ma(d)};
c.om=function(a){return new n.Da(this,a)};n.ya={};n.ya.Vn=null;n.ya.cw=null;n.ya.show=function(a,b,d){n.Z.show(n.ya,d,null);if(b.length){var e=n.ya.kp(b,d);Be(e,"action",n.ya.Ga);n.ya.bd(e,a,d);setTimeout(function(){e.U().focus()},1);n.ya.Vn=null}else n.ya.Ga()};n.ya.kp=function(a,b){var d=new Zg;d.Lg(b);for(var e=0,f;f=a[e];e++){var g=new Vg(f.text);g.Lg(b);d.Gn(g,!0);g.Ed(f.enabled);f.enabled&&(Be(g,"action",f.gc),g.nk=function(){this.dispatchEvent("action")})}return d};
n.ya.bd=function(a,b,d){var e=n.g.vw();b={top:b.clientY+e.top,bottom:b.clientY+e.top,left:b.clientX+e.left,right:b.clientX+e.left};n.ya.CB(a);var f=n.g.Vk.yg(a);d&&n.g.Vk.Pu(e,b,f);n.Z.Gx(e,b,f,d);a.U().focus()};n.ya.CB=function(a){a.qa(n.Z.wa);var b=a.U();n.g.j.fb(b,"blocklyContextMenu");n.ea(b,"contextmenu",null,n.g.KD);a.Hn=!0;a.Vh(!0)};n.ya.Ga=function(){n.Z.Oi(n.ya);n.ya.Vn=null;n.ya.cw&&n.gb(n.ya.cw)};
n.ya.XF=function(a,b){return function(){n.i.disable();try{var d=n.S.fk(b,a.B),e=a.Fa();e.x=a.C?e.x-n.Ld:e.x+n.Ld;e.y+=2*n.Ld;d.moveBy(e.x,e.y)}finally{n.i.enable()}n.i.isEnabled()&&!d.bb&&n.i.ma(new n.i.hn(d));d.select()}};n.ya.$A=function(a){var b=Ca(a,!1).length,d=u(a);d&&(b-=Ca(d,!1).length);return{text:1==b?n.h.DELETE_BLOCK:n.h.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,gc:function(){n.i.fa(!0);a.L(!0,!0);n.i.fa(!1)}}};
n.ya.bB=function(a){return{enabled:!("function"==typeof a.sk?!a.sk():!a.sk),text:n.h.HELP,gc:function(){var b="function"==typeof a.sk?a.sk():a.sk;b&&window.open(b)}}};n.ya.aB=function(a){var b=Db(a.B)?Cb(a.B,n.g.tr(a,!0)):!0;return{text:n.h.DUPLICATE_BLOCK,enabled:b,gc:function(){n.$v(a)}}};n.ya.ZA=function(a){var b={enabled:!n.g.userAgent.Wg};a.kb?(b.text=n.h.REMOVE_COMMENT,b.gc=function(){a.Cm(null)}):(b.text=n.h.ADD_COMMENT,b.gc=function(){a.Cm("")});return b};
n.ya.tB=function(a){return{text:n.h.OF,enabled:!0,gc:function(){n.i.fa(!0);a.L(!0,!0);n.i.fa(!1)}}};n.ya.uB=function(a){return{text:n.h.nF,enabled:!0,gc:function(){n.$v(a)}}};n.ya.BG=function(a,b){var d={enabled:!n.g.userAgent.Wg};d.text=n.h.gF;d.gc=function(){var e=new n.ja(a,n.h.RF,n.ja.Mt,n.ja.Mt),f=Da(a).getBoundingClientRect();f=new n.g.T(b.clientX-f.left,b.clientY-f.top);var g=n.g.Rl(a.ab);f=n.g.T.Kl(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.ha&&(e.Bg(),e.qa(!1),e.select())};return d};n.s=function(a,b,d){this.D=n.g.j.J("g",{},null);this.D.Pg="";this.uj=n.g.j.J("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.D);this.ed=n.g.j.J("path",{"class":"blocklyPath"},this.D);this.Mg=n.g.j.J("path",{"class":"blocklyPathLight"},this.D);this.ed.hf=this;this.ha=!1;this.ag=n.g.Ah()&&!!a.Nb;n.N.Zj(this.ed);n.s.A.constructor.call(this,a,b,d);this.D.dataset&&(this.D.dataset.id=this.id)};h(n.s,n.bl);n.s.prototype.height=0;n.s.prototype.width=0;n.s.prototype.Hd=null;n.s.tn=-1;
n.s.Kp="TEMP_COLLAPSED_WARNING_";c=n.s.prototype;c.Bg=function(){if(!this.B.ha)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.W[a];a++)b.za();b=kb(this);for(a=0;a<b.length;a++)Eh(b[a]);this.Be();Lb(this);this.B.options.readOnly||this.jr||n.ea(this.$(),"mousedown",this,this.Jh);this.jr=!0;this.$().parentNode||this.B.ab.appendChild(this.$())};
c.select=function(){if(this.bb&&this.getParent())this.getParent().select();else if(n.selected!=this){var a=null;if(n.selected){a=n.selected.id;n.i.disable();try{n.selected.Ae()}finally{n.i.enable()}}a=new n.i.fc(null,"selected",a,this.id);a.Ub=this.B.id;n.i.ma(a);n.selected=this;this.Xj()}};c.Ae=function(){if(n.selected==this){var a=new n.i.fc(null,"selected",this.id,null);a.Ub=this.B.id;n.i.ma(a);n.selected=null;this.kj()}};c.af=null;c.kb=null;c.Kc=null;
function kb(a){var b=[];a.af&&b.push(a.af);a.kb&&b.push(a.kb);a.Kc&&b.push(a.Kc);return b}c.pj=function(a){var b=this.Sf;if(a!=b){n.R.Km();n.s.A.pj.call(this,a);n.R.Mm();var d=this.$();if(!this.B.Yr&&d){var e=this.Fa();a?(a.$().appendChild(d),a=this.Fa(),bb(this,a.x-e.x,a.y-e.y)):b&&(this.B.ab.appendChild(d),this.translate(e.x,e.y))}}};
c.Fa=function(){var a=0,b=0,d=this.ag?this.B.Nb.Zb():null,e=this.$();if(e){do{var f=n.g.Rd(e);a+=f.x;b+=f.y;this.ag&&this.B.Nb.pe.firstChild==e&&(f=this.B.Nb.Co(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.B.ab&&e!=d)}return new n.g.T(a,b)};c.moveBy=function(a,b){if(this.Sf)throw Error("Block has parent.");var d=n.i.isEnabled();if(d)var e=new n.i.cl(this);var f=this.Fa();this.translate(f.x+a,f.y+b);bb(this,a,b);d&&(e.Gg(),n.i.ma(e));Pa(this.B)};
c.translate=function(a,b){this.$().setAttribute("transform","translate("+a+","+b+")")};c.cp=function(){if(this.ag){var a=this.Fa();this.$().removeAttribute("transform");this.B.Nb.Og(a.x,a.y);Nb(this.B.Nb,this.$())}};c.moveTo=function(a){var b=this.Fa();this.moveBy(a.x-b.x,a.y-b.y)};c.lx=function(a){this.ag&&(this.translate(a.x,a.y),this.B.Nb.zl(this.B.ab))};c.bp=function(a){this.ag?this.B.Nb.Og(a.x,a.y):(this.D.Pg="translate("+a.x+","+a.y+")",this.D.setAttribute("transform",this.D.Pg+this.D.qj))};
function ri(a){if(a.B&&!a.B.Fc()&&!a.getParent()&&!a.rd){var b=a.B.te;if(b&&b.DE){var d=b.kt,e=d/2,f=a.Fa();b=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;b=Math.round(b);d=Math.round(d);0==b&&0==d||a.moveBy(b,d)}}}c.po=function(){var a=this.Fa(),b=this.X?n.s.ga:0,d=this.Db(),e=a.y,f=a.y+d.height;if(this.C){var g=a.x-(d.width-b);a=a.x+b}else g=a.x-b,a=a.x+d.width-b;return new n.g.Rect(e,f,g,a)};
c.Th=function(a){if(this.qg!=a){for(var b=[],d=0,e;e=this.W[d];d++)b.push.apply(b,e.Ha(!a));if(a){e=kb(this);for(d=0;d<e.length;d++)e[d].Ha(!1);d=this.toString(n.az);E(Bi(this,"_TEMP_COLLAPSED_INPUT"),d).za();e=Ca(this,!0);if(d=u(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.Kc){this.Fm(n.h.COLLAPSED_WARNINGS_WARNING,n.s.Kp);break}}else this.Ks("_TEMP_COLLAPSED_INPUT"),this.Kc&&(this.Kc.Wf("",n.s.Kp),Object.keys(this.Kc.xa).length||this.Fm(null));n.s.A.Th.call(this,a);
b.length||(b[0]=this);if(this.ha)for(d=0;f=b[d];d++)f.qa()}};function Ei(a,b,d){for(var e=[],f=0,g;g=a.W[f];f++){for(var k=0,l;l=g.Ca[k];k++)l instanceof n.Mc&&l.isVisible()&&e.push(l);g.connection&&(g=w(g.connection))&&e.push(g)}b=e.indexOf(b);-1==b&&(b=d?-1:e.length);(e=e[d?b+1:b-1])?e instanceof n.R?e.ff():Ei(e,null,d):(e=a.getParent())&&Ei(e,a,d)}
c.Jh=function(a){var b=this.B&&this.B.Jf(a);if(b){if(b.Mi)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");ac(b,this);b.$e=a}};
function Fi(a){if(a.B.options.readOnly||!a.contextMenu)return null;var b=[];if(!a.rd){a.Ec()&&a.mc()&&b.push(n.ya.aB(a));a.B.options.vB&&!a.qg&&a.Yc()&&b.push(n.ya.ZA(a));if(a.mc())if(a.qg)a.B.options.collapse&&(d={enabled:!0},d.text=n.h.EXPAND_BLOCK,d.gc=function(){a.Th(!1)},b.push(d));else{for(var d=1;d<a.W.length;d++)if(a.W[d-1].type!=n.Ma&&a.W[d].type!=n.Ma){d={enabled:!0};var e=xh(a);d.text=e?n.h.EXTERNAL_INPUTS:n.h.INLINE_INPUTS;d.gc=function(){a.Ok(!e)};b.push(d);break}a.B.options.collapse&&
(d={enabled:!0},d.text=n.h.COLLAPSE_BLOCK,d.gc=function(){a.Th(!0)},b.push(d))}a.B.options.disable&&a.Yc()&&(d={text:a.isEnabled()?n.h.DISABLE_BLOCK:n.h.ENABLE_BLOCK,enabled:!zi(a),gc:function(){var f=n.i.Zb();f||n.i.fa(!0);a.Ed(!a.isEnabled());f||n.i.fa(!1)}},b.push(d));a.Ec()&&b.push(n.ya.$A(a))}b.push(n.ya.bB(a));a.KB&&a.KB(b);return b}c.Pk=function(a){var b=Fi(this);b&&b.length&&(n.ya.show(a,b,this.C),n.ya.Vn=this)};
function bb(a,b,d){if(a.ha){for(var e=a.re(!1),f=0;f<e.length;f++)e[f].moveBy(b,d);e=kb(a);for(f=0;f<e.length;f++)Ch(e[f]);for(f=0;f<a.ng.length;f++)bb(a.ng[f],b,d)}}c.Uh=function(a){if(a){var b=this.$();b.Pg="";b.qj="";n.Ll=n.Ll.concat(this.re(!0));n.g.j.fb(this.D,"blocklyDragging")}else n.Ll=[],n.g.j.Gb(this.D,"blocklyDragging");for(b=0;b<this.ng.length;b++)this.ng[b].Uh(a)};c.oj=function(a){n.s.A.oj.call(this,a);Lb(this)};c.at=function(a){n.s.A.at.call(this,a);a=kb(this);for(var b=0;b<a.length;b++)a[b].Rg()};
c.et=function(a){n.s.A.et.call(this,a);this.Be()};c.ay=function(a){this.jm!=a&&(this.jm=a)&&(this.dc(n.Kz),n.g.j.fb(this.D,"blocklyInsertionMarker"))};c.$=function(){return this.D};
c.L=function(a,b){if(this.B){n.N.Ga();n.R.Km();var d=this.B;if(n.selected==this){this.Ae();var e=this.B;e.Pb&&e.Pb.cancel()}n.ya.Vn==this&&n.ya.Ga();b&&this.ha&&(Ia(this,a),n.eb.XB(this));this.ha=!1;if(this.Hd){for(var f in this.Hd)clearTimeout(this.Hd[f]);this.Hd=null}Ia(this,a);var g;n.i.isEnabled()&&(g=new n.i.Et(this));n.i.disable();try{var k=kb(this);for(b=0;b<k.length;b++)k[b].L();n.s.A.L.call(this,a)}finally{n.i.enable()}n.i.isEnabled()&&g&&n.i.ma(g);n.g.j.removeNode(this.D);Pa(d);this.uj=
this.Mg=this.ed=this.D=null;n.R.Mm()}};
c.Be=function(){if(this.isEnabled()){if(this.bb){var a=$g(this);this.Mg.style.display="none";this.uj.setAttribute("fill",a);this.ed.setAttribute("stroke","none");this.ed.setAttribute("fill",a)}else a=xi(this),a.On?(this.Mg.style.display="none",this.uj.style.display="none",this.ed.setAttribute("stroke",a.On)):(this.Mg.style.display="",this.uj.style.display="",this.ed.setAttribute("stroke","none"),this.Mg.setAttribute("stroke",a.Iq),this.uj.setAttribute("fill",a.iv)),this.ed.setAttribute("fill",this.hh);
a=kb(this);for(var b=0;b<a.length;b++)a[b].Be();for(a=0;b=this.W[a];a++)for(var d=0,e;e=b.Ca[d];d++)e.Be()}};function Oa(a){!a.isEnabled()||zi(a)?n.g.j.fb(a.D,"blocklyDisabled")&&a.ed.setAttribute("fill","url(#"+a.B.options.rg+")"):n.g.j.Gb(a.D,"blocklyDisabled")&&a.Be();a=a.wg(!1);for(var b=0,d;d=a[b];b++)Oa(d)}c.vo=function(){return this.kb?this.kb.kc().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};
c.Cm=function(a){var b=!1;"string"==typeof a?(this.kb||(this.kb=new n.Comment(this),b=!0),this.kb.Wf(a)):this.kb&&(this.kb.L(),b=!0);b&&this.ha&&(this.qa(),this.nd())};
c.Fm=function(a,b){this.Hd||(this.Hd=Object.create(null));var d=b||"";if(d)this.Hd[d]&&(clearTimeout(this.Hd[d]),delete this.Hd[d]);else for(var e in this.Hd)clearTimeout(this.Hd[e]),delete this.Hd[e];if(this.B.Fc()){var f=this;this.Hd[d]=setTimeout(function(){f.B&&(delete f.Hd[d],f.Fm(a,d))},100)}else{this.rd&&(a=null);b=wi(this);for(e=null;b;)b.isCollapsed()&&(e=b),b=wi(b);e&&e.Fm(n.h.COLLAPSED_WARNINGS_WARNING,n.s.Kp);b=!1;"string"==typeof a?(this.Kc||(this.Kc=new n.ke(this),b=!0),this.Kc.Wf(a,
d)):this.Kc&&!d?(this.Kc.L(),b=!0):this.Kc&&(b=this.Kc.kc(),this.Kc.Wf("",d),(e=this.Kc.kc())||this.Kc.L(),b=b!=e);b&&this.ha&&(this.qa(),this.nd())}};c.by=function(a){this.af&&this.af!==a&&this.af.L();a&&(a.V=this,this.af=a,Eh(a))};c.Ed=function(a){this.isEnabled()!=a&&(n.s.A.Ed.call(this,a),this.ha&&Oa(this))};c.Fd=function(a){this.ha&&(a?(this.ed.setAttribute("filter","url(#"+this.B.options.bw+")"),this.Mg.style.display="none"):(this.ed.setAttribute("filter","none"),this.Mg.style.display="inline"))};
c.Xj=function(){n.g.j.fb(this.D,"blocklySelected")};c.kj=function(){n.g.j.Gb(this.D,"blocklySelected")};c.Em=function(a){a?n.g.j.fb(this.D,"blocklyDraggingDelete"):n.g.j.Gb(this.D,"blocklyDraggingDelete")};c.dc=function(a){n.s.A.dc.call(this,a);this.ha&&this.Be()};function qb(a){do{var b=a.$();b.parentNode.appendChild(b);a=a.getParent()}while(a)}c.ze=function(a,b){n.s.A.ze.call(this,a,b);this.ha&&(this.qa(),this.nd())};c.Kg=function(a,b){n.s.A.Kg.call(this,a,b);this.ha&&(this.qa(),this.nd())};
c.ct=function(a,b){n.s.A.ct.call(this,a,b);this.ha&&(this.qa(),this.nd())};c.Ok=function(a){n.s.A.Ok.call(this,a);this.ha&&(this.qa(),this.nd())};c.Ks=function(a,b){n.s.A.Ks.call(this,a,b);this.ha&&(this.qa(),this.nd())};c.ul=function(a,b){a=n.s.A.ul.call(this,a,b);this.ha&&(this.qa(),this.nd());return a};c.re=function(a){var b=[];if(a||this.ha)if(this.X&&b.push(this.X),this.Y&&b.push(this.Y),this.ca&&b.push(this.ca),a||!this.qg){a=0;for(var d;d=this.W[a];a++)d.connection&&b.push(d.connection)}return b};
c.om=function(a){return new n.bh(this,a)};c.nd=function(){if(this.B&&!this.B.Fc()){var a=Xa(this);if(!a.rd)for(var b=this.re(!1),d=0,e;e=b[d];d++){e.isConnected()&&Ua(e)&&w(e).nd();for(var f=e.mx(n.Ld),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||Xa(k.H)!=a&&(Ua(e)?Sa(k,e):Sa(e,k))}}};function rb(a){var b=n.i.Zb();setTimeout(function(){n.i.fa(b);ri(a);n.i.fa(!1)},n.gn/2);setTimeout(function(){n.i.fa(b);a.nd();n.i.fa(!1)},n.gn)}
c.qa=function(a){n.R.Km();this.ha=!0;if("compatibility"==n.uG)n.m.qa(this);else{var b=n.s.hb;this.C&&(b=-b);for(var d=kb(this),e=0;e<d.length;e++){var f=d[e];if(f.Hq&&f.V.isCollapsed()||f.V.Nf())f.Dc.setAttribute("display","none");else{f.Dc.setAttribute("display","block");var g=f.ml;f.V.C&&(b-=g);f.Dc.setAttribute("transform","translate("+b+",5)");Ch(f);b=f.V.C?b-n.s.hb:b+(g+n.s.hb)}}var k=b+=this.C?n.s.hb:-n.s.hb,l=this.W;d=[];d.Hc=k+2*n.s.hb;if(this.Y||this.ca)d.Hc=Math.max(d.Hc,n.s.Jd+n.s.hb);
f=e=0;for(var m=g=!1,p=!1,r=void 0,t=xh(this)&&!this.isCollapsed(),v=0,q;q=l[v];v++)if(q.isVisible()){if(t&&r&&r!=n.Ma&&q.type!=n.Ma)var A=d[d.length-1];else r=q.type,A=[],A.type=t&&q.type!=n.Ma?n.s.tn:q.type,A.height=0,d.push(A);A.push(q);q.Ph=n.s.jl;q.qc=t&&q.type==n.Oa?n.s.ga+1.25*n.s.hb:0;if(q.connection&&q.connection.isConnected()){var N=w(q.connection).Db();q.Ph=Math.max(q.Ph,N.height);q.qc=Math.max(q.qc,N.width)}t||v!=l.length-1?!t&&q.type==n.Oa&&l[v+1]&&l[v+1].type==n.Ma&&q.Ph--:q.Ph--;A.height=
Math.max(A.height,q.Ph);q.Se=0;1==d.length&&(q.Se+=this.C?-k:k);N=!1;for(var T=0,ja;ja=q.Ca[T];T++){0!=T&&(q.Se+=n.s.hb);var hc=ja.yg();ja.qc=hc.width;ja.qp=N&&ja.Vg?n.s.hb:0;q.Se+=ja.qc+ja.qp;A.height=Math.max(A.height,hc.height);N=ja.Vg}A.type!=n.s.tn&&(A.type==n.Ma?(m=!0,f=Math.max(f,q.Se)):(A.type==n.Oa?g=!0:A.type==n.Ie&&(p=!0),e=Math.max(e,q.Se)))}for(k=0;A=d[k];k++)if(A.xy=!1,A.type==n.s.tn)for(l=0;q=A[l];l++)if(q.type==n.Oa){A.height+=2*n.s.Xg;A.xy=!0;break}d.Zd=2*n.s.hb+f;m&&(d.Hc=Math.max(d.Hc,
d.Zd+n.s.Jd));g?d.Hc=Math.max(d.Hc,e+2*n.s.hb+n.s.ga):p&&(d.Hc=Math.max(d.Hc,e+2*n.s.hb));d.VC=g;d.Td=m;d.jG=p;e=b;this.wp=!1;this.height=0;this.X?this.lt=this.Jm=!0:(b=this.Ag?"cap"===this.Ag:n.s.ti,this.lt=this.Jm=!1,this.Y?(b=w(this.Y))&&u(b)==this&&(this.Jm=!0):b&&(this.wp=this.Jm=!0,this.height+=n.s.Rj,d.Hc=Math.max(d.Hc,100)),u(this)&&(this.lt=!0));b=new n.s.pu;f=d.Hc;g=b.gf;m=b.ue;this.Jm?(g.push("m 0,0"),m.push("m 0.5,0.5"),this.wp&&(g.push(n.s.qA),m.push(this.C?n.s.pA:n.s.oA))):(g.push(n.s.mq),
m.push(this.C?n.s.CA:n.s.BA),g.push(n.s.zA),m.push(n.s.AA));this.Y&&(g.push("H",n.s.Jd-15),m.push("H",n.s.Jd-15),g.push(n.s.aA),m.push(n.s.bA),$a(this.Y,this.C?-n.s.ll:n.s.ll,0));g.push("H",f);m.push("H",f-.5);this.width=f;f={x:0,y:0};g={x:0,y:0};for(m=0;p=d[m];m++){f.x=n.s.hb;0==m&&(f.x+=this.C?-e:e);b.ue.push("M",d.Hc-.5+","+(f.y+.5));if(this.isCollapsed())k=p,q=b.gf,A=b.ue,Gi(this,k[0].Ca,f.x,f.y),q.push(n.s.$g),A.push("h 8"),k=k.height-n.s.Vp,q.push("v",k),this.C&&(A.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),
A.push("v",k-.7)),this.width+=n.s.Wp;else if(p.type==n.s.tn){A=p;k=f;l=g;r=d.Hc;t=b.Vr;v=b.Or;N=b.gf;T=b.ue;for(ja=0;q=A[ja];ja++){hc=k.x;var Ni=k.y;A.xy&&(Ni+=n.s.Xg);k.x=Gi(this,q.Ca,hc,Ni);q.type!=n.Ie&&(k.x+=q.qc+n.s.hb);q.type==n.Oa&&(t.push("M",k.x-n.s.hb+","+(k.y+n.s.Xg)),t.push("h",n.s.ga-2-q.qc),t.push(n.s.lq),t.push("v",q.Ph+1-n.s.he),t.push("h",q.qc+2-n.s.ga),t.push("z"),this.C?(v.push("M",k.x-n.s.hb-2.5+n.s.ga-q.qc+","+(k.y+n.s.Xg+.5)),v.push(n.s.Au),v.push("v",q.Ph-n.s.he+2.5),v.push("h",
q.qc-n.s.ga+2)):(v.push("M",k.x-n.s.hb+.5+","+(k.y+n.s.Xg+.5)),v.push("v",q.Ph+1),v.push("h",n.s.ga-2-q.qc),v.push("M",k.x-q.qc-n.s.hb+.9+","+(k.y+n.s.Xg+n.s.he-.7)),v.push("l",.46*n.s.ga+",-2.1")),l.x=this.C?-k.x-n.s.ga+n.s.hb+q.qc+1:k.x+n.s.ga-n.s.hb-q.qc-1,l.y=k.y+n.s.Xg+n.s.kq+1,$a(q.connection,l.x,l.y))}k.x=Math.max(k.x,r);this.width=Math.max(this.width,k.x);N.push("H",k.x);T.push("H",k.x-.5);N.push("v",A.height);this.C&&T.push("v",A.height-1)}else p.type==n.Oa?(v=p,q=f,A=g,k=d.Hc,l=b.gf,r=b.ue,
t=v[0],N=q.x,T=q.y,t.align!=n.Dj&&(ja=k-t.Se-n.s.ga-2*n.s.hb,t.align==n.al?N+=ja:t.align==n.$k&&(N+=ja/2)),Gi(this,t.Ca,N,T),l.push(n.s.lq),v=v.height-n.s.he,l.push("v",v),this.C?(r.push(n.s.Au),r.push("v",v+.5)):(r.push("M",k-5+","+(q.y+n.s.he-.7)),r.push("l",.46*n.s.ga+",-2.1")),A.x=this.C?-k-1:k+1,$a(t.connection,A.x,q.y+n.s.kq),t.connection.isConnected()&&(this.width=Math.max(this.width,k+w(t.connection).Db().width-n.s.ga+1))):p.type==n.Ie?(q=p,A=b.gf,k=b.ue,l=q[0],r=f.x,t=f.y,l.align!=n.Dj&&
(v=d.Hc-l.Se-2*n.s.hb,d.VC&&(v-=n.s.ga),l.align==n.al?r+=v:l.align==n.$k&&(r+=v/2)),Gi(this,l.Ca,r,t),A.push("v",q.height),this.C&&k.push("v",q.height-1)):p.type==n.Ma&&(N=p,q=f,A=g,k=d,l=m,r=b.gf,t=b.ue,v=N[0],0==l&&(r.push("v",n.s.si),this.C&&t.push("v",n.s.si-1),q.y+=n.s.si),T=q.x,ja=q.y,v.align!=n.Dj&&(hc=k.Zd-v.Se-2*n.s.hb,v.align==n.al?T+=hc:v.align==n.$k&&(T+=hc/2)),Gi(this,v.Ca,T,ja),q.x=k.Zd+n.s.Jd,r.push("H",q.x),r.push(n.s.Iz),r.push("v",N.height-2*n.s.O),r.push(n.s.Fz),r.push("H",k.Hc),
this.C?(t.push("M",q.x-n.s.Jd+n.s.Ug+","+(q.y+n.s.Ug)),t.push(n.s.Jz),t.push("v",N.height-2*n.s.O),t.push(n.s.Hz)):(t.push("M",q.x-n.s.Jd+n.s.Ug+","+(q.y+N.height-n.s.Ug)),t.push(n.s.Gz)),t.push("H",k.Hc-.5),N=k.Zd+n.s.ll,A.x=this.C?-N:N+1,$a(v.connection,A.x,q.y+1),v.connection.isConnected()&&(this.width=Math.max(this.width,k.Zd+w(v.connection).Db().width)),l==k.length-1||k[l+1].type==n.Ma)&&(r.push("v",n.s.si),this.C&&t.push("v",n.s.si-1),q.y+=n.s.si);f.y+=p.height}d.length||(f.y=n.s.jl,b.gf.push("V",
f.y),this.C&&b.ue.push("V",f.y-1));d=f.y;e=b.gf;f=b.ue;this.height+=d+1;this.ca&&(e.push("H",n.s.Jd+(this.C?.5:-.5)+" "+n.s.cu),$a(this.ca,this.C?-n.s.ll:n.s.ll,d+1),this.height+=4);this.lt?(e.push("H 0"),this.C||f.push("M","0.5,"+(d-.5))):(e.push("H",n.s.O),e.push("a",n.s.O+","+n.s.O+" 0 0,1 -"+n.s.O+",-"+n.s.O),this.C||(f.push("M",n.s.qn+","+(d-n.s.qn)),f.push("A",n.s.O-.5+","+(n.s.O-.5)+" 0 0,1 0.5,"+(d-n.s.O))));d=b.gf;e=b.ue;this.X?($a(this.X,0,n.s.kq),d.push("V",n.s.he),d.push("c 0,-10 -"+n.s.ga+
",8 -"+n.s.ga+",-7.5 s "+n.s.ga+",2.5 "+n.s.ga+",-7.5"),this.C?(e.push("M",-.25*n.s.ga+",8.4"),e.push("l",-.45*n.s.ga+",-2.1")):(e.push("V",n.s.he-1.5),e.push("m",-.92*n.s.ga+",-0.5 q "+-.19*n.s.ga+",-5.5 0,-11"),e.push("m",.92*n.s.ga+",1 V 0.5 H 1")),this.width+=n.s.ga):this.C||(this.Jm?e.push("V",.5):e.push("V",n.s.O));d.push("z");Dh(this,b)}d=this.Fa();this.Y&&Za(this.Y,d);this.X&&Za(this.X,d);for(b=0;b<this.W.length;b++)if(e=this.W[b].connection)Za(e,d),e.isConnected()&&ab(e);this.ca&&(Za(this.ca,
d),this.ca.isConnected()&&ab(this.ca));!1!==a&&((a=this.getParent())?a.qa(!0):Pa(this.B));n.R.Mm()};n.s.qa={};n.s.pu=function(){this.gf=[];this.ue=[];this.Vr=[];this.Or=[]};n.s.hb=10;n.s.si=10;n.s.Xg=5;n.s.jl=25;n.s.he=20;n.s.ga=8;n.s.Jd=30;n.s.ll=15;n.s.kq=5;n.s.O=8;n.s.ti=!1;n.s.Rj=15;n.s.qA="c 30,-"+n.s.Rj+" 70,-"+n.s.Rj+" 100,0";n.s.oA="c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5";n.s.pA="m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7";n.s.qn=(1-Math.SQRT1_2)*(n.s.O-.5)+.5;n.s.Ug=(1-Math.SQRT1_2)*(n.s.O+.5)-.5;n.s.aA="l 6,4 3,0 6,-4";n.s.bA="l 6,4 3,0 6,-4";n.s.cu="l -6,4 -3,0 -6,-4";n.s.$g="l 8,0 0,4 8,4 -16,8 8,4";
n.s.Vp=20;n.s.Wp=15;n.s.lq="v 5 c 0,10 -"+n.s.ga+",-8 -"+n.s.ga+",7.5 s "+n.s.ga+",-2.5 "+n.s.ga+",7.5";n.s.Au="v 6.5 m -"+.97*n.s.ga+",3 q -"+.05*n.s.ga+",10 "+.3*n.s.ga+",9.5 m "+.67*n.s.ga+",-1.9 v 1.4";n.s.mq="m 0,"+n.s.O;n.s.CA="m "+n.s.qn+","+n.s.qn;n.s.BA="m 0.5,"+(n.s.O-.5);n.s.zA="A "+n.s.O+","+n.s.O+" 0 0,1 "+n.s.O+",0";n.s.AA="A "+(n.s.O-.5)+","+(n.s.O-.5)+" 0 0,1 "+n.s.O+",0.5";n.s.Iz=n.s.cu+" h -"+(n.s.Jd-15-n.s.O)+" a "+n.s.O+","+n.s.O+" 0 0,0 -"+n.s.O+","+n.s.O;
n.s.Fz="a "+n.s.O+","+n.s.O+" 0 0,0 "+n.s.O+","+n.s.O;n.s.Jz="a "+n.s.O+","+n.s.O+" 0 0,0 "+(-n.s.Ug-.5)+","+(n.s.O-n.s.Ug);n.s.Hz="a "+(n.s.O+.5)+","+(n.s.O+.5)+" 0 0,0 "+(n.s.O+.5)+","+(n.s.O+.5);n.s.Gz="a "+(n.s.O+.5)+","+(n.s.O+.5)+" 0 0,0 "+(n.s.O-n.s.Ug)+","+(n.s.Ug+.5);n.s.prototype.Db=function(){var a=this.height,b=this.width,d=u(this);d?(d=d.Db(),a+=d.height-4,b=Math.max(b,d.width)):this.ca||this.X||(a+=2);return{height:a,width:b}};
function Gi(a,b,d,e){e+=n.s.Xg;a.C&&(d=-d);for(var f=0,g;g=b[f];f++){var k=g.$();if(k){var l="";if(a.C){var m=d-=g.qp+g.qc;g.qc&&(d-=n.s.hb)}else m=d+g.qp,g.qc&&(d+=g.qp+g.qc+n.s.hb);a.C&&g instanceof n.de&&g.ew&&(l="scale(-1 1)",m+=g.qc);k.setAttribute("transform","translate("+m+","+e+")"+l);a.Nf()&&k.setAttribute("display","none")}}return a.C?-d:d}
function Dh(a,b){var d=b.gf.join(" ")+"\n"+b.Vr.join(" ");a.ed.setAttribute("d",d);a.uj.setAttribute("d",d);d=b.ue.join(" ")+"\n"+b.Or.join(" ");a.Mg.setAttribute("d",d);a.C&&(a.ed.setAttribute("transform","scale(-1 1)"),a.Mg.setAttribute("transform","scale(-1 1)"),a.uj.setAttribute("transform","translate(1,1) scale(-1 1)"))}function jb(a,b){b?n.g.j.fb(a.D,"blocklyReplaceable"):n.g.j.Gb(a.D,"blocklyReplaceable")};
n.I=function(){};n.I.He=null;n.I.Bq=null;n.I.ud=null;n.I.lp=null;n.I.bn=16;n.I.Ct=1;n.I.zt=12;n.I.mu=16;n.I.Gp=.25;n.I.tq=null;n.I.dj=0;
n.I.ka=function(){if(!n.I.He){var a=document.createElement("div");a.className="blocklyDropDownDiv";document.body.appendChild(a);n.I.He=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);n.I.ic=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);n.I.Ne=b;n.I.He.style.opacity=0;n.I.He.style.transition="transform "+n.I.Gp+"s, opacity "+n.I.Gp+"s"}};n.I.Yx=function(a){n.I.Bq=a};n.I.mw=function(){return n.I.ic};
n.I.qB=function(){n.I.ic.innerHTML="";n.I.ic.style.width=""};n.I.dc=function(a,b){n.I.He.style.backgroundColor=a;n.I.He.style.borderColor=b};n.I.xG=function(a){n.I.He.setAttribute("data-category",a)};n.I.yG=function(a,b,d,e){var f=b.B.scale,g=b.width,k=b.height;g*=f;k*=f;f=b.$().getBoundingClientRect();g=f.left+g/2;k=f.top+k;f=f.top;e&&(f+=e);n.I.Yx(x(b.B).parentNode);return n.I.show(a,g,k,g,f,d)};
n.I.jy=function(a,b){var d=a.Re.getBoundingClientRect(),e=d.left+d.width/2,f=d.bottom;d=d.top;n.I.lp=!0;n.I.Yx(x(a.H.B).parentNode);n.I.show(a,e,f,e,d,b)};n.I.show=function(a,b,d,e,f,g){n.I.ud=a;n.I.dj=g;a=n.I.uw(b,d,e,f);a.vq?(n.I.Ne.style.display="",n.I.Ne.style.transform="translate("+a.wl+"px,"+a.Tu+"px) rotate(45deg)",n.I.Ne.setAttribute("class",a.uq?"blocklyDropDownArrow arrowTop":"blocklyDropDownArrow arrowBottom")):n.I.Ne.style.display="none";n.I.ym(a.Jo,a.Ko,a.jo,a.ko);return a.uq};
n.I.oC=function(){var a=n.I.Bq.getBoundingClientRect(),b=n.g.style.yg(n.I.Bq);return{left:a.left,right:a.left+b.width,top:a.top,bottom:a.top+b.height,width:b.width,height:b.height}};n.I.uw=function(a,b,d,e){var f=n.I.oC(),g=n.g.style.yg(n.I.He);return b+g.height<f.bottom?n.I.tw(a,b,f,g):e-g.height>f.top?n.I.sw(d,e,f,g):b+g.height<document.documentElement.clientHeight?n.I.tw(a,b,f,g):e-g.height>document.documentElement.clientTop?n.I.sw(d,e,f,g):n.I.xC(a,f,g)};
n.I.tw=function(a,b,d,e){a=n.I.zr(a,d.left,d.right,e.width);return{Jo:a.ek,Ko:b,jo:a.ek,ko:b+n.I.mu,wl:a.wl,Tu:-(n.I.bn/2+n.I.Ct),uq:!0,vq:!0}};n.I.sw=function(a,b,d,e){a=n.I.zr(a,d.left,d.right,e.width);return{Jo:a.ek,Ko:b-e.height,jo:a.ek,ko:b-e.height-n.I.mu,wl:a.wl,Tu:e.height-2*n.I.Ct-n.I.bn/2,uq:!1,vq:!0}};n.I.xC=function(a,b,d){a=n.I.zr(a,b.left,b.right,d.width);return{Jo:a.ek,Ko:0,jo:a.ek,ko:0,vq:!1}};
n.I.zr=function(a,b,d,e){var f=a;a=n.g.we.Fq(b,a-e/2,d-e);f-=n.I.bn/2;b=n.g.we.Fq(n.I.zt,f-a,e-n.I.zt-n.I.bn);return{wl:b,ek:a}};n.I.isVisible=function(){return!!n.I.ud};n.I.Oi=function(a){n.I.ud===a&&n.I.Ga()};n.I.Ga=function(){var a=n.I.He;a.style.transform="translate(0px, 0px)";a.style.opacity=0;n.I.tq=setTimeout(function(){n.I.Jw()},1E3*n.I.Gp);n.I.dj&&(n.I.dj(),n.I.dj=null)};
n.I.Jw=function(){if(n.I.isVisible()){n.I.tq&&clearTimeout(n.I.tq);var a=n.I.He;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";n.I.qB();n.I.ud=null;n.I.dj&&(n.I.dj(),n.I.dj=null)}};n.I.ym=function(a,b,d,e){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);e=Math.floor(e);var f=n.I.He;f.style.left=a+"px";f.style.top=b+"px";f.style.display="block";f.style.opacity=1;f.style.transform="translate("+(d-a)+"px,"+(e-b)+"px)"};
n.I.vG=function(){if(n.I.ud){var a=n.I.ud.H,b=a.B.scale,d=n.I.lp?n.I.ud.rb.width:a.width,e=n.I.lp?n.I.ud.rb.height:a.height;d*=b;e*=b;a=n.I.lp?n.I.ud.Re.getBoundingClientRect():a.$().getBoundingClientRect();d=a.left+d/2;e=n.I.uw(d,a.top+e,d,a.top);n.I.ym(e.Jo,e.Ko,e.jo,e.ko)}else n.I.Ga()};n.Mc=function(a,b){a=this.Tc(a);null===a&&(a="");n.Mc.A.constructor.call(this,a,b)};h(n.Mc,n.R);n.Mc.pa=function(a){var b=n.g.bc(a.text);b=new n.Mc(b);"boolean"===typeof a.spellcheck&&(b.ly=a.spellcheck);return b};n.Mc.prototype.hg=!0;n.Mc.vz=11;c=n.Mc.prototype;c.nn="text";c.ly=!0;c.Tc=function(a){return null===a||void 0===a?null:String(a)};c.Xv=function(){if(this.Mo){this.$r=!1;var a=this.Aa;this.Aa=this.ve.YE;this.H&&n.i.isEnabled()&&n.i.ma(new n.i.mf(this.H,"field",this.name,a,this.Aa))}};
c.nh=function(a){this.$r=!0;this.Aa=a;this.Mo||(this.xa=String(a),this.Ye=!0)};c.Tf=function(){n.Mc.A.Tf.call(this);if(this.Mo){if(this.H.C){var a=this;setTimeout(function(){Hi(a)},0)}else Hi(this);this.$r?n.g.j.Gb(this.ve,"blocklyInvalidInput"):n.g.j.fb(this.ve,"blocklyInvalidInput")}};c.ff=function(a){this.u=this.H.B;a=a||!1;!a&&(n.g.userAgent.$t||n.g.userAgent.Ej||n.g.userAgent.ii)?Ii(this):(this.Mo=!0,n.Z.show(this,this.H.C,this.tt.bind(this)),this.ve=this.st(),a||(this.ve.focus(),this.ve.select()))};
function Ii(a){n.prompt(n.h.CHANGE_VALUE_TITLE,a.xa,function(b){a.setValue(b)})}c.st=function(){var a=n.Z.wa,b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.ly);var d=n.Mc.vz*this.u.scale+"pt";a.style.fontSize=d;b.style.fontSize=d;a.appendChild(b);b.value=b.defaultValue=this.Aa;b.YE=this.Aa;b.qx=null;var e=this;setTimeout(function(){Hi(e)},0);Ji(this,b);return b};
c.tt=function(){this.Mo=!1;this.Aa!==this.xa&&(this.xa=String(this.Aa),this.$r=!0,wb(this));this.QD&&this.QD(this.Aa);n.gb(this.TD);n.gb(this.VD);var a=n.Z.wa.style;a.width="auto";a.height="auto";a.fontSize=""};function Ji(a,b){a.TD=n.ea(b,"keydown",a,a.SD);a.VD=n.ea(b,"input",a,a.RD)}c.SD=function(a){13==a.keyCode?n.Z.Ga():27==a.keyCode?(this.ve.value=this.ve.defaultValue,n.Z.Ga()):9==a.keyCode&&(n.Z.Ga(),Ei(this.H,this,!a.shiftKey),a.preventDefault())};
c.RD=function(){var a=this.ve.value;a!==this.ve.qx&&(this.ve.qx=a,n.i.fa(!0),this.setValue(a),this.xa=this.ve.value,wb(this),n.i.fa(!1))};function Hi(a){var b=n.Z.wa,d=gc(a);b.style.width=d.right-d.left+"px";b.style.height=d.bottom-d.top+"px";a=new n.g.T(a.H.C?d.right-b.offsetWidth:d.left,d.top);a.y+=1;n.g.userAgent.Rt&&n.Z.wa.style.top&&(--a.x,--a.y);n.g.userAgent.Ju&&(a.y-=3);b.style.left=a.x+"px";b.style.top=a.y+"px"}
n.Mc.MD=function(a){console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.");if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);return isNaN(a)?null:String(a)};n.Mc.nG=function(a){(a=n.Mc.MD(a))&&(a=String(Math.max(0,Math.floor(a))));return a};n.R.register("field_input",n.Mc);n.da=function(a,b){a=this.Tc(a);null===a&&(a=0);n.da.A.constructor.call(this,a,b)};h(n.da,n.Mc);n.da.pa=function(a){return new n.da(a.angle)};n.da.prototype.hg=!0;n.da.eq=15;n.da.Vb=50;n.da.jn=!1;n.da.Ke=0;n.da.Ku=360;n.da.gg=n.da.Vb-1;c=n.da.prototype;c.Mf=function(){n.da.A.Mf.call(this);this.vy=n.g.j.J("tspan",{},null);this.vy.appendChild(document.createTextNode("\u00b0"));this.Hb.appendChild(this.vy)};c.Tf=function(){n.da.A.Tf.call(this);Ki(this)};
c.ff=function(){n.da.A.ff.call(this,n.g.userAgent.$t||n.g.userAgent.Ej||n.g.userAgent.ii);var a=this.fr();n.I.mw().appendChild(a);a=xi(this.H);a=a.On||a.Iq;n.I.dc(this.H.hh,a);n.I.jy(this,this.gr.bind(this));Ki(this)};
c.fr=function(){var a=n.g.j.J("svg",{xmlns:n.g.j.aa,"xmlns:html":n.g.j.sf,"xmlns:xlink":n.g.j.ta,version:"1.1",height:2*n.da.Vb+"px",width:2*n.da.Vb+"px"},null),b=n.g.j.J("circle",{cx:n.da.Vb,cy:n.da.Vb,r:n.da.gg,"class":"blocklyAngleCircle"},a);this.no=n.g.j.J("path",{"class":"blocklyAngleGauge"},a);this.$w=n.g.j.J("line",{x1:n.da.Vb,y1:n.da.Vb,"class":"blocklyAngleLine"},a);for(var d=0;360>d;d+=15)n.g.j.J("line",{x1:n.da.Vb+n.da.gg,y1:n.da.Vb,x2:n.da.Vb+n.da.gg-(0==d%45?10:5),y2:n.da.Vb,"class":"blocklyAngleMarks",
transform:"rotate("+d+","+n.da.Vb+","+n.da.Vb+")"},a);this.sB=n.wc(a,"click",this,this.WC);this.CD=n.wc(b,"mousemove",this,this.yx);this.DD=n.wc(this.no,"mousemove",this,this.yx);return a};c.gr=function(){n.gb(this.sB);n.gb(this.CD);n.gb(this.DD)};c.WC=function(){n.I.Oi(this);n.Z.Ga()};
c.yx=function(a){var b=this.no.ownerSVGElement.getBoundingClientRect(),d=a.clientX-b.left-n.da.Vb;b=a.clientY-b.top-n.da.Vb;a=Math.atan(-b/d);isNaN(a)||(a=n.g.we.QE(a),0>d?a+=180:0<b&&(a+=360),a=n.da.jn?n.da.Ke+360-a:360-(n.da.Ke-a),360<a&&(a-=360),n.da.eq&&(a=Math.round(a/n.da.eq)*n.da.eq),a>n.da.Ku&&(a-=360),d=String(a),d!=this.xa&&(this.ve.value=a,this.setValue(a),this.xa=d,wb(this)))};
function Ki(a){if(a.no){var b=Number(a.kc())+n.da.Ke,d=n.g.we.Sm(b%360);b=["M ",n.da.Vb,",",n.da.Vb];var e=n.da.Vb,f=n.da.Vb;if(!isNaN(d)){var g=n.g.we.Sm(n.da.Ke),k=Math.cos(g)*n.da.gg,l=Math.sin(g)*-n.da.gg;n.da.jn&&(d=2*g-d);e+=Math.cos(d)*n.da.gg;f-=Math.sin(d)*n.da.gg;d=Math.abs(Math.floor((d-g)/Math.PI)%2);n.da.jn&&(d=1-d);b.push(" l ",k,",",l," A ",n.da.gg,",",n.da.gg," 0 ",d," ",Number(n.da.jn)," ",e,",",f," z")}a.no.setAttribute("d",b.join(""));a.$w.setAttribute("x2",e);a.$w.setAttribute("y2",
f)}}c.Tc=function(a){a=Number(a)%360;if(isNaN(a))return null;0>a&&(a+=360);a>n.da.Ku&&(a-=360);return a};n.R.register("field_angle",n.da);n.hd=function(a,b){a=this.Tc(a);null===a&&(a="FALSE");n.hd.A.constructor.call(this,a,b);this.rb.width=n.hd.GA};h(n.hd,n.R);n.hd.pa=function(a){return new n.hd(a.checked)};n.hd.GA=15;n.hd.Yy="\u2713";n.hd.Zy=n.R.ei-3;n.hd.$y=14;c=n.hd.prototype;c.hg=!0;c.nn="default";c.Ye=!1;
c.Mf=function(){n.hd.A.Mf.call(this);this.Hb.setAttribute("x",n.hd.Zy);this.Hb.setAttribute("y",n.hd.$y);n.g.j.fb(this.Hb,"blocklyCheckbox");this.Hb.appendChild(document.createTextNode(n.hd.Yy));this.Hb.style.display=this.Aa?"block":"none"};c.ff=function(){this.setValue(!this.Aa)};c.Tc=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};c.nh=function(a){this.Aa=Li(a);this.Hb&&(this.Hb.style.display=this.Aa?"block":"none")};c.getValue=function(){return this.Aa?"TRUE":"FALSE"};
c.kc=function(){return String(Li(this.Aa))};function Li(a){return"string"==typeof a?"TRUE"==a:!!a}n.R.register("field_checkbox",n.hd);n.g.nb={};n.g.nb.parse=function(a){a=String(a).toLowerCase().trim();var b=n.g.nb.names[a];if(b)return b;b="#"==a[0]?a:"#"+a;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),b=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=b&&256>b&&0<=d&&256>d)?n.g.nb.Ss(a,b,d):null};
n.g.nb.Ss=function(a,b,d){b=a<<16|b<<8|d;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)};n.g.nb.Iw=function(a){a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
n.g.nb.YC=function(a){var b=n.Bz,d=255*n.Cz,e=0,f=0,g=0;if(0==b)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-b);var m=d*(1-b*l);b=d*(1-b*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=b;break;case 3:e=a;f=m;g=d;break;case 4:e=b;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=b,g=a}}return n.g.nb.Ss(Math.floor(e),Math.floor(f),Math.floor(g))};
n.g.nb.xq=function(a,b,d){a=n.g.nb.Iw(n.g.nb.parse(a));b=n.g.nb.Iw(n.g.nb.parse(b));return n.g.nb.Ss(Math.round(b[0]+d*(a[0]-b[0])),Math.round(b[1]+d*(a[1]-b[1])),Math.round(b[2]+d*(a[2]-b[2])))};n.g.nb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};n.tc=function(a,b){a=this.Tc(a);null===a&&(a=n.tc.Ht[0]);n.tc.A.constructor.call(this,a,b)};h(n.tc,n.R);n.tc.pa=function(a){var b=new n.tc(a.colour);if(a.colourOptions){var d=a.colourTitles;b.lv=a.colourOptions;d&&(b.yy=d)}a.columns&&b.setColumns(a.columns);return b};n.tc.gz=26;n.tc.iF=n.R.fn;c=n.tc.prototype;c.hg=!0;c.nn="default";c.Ye=!1;c.lv=null;c.yy=null;c.mv=0;c.kz="silver";c.jz="white";
c.Mf=function(){this.rb=new n.g.tf(n.tc.gz,n.R.fn);cc(this);this.Nd.style.fillOpacity=1;this.Nd.style.fill=this.Aa};c.Tc=function(a){return"string"!=typeof a?null:n.g.nb.parse(a)};c.nh=function(a){this.Aa=a;this.Nd&&(this.Nd.style.fill=a)};c.kc=function(){var a=this.Aa;/^#(.)\1(.)\2(.)\3$/.test(a)&&(a="#"+a[1]+a[3]+a[5]);return a};n.tc.Ht="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");
n.tc.yA=[];n.tc.bz=7;c=n.tc.prototype;c.setColumns=function(a){this.mv=a;return this};c.ff=function(){var a=this.fr();n.I.mw().appendChild(a);n.I.dc(this.jz,this.kz);n.I.jy(this,this.gr.bind(this))};c.vm=function(a){(a=a.target)&&!a.label&&(a=a.parentNode);a=a&&a.label;null!==a&&(this.setValue(a),n.I.Oi(this))};
c.fr=function(){var a=this.mv||n.tc.bz,b=this.lv||n.tc.Ht,d=this.yy||n.tc.yA,e=this.getValue(),f=document.createElement("table");f.className="blocklyColourTable";for(var g,k=0;k<b.length;k++){0==k%a&&(g=document.createElement("tr"),f.appendChild(g));var l=document.createElement("td");g.appendChild(l);var m=document.createElement("div");l.appendChild(m);l.label=b[k];l.title=d[k]||b[k];m.style.backgroundColor=b[k];b[k]==e&&(m.className="blocklyColourSelected")}this.Gk=n.wc(f,"mouseup",this,this.vm);
return f};c.gr=function(){n.gb(this.Gk)};n.R.register("field_colour",n.tc);n.fi=function(a,b){n.fi.A.constructor.call(this,a,b)};h(n.fi,n.qf);n.fi.pa=function(a){var b=n.g.bc(a.text);return new n.fi(b,a["class"])};n.fi.prototype.Vg=!1;n.fi.prototype.hg=!0;n.R.register("field_label_serializable",n.fi);n.de=function(a,b,d,e,f,g){this.H=null;if(!a)throw Error("Src value of an image field is required");if(isNaN(d)||isNaN(b))throw Error("Height and width values of an image field must cast to numbers.");d=Number(d);b=Number(b);if(0>=d||0>=b)throw Error("Height and width values of an image field must be greater than 0.");this.bD=d;this.rb=new n.g.tf(b,d+n.de.JA);this.ew=g;this.xa=e||"";this.setValue(a||"");"function"==typeof f&&(this.gv=f)};h(n.de,n.R);
n.de.pa=function(a){var b=n.g.bc(a.src),d=Number(n.g.bc(a.width)),e=Number(n.g.bc(a.height)),f=n.g.bc(a.alt);return new n.de(b,d,e,f,null,!!a.flipRtl)};n.de.JA=1;c=n.de.prototype;c.Vg=!1;c.Ye=!1;c.Mf=function(){this.Bd=n.g.j.J("image",{height:this.bD+"px",width:this.rb.width+"px",alt:this.xa},this.Re);this.Bd.setAttributeNS(n.g.j.ta,"xlink:href",this.Aa)};c.Tc=function(a){return"string"!=typeof a?null:a};c.nh=function(a){this.Aa=a;this.Bd&&this.Bd.setAttributeNS(n.g.j.ta,"xlink:href",this.Aa||"")};
c.Wf=function(a){null!==a&&(this.xa=a,this.Bd&&this.Bd.setAttribute("alt",a||""))};c.ff=function(){this.gv&&this.gv(this)};n.R.register("field_image",n.de);n.gi=function(a,b,d,e,f){e=Number(e);this.mp=isNaN(e)?0:e;e=this.mp.toString();var g=e.indexOf(".");this.iw=-1==g?-1:e.length-(g+1);b=Number(b);this.zD=isNaN(b)?-Infinity:b;d=Number(d);this.wD=isNaN(d)?Infinity:d;this.setValue(this.getValue());a=this.Tc(a);null===a&&(a=0);n.gi.A.constructor.call(this,a,f)};h(n.gi,n.Mc);n.gi.pa=function(a){return new n.gi(a.value,a.min,a.max,a.precision)};n.gi.prototype.hg=!0;
n.gi.prototype.Tc=function(a){if(null===a||void 0===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.zD),this.wD);this.mp&&isFinite(a)&&(a=Math.round(a/this.mp)*this.mp);return a=-1==this.iw?a:Number(a.toFixed(this.iw))};n.R.register("field_number",n.gi);n.rf=function(a,b,d,e){this.Zi=n.rf.aC;this.rb=new n.g.tf(0,n.s.jl);b&&(this.Ap=b);this.NB=a||"";a=e||"";if(null==d||void 0==d)d=null;else if(Array.isArray(d)){b=!1;for(e=0;e<d.length;e++)d[e]==a&&(b=!0);if(!b)throw Error("Invalid default type '"+a+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.MB=a;this.ZE=d;this.Aa=null};h(n.rf,n.Ea);
n.rf.pa=function(a){var b=n.g.bc(a.variable);return new n.rf(b,null,a.variableTypes,a.defaultType)};c=n.rf.prototype;c.u=null;c.hg=!0;c.Ri=function(){if(!this.gd){var a=n.ba.qw(this.u,null,this.NB,this.MB);n.i.disable();this.setValue(a.Ka());n.i.enable()}};
c.Gi=function(a){var b=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=n.ba.qw(this.u,b,d,e);if(null!=e&&e!==b.type)throw Error("Serialized variable type with id '"+b.Ka()+"' had type "+b.type+", and does not match variable field that references it: "+n.S.Uc(a)+".");this.setValue(b.Ka())};c.Tm=function(a){this.Ri();a.id=this.gd.Ka();a.textContent=this.gd.name;this.gd.type&&a.setAttribute("variabletype",this.gd.type);return a};
c.ft=function(a){if(a.bb)throw Error("Variable fields are not allowed to exist on shadow blocks.");n.rf.A.ft.call(this,a);this.u=a.B};c.getValue=function(){return this.gd?this.gd.Ka():null};c.kc=function(){return this.gd?this.gd.name:""};c.Te=function(){return this.gd};c.Br=function(){return this.gd?this.Ap:null};
c.Tc=function(a){var b=n.ba.Te(this.u,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;var d;a:if(d=Mi(this)){for(var e=0;e<d.length;e++)if(b==d[e]){d=!0;break a}d=!1}else d=!0;return d?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)};c.nh=function(a){this.gd=n.ba.Te(this.u,a);this.Aa=a;this.xa=this.gd.name;this.Ye=!0};
function Mi(a){var b=a.ZE;if(null===b&&a.u)return a.u.Cr();b=b||[""];if(0==b.length)throw a=a.kc(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
n.rf.aC=function(){if(!this.gd)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.kc(),b=[];if(this.u)for(var d=Mi(this),e=0;e<d.length;e++)b=b.concat(this.u.Vl(d[e]));b.sort(n.Uj.Kq);d=[];for(e=0;e<b.length;e++)d[e]=[b[e].name,b[e].Ka()];d.push([n.h.RENAME_VARIABLE,n.wu]);n.h.DELETE_VARIABLE&&d.push([n.h.DELETE_VARIABLE.replace("%1",a),n.Pt]);return d};
n.rf.prototype.ux=function(a){a=a.getValue();if(this.u){if(a==n.wu){n.ba.Ls(this.u,this.gd);return}if(a==n.Pt){this.u.Di(this.gd.Ka());return}}this.setValue(a)};n.rf.prototype.pp=function(){return!0};n.R.register("field_variable",n.rf);n.Generator=function(a){this.HD=a};n.Generator.Nj="generated_function";c=n.Generator.prototype;c.Kj=null;c.Dn=null;c.En=null;c.Ez="  ";c.cz=60;c.An=[];
function Oi(){var a=n.M,b=D;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=n.zd());var d=[];a.za(b);b=y(b,!0);for(var e=0,f;f=b[e];e++){var g=Pi(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.X&&(g=a.Wx(g),a.Dn&&!f.nt&&(g=Qi(a.Dn,f)+g),a.En&&!f.nt&&(g+=Qi(a.En,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");return d=d.replace(/[ \t]+\n/g,"\n")}function Ri(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function Pi(a,b){if(!b)return"";if(!b.isEnabled())return Pi(a,u(b));var d=a[b.type];if("function"!=typeof d)throw Error('Language "'+a.HD+'" does not know how to generate  code for block type "'+b.type+'".');d=d.call(b,b);if(Array.isArray(d)){if(!b.X)throw TypeError("Expecting string from statement block: "+b.type);return[a.Us(b,d[0],void 0),d[1]]}if("string"==typeof d)return a.Dn&&!b.nt&&(d=Qi(a.Dn,b)+d),a.En&&!b.nt&&(d+=Qi(a.En,b)),a.Us(b,d,void 0);if(null===d)return"";throw SyntaxError("Invalid code generated: "+
d);}
function Si(a,b,d){var e=n.M;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=Di(a,b);if(!f)return"";b=Pi(e,f);if(""===b)return"";if(!Array.isArray(b))throw TypeError("Expecting tuple from value block: "+f.type);a=b[0];b=b[1];if(isNaN(b))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var g=Math.floor(d),k=Math.floor(b);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<e.An.length;g++)if(e.An[g][0]==d&&e.An[g][1]==b){f=!1;break}f&&(a=
"("+a+")");return a}function Ti(a,b){var d=n.M;a=Di(a,b);b=Pi(d,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=Ri(b,d.Ez));return b}function Qi(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}c.cq="";function Ui(a){var b=n.M;b.cq+=a+","}c.za=function(){};c.Us=function(a,b){return b};c.finish=function(a){return a};c.Wx=function(a){return a};n.G=function(a,b,d){if(!b)throw Error("Cannot create a node without a location.");this.fd=a;this.gm=n.G.jD(a);this.ra=b;if(a=d||null)a.wsCoordinate?this.Zk=a.wsCoordinate:a.input&&(this.iE=a.input)};n.G.types={eg:"field",De:"block",Yg:"input",oi:"output",fg:"next",pi:"previous",Le:"stack",kg:"workspace"};n.G.Qy=10;n.G.fz=-20;n.G.jD=function(a){switch(a){case n.G.types.pi:case n.G.types.fg:case n.G.types.Yg:case n.G.types.oi:return!0}return!1};n.G.Hl=function(a){return new n.G(n.G.types.eg,a)};
n.G.Af=function(a){return a?a.type===n.Oa||a.type===n.Ma&&a.Kf()?n.G.zi(a.Kf()):a.type===n.Ma?new n.G(n.G.types.fg,a):a.type===n.ee?new n.G(n.G.types.oi,a):a.type===n.fe?new n.G(n.G.types.pi,a):null:null};n.G.zi=function(a){return a?new n.G(n.G.types.Yg,a.connection,{input:a}):null};n.G.zf=function(a){return new n.G(n.G.types.De,a)};n.G.Un=function(a){return new n.G(n.G.types.Le,a)};n.G.Il=function(a,b){return new n.G(n.G.types.kg,a,{wsCoordinate:b})};c=n.G.prototype;c.Kf=function(){return this.iE};
function Vi(a,b){a=a.ra;a instanceof n.bl||(a=a.H);if(!a)return null;var d=Xa(a);a=y(d.B,!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return b=e+(b?1:-1),-1==b||b==a.length?null:n.G.Un(a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!?!?!");}function Wi(a){if(a.Y)for(;a&&a.Y&&a.Y.sa&&w(a.Y).ca==a.Y.sa;)a=w(a.Y);var b=a.Y||a.X;return b&&b.sa&&b.sa.Kf()?n.G.zi(b.sa.Kf()):n.G.Un(a)}
c.next=function(){switch(this.fd){case n.G.types.kg:return n.G.Il(this.ra,new n.g.T(this.Zk.x+n.G.Qy,this.Zk.y));case n.G.types.Le:return Vi(this,!0);case n.G.types.oi:return n.G.zf(this.ra.H);case n.G.types.eg:a:{var a=this.ra;var b=a.Kf();var d=a.H;a=b.Ca.indexOf(a)+1;for(var e=d.W.indexOf(b);b=d.W[e];e++){for(var f=b.Ca;a<f.length;){if(ec(f[a])){b=n.G.Hl(f[a]);break a}a++}a=0;if(b.connection){b=n.G.zi(b);break a}}b=null}return b;case n.G.types.Yg:a:{d=this.ra.Kf();b=d.H;for(d=b.W.indexOf(d)+1;a=
b.W[d];d++){e=a.Ca;f=0;for(var g;g=e[f];f++)if(ec(g)){b=n.G.Hl(g);break a}if(a.connection){b=n.G.zi(a);break a}}b=null}return b;case n.G.types.De:if(b=this.ra.ca)return n.G.Af(b);break;case n.G.types.pi:return n.G.zf(this.ra.H);case n.G.types.fg:if(b=this.ra.sa)return n.G.Af(b)}return null};
c.em=function(){switch(this.fd){case n.G.types.kg:var a=y(this.ra,!0);if(0<a.length)return n.G.Un(a[0]);break;case n.G.types.Le:a=this.ra;var b=a.Y||a.X;return b?n.G.Af(b):n.G.zf(a);case n.G.types.De:a:{a=this.ra.W;b=0;for(var d;d=a[b];b++){for(var e=d.Ca,f=0,g;g=e[f];f++)if(ec(g)){a=n.G.Hl(g);break a}if(d.connection){a=n.G.zi(d);break a}}a=null}return a;case n.G.types.Yg:if(a=this.ra.sa)return n.G.Af(a)}return null};
c.Jk=function(){switch(this.fd){case n.G.types.kg:return n.G.Il(this.ra,new n.g.T(this.Zk.x-n.G.Qy,this.Zk.y));case n.G.types.Le:return Vi(this,!1);case n.G.types.eg:a:{var a=this.ra;var b=a.Kf();var d=a.H;a=b.Ca.indexOf(a)-1;for(var e=d.W.indexOf(b),f;f=d.W[e];e--){if(f.connection&&f!==b){b=n.G.zi(f);break a}for(f=f.Ca;-1<a;){if(ec(f[a])){b=n.G.Hl(f[a]);break a}a--}0<=e-1&&(a=d.W[e-1].Ca.length-1)}b=null}return b;case n.G.types.Yg:a:{b=this.ra.Kf();d=b.H;for(a=d.W.indexOf(b);e=d.W[a];a--){if(e.connection&&
e!==b){b=n.G.zi(e);break a}e=e.Ca;f=e.length-1;for(var g;g=e[f];f--)if(ec(g)){b=n.G.Hl(g);break a}}b=null}return b;case n.G.types.De:b=this.ra.X;if(b=this.ra.Y||b)return n.G.Af(b);break;case n.G.types.pi:if(b=this.ra.sa)return n.G.Af(b);break;case n.G.types.fg:return n.G.zf(this.ra.H)}return null};
c.xm=function(){switch(this.fd){case n.G.types.Le:var a=this.ra.Fa();return n.G.Il(this.ra.B,new n.g.T(a.x,a.y+n.G.fz));case n.G.types.oi:return(a=this.ra.sa)?n.G.Af(a):n.G.Un(this.ra.H);case n.G.types.eg:return n.G.zf(this.ra.H);case n.G.types.Yg:return n.G.zf(this.ra.H);case n.G.types.De:return Wi(this.ra);case n.G.types.pi:return Wi(this.ra.H);case n.G.types.fg:return Wi(this.ra.H)}return null};n.v={};n.v.zc=null;n.v.Hh=null;n.v.pd=null;n.v.Gf=null;n.v.Ck=null;n.v.yu=1;n.v.iq=2;n.v.zu=3;n.v.Wn=n.v.iq;n.v.$x=function(a){n.v.zc=a};n.v.zE=function(a){n.v.Hh=a};n.v.ks=function(){tb(n.v.Hh,n.v.zc.xb)};n.v.qE=function(){tb(n.v.Hh,null);n.v.Hh.Ga()};n.v.gw=function(){n.v.Sx(!1);n.v.Wn=n.v.zu;var a=n.zd(),b=a.ia;n.v.Hh.xb||n.v.ks();a&&!n.v.pd&&(n.v.pd=b.Jc.mr);b.Jc.Vf(n.v.pd)};n.v.ID=function(){if(n.v.pd){var a=Xi(n.v.pd);a&&(a.select(),n.v.pd=a)}};
n.v.nE=function(){if(n.v.pd){var a=Yi(n.v.pd);a&&(a.select(),n.v.pd=a)}};n.v.eD=function(){if(n.v.pd){var a=n.v.pd;Lf(a)?a.Bc()?(B(a,0).select(),n.v.pd=B(a,0)):a.Wd(!0):n.v.fw()}};n.v.gE=function(){if(n.v.pd){var a=n.v.pd;if(Lf(a)&&a.Bc()&&a.Ak)a.Wd(!1);else{var b=a.getParent();a=a.Wc();b&&(a.Wh||b!=a)&&(b.select(),n.v.pd=b)}}};
n.v.fw=function(){n.v.Wn=n.v.yu;var a=n.zd();var b=a.ia,d=n.v.zc;a=b?b.P:mi(a);n.v.Hh.xb||n.v.ks();a&&a.th()&&(a=y(a.th()),0<a.length&&(a=a[0],n.v.Gf=a,a=n.G.zf(n.v.Gf),tb(d,a)))};n.v.wE=function(){if(n.v.Gf){var a=n.v.pw(),b=a.indexOf(n.v.Gf),d=n.v.zc,e;-1<b&&a[++b]&&(e=a[b]);e&&(n.v.Gf=e,a=n.G.zf(e),tb(d,a))}};n.v.xE=function(){if(n.v.Gf){var a=n.v.pw(),b=a.indexOf(n.v.Gf),d=n.v.zc,e;-1<b&&a[--b]&&(e=a[b]);e&&(n.v.Gf=e,a=n.G.zf(e),tb(d,a))}};
n.v.pw=function(){var a=n.zd(),b=a.ia,d=[];(a=b?b.P:mi(a))&&a.th()&&(d=y(a.th()));return d};n.v.iD=function(){var a=mi(n.zd());if(a&&a.isVisible()){var b=Ub(a,n.v.Gf);b.qa();Na(b,!1);tb(n.v.zc,n.G.zf(b));n.v.modify()||n.v.warn("Something went wrong while inserting a block from the flyout.");n.v.mo();a=b.Y;b=b.X;a=n.G.Af(a?a:b);tb(n.v.zc,a);n.v.qE()}else n.v.warn("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
n.v.Sx=function(a){var b=n.v.zc;n.v.Gf=null;b.Ga();a&&mi(b.u).Ga()};
n.v.modify=function(){var a=n.v.Hh.xb,b=n.v.zc.xb;if(!a)return n.v.warn("Cannot insert with no marked node."),!1;if(!b)return n.v.warn("Cannot insert with no cursor node."),!1;var d=a.fd,e=b.fd;if(d==n.G.types.eg)return n.v.warn("Should not have been able to mark a field."),!1;if(d==n.G.types.De)return n.v.warn("Should not have been able to mark a block."),!1;if(d==n.G.types.Le)return n.v.warn("Should not have been able to mark a stack."),!1;if(e==n.G.types.eg)return n.v.warn("Cannot attach a field to anything else."),
!1;if(e==n.G.types.kg)return n.v.warn("Cannot attach a workspace to anything else."),!1;var f=b.ra,g=a.ra;if(a.gm){if(b.gm)return n.v.connect(f,g);if(e==n.G.types.De||e==n.G.types.Le)return n.v.Ow(f,g)}else if(d==n.G.types.kg){if(b.gm){if(e==n.G.types.Yg||e==n.G.types.fg)return n.v.warn("Cannot move a next or input connection to the workspace."),!1;b=f.H}else if(e==n.G.types.De||e==n.G.types.Le)b=f;else return!1;if(b.bb)return n.v.warn("Cannot move a shadow block to the workspace."),!1;b.getParent()&&
Ia(b,!1);b.moveTo(a.Zk);return!0}n.v.warn("Unexpected state in Blockly.Navigation.modify.");return!1};n.v.connect=function(a,b){if(a){var d=a.H;if(b.type==n.fe||b.type==n.ee)a.type!=n.Ma&&a.type!=n.Oa||d.moveBy(b.zb-a.zb,b.Va-a.Va);try{return b.connect(a),!0}catch(e){n.v.warn("Connection failed with error: "+e)}}return!1};
n.v.fC=function(a,b){if(!a||!b)return null;if(b.type===n.fe)return a.ca;if(b.type===n.Ma)return a.Y;if(b.type===n.Oa)return a.X;if(b.type===n.ee)for(b=0;b<a.W.length;b++){var d=a.W[b].connection;if(d.type===n.Oa)return d}return null};n.v.Ow=function(a,b){(a=n.v.fC(a,b))&&a.isConnected()&&!w(a).bb?a.disconnect():a||n.v.warn("This block can not be inserted at the marked location.");return n.v.connect(a,b)};
n.v.VB=function(){var a=n.v.zc.xb;if(a.gm){var b=a.ra;b.isConnected()?(a=Ua(b)?b:b.sa,b=Ua(b)?b.sa:b,b.H.bb?n.v.log("Cannot disconnect a shadow block"):(a.disconnect(),Sa(b,a),qb(Xa(a.H)),a=n.G.Af(a),tb(n.v.zc,a))):n.v.log("Cannot disconnect unconnected connection")}else n.v.log("Cannot disconnect blocks when the cursor is not on a connection")};
n.v.mo=function(){var a=n.v.zc;n.v.Sx(n.zd().ia?!0:!1);n.v.Wn=n.v.iq;n.v.bC();if(n.selected){var b=n.selected.Y,d=n.selected.X;b=n.G.Af(b?b:d);tb(a,b);n.selected.Ae()}else b=n.G.Il(a.u,new n.g.T(100,100)),tb(a,b)};n.v.GC=function(){var a=n.v.zc.xb,b=a.fd;b===n.G.types.eg?a.ra.ff():a.gm||b==n.G.types.kg?n.v.ks():b==n.G.types.De?n.v.warn("Cannot mark a block."):b==n.G.types.Le&&n.v.warn("Cannot mark a stack.")};
n.v.navigate=function(a){var b=n.v.Wn;if(84===a.keyCode)return n.zd().ia?(n.v.gw(),n.v.log("T: Focus Toolbox")):(n.v.fw(),n.v.log("T: Focus Flyout")),!0;if(b===n.v.yu)return n.v.jC(a);if(b===n.v.iq)return n.v.dF(a);if(b===n.v.zu)return n.v.TE(a);n.v.log("Not a valid key ");return!1};
n.v.jC=function(a){return 87===a.keyCode?(n.v.xE(),n.v.log("W: Flyout : Previous"),!0):65===a.keyCode?(n.v.gw(),n.v.log("A: Flyout : Go To Toolbox"),!0):83===a.keyCode?(n.v.wE(),n.v.log("S: Flyout : Next"),!0):13===a.keyCode?(n.v.iD(),n.v.log("Enter: Flyout : Select"),!0):69===a.keyCode||27===a.keyCode?(n.v.mo(),n.v.log("E or ESC: Flyout: Exit"),!0):!1};
n.v.TE=function(a){return 87===a.keyCode?(n.v.nE(),n.v.log("W: Toolbox : Previous"),!0):65===a.keyCode?(n.v.gE(),n.v.log("A: Toolbox : Out"),!0):83===a.keyCode?(n.v.ID(),n.v.log("S: Toolbox : Next"),!0):68===a.keyCode?(n.v.eD(),n.v.log("D: Toolbox : Go to flyout"),!0):13===a.keyCode?!0:69===a.keyCode||27===a.keyCode?(n.v.log("E or ESC: Toolbox: Exit"),n.v.mo(),!0):!1};
n.v.dF=function(a){return 87===a.keyCode?(n.v.zc.Jk(),n.v.log("W: Workspace : Out"),!0):65===a.keyCode?(n.v.zc.xm(),n.v.log("S: Workspace : Previous"),!0):83===a.keyCode?(n.v.zc.next(),n.v.log("S: Workspace : In"),!0):68===a.keyCode?(n.v.zc.em(),n.v.log("S: Workspace : Next"),!0):73===a.keyCode?(n.v.modify(),n.v.log("I: Workspace : Insert/Connect Blocks"),!0):13===a.keyCode?(n.v.GC(),n.v.log("Enter: Workspace : Mark"),!0):88===a.keyCode?(n.v.log("X: Workspace: Disconnect Blocks"),n.v.VB(),!0):!1};
n.v.bC=function(){n.Wi=!0};n.v.aG=function(){n.Wi=!1};n.v.log=function(a){n.v.Ck?n.v.Ck("log",a):console.log(a)};n.v.warn=function(a){n.v.Ck?n.v.Ck("warn",a):console.warn(a)};n.v.error=function(a){n.v.Ck?n.v.Ck("error",a):console.error(a)};n.Je=function(a,b){this.Hy=b||"";this.Rx=Object.create(null);if(a)for(a=a.split(","),b=0;b<a.length;b++)this.Rx[a[b]]=!0;this.reset()};n.Je.Op="DEVELOPER_VARIABLE";n.Je.prototype.reset=function(){this.Pe=Object.create(null);this.Lv=Object.create(null);this.La=null};
function Zi(a,b){var d=n.M.$m;if(b==n.ba.Nj){var e=a;d.La?e=(e=d.La.zg(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+b;var f=b==n.ba.Nj||b==n.Je.Op?d.Hy:"";if(e in d.Pe)return f+d.Pe[e];a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),
-1!="0123456789".indexOf(a[0])&&(a="my_"+a)):a=n.h.UNNAMED_KEY||"unnamed";for(var g="";d.Lv[a+g]||a+g in d.Rx;)g=g?g+1:2;a+=g;d.Lv[a]=!0;b=(b==n.ba.Nj||b==n.Je.Op?d.Hy:"")+a;d.Pe[e]=b.substr(f.length);return b}n.Je.Qe=function(a,b){return a.toLowerCase()==b.toLowerCase()};n.Ab={};n.Ab.Nj=n.ou;n.Ab.RA=function(a){a=ub(a,!1);for(var b=[],d=[],e=0;e<a.length;e++)if(a[e].Ji){var f=a[e].Ji();f&&(f[2]?b.push(f):d.push(f))}d.sort(n.Ab.Lx);b.sort(n.Ab.Lx);return[d,b]};n.Ab.Lx=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};n.Ab.gC=function(a,b){if(b.rd)return a;for(a=a||n.h.UNNAMED_KEY||"unnamed";!n.Ab.kD(a,b.B,b);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};n.Ab.kD=function(a,b,d){return!n.Ab.mD(a,b,d)};
n.Ab.mD=function(a,b,d){b=ub(b,!1);for(var e=0;e<b.length;e++)if(b[e]!=d&&b[e].Ji){var f=b[e].Ji();if(n.Je.Qe(f[0],a))return!0}return!1};n.Ab.tG=function(a){a=a.trim();var b=n.Ab.gC(a,this.H),d=this.getValue();if(d!=a&&d!=b){a=ub(this.H.B,!1);for(var e=0;e<a.length;e++)a[e].rE&&a[e].rE(d,b)}return b};
n.Ab.qh=function(a){function b(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],p=g[l][1],r=n.g.xml.createElement("block");r.setAttribute("type",k);r.setAttribute("gap",16);var t=n.g.xml.createElement("mutation");t.setAttribute("name",m);r.appendChild(t);for(m=0;m<p.length;m++){var v=n.g.xml.createElement("arg");v.setAttribute("name",p[m]);t.appendChild(v)}d.push(r)}}var d=[];if(n.jb.procedures_defnoreturn){var e=n.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=n.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(n.g.xml.createTextNode(n.h.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}n.jb.procedures_defreturn&&(e=n.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=n.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(n.g.xml.createTextNode(n.h.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));n.jb.procedures_ifreturn&&(e=n.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=n.Ab.RA(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return d};n.Ab.pC=function(a,b){var d=[];b=ub(b,!1);for(var e=0;e<b.length;e++)if(b[e].yC){var f=b[e].yC();f&&n.Je.Qe(f,a)&&d.push(b[e])}return d};
n.Ab.mG=function(a){var b=n.i.Gc,d=a.Ji()[0],e=a.Dd(!0);a=n.Ab.pC(d,a.B);d=0;for(var f;f=a[d];d++){var g=f.Dd();g=g&&n.S.Uc(g);f.tg(e);var k=f.Dd();k=k&&n.S.Uc(k);g!=k&&(n.i.Gc=!1,n.i.ma(new n.i.mf(f,"mutation",null,g,k)),n.i.Gc=b)}};n.Ab.hG=function(a,b){b=y(b,!1);for(var d=0;d<b.length;d++)if(b[d].Ji){var e=b[d].Ji();if(e&&n.Je.Qe(e[0],a))return b[d]}return null};n.hl=function(a,b,d,e){this.u=a;this.Ia=b;this.xa=d.getAttribute("text");this.bd=new n.g.T(0,0);this.Ch=e;this.Kn=d.getAttribute("callbackKey")||d.getAttribute("callbackkey");this.zv=d.getAttribute("web-class")||null};n.hl.kd=5;c=n.hl.prototype;c.width=0;c.height=0;c.$c=null;
c.ka=function(){var a=this.Ch?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.zv&&(a+=" "+this.zv);this.D=n.g.j.J("g",{"class":a},this.u.ab);if(!this.Ch)var b=n.g.j.J("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.D);a=n.g.j.J("rect",{"class":this.Ch?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.D);var d=n.g.j.J("text",{"class":this.Ch?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.D);d.textContent=n.g.bc(this.xa);
this.width=n.R.ro(d);this.height=20;this.Ch||(this.width+=2*n.hl.kd,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);d.setAttribute("x",this.width/2);d.setAttribute("y",this.height-n.hl.kd);$i(this);this.$c=n.ea(this.D,"mouseup",this,this.cE);return this.D};c.show=function(){$i(this);this.D.setAttribute("display","block")};
function $i(a){a.D.setAttribute("transform","translate("+a.bd.x+","+a.bd.y+")")}c.moveTo=function(a,b){this.bd.x=a;this.bd.y=b;$i(this)};c.rw=function(){return this.bd};c.L=function(){this.$c&&n.gb(this.$c);this.D&&(n.g.j.removeNode(this.D),this.D=null);this.Ia=this.u=null};
c.cE=function(a){(a=this.Ia.Jf(a))&&a.cancel();this.Ch&&this.Kn?console.warn("Labels should not have callbacks. Label text: "+this.xa):this.Ch||this.Kn&&ti(this.Ia,this.Kn)?this.Ch||ti(this.Ia,this.Kn)(this):console.warn("Buttons should have callbacks. Button text: "+this.xa)};n.Hj=function(a){a.Eb=this.xg.bind(this);a.Jg=this.tp.bind(this);this.u=new n.Za(a);this.u.Ze=!0;this.C=!!a.C;this.Gd=a.ua;this.ir=[];this.$o=[];this.yl=[];this.td=[];this.Cs=[]};c=n.Hj.prototype;c.Yj=!0;c.Eh=!1;c.yi=!0;c.O=8;c.kd=n.Hj.prototype.O;c.xz=3*n.Hj.prototype.kd;c.yz=3*n.Hj.prototype.kd;c.ri=2;c.va=0;c.Pa=0;c.Yv=70;
c.ka=function(a){this.D=n.g.j.J(a,{"class":"blocklyFlyout",style:"display: none"},null);this.$d=n.g.j.J("path",{"class":"blocklyFlyoutBackground"},this.D);this.D.appendChild(this.u.ka());return this.D};
c.za=function(a){this.Ia=a;this.u.vj=a;this.Rb=new n.Ba(this.u,this.Xe,!1,"blocklyFlyoutScrollbar");this.Ga();Array.prototype.push.apply(this.ir,n.ea(this.D,"wheel",this,this.My));this.Yj||(this.io=this.kr.bind(this),this.Ia.Pc(this.io));Array.prototype.push.apply(this.ir,n.ea(this.$d,"mousedown",this,this.Jh));this.u.Jf=this.Ia.Jf.bind(this.Ia);this.u.La=this.Ia.La;a=this.u;a.Mh=new n.pq(a)};
c.L=function(){this.Ga();n.gb(this.ir);this.io&&(this.Ia.jj(this.io),this.io=null);this.Rb&&(this.Rb.L(),this.Rb=null);this.u&&(this.u.vj=null,this.u.L(),this.u=null);this.D&&(n.g.j.removeNode(this.D),this.D=null);this.Ia=this.$d=null};c.Xc=function(){return this.va};c.kk=function(){return this.Pa};c.th=function(){return this.u};c.isVisible=function(){return this.Eh};c.Ha=function(a){var b=a!=this.isVisible();this.Eh=a;b&&this.Ym()};c.nj=function(a){var b=a!=this.yi;this.yi=a;b&&this.Ym()};
c.Ym=function(){var a=this.yi?this.isVisible():!1;this.D.style.display=a?"block":"none";this.Rb.nj(a)};function aj(a,b,d,e,f){a.D.setAttribute("width",b);a.D.setAttribute("height",d);"svg"==a.D.tagName?n.g.j.Dm(a.D,"translate("+e+"px,"+f+"px)"):a.D.setAttribute("transform","translate("+e+","+f+")");a.Rb&&(a.Rb.ws=new n.g.T(e,f),a.Rb.resize(),Oh(a.Rb,a.Rb.bd.x,a.Rb.bd.y))}
c.Ga=function(){if(this.isVisible()){this.Ha(!1);for(var a=0,b;b=this.td[a];a++)n.gb(b);this.td.length=0;this.Nh&&(this.u.jj(this.Nh),this.Nh=null)}};
c.show=function(a){this.u.rc(!1);this.Ga();bj(this);if("string"==typeof a){a=this.u.vj.pt[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.u.vj);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.Ha(!0);var b=[],d=[];this.Cs.length=0;for(var e=this.Xe?this.xz:this.yz,f=0,g;g=a[f];f++)if(g.tagName)switch(g.tagName.toUpperCase()){case "BLOCK":var k=n.S.fk(g,this.u);k.isEnabled()||
this.Cs.push(k);b.push({type:"block",block:k});g=parseInt(g.getAttribute("gap"),10);d.push(isNaN(g)?e:g);break;case "SEP":g=parseInt(g.getAttribute("gap"),10);!isNaN(g)&&0<d.length?d[d.length-1]=g:d.push(e);break;case "LABEL":case "BUTTON":g=new n.hl(this.u,this.Ia,g,"LABEL"==g.tagName.toUpperCase()),b.push({type:"button",button:g}),d.push(e)}this.Yw(b,d);this.td.push(n.ea(this.$d,"mouseover",this,function(){for(var l=y(this.u,!1),m=0,p;p=l[m];m++)p.kj()}));this.Xe?this.Pa=0:this.va=0;this.u.rc(!0);
this.Js();this.kr();this.position();this.Nh=this.Js.bind(this);this.u.Pc(this.Nh)};function bj(a){for(var b=y(a.u,!1),d=0,e;e=b[d];d++)e.B==a.u&&e.L(!1,!1);for(d=0;d<a.$o.length;d++)(b=a.$o[d])&&n.g.j.removeNode(b);for(d=a.$o.length=0;b=a.yl[d];d++)b.L();a.yl.length=0;a.u.Mh.clear()}
function cj(a,b,d,e){a.td.push(n.ea(b,"mousedown",null,dj(a,d)));a.td.push(n.ea(e,"mousedown",null,dj(a,d)));a.td.push(n.wc(b,"mouseover",d,d.Xj));a.td.push(n.wc(b,"mouseout",d,d.kj));a.td.push(n.wc(e,"mouseover",d,d.Xj));a.td.push(n.wc(e,"mouseout",d,d.kj))}function dj(a,b){return function(d){var e=a.Ia.Jf(d);e&&(ac(e,b),$b(e,d,a))}}c.Jh=function(a){var b=this.Ia.Jf(a);b&&$b(b,a,this)};c.Qw=function(a){return a.isEnabled()};
function Ub(a,b){var d=null;n.i.disable();var e=a.Ia.vg();a.Ia.rc(!1);try{var f=a.Ia;if(!b.$())throw Error("oldBlock is not rendered.");var g=n.S.fh(b,!0);f.rc(!1);var k=n.S.fk(g,f);if(!k.$())throw Error("block is not rendered.");var l=n.g.Rl(f.ab),m=n.g.Rl(a.u.ab),p=b.Fa();p.scale(a.u.scale);var r=n.g.T.sum(m,p),t=n.g.T.Kl(r,l);t.scale(1/f.scale);k.moveBy(t.x,t.y);d=k;n.lc()}finally{n.i.enable()}b=n.ba.kw(a.Ia,e);if(n.i.isEnabled())for(n.i.fa(!0),n.i.ma(new n.i.Fe(d)),e=0;e<b.length;e++)n.i.ma(new n.i.ie(b[e]));
a.Yj?a.Ga():a.kr();return d}function ej(a,b,d,e){var f=b.ka();b.moveTo(d,e);b.show();a.td.push(n.ea(f,"mousedown",a,a.Jh));a.yl.push(b)}function fj(a,b,d,e,f,g){d=n.g.j.J("rect",{"fill-opacity":0,x:d,y:e,height:f.height,width:f.width},null);d.hf=b;n.N.Zj(d);a.u.ab.insertBefore(d,b.$());b.lo=d;return a.$o[g]=d}
function gj(a,b,d){var e=d.Db();b.setAttribute("width",e.width);b.setAttribute("height",e.height);var f=d.wp?n.s.Rj:0;f&&d.moveBy(0,f);f=d.X?n.s.ga:0;d=d.Fa();b.setAttribute("y",d.y);b.setAttribute("x",a.C?d.x-e.width+f:d.x-f)}c.kr=function(){for(var a=y(this.u,!1),b=0,d;d=a[b];b++)if(-1==this.Cs.indexOf(d))for(var e=Cb(this.Ia,n.g.tr(d));d;)d.Ed(e),d=u(d)};c.Js=function(){this.Nh&&this.u.jj(this.Nh);this.Ox();this.Nh&&this.u.Pc(this.Nh)};function Sb(a){return a.Rb?a.Rb.isVisible():!1};n.Jj=function(a){a.Eb=this.xg.bind(this);a.Jg=this.tp.bind(this);n.Jj.A.constructor.call(this,a);this.Xe=!0};h(n.Jj,n.Hj);c=n.Jj.prototype;
c.xg=function(){if(!this.isVisible())return null;try{var a=this.u.ab.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.ri,d=this.ri;this.Gd==n.dh&&(b=0);var e=this.Pa;this.Gd==n.md&&(e-=this.ri);return{cb:e,Ya:this.va-2*this.ri,od:(a.height+2*this.kd)*this.u.scale,yd:(a.width+2*this.kd)*this.u.scale,Jb:-this.u.scrollY,vb:-this.u.scrollX,hc:0,yc:0,Cb:b,Bb:d}};
c.tp=function(a){var b=this.xg();b&&("number"==typeof a.x&&(this.u.scrollX=-b.yd*a.x),this.u.translate(this.u.scrollX+b.Bb,this.u.scrollY+b.Cb))};c.position=function(){if(this.isVisible()){var a=this.Ia.Eb();a&&(this.va=a.Ya,this.Ys(a.Ya-2*this.O,this.Pa-this.O),aj(this,this.va,this.Pa,0,this.Ia.ua==this.Gd?a.zy?this.Gd==n.md?a.zy:a.cb-this.Pa:this.Gd==n.md?0:a.cb:this.Gd==n.md?0:a.cb+a.Cb-this.Pa))}};
c.Ys=function(a,b){var d=this.Gd==n.md,e=["M 0,"+(d?0:this.O)];d?(e.push("h",a+2*this.O),e.push("v",b),e.push("a",this.O,this.O,0,0,1,-this.O,this.O),e.push("h",-1*a),e.push("a",this.O,this.O,0,0,1,-this.O,-this.O)):(e.push("a",this.O,this.O,0,0,1,this.O,-this.O),e.push("h",a),e.push("a",this.O,this.O,0,0,1,this.O,this.O),e.push("v",b),e.push("h",-a-2*this.O));e.push("z");this.$d.setAttribute("d",e.join(" "))};c.Ts=function(){this.Rb.set(this.C?Infinity:0)};
c.My=function(a){var b=n.g.Ar(a),d=b.x||b.y;d&&(b=this.xg(),d=b.vb+d,d=Math.min(d,b.yd-b.Ya),d=Math.max(d,0),this.Rb.set(d),n.Z.Ga());a.preventDefault();a.stopPropagation()};
c.Yw=function(a,b){this.u.scale=this.Ia.scale;var d=this.kd,e=this.C?d:d+n.s.ga;this.C&&(a=a.reverse());for(var f=0,g;g=a[f];f++)if("block"==g.type){g=g.block;for(var k=Ca(g,!1),l=0,m;m=k[l];l++)m.rd=!0;g.qa();k=g.$();l=g.Db();m=g.X?n.s.ga:0;m=this.C?e+l.width:e+m;g.moveBy(m,d);m=fj(this,g,m,d,l,f);e+=l.width+b[f];cj(this,k,g,m)}else"button"==g.type&&(ej(this,g.button,e,d),e+=g.button.width+b[f])};
c.Rw=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Yv;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};c.ik=function(){if(!this.D)return null;var a=this.D.getBoundingClientRect(),b=a.top;return this.Gd==n.md?new n.g.Rect(-1E9,b+a.height,-1E9,1E9):new n.g.Rect(b,-1E9,-1E9,1E9)};
c.Ox=function(){this.u.scale=this.Ia.scale;for(var a=0,b=y(this.u,!1),d=0,e;e=b[d];d++)a=Math.max(a,e.Db().height);a+=1.5*this.kd;a*=this.u.scale;a+=n.Ba.Qb;if(this.Pa!=a){for(d=0;e=b[d];d++)e.lo&&gj(this,e.lo,e);this.Pa=a;this.position()}};n.Vj=function(a){a.Eb=this.xg.bind(this);a.Jg=this.tp.bind(this);n.Vj.A.constructor.call(this,a);this.Xe=!1};h(n.Vj,n.Hj);c=n.Vj.prototype;c.xg=function(){if(!this.isVisible())return null;try{var a=this.u.ab.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.ri,d=this.Pa-2*this.ri,e=this.va;this.C||(e-=this.ri);return{cb:d,Ya:e,od:a.height*this.u.scale+2*this.kd,yd:a.width*this.u.scale+2*this.kd,Jb:-this.u.scrollY+a.y,vb:-this.u.scrollX,hc:a.y,yc:a.x,Cb:b,Bb:0}};
c.tp=function(a){var b=this.xg();b&&("number"==typeof a.y&&(this.u.scrollY=-b.od*a.y),this.u.translate(this.u.scrollX+b.Bb,this.u.scrollY+b.Cb))};c.position=function(){if(this.isVisible()){var a=this.Ia.Eb();a&&(this.Pa=a.cb,this.Ys(this.va-this.O,a.cb-2*this.O),aj(this,this.va,this.Pa,this.Ia.ua==this.Gd?a.Ay?this.Gd==n.xd?a.Ay:a.Ya-this.va:this.Gd==n.xd?0:a.Ya:this.Gd==n.xd?0:a.Ya+a.Bb-this.va,0))}};
c.Ys=function(a,b){var d=this.Gd==n.ig,e=a+this.O;e=["M "+(d?e:0)+",0"];e.push("h",d?-a:a);e.push("a",this.O,this.O,0,0,d?0:1,d?-this.O:this.O,this.O);e.push("v",Math.max(0,b));e.push("a",this.O,this.O,0,0,d?0:1,d?this.O:-this.O,this.O);e.push("h",d?a:-a);e.push("z");this.$d.setAttribute("d",e.join(" "))};c.Ts=function(){this.Rb.set(0)};c.My=function(a){var b=n.g.Ar(a);if(b.y){var d=this.xg();b=d.Jb-d.hc+b.y;b=Math.min(b,d.od-d.cb);b=Math.max(b,0);this.Rb.set(b);n.Z.Ga()}a.preventDefault();a.stopPropagation()};
c.Yw=function(a,b){this.u.scale=this.Ia.scale;for(var d=this.kd,e=this.C?d:d+n.s.ga,f=0,g;g=a[f];f++)if("block"==g.type){g=g.block;for(var k=Ca(g,!1),l=0,m;m=k[l];l++)m.rd=!0;g.qa();k=g.$();l=g.Db();g.moveBy(e,d);m=fj(this,g,this.C?e-l.width:e,d,l,f);cj(this,k,g,m);d+=l.height+b[f]}else"button"==g.type&&(ej(this,g.button,e,d),d+=g.button.height+b[f])};c.Rw=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Yv;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};
c.ik=function(){if(!this.D)return null;var a=this.D.getBoundingClientRect(),b=a.left;if(this.Gd==n.xd)return new n.g.Rect(-1E9,1E9,-1E9,b+a.width);n.g.userAgent.Rt&&this.Ia&&this.Ia.Vi&&(a=this.Ia.D.getBoundingClientRect().x,10>Math.abs(a-b)&&(b+=this.lG*this.Ia.options.ad.scale));return new n.g.Rect(-1E9,1E9,b,1E9)};
c.Ox=function(){this.u.scale=this.Ia.scale;for(var a=0,b=y(this.u,!1),d=0,e;e=b[d];d++){var f=e.Db().width;e.X&&(f-=n.s.ga);a=Math.max(a,f)}for(d=0;e=this.yl[d];d++)a=Math.max(a,e.width);a+=1.5*this.kd+n.s.ga;a*=this.u.scale;a+=n.Ba.Qb;if(this.va!=a){for(d=0;e=b[d];d++)this.C&&(f=e.Fa().x,e.moveBy(a/this.u.scale-this.kd-n.s.ga-f,0)),e.lo&&gj(this,e.lo,e);if(this.C)for(d=0;e=this.yl[d];d++)b=e.rw().y,e.moveTo(a/this.u.scale-e.width-this.kd-n.s.ga,b);this.va=a;this.position()}};function hj(a,b){null!=a&&this.append.apply(this,arguments)}c=hj.prototype;c.Wb="";c.set=function(a){this.Wb=""+a};c.append=function(a,b,d){this.Wb+=String(a);if(null!=b)for(var e=1;e<arguments.length;e++)this.Wb+=arguments[e];return this};c.clear=function(){this.Wb=""};c.toString=function(){return this.Wb};function ij(a,b,d){Df.call(this,d);this.ob=b||jj;a instanceof pd||(a=sd(a),a=td(rd(a).toString().replace(/(\r\n|\r|\n)/g,"<br>"),a.Ii()));this.cm=a;this.Nl=this.Vs=!1;this.SE=null;this.OA=Ad;this.Ak=!0;this.ao=-1}h(ij,Df);var kj={};c=ij.prototype;c.Xb=function(){ij.A.Xb.call(this);this.Yh&&(this.Yh.removeNode(this),this.Yh=null);this.oa=null};
c.Io=function(){var a=this.U();if(a){var b=lj(this);b&&!b.id&&(b.id=this.Ka()+".label");Of(a,"treeitem");C(a,"selected",!1);C(a,"level",this.jk());b&&C(a,"labelledby",b.id);(b=this.xo())&&Of(b,"presentation");(b=this.wo())&&Of(b,"presentation");if(b=mj(this))if(Of(b,"group"),b.hasChildNodes())for(C(a,"expanded",!1),a=Jf(this),b=1;b<=a;b++){var d=B(this,b-1).U();C(d,"setsize",a);C(d,"posinset",b)}}};
c.ka=function(){var a=this.If();var b=this.yp(),d=a.Bf;a=bf(d,"DIV");z?(b=yd(Bd,b),Dd(a,b),a.removeChild(a.firstChild)):Dd(a,b);if(1==a.childNodes.length)a=a.removeChild(a.firstChild);else{for(b=d.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a=b}this.oa=a};c.Ac=function(){ij.A.Ac.call(this);kj[this.Ka()]=this;this.Io()};c.qe=function(){ij.A.qe.call(this);delete kj[this.Ka()]};
c.Wj=function(a,b){var d=B(this,b-1),e=B(this,b);ij.A.Wj.call(this,a,b);a.df=d;a.bf=e;d?d.bf=a:this.mr=a;e?e.df=a:this.Vw=a;(b=this.Wc())&&nj(a,b);oj(a,this.jk()+1);if(b=this.U())if(this.Xk(),C(b,"expanded",this.Bc()),this.Bc()){b=mj(this);a.U()||a.ka();var f=a.U(),g=e&&e.U();b.insertBefore(f,g);this.$a&&a.Ac();e||(d?d.Xk():(sf(b,!0),this.Wd(this.Bc())))}};c.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.Wj(a,b?Mf(this,b):Jf(this));return a};
c.removeChild=function(a){var b=this.Wc(),d=b?b.cd:null;if(d==a||a.contains(d))if(b.hasFocus()){this.select();d=this.eE;if(ta(d))this&&(d=Aa(d,this));else if(d&&"function"==typeof d.handleEvent)d=Aa(d.handleEvent,d);else throw Error("Invalid listener argument");2147483647<Number(10)||ma.setTimeout(d,10)}else this.select();ij.A.removeChild.call(this,a);this.Vw==a&&(this.Vw=a.df);this.mr==a&&(this.mr=a.bf);a.df&&(a.df.bf=a.bf);a.bf&&(a.bf.df=a.df);d=!a.bf;a.Yh=null;a.ao=-1;if(b&&(b.removeNode(a),this.$a)){b=
mj(this);if(a.$a){var e=a.U();b.removeChild(e);a.qe()}d&&(d=B(this,Jf(this)-1))&&d.Xk();Lf(this)||(b.style.display="none",this.Xk(),this.xo().className=this.so(),(b=this.U())&&b.removeAttribute("aria-expanded"))}return a};c.remove=ij.prototype.removeChild;c.eE=function(){this.select()};c.jk=function(){var a=this.ao;0>a&&(a=(a=this.getParent())?a.jk()+1:0,oj(this,a));return a};
function oj(a,b){if(b!=a.ao){a.ao=b;var d=pj(a);if(d){var e=qj(a)+"px";Kf(a)?d.style.paddingRight=e:d.style.paddingLeft=e}If(a,function(f){oj(f,b+1)})}}c.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};c.wg=function(){var a=[];If(this,function(b){a.push(b)});return a};c.Ro=function(){return this.Vs};c.select=function(){var a=this.Wc();a&&a.Vf(this)};
function rj(a,b){if(a.Vs!=b){a.Vs=b;sj(a);var d=a.U();d&&(C(d,"selected",b),b&&(b=a.Wc().U(),C(b,"activedescendant",a.Ka())))}}c.Bc=function(){return this.Nl};
c.Wd=function(a){var b=a!=this.Nl;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){this.Nl=a;var d=this.Wc();var e=this.U();if(Lf(this)){if(!a&&d&&this.contains(d.cd)&&this.select(),e){if(d=mj(this))if(sf(d,a),C(e,"expanded",a),a&&this.$a&&!d.hasChildNodes()){var f=[];If(this,function(g){f.push(g.yp())});Ed(d,yd(f));If(this,function(g){g.Ac()})}this.Xk()}}else(d=mj(this))&&sf(d,!1);e&&(this.xo().className=this.so());b&&this.dispatchEvent(a?"expand":"collapse")}};c.toggle=function(){this.Wd(!this.Bc())};
c.expand=function(){this.Wd(!0)};c.collapse=function(){this.Wd(!1)};c.Rs=function(){var a=this.getParent();a&&(a.Wd(!0),a.Rs())};c.yp=function(){var a=this.Wc(),b=!a.Hm||a==this.getParent()&&!a.jt?this.ob.yv:this.ob.xv;a=this.Bc()&&Lf(this);b={"class":b,style:tj(this)};var d=[];a&&If(this,function(e){d.push(e.yp())});a=xd("div",b,d);return xd("div",{"class":this.ob.Hv,id:this.Ka()},[uj(this),a])};function qj(a){return Math.max(0,(a.jk()-1)*a.ob.Tr)}
function uj(a){var b={};b["padding-"+(Kf(a)?"right":"left")]=qj(a)+"px";b={"class":a.Tl(),style:b};var d=a.xr(),e=xd("span",{style:{display:"inline-block"},"class":a.so()}),f=xd("span",{"class":a.ob.Iv,title:a.SE||null},a.cm);a=yd(f,xd("span",{},a.OA));return xd("div",b,[d,e,a])}c.Tl=function(){return this.ob.Qq+(this.Ro()?" "+this.ob.Kv:"")};c.xr=function(){return xd("span",{type:"expand",style:{display:"inline-block"},"class":vj(this)})};
function vj(a){var b=a.Wc(),d=!b.Hm||b==a.getParent()&&!b.jt,e=a.ob,f=new hj;f.append(e.Ai," ",e.DB," ");if(Lf(a)){var g=0;b.it&&a.Ak&&(g=a.Bc()?2:1);d||(g=a.bf?g+8:g+4);switch(g){case 1:f.append(e.HB);break;case 2:f.append(e.GB);break;case 4:f.append(e.Dv);break;case 5:f.append(e.FB);break;case 6:f.append(e.EB);break;case 8:f.append(e.Ev);break;case 9:f.append(e.JB);break;case 10:f.append(e.IB);break;default:f.append(e.Cv)}}else d?f.append(e.Cv):a.bf?f.append(e.Ev):f.append(e.Dv);return f.toString()}
function tj(a){var b=a.Bc()&&Lf(a);return gd({"background-position":wj(a),display:b?null:"none"})}function wj(a){return(a.bf?(a.jk()-1)*a.ob.Tr:"-100")+"px 0"}c.U=function(){var a=ij.A.U.call(this);a||(this.oa=a=this.If().U(this.Ka()));return a};function pj(a){return(a=a.U())?a.firstChild:null}c.wo=function(){var a=pj(this);return a?a.firstChild:null};c.xo=function(){var a=pj(this);return a?a.childNodes[1]:null};function lj(a){return(a=pj(a))&&a.lastChild?a.lastChild.previousSibling:null}
function mj(a){return(a=a.U())?a.lastChild:null}c.Wf=function(a){this.cm=a=sd(a);var b=lj(this);b&&Dd(b,a);(a=this.Wc())&&xj(a,this)};c.kc=function(){var a=rd(this.cm).toString();return Gc(a,"&")?"document"in ma?Hd(a):Jd(a):a};function sj(a){var b=pj(a);b&&(b.className=a.Tl())}c.Xk=function(){var a=this.wo();a&&(a.className=vj(this));if(a=mj(this))a.style.backgroundPosition=wj(this)};c.vx=function(a){"expand"==a.target.getAttribute("type")&&Lf(this)?this.Ak&&this.toggle():(this.select(),sj(this))};
c.vm=function(a){a.preventDefault()};c.tx=function(a){"expand"==a.target.getAttribute("type")&&Lf(this)||this.Ak&&this.toggle()};
c.us=function(a){var b=!0;switch(a.keyCode){case 39:if(a.altKey)break;Lf(this)&&(this.Bc()?B(this,0).select():this.Wd(!0));break;case 37:if(a.altKey)break;if(Lf(this)&&this.Bc()&&this.Ak)this.Wd(!1);else{var d=this.getParent(),e=this.Wc();d&&(e.Wh||d!=e)&&d.select()}break;case 40:(d=Xi(this))&&d.select();break;case 38:(d=Yi(this))&&d.select();break;default:b=!1}b&&(a.preventDefault(),(e=this.Wc())&&e.Wm.clear());return b};function yj(a){return a.Bc()&&Lf(a)?yj(B(a,Jf(a)-1)):a}
function Xi(a){if(Lf(a)&&a.Bc())return B(a,0);for(var b=a,d;b!=a.Wc();){d=b.bf;if(null!=d)return d;b=b.getParent()}return null}function Yi(a){var b=a.df;if(null!=b)return yj(b);b=a.getParent();var d=a.Wc();return!d.Wh&&b==d||a==d?null:b}function nj(a,b){a.Yh!=b&&(a.Yh=b,xj(b,a),If(a,function(d){nj(d,b)}))}
var jj={Tr:19,Jv:"goog-tree-root goog-tree-item",Gv:"goog-tree-hide-root",Hv:"goog-tree-item",xv:"goog-tree-children",yv:"goog-tree-children-nolines",Qq:"goog-tree-row",Iv:"goog-tree-item-label",Ai:"goog-tree-icon",DB:"goog-tree-expand-icon",HB:"goog-tree-expand-icon-plus",GB:"goog-tree-expand-icon-minus",JB:"goog-tree-expand-icon-tplus",IB:"goog-tree-expand-icon-tminus",FB:"goog-tree-expand-icon-lplus",EB:"goog-tree-expand-icon-lminus",Ev:"goog-tree-expand-icon-t",Dv:"goog-tree-expand-icon-l",Cv:"goog-tree-expand-icon-blank",
Oq:"goog-tree-expanded-folder-icon",Av:"goog-tree-collapsed-folder-icon",Pq:"goog-tree-file-icon",Fv:"goog-tree-expanded-folder-icon",Bv:"goog-tree-collapsed-folder-icon",Kv:"selected"};function zj(a){Af.call(this);this.oa=a;a=z?"focusout":"blur";this.qD=Be(this.oa,z?"focusin":"focus",this,!z);this.rD=Be(this.oa,a,this,!z)}h(zj,Af);zj.prototype.handleEvent=function(a){var b=new me(a.Ef);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};zj.prototype.Xb=function(){zj.A.Xb.call(this);Ke(this.qD);Ke(this.rD);delete this.oa};function Aj(a,b,d){ij.call(this,a,b,d)}h(Aj,ij);Aj.prototype.Wc=function(){if(this.Yh)return this.Yh;var a=this.getParent();return a&&(a=a.Wc())?(nj(this,a),a):null};Aj.prototype.so=function(){var a=this.Bc(),b=this.cC;if(a&&b)return b;b=this.ZC;if(!a&&b)return b;b=this.ob;if(Lf(this)){if(a&&b.Oq)return b.Ai+" "+b.Oq;if(!a&&b.Av)return b.Ai+" "+b.Av}else if(b.Pq)return b.Ai+" "+b.Pq;return""};function Bj(a){if(a.Ul&&"function"==typeof a.Ul)return a.Ul();if("string"===typeof a)return a.split("");if(sa(a)){for(var b=[],d=a.length,e=0;e<d;e++)b.push(a[e]);return b}b=[];d=0;for(e in a)b[d++]=a[e];return b};function Cj(a){this.Aa=void 0;this.Rc={};if(a){if(a.zo&&"function"==typeof a.zo)var b=a.zo();else if(a.Ul&&"function"==typeof a.Ul)b=void 0;else if(sa(a)||"string"===typeof a){b=[];for(var d=a.length,e=0;e<d;e++)b.push(e)}else for(e in b=[],d=0,a)b[d++]=e;a=Bj(a);for(d=0;d<b.length;d++)this.set(b[d],a[d])}}c=Cj.prototype;c.set=function(a,b){Dj(this,a,b,!1)};c.add=function(a,b){Dj(this,a,b,!0)};
function Dj(a,b,d,e){for(var f=0;f<b.length;f++){var g=b.charAt(f);a.Rc[g]||(a.Rc[g]=new Cj);a=a.Rc[g]}if(e&&void 0!==a.Aa)throw Error('The collection already contains the key "'+b+'"');a.Aa=d}c.get=function(a){a:{for(var b=this,d=0;d<a.length;d++)if(b=b.Rc[a.charAt(d)],!b){a=void 0;break a}a=b}return a?a.Aa:void 0};c.Ul=function(){var a=[];Ej(this,a);return a};function Ej(a,b){void 0!==a.Aa&&b.push(a.Aa);for(var d in a.Rc)Ej(a.Rc[d],b)}
c.zo=function(a){var b=[];if(a){for(var d=this,e=0;e<a.length;e++){var f=a.charAt(e);if(!d.Rc[f])return[];d=d.Rc[f]}Fj(d,a,b)}else Fj(this,"",b);return b};function Fj(a,b,d){void 0!==a.Aa&&d.push(b);for(var e in a.Rc)Fj(a.Rc[e],b+e,d)}c.clear=function(){this.Rc={};this.Aa=void 0};
c.remove=function(a){for(var b=this,d=[],e=0;e<a.length;e++){var f=a.charAt(e);if(!b.Rc[f])throw Error('The collection does not have the key "'+a+'"');d.push([b,f]);b=b.Rc[f]}a=b.Aa;for(delete b.Aa;0<d.length;)if(f=d.pop(),b=f[0],f=f[1],b.Rc[f].Sw())delete b.Rc[f];else break;return a};c.clone=function(){return new Cj(this)};c.Sw=function(){var a;if(a=void 0===this.Aa)a:{for(var b in this.Rc){a=!1;break a}a=!0}return a};function Gj(){this.cj=new Cj;this.Wb="";this.Zo=this.ls=null;this.Dk=this.pm=0}function Hj(a,b){var d=b.kc();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.cj.get(d);if(e){for(var f=Jf(b),g=0;g<f;g++)Hj(a,B(b,g));sc(e,b);e.length||a.cj.remove(d)}}}function Ij(a,b){var d=!1;(b=a.cj.zo(b))&&b.length&&(a.Dk=0,a.pm=0,d=a.cj.get(b[0]),d=Jj(a,d))&&(a.ls=b);return d}function Jj(a,b){if(b){if(a.Dk<b.length){var d=b[a.Dk];a.Zo=b}d&&(d.Rs(),d.select())}return!!d}
Gj.prototype.clear=function(){this.Wb=""};function Kj(a,b,d){ij.call(this,a,b,d);this.Nl=!0;rj(this,!0);this.cd=this;this.Wm=new Gj;this.qr=this.Zc=null;this.Pl=!1;this.kC=null;this.jt=this.Wh=this.it=this.Hm=!0;if(z)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}h(Kj,ij);c=Kj.prototype;c.Wc=function(){return this};c.jk=function(){return 0};c.Rs=function(){};c.HC=function(){this.Pl=!0;dg(this.U(),"focused");this.cd&&this.cd.select()};c.BC=function(){this.Pl=!1;fg(this.U(),"focused")};c.hasFocus=function(){return this.Pl};
c.Bc=function(){return!this.Wh||Kj.A.Bc.call(this)};c.Wd=function(a){this.Wh?Kj.A.Wd.call(this,a):this.Nl=a};c.xr=function(){return Ad};c.xo=function(){var a=pj(this);return a?a.firstChild:null};c.wo=function(){return null};c.Xk=function(){};c.Tl=function(){return Kj.A.Tl.call(this)+(this.Wh?"":" "+this.ob.Gv)};c.so=function(){var a=this.Bc(),b=this.cC;if(a&&b)return b;b=this.ZC;if(!a&&b)return b;b=this.ob;return a&&b.Fv?b.Ai+" "+b.Fv:!a&&b.Bv?b.Ai+" "+b.Bv:""};
c.Vf=function(a){if(this.cd!=a){var b=!1;this.cd&&(b=this.cd==this.kC,rj(this.cd,!1));if(this.cd=a)rj(a,!0),b&&a.select();this.dispatchEvent("change")}};function Lj(a){0!=a.Hm&&(a.Hm=!1,a.$a&&Mj(a))}function Mj(a){function b(g){var k=mj(g);if(k){var l=!e||d==g.getParent()&&!f?g.ob.yv:g.ob.xv;k.className=l;if(k=g.wo())k.className=vj(g)}If(g,b)}var d=a,e=d.Hm,f=d.jt;b(a)}function Nj(a){0!=a.it&&(a.it=!1,a.$a&&Mj(a))}
function Oj(a){if(0!=a.Wh){a.Wh=!1;if(a.$a){var b=pj(a);b&&(b.className=a.Tl())}a.cd==a&&B(a,0)&&a.Vf(B(a,0))}}c.Io=function(){Kj.A.Io.call(this);var a=this.U();Of(a,"tree");C(a,"labelledby",lj(this).id)};
c.Ac=function(){Kj.A.Ac.call(this);var a=this.U();a.className=this.ob.Jv;a.setAttribute("hideFocus","true");a=this.U();a.tabIndex=0;var b=this.Zc=new Tf(a),d=this.qr=new zj(a);Gf(this).Qa(d,"focusout",this.BC).Qa(d,"focusin",this.HC).Qa(b,"key",this.Ue).Qa(a,"mousedown",this.Fr).Qa(a,"click",this.Fr).Qa(a,"dblclick",this.Fr);this.Io()};c.qe=function(){Kj.A.qe.call(this);this.Zc.L();this.Zc=null;this.qr.L();this.qr=null};
c.Fr=function(a){var b=Pj(this,a);if(b)switch(a.type){case "mousedown":b.vx(a);break;case "click":b.vm(a);break;case "dblclick":b.tx(a)}};
c.Ue=function(a){var b=this.Wm;var d=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){d=40==a.keyCode?1:-1;var e=b.ls;if(e){var f=null,g=!1;if(b.Zo){var k=b.Dk+d;0<=k&&k<b.Zo.length?(b.Dk=k,f=b.Zo):g=!0}f||(k=b.pm+d,0<=k&&k<e.length&&(b.pm=k),e.length>b.pm&&(f=b.cj.get(e[b.pm])),f&&f.length&&g&&(b.Dk=-1==d?f.length-1:0));Jj(b,f)&&(b.ls=e)}d=!0}break;case 8:e=b.Wb.length-1;d=!0;0<e?(b.Wb=b.Wb.substring(0,e),Ij(b,b.Wb)):0==e?b.Wb="":d=!1;break;case 27:b.Wb="",d=!0}(b=d||this.cd&&this.cd.us(a))||(b=
this.Wm,d=!1,a.ctrlKey||a.altKey||(e=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==e.length&&" "<=e&&"~">=e||"\u0080"<=e&&"\ufffd">=e)&&(" "!=e||b.Wb)&&(b.Wb+=e,d=Ij(b,b.Wb))),b=d);b&&a.preventDefault();return b};function Pj(a,b){for(var d=b.target;null!=d;){if(b=kj[d.id])return b;if(d==a.U())break;d=d.parentNode}return null}c.createNode=function(a){return new Aj(a||Ad,this.ob,this.If())};
function xj(a,b){a=a.Wm;var d=b.kc();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.cj.get(d);e?e.push(b):a.cj.set(d,[b])}}c.removeNode=function(a){Hj(this.Wm,a)};n.Lb=function(a){this.u=a;this.C=a.options.C;this.Xe=a.options.Ad;this.ua=a.options.ua;this.ob={Tr:19,Jv:"blocklyTreeRoot",Gv:"blocklyHidden",Hv:"",Qq:"blocklyTreeRow",Iv:"blocklyTreeLabel",Ai:"blocklyTreeIcon",Oq:"blocklyTreeIconOpen",Pq:"blocklyTreeIconNone",Kv:"blocklyTreeSelected"};this.Cy={Qq:"blocklyTreeSeparator"};this.Xe&&(this.ob.cssTreeRow+=a.C?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.Cy.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.C?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.ob.cssTreeIcon="")};c=n.Lb.prototype;c.width=0;c.height=0;c.km=null;
c.za=function(){var a=this.u,b=x(this.u);this.jd=document.createElement("div");this.jd.className="blocklyToolboxDiv";this.jd.setAttribute("dir",a.C?"RTL":"LTR");b.parentNode.insertBefore(this.jd,b);n.ea(this.jd,"mousedown",this,function(d){n.g.Dh(d)||d.target==this.jd?n.lc(!1):n.lc(!0);n.Touch.pg()},!1,!0);b={rg:a.options.rg,ad:a,C:a.C,Kh:a.options.Kh,Ad:a.Ad,ua:a.options.ua};this.P=null;this.P=a.Ad?new n.Jj(b):new n.Vj(b);n.g.j.Si(this.P.ka("svg"),x(this.u));this.P.za(a);this.ob.cleardotPath=a.options.cf+
"1x1.gif";this.ob.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.C?"Rtl":"Ltr");this.Jc=b=new n.Lb.ui(this,this.ob);Oj(b);Lj(b);Nj(b);b.Vf(null);a=this.kp(a.options.Qf);b.qa(this.jd);a&&b.Vf(a);si(this);this.position()};c.L=function(){this.P.L();this.Jc.L();n.g.j.removeNode(this.jd);this.km=this.u=null};c.Xc=function(){return this.width};c.kk=function(){return this.height};
c.position=function(){var a=this.jd;if(a){var b=x(this.u);b=n.uy(b);this.Xe?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.ua==n.md?a.style.top="0":a.style.bottom="0"):(this.ua==n.ig?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.P.position()}};
c.kp=function(a){this.Jc.Px();this.Jc.wf=[];this.Jr=!1;a=Qj(this,a,this.Jc,this.u.options.cf);if(this.Jc.wf.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");Pa(this.u);return a};
function Qj(a,b,d,e){for(var f=null,g=null,k=0,l;l=b.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":g=n.g.bc(l.getAttribute("name"));var m=a.Jc.createNode(g);m.wf=[];d.add(m);var p=l.getAttribute("custom");p?m.wf=p:(p=Qj(a,l,m,e))&&(f=p);p=l.getAttribute("categorystyle");var r=l.getAttribute("colour");r&&p?(m.Ni="",console.warn('Toolbox category "'+g+'" can not have both a style and a colour')):p?Rj(a,p,m,g):Sj(a,r,m,g);"true"==l.getAttribute("expanded")?(m.wf.length&&
(f=m),m.Wd(!0)):m.Wd(!1);g=l;break;case "SEP":if(g&&"CATEGORY"==g.tagName.toUpperCase()){d.add(new n.Lb.Eu(a.Cy));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.wf.push(l),g=l}return f}function Sj(a,b,d,e){b=n.g.bc(b);if(null===b||""===b)d.Ni="";else{var f=Number(b);isNaN(f)?(f=n.g.nb.parse(b))?(d.Ni=f,a.Jr=!0):(d.Ni="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+b)):(d.Ni=n.Lw(f),a.Jr=!0)}}
function Rj(a,b,d,e){if((d.ty=b)&&n.Do()){var f;(f=n.Do().iB[b])&&f.nb?Sj(a,f.nb,d,e):console.warn('Style "'+b+'" must exist and contain a colour value')}}function Tj(a,b){if(b=b||a.Jc){b=b.wg(!1);for(var d=0,e;e=b[d];d++)e.ty&&(Rj(a,e.ty,e,""),si(a)),Tj(a,e)}}function Uj(a){var b=a.Jc;if(b&&(Tj(a,b),a=b.cd)){var d=a.Ni||"#57e";pj(a).style.backgroundColor=d;si(b.ia,a)}}
function si(a,b){b=(b||a.Jc).wg(!1);for(var d=0,e;e=b[d];d++){var f=pj(e);if(f){var g=a.Jr?"8px solid "+(e.Ni||"#ddd"):"none";a.u.C?f.style.borderRight=g:f.style.borderLeft=g}si(a,e)}}c.ik=function(){if(!this.jd)return null;var a=this.jd.getBoundingClientRect(),b=a.top,d=b+a.height,e=a.left;a=e+a.width;return this.ua==n.md?new n.g.Rect(-1E7,d,-1E7,1E7):this.ua==n.dh?new n.g.Rect(b,1E7,-1E7,1E7):this.ua==n.xd?new n.g.Rect(-1E7,1E7,-1E7,a):new n.g.Rect(-1E7,1E7,e,1E7)};
n.Lb.ui=function(a,b){this.ia=a;Kj.call(this,Ad,b)};h(n.Lb.ui,Kj);n.Lb.ui.prototype.Ac=function(){n.Lb.ui.A.Ac.call(this);if(n.Touch.nq){var a=this.U();n.ea(a,"touchend",this,this.QC)}};n.Lb.ui.prototype.QC=function(a){var b=Pj(this,a);b&&"touchend"===a.type&&setTimeout(function(){b.vm(a)},1)};n.Lb.ui.prototype.createNode=function(a){a=a?sd(a):Ad;return new n.Lb.Tj(this.ia,a,this.ob)};
n.Lb.ui.prototype.Vf=function(a){var b=this.ia;if(a!=this.cd&&a!=b.Jc){b.km&&(pj(b.km).style.backgroundColor="");if(a){var d=a.Ni||"#57e";pj(a).style.backgroundColor=d;si(b,a)}d=this.cd;Kj.prototype.Vf.call(this,a);a&&a.wf&&a.wf.length?(b.P.show(a.wf),b.km!=a&&b.P.Ts()):b.P.Ga();d!=a&&d!=this&&(d=new n.i.fc(null,"category",d&&rd(d.cm).toString(),a&&rd(a.cm).toString()),d.Ub=b.u.id,n.i.ma(d));a&&(b.km=a)}};
n.Lb.Tj=function(a,b,d){ij.call(this,b,d,void 0);a&&(b=function(){n.Qk(a.u)},Be(a.Jc,"expand",b),Be(a.Jc,"collapse",b))};h(n.Lb.Tj,Aj);c=n.Lb.Tj.prototype;c.xr=function(){return xd("span")};c.vm=function(){Lf(this)&&this.Ak?(this.toggle(),this.select()):this.Ro()?this.Wc().Vf(null):this.select();sj(this)};c.vx=function(){};c.tx=function(){};
c.us=function(a){if(this.Yh.ia.Xe){var b={};b[39]=this.Lk?38:40;b[37]=this.Lk?40:38;b[38]=37;b[40]=39;a.keyCode=b[a.keyCode]||a.keyCode}return n.Lb.Tj.A.us.call(this,a)};n.Lb.Eu=function(a){n.Lb.Tj.call(this,null,Ad,a)};h(n.Lb.Eu,n.Lb.Tj);n.vd={};n.vd.el={OPEN:"handopen",CLOSED:"handclosed",pn:"handdelete"};n.vd.ZF="";n.vd.Mw=!1;n.vd.gx="";n.vd.zh=function(a,b){if(!n.vd.Mw){n.vd.Mw=!0;var d=".blocklyDraggable {}\n";a&&(d+=n.vd.Kt.join("\n"),n.vd.Kt=null,n.wz&&(d+=n.wz.CSS.join("\n")));n.vd.gx=b.replace(/[\\\/]$/,"");d=d.replace(/<<<PATH>>>/g,n.vd.gx);a=document.createElement("style");a.appendChild(document.createTextNode(d));document.head.insertBefore(a,document.head.firstChild)}};n.vd.$x=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
n.vd.Kt=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;",
"top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","-webkit-user-select: none;","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;",
"width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;",
"border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",
".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',
"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {",
"display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: 0.5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {",
"display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;",
"z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {",
"display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;",
"stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;",
"outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;",
"height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {",
"position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {",
"fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;",
"pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyVerticalCursor {","stroke-width: 3px;","fill: rgba(255,255,255,0.5);","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;",
"overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {",
"float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;",
"vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;",
"}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {","border-collapse: collapse;","}",".blocklyColourTable>tr>td {","border: 1px solid #666;",
"padding: 0;","}",".blocklyColourTable>tr>td>div {","border: 1px solid #666;","height: 13px;","width: 15px;","}",".blocklyColourTable>tr>td>div:hover {","border: 1px solid #fff;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border: 1px solid #000 !important;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;",
"padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem, ",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","padding: 5px 5px 5px 28px;","white-space: nowrap;",
"}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ",".blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {",
"padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ",
".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight, ",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 4px;","padding-top: 4px;","}",".blocklyDropDownDiv .goog-menuitem-highlight, ",".blocklyDropDownDiv .goog-menuitem-hover {","background-color: rgba(0, 0, 0, 0.2);","}",".blocklyWidgetDiv .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {",
"left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",
".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyWidgetDiv .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ",
".blocklyDropDownDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator, ",".blocklyDropDownDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];n.Z={};n.Z.wa=null;n.Z.ud=null;n.Z.eo=null;n.Z.ka=function(){n.Z.wa||(n.Z.wa=document.createElement("div"),n.Z.wa.className="blocklyWidgetDiv",document.body.appendChild(n.Z.wa))};n.Z.show=function(a,b,d){n.Z.Ga();n.Z.ud=a;n.Z.eo=d;n.Z.wa.style.top=n.g.style.ww().y+"px";n.Z.wa.style.direction=b?"rtl":"ltr";n.Z.wa.style.display="block"};n.Z.Ga=function(){n.Z.ud&&(n.Z.ud=null,n.Z.wa.style.display="none",n.Z.wa.style.left="",n.Z.wa.style.top="",n.Z.eo&&n.Z.eo(),n.Z.eo=null,n.Z.wa.innerHTML="")};
n.Z.isVisible=function(){return!!n.Z.ud};n.Z.Oi=function(a){n.Z.ud==a&&n.Z.Ga()};n.Z.ym=function(a,b,d){n.Z.wa.style.left=a+"px";n.Z.wa.style.top=b+"px";n.Z.wa.style.height=d+"px"};n.Z.Gx=function(a,b,d,e){var f=n.Z.gB(a,b,d);a=n.Z.fB(a,b,d,e);0>f?n.Z.ym(a,0,d.height+f):n.Z.ym(a,f,d.height)};n.Z.fB=function(a,b,d,e){if(e)return b=Math.max(b.right-d.width,a.left),Math.min(b,a.right-d.width);b=Math.min(b.left,a.right-d.width);return Math.max(b,a.left)};
n.Z.gB=function(a,b,d){return b.bottom+d.height>=a.bottom?b.top-d.height:b.bottom};n.Ft=function(a){this.Dl=a;this.ka()};c=n.Ft.prototype;c.ib=null;c.pe=null;c.Dl=null;c.Rh=1;c.Om=null;c.ka=function(){this.ib||(this.ib=n.g.j.J("svg",{xmlns:n.g.j.aa,"xmlns:html":n.g.j.sf,"xmlns:xlink":n.g.j.ta,version:"1.1","class":"blocklyBlockDragSurface"},this.Dl),this.pe=n.g.j.J("g",{},this.ib))};function Nb(a,b){if(a.pe.childNodes.length)throw Error("Already dragging a block.");a.pe.appendChild(b);a.ib.style.display="block";a.Om=new n.g.T(0,0)}
c.Og=function(a,b){this.Om=new n.g.T(a*this.Rh,b*this.Rh);a=this.Om.x;b=this.Om.y;a=a.toFixed(0);b=b.toFixed(0);this.ib.style.display="block";n.g.j.Dm(this.ib,"translate3d("+a+"px, "+b+"px, 0px)")};c.Co=function(){var a=n.g.Rd(this.ib);return new n.g.T(a.x/this.Rh,a.y/this.Rh)};c.Zb=function(){return this.pe};
c.zl=function(a){a?a.appendChild(this.pe.firstChild):this.pe.removeChild(this.pe.firstChild);this.ib.style.display="none";if(this.pe.childNodes.length)throw Error("Drag group was not cleared.");this.Om=null};n.zh=function(a,b){n.kB();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!n.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");b=new n.Kd(b||{});var d=document.createElement("div");d.className="injectionDiv";a.appendChild(d);a=n.Fl(d,b);var e=new n.Ft(d);d=new n.Mu(d);d=n.AB(a,b,e,d);n.gy(b.PE);n.gD(d);n.nm=d;n.Qk(d);return d};
n.Fl=function(a,b){a.setAttribute("dir","LTR");Ef=b.C;n.vd.zh(b.SC,b.cf);a=n.g.j.J("svg",{xmlns:n.g.j.aa,"xmlns:html":n.g.j.sf,"xmlns:xlink":n.g.j.ta,version:"1.1","class":"blocklySvg"},a);var d=n.g.j.J("defs",{},a),e=String(Math.random()).substring(2),f=n.g.j.J("filter",{id:"blocklyEmbossFilter"+e},d);n.g.j.J("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var g=n.g.j.J("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",
result:"specOut"},f);n.g.j.J("fePointLight",{x:-5E3,y:-1E4,z:2E4},g);n.g.j.J("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);n.g.j.J("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},f);b.bw=f.id;f=n.g.j.J("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},d);n.g.j.J("rect",{width:10,height:10,fill:"#aaa"},f);n.g.j.J("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},f);b.rg=f.id;
b.yw=n.hi.ka(e,b.xw,d);return a};
n.AB=function(a,b,d,e){b.ad=null;var f=new n.Za(b,d,e);f.scale=b.lb.oy;a.appendChild(f.ka("blocklyMainBackground"));!b.Bw&&b.Qf&&(d=li(f,"svg"),n.g.j.Si(d,a));b.Gw&&ji(f);b.lb&&b.lb.controls&&ki(f);n.v.$x(f.cursor);n.v.zE(f.Xo);f.translate(0,0);n.nm=f;b.readOnly||f.mc()||f.Pc(function(g){if(!f.Fc()&&!f.mc()&&-1!=n.i.Xy.indexOf(g.type)){var k=Object.create(null),l=f.Eb(),m=f.scale;k.vb=l.vb/m;k.Jb=l.Jb/m;k.Jy=(l.vb+l.Ya)/m;k.Iy=(l.Jb+l.cb)/m;qi(f)?(l=Ma(f),k.yc=l.left,k.hc=l.top,k.sv=l.right,k.qv=
l.bottom):(k.yc=l.yc/m,k.hc=l.hc/m,k.sv=(l.yc+l.yd)/m,k.qv=(l.hc+l.od)/m);if(k.hc<k.Jb||k.qv>k.Iy||k.yc<k.vb||k.sv>k.Jy){l=null;g&&(l=n.i.Zb(),n.i.fa(g.group));switch(g.type){case n.i.At:case n.i.Bt:var p=Ea(f,g.xc);p=Xa(p);break;case n.i.kn:case n.i.ln:p=yb(f,g.xf)}if(p){m=p.po();var r=k.Jb-m.top;0<r&&p.moveBy(0,r);r=k.Iy-m.bottom;0>r&&p.moveBy(0,r);r=k.vb-m.left;0<r&&p.moveBy(r,0);k=k.Jy-m.right;0>k&&p.moveBy(k,0)}g&&(g.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),
n.i.fa(l))}}});n.Qk(f);n.Z.ka();n.I.ka();n.N.ka();return f};n.gD=function(a){var b=a.options,d=x(a);n.ea(d.parentNode,"contextmenu",null,function(e){n.g.So(e)||e.preventDefault()});d=n.ea(window,"resize",null,function(){n.lc(!0);n.Qk(a)});a.sp=d;n.zh.YA();b.Qf&&(a.ia?a.ia.za(a):a.P&&(a.P.za(a),a.P.show(b.Qf.childNodes),a.P.Ts()));d=n.Ba.Qb;b.Gw&&(d=a.Ic.za(d));b.lb&&b.lb.controls&&a.Cj.za(d);b.oc&&b.oc.scrollbars?(a.yb=new n.Sj(a),a.yb.resize()):a.Jg({x:.5,y:.5});b.UC&&n.zh.tD(b.cf,a)};
n.zh.YA=function(){n.YB||(n.ea(document,"scroll",null,function(){for(var a=n.Sa.getAll(),b=0,d;d=a[b];b++)d.Zm&&d.Zm()}),n.ea(document,"keydown",null,n.UD),n.wc(document,"touchend",null,n.Gh),n.wc(document,"touchcancel",null,n.Gh),n.g.userAgent.ii&&n.ea(window,"orientationchange",document,function(){n.Qk(n.zd())}));n.YB=!0};
n.zh.tD=function(a,b){function d(){for(;f.length;)n.gb(f.pop());e.preload()}var e=b.wb;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(n.ea(document,"mousemove",null,d,!0));f.push(n.ea(document,"touchstart",null,d,!0))};
n.Ey=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");n.zd().Ey(a)};n.VERSION="uncompiled";n.nm=null;n.selected=null;n.cursor=null;n.Wi=!1;n.Ll=[];n.Al=null;n.Nn=null;n.Gq=null;n.WF=null;n.wy=null;n.uy=function(a){return{width:a.Xu,height:a.Vu}};n.wG=function(a){Pa(a)};n.Qk=function(a){for(;a.options.ad;)a=a.options.ad;var b=x(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;b.Xu!=e&&(b.setAttribute("width",e+"px"),b.Xu=e);b.Vu!=d&&(b.setAttribute("height",d+"px"),b.Vu=d);a.resize()}};
n.UD=function(a){var b=n.nm;if(!(b.options.readOnly||n.g.So(a)||b.ha&&!b.isVisible())){var d=!1;if(27==a.keyCode)n.lc(),n.Wi&&n.v.navigate(a);else if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(n.Ij.Sr())return;n.selected&&n.selected.Ec()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(n.Ij.Sr())return;n.selected&&n.selected.Ec()&&n.selected.mc()&&(67==a.keyCode?(n.lc(),n.Nq(n.selected)):88!=a.keyCode||n.selected.B.Ze||(n.Nq(n.selected),d=!0));86==a.keyCode?n.Al&&(a=n.Nn,a.Ze&&(a=a.vj),
n.Gq&&Cb(a,n.Gq)&&(n.i.fa(!0),oi(a),n.i.fa(!1))):90==a.keyCode&&(n.lc(),b.rt(a.shiftKey))}else if(n.Wi&&n.v.navigate(a))return;d&&!n.selected.B.Ze&&(n.i.fa(!0),n.lc(),n.selected.L(!0,!0),n.i.fa(!1))}};n.Nq=function(a){if(a.Zr)var b=a.Um();else{b=n.S.fh(a,!0);n.S.RB(b);var d=a.Fa();b.setAttribute("x",a.C?-d.x:d.x);b.setAttribute("y",d.y)}n.Al=b;n.Nn=a.B;n.Gq=a.Zr?null:n.g.tr(a,!0)};n.$v=function(a){var b=n.Al,d=n.Nn;n.Nq(a);oi(a.B);n.Al=b;n.Nn=d};n.pG=function(a){n.g.So(a)||a.preventDefault()};
n.lc=function(a){n.N.Ga();n.Z.Ga();n.I.Jw();var b=n.zd();b.Ic&&b.Ic.P&&b.Ic.P.Ga();a||b.ia&&b.ia.P&&b.ia.P.Yj&&b.ia.Jc.Vf(null)};n.Pc=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return n.zd().Pc(a)};n.zd=function(){return n.nm};n.alert=function(a,b){alert(a);b&&b()};n.confirm=function(a,b){b(confirm(a))};n.prompt=function(a,b,d){d(prompt(a,b))};n.oD=function(a){return function(){Ci(this,a)}};
n.$F=function(a){for(var b=0;b<a.length;b++){var d=a[b];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(n.jb[e]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+e+'".'),n.jb[e]={za:n.oD(d)})}else console.warn("Block definition #"+b+" in JSON array is "+d+". Skipping.")}};
n.ea=function(a,b,d,e,f,g){function k(v){var q=!f;v=n.Touch.EE(v);for(var A=0,N;N=v[A];A++)if(!q||n.Touch.ht(N))n.Touch.yE(N),d?e.call(d,N):e(N),l=!0}var l=!1,m=[];if(n.g.global.PointerEvent&&b in n.Touch.uf)for(var p=0,r;r=n.Touch.uf[b][p];p++)a.addEventListener(r,k,!1),m.push([a,r,k]);else if(a.addEventListener(b,k,!1),m.push([a,b,k]),b in n.Touch.uf){var t=function(v){k(v);var q=!g;l&&q&&v.preventDefault()};for(p=0;r=n.Touch.uf[b][p];p++)a.addEventListener(r,t,!1),m.push([a,r,t])}return m};
n.wc=function(a,b,d,e){function f(p){d?e.call(d,p):e(p)}var g=[];if(n.g.global.PointerEvent&&b in n.Touch.uf)for(var k=0,l;l=n.Touch.uf[b][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(b,f,!1),g.push([a,b,f]),b in n.Touch.uf){var m=function(p){if(p.changedTouches&&1==p.changedTouches.length){var r=p.changedTouches[0];p.clientX=r.clientX;p.clientY=r.clientY}f(p);p.preventDefault()};for(k=0;l=n.Touch.uf[b][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
n.gb=function(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};n.nD=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};n.Lw=function(a){return n.g.nb.YC(a)};
n.kB=function(){n.Qc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);n.Qc("LOGIC_HUE",["Constants","Logic","HUE"],210);n.Qc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);n.Qc("LOOPS_HUE",["Constants","Loops","HUE"],120);n.Qc("MATH_HUE",["Blocks","math","HUE"],void 0);n.Qc("MATH_HUE",["Constants","Math","HUE"],230);n.Qc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);n.Qc("TEXTS_HUE",["Constants","Text","HUE"],160);n.Qc("LISTS_HUE",["Blocks","lists","HUE"],void 0);n.Qc("LISTS_HUE",["Constants","Lists","HUE"],
260);n.Qc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);n.Qc("COLOUR_HUE",["Constants","Colour","HUE"],20);n.Qc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);n.Qc("VARIABLES_HUE",["Constants","Variables","HUE"],330);n.Qc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);n.Qc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
n.Qc=function(a,b,d){for(var e="Blockly",f=n,g=0;g<b.length;++g)e+="."+b[g],f&&(f=f[b[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};n.gy=function(a){n.wy=a;(a=n.zd())&&n.pE(a)};n.pE=function(a){n.Dy(ub(a).filter(function(d){return void 0!==d.Nm}));!a.ia&&a.P&&a.P.u?n.Dy(ub(a.P.u)):pi(a);a.ia&&Uj(a.ia);var b=new n.i.fc(null,"theme");b.Ub=a.id;n.i.ma(b)};
n.Dy=function(a){for(var b=0,d;d=a[b];b++)if(yi(d,d.Nm),d.af){var e=d.af.u;if(e&&ub(e)){var f=ub(e);for(d=0;d<f.length;d++){var g=f[d];yi(g,g.Nm)}e=ub(e.P.u);for(d=0;d<e.length;d++)g=e[d],yi(g,g.Nm)}}};n.Do=function(){return n.wy};n.g.global.Blockly||(n.g.global.Blockly={});n.g.global.Blockly.getMainWorkspace=n.zd;n.g.global.Blockly.addChangeListener=n.Pc;var Vj={en:"English"},Wj="ace ar fa he mzn ps ur".split(" "),Xj=window.BlocklyGamesLang,Yj=window.BlocklyGamesLanguages,Zj=!!window.location.pathname.match(/\.html$/),D=null,F,ak=Number,bk,ck=window.location.search.match(/[?&]level=([^&]+)/);bk=ck?decodeURIComponent(ck[1].replace(/\+/g,"%20")):"NaN";var dk=ak(bk);F=isNaN(dk)?1:n.g.we.Fq(1,dk,7);
function ek(){document.title=document.getElementById("title").textContent;document.dir=-1!=Wj.indexOf(Xj)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",Xj);var a=document.getElementById("languageMenu");if(a){for(var b=[],d=0;d<Yj.length;d++){var e=Yj[d];b.push([Vj[e],e])}b.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<b.length;d++){var f=b[d];e=f[1];f=new Option(f[0],e);e==Xj&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}for(d=1;7>=d;d++)a=document.getElementById("level"+d),b=!!fk(d),a&&b&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(gk,1)}function fk(a){var b=hk;try{var d=window.localStorage[b+a]}catch(e){}return d}function G(a){var b;(b=document.getElementById(a))?(b=b.textContent,b=b.replace(/\\n/g,"\n")):b=null;return null===b?"[Unknown message: "+a+"]":b}
function ik(a,b){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",b,!0)}
function gk(){if(!Zj){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")}};n.h.cG={};n.h.ADD_COMMENT="Add Comment";n.h.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";n.h.CHANGE_VALUE_TITLE="Change value:";n.h.CLEAN_UP="Clean up Blocks";n.h.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";n.h.COLLAPSE_ALL="Collapse Blocks";n.h.COLLAPSE_BLOCK="Collapse Block";n.h.COLOUR_BLEND_COLOUR1="colour 1";n.h.COLOUR_BLEND_COLOUR2="colour 2";n.h.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp";
n.h.COLOUR_BLEND_RATIO="ratio";n.h.COLOUR_BLEND_TITLE="blend";n.h.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).";n.h.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color";n.h.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.";n.h.COLOUR_RANDOM_HELPURL="http://randomcolour.com";n.h.COLOUR_RANDOM_TITLE="random colour";n.h.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.";n.h.COLOUR_RGB_BLUE="blue";n.h.COLOUR_RGB_GREEN="green";
n.h.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html";n.h.COLOUR_RGB_RED="red";n.h.COLOUR_RGB_TITLE="colour with";n.h.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";n.h.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";n.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";n.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";
n.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";n.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";n.h.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";n.h.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";n.h.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";n.h.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";
n.h.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";n.h.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";n.h.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";n.h.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";n.h.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";n.h.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";
n.h.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";n.h.CONTROLS_IF_MSG_ELSE="else";n.h.CONTROLS_IF_MSG_ELSEIF="else if";n.h.CONTROLS_IF_MSG_IF="if";n.h.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";n.h.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";n.h.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";
n.h.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";n.h.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";n.h.CONTROLS_REPEAT_INPUT_DO="do";n.h.CONTROLS_REPEAT_TITLE="repeat %1 times";n.h.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";n.h.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";
n.h.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";n.h.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";n.h.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";n.h.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";n.h.DELETE_ALL_BLOCKS="Delete all %1 blocks?";n.h.DELETE_BLOCK="Delete Block";n.h.DELETE_VARIABLE="Delete the '%1' variable";n.h.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";
n.h.DELETE_X_BLOCKS="Delete %1 Blocks";n.h.DISABLE_BLOCK="Disable Block";n.h.DUPLICATE_BLOCK="Duplicate";n.h.DUPLICATE_COMMENT="Duplicate Comment";n.h.ENABLE_BLOCK="Enable Block";n.h.EXPAND_ALL="Expand Blocks";n.h.EXPAND_BLOCK="Expand Block";n.h.EXTERNAL_INPUTS="External Inputs";n.h.HELP="Help";n.h.INLINE_INPUTS="Inline Inputs";n.h.IOS_CANCEL="Cancel";n.h.IOS_ERROR="Error";n.h.IOS_OK="OK";n.h.IOS_PROCEDURES_ADD_INPUT="+ Add Input";n.h.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements";
n.h.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.";n.h.IOS_PROCEDURES_INPUTS="INPUTS";n.h.IOS_VARIABLES_ADD_BUTTON="Add";n.h.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable";n.h.IOS_VARIABLES_DELETE_BUTTON="Delete";n.h.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.";n.h.IOS_VARIABLES_RENAME_BUTTON="Rename";n.h.IOS_VARIABLES_VARIABLE_NAME="Variable name";n.h.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";
n.h.LISTS_CREATE_EMPTY_TITLE="create empty list";n.h.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";n.h.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";n.h.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";n.h.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";n.h.LISTS_CREATE_WITH_INPUT_WITH="create list with";n.h.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";
n.h.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";n.h.LISTS_GET_INDEX_FIRST="first";n.h.LISTS_GET_INDEX_FROM_END="# from end";n.h.LISTS_GET_INDEX_FROM_START="#";n.h.LISTS_GET_INDEX_GET="get";n.h.LISTS_GET_INDEX_GET_REMOVE="get and remove";n.h.LISTS_GET_INDEX_LAST="last";n.h.LISTS_GET_INDEX_RANDOM="random";n.h.LISTS_GET_INDEX_REMOVE="remove";n.h.LISTS_GET_INDEX_TAIL="";n.h.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";
n.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";n.h.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";n.h.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";n.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";n.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";n.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";
n.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";n.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";n.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";n.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";n.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";n.h.LISTS_GET_SUBLIST_END_FROM_END="to # from end";
n.h.LISTS_GET_SUBLIST_END_FROM_START="to #";n.h.LISTS_GET_SUBLIST_END_LAST="to last";n.h.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";n.h.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";n.h.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";n.h.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";n.h.LISTS_GET_SUBLIST_TAIL="";n.h.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";
n.h.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";n.h.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";n.h.LISTS_INDEX_OF_FIRST="find first occurrence of item";n.h.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";n.h.LISTS_INDEX_OF_LAST="find last occurrence of item";n.h.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";n.h.LISTS_INLIST="in list";
n.h.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";n.h.LISTS_ISEMPTY_TITLE="%1 is empty";n.h.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";n.h.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";n.h.LISTS_LENGTH_TITLE="length of %1";n.h.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";n.h.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";n.h.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";
n.h.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";n.h.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";n.h.LISTS_REVERSE_MESSAGE0="reverse %1";n.h.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";n.h.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";n.h.LISTS_SET_INDEX_INPUT_TO="as";n.h.LISTS_SET_INDEX_INSERT="insert at";n.h.LISTS_SET_INDEX_SET="set";
n.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";n.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";n.h.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";n.h.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";n.h.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";n.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";
n.h.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";n.h.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";n.h.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";n.h.LISTS_SORT_ORDER_ASCENDING="ascending";n.h.LISTS_SORT_ORDER_DESCENDING="descending";n.h.LISTS_SORT_TITLE="sort %1 %2 %3";n.h.LISTS_SORT_TOOLTIP="Sort a copy of a list.";n.h.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";n.h.LISTS_SORT_TYPE_NUMERIC="numeric";
n.h.LISTS_SORT_TYPE_TEXT="alphabetic";n.h.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";n.h.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";n.h.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";n.h.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";n.h.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";n.h.LISTS_SPLIT_WITH_DELIMITER="with delimiter";
n.h.LOGIC_BOOLEAN_FALSE="false";n.h.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";n.h.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";n.h.LOGIC_BOOLEAN_TRUE="true";n.h.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";n.h.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";n.h.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";n.h.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";
n.h.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";n.h.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";n.h.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";n.h.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";n.h.LOGIC_NEGATE_TITLE="not %1";n.h.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";
n.h.LOGIC_NULL="null";n.h.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";n.h.LOGIC_NULL_TOOLTIP="Returns null.";n.h.LOGIC_OPERATION_AND="and";n.h.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";n.h.LOGIC_OPERATION_OR="or";n.h.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";n.h.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";n.h.LOGIC_TERNARY_CONDITION="test";n.h.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";
n.h.LOGIC_TERNARY_IF_FALSE="if false";n.h.LOGIC_TERNARY_IF_TRUE="if true";n.h.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";n.h.MATH_ADDITION_SYMBOL="+";n.h.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";n.h.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";n.h.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";
n.h.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";n.h.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";n.h.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";n.h.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";n.h.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";n.h.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";n.h.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";
n.h.MATH_CHANGE_TITLE="change %1 by %2";n.h.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";n.h.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";n.h.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";n.h.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";n.h.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";
n.h.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";n.h.MATH_DIVISION_SYMBOL="\u00f7";n.h.MATH_IS_DIVISIBLE_BY="is divisible by";n.h.MATH_IS_EVEN="is even";n.h.MATH_IS_NEGATIVE="is negative";n.h.MATH_IS_ODD="is odd";n.h.MATH_IS_POSITIVE="is positive";n.h.MATH_IS_PRIME="is prime";n.h.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";n.h.MATH_IS_WHOLE="is whole";
n.h.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";n.h.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";n.h.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";n.h.MATH_MULTIPLICATION_SYMBOL="\u00d7";n.h.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";n.h.MATH_NUMBER_TOOLTIP="A number.";n.h.MATH_ONLIST_HELPURL="";n.h.MATH_ONLIST_OPERATOR_AVERAGE="average of list";n.h.MATH_ONLIST_OPERATOR_MAX="max of list";n.h.MATH_ONLIST_OPERATOR_MEDIAN="median of list";
n.h.MATH_ONLIST_OPERATOR_MIN="min of list";n.h.MATH_ONLIST_OPERATOR_MODE="modes of list";n.h.MATH_ONLIST_OPERATOR_RANDOM="random item of list";n.h.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";n.h.MATH_ONLIST_OPERATOR_SUM="sum of list";n.h.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";n.h.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";n.h.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";
n.h.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";n.h.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";n.h.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";n.h.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";n.h.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";n.h.MATH_POWER_SYMBOL="^";n.h.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";
n.h.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";n.h.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";n.h.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";n.h.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";n.h.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";n.h.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";n.h.MATH_ROUND_OPERATOR_ROUND="round";
n.h.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";n.h.MATH_ROUND_OPERATOR_ROUNDUP="round up";n.h.MATH_ROUND_TOOLTIP="Round a number up or down.";n.h.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";n.h.MATH_SINGLE_OP_ABSOLUTE="absolute";n.h.MATH_SINGLE_OP_ROOT="square root";n.h.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";n.h.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";n.h.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";
n.h.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";n.h.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";n.h.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";n.h.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";n.h.MATH_SUBTRACTION_SYMBOL="-";n.h.MATH_TRIG_ACOS="acos";n.h.MATH_TRIG_ASIN="asin";n.h.MATH_TRIG_ATAN="atan";n.h.MATH_TRIG_COS="cos";n.h.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
n.h.MATH_TRIG_SIN="sin";n.h.MATH_TRIG_TAN="tan";n.h.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";n.h.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";n.h.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";n.h.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";n.h.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";n.h.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";n.h.NEW_COLOUR_VARIABLE="Create colour variable...";
n.h.NEW_NUMBER_VARIABLE="Create number variable...";n.h.NEW_STRING_VARIABLE="Create string variable...";n.h.NEW_VARIABLE="Create variable...";n.h.NEW_VARIABLE_TITLE="New variable name:";n.h.NEW_VARIABLE_TYPE_TITLE="New variable type:";n.h.ORDINAL_NUMBER_SUFFIX="";n.h.PROCEDURES_ALLOW_STATEMENTS="allow statements";n.h.PROCEDURES_BEFORE_PARAMS="with:";n.h.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";n.h.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";
n.h.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";n.h.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";n.h.PROCEDURES_CALL_BEFORE_PARAMS="with:";n.h.PROCEDURES_CREATE_DO="Create '%1'";n.h.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";n.h.PROCEDURES_DEFNORETURN_DO="";n.h.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";n.h.PROCEDURES_DEFNORETURN_PROCEDURE="do something";
n.h.PROCEDURES_DEFNORETURN_TITLE="to";n.h.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";n.h.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";n.h.PROCEDURES_DEFRETURN_RETURN="return";n.h.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";n.h.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.";n.h.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";n.h.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";
n.h.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";n.h.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";n.h.PROCEDURES_MUTATORARG_TITLE="input name:";n.h.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";n.h.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";n.h.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";n.h.REDO="Redo";n.h.REMOVE_COMMENT="Remove Comment";
n.h.RENAME_VARIABLE="Rename variable...";n.h.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";n.h.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";n.h.TEXT_APPEND_TITLE="to %1 append text %2";n.h.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.";n.h.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case";n.h.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case";n.h.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case";
n.h.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE";n.h.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.";n.h.TEXT_CHARAT_FIRST="get first letter";n.h.TEXT_CHARAT_FROM_END="get letter # from end";n.h.TEXT_CHARAT_FROM_START="get letter #";n.h.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text";n.h.TEXT_CHARAT_LAST="get last letter";n.h.TEXT_CHARAT_RANDOM="get random letter";n.h.TEXT_CHARAT_TAIL="";n.h.TEXT_CHARAT_TITLE="in text %1 %2";
n.h.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.";n.h.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings";n.h.TEXT_COUNT_MESSAGE0="count %1 in %2";n.h.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.";n.h.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.";n.h.TEXT_CREATE_JOIN_TITLE_JOIN="join";n.h.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.";
n.h.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end";n.h.TEXT_GET_SUBSTRING_END_FROM_START="to letter #";n.h.TEXT_GET_SUBSTRING_END_LAST="to last letter";n.h.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";n.h.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text";n.h.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter";n.h.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end";n.h.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #";
n.h.TEXT_GET_SUBSTRING_TAIL="";n.h.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.";n.h.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text";n.h.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text";n.h.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text";n.h.TEXT_INDEXOF_TITLE="in text %1 %2 %3";n.h.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";
n.h.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";n.h.TEXT_ISEMPTY_TITLE="%1 is empty";n.h.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.";n.h.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation";n.h.TEXT_JOIN_TITLE_CREATEWITH="create text with";n.h.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.";n.h.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";
n.h.TEXT_LENGTH_TITLE="length of %1";n.h.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.";n.h.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text";n.h.TEXT_PRINT_TITLE="print %1";n.h.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.";n.h.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";n.h.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.";
n.h.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.";n.h.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message";n.h.TEXT_PROMPT_TYPE_TEXT="prompt for text with message";n.h.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings";n.h.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3";n.h.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.";n.h.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text";
n.h.TEXT_REVERSE_MESSAGE0="reverse %1";n.h.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.";n.h.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)";n.h.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.";n.h.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";n.h.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of";n.h.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of";n.h.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of";
n.h.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.";n.h.TODAY="Today";n.h.UNDO="Undo";n.h.VARIABLES_DEFAULT_NAME="item";n.h.VARIABLES_GET_CREATE_SET="Create 'set %1'";n.h.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";n.h.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";n.h.VARIABLES_SET="set %1 to %2";n.h.VARIABLES_SET_CREATE_GET="Create 'get %1'";n.h.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";
n.h.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";n.h.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";n.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";n.h.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";n.h.CONTROLS_FOREACH_INPUT_DO=n.h.CONTROLS_REPEAT_INPUT_DO;n.h.CONTROLS_FOR_INPUT_DO=n.h.CONTROLS_REPEAT_INPUT_DO;n.h.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.h.CONTROLS_IF_MSG_ELSEIF;
n.h.CONTROLS_IF_ELSE_TITLE_ELSE=n.h.CONTROLS_IF_MSG_ELSE;n.h.CONTROLS_IF_IF_TITLE_IF=n.h.CONTROLS_IF_MSG_IF;n.h.CONTROLS_IF_MSG_THEN=n.h.CONTROLS_REPEAT_INPUT_DO;n.h.CONTROLS_WHILEUNTIL_INPUT_DO=n.h.CONTROLS_REPEAT_INPUT_DO;n.h.LISTS_CREATE_WITH_ITEM_TITLE=n.h.VARIABLES_DEFAULT_NAME;n.h.LISTS_GET_INDEX_HELPURL=n.h.LISTS_INDEX_OF_HELPURL;n.h.LISTS_GET_INDEX_INPUT_IN_LIST=n.h.LISTS_INLIST;n.h.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.h.LISTS_INLIST;n.h.LISTS_INDEX_OF_INPUT_IN_LIST=n.h.LISTS_INLIST;
n.h.LISTS_SET_INDEX_INPUT_IN_LIST=n.h.LISTS_INLIST;n.h.MATH_CHANGE_TITLE_ITEM=n.h.VARIABLES_DEFAULT_NAME;n.h.PROCEDURES_DEFRETURN_COMMENT=n.h.PROCEDURES_DEFNORETURN_COMMENT;n.h.PROCEDURES_DEFRETURN_DO=n.h.PROCEDURES_DEFNORETURN_DO;n.h.PROCEDURES_DEFRETURN_PROCEDURE=n.h.PROCEDURES_DEFNORETURN_PROCEDURE;n.h.PROCEDURES_DEFRETURN_TITLE=n.h.PROCEDURES_DEFNORETURN_TITLE;n.h.TEXT_APPEND_VARIABLE=n.h.VARIABLES_DEFAULT_NAME;n.h.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.h.VARIABLES_DEFAULT_NAME;n.h.MATH_HUE="230";
n.h.LOOPS_HUE="120";n.h.LISTS_HUE="260";n.h.LOGIC_HUE="210";n.h.VARIABLES_HUE="330";n.h.TEXTS_HUE="160";n.h.PROCEDURES_HUE="290";n.h.COLOUR_HUE="20";n.h.VARIABLES_DYNAMIC_HUE="310";var I={gk:null,za:function(){ek();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=G("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=G("Games_linkAlert"),BlocklyStorage.HASH_ERROR=G("Games_hashError"),BlocklyStorage.XML_ERROR=G("Games_xmlError"),BlocklyStorage.alert=H.qy.bind(H,a),a&&ik(a,BlocklyStorage.link)):a&&(a.style.display="none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",I.jB,!0);n.jb&&(n.jb.cA=!1);n.M&&
(n.M.cA=!1)},sD:function(a,b){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var d=null;try{d=window.sessionStorage.bx}catch(g){}d&&delete window.sessionStorage.bx;var e=fk(F),f=b&&fk(F-1);f&&"function"==typeof b&&(f=b(f));(a=d||e||f||a)&&I.Zx(a)}},Zx:function(a){I.gk?I.gk.setValue(a,-1):(a=n.S.Ng(a),D.clear(),n.S.oh(a,D),D.fv())},vr:function(){if(I.gk)var a=I.gk.getValue();else{a=n.S.Bp(D,!0);if(1==y(D,!1).length&&a.querySelector){var b=
a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}a=n.S.Uc(a)}return a},th:function(){return D},Qh:function(){window.localStorage&&(window.localStorage[hk+F]=I.vr())},wk:function(){window.location=(Zj?"index.html":"./")+"?lang="+Xj},jB:function(){if(window.sessionStorage){if(I.gk)var a=I.gk.getValue();else a=n.S.Bp(D),a=n.S.Uc(a);window.sessionStorage.bx=a}a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var b=window.location.search;
b=1>=b.length?"?lang="+a:b.match(/[?&]lang=[^&]*/)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b},gp:function(){"maze"==hk?7>F?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+Xj+"&level="+(F+1):I.wk():4>F?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+Xj+"&level="+(F+1):I.wk()},
Ve:function(a,b){if(a){var d=a.match(/^block_id_([^']+)$/);d&&(a=d[1])}ni(a,b)},kG:function(a,b){a=document.getElementById(a);a.firstChild||(a=n.zh(a,{rtl:-1!=Wj.indexOf(Xj),readOnly:!0}),"string"!=typeof b&&(b=b.join("")),n.S.oh(n.S.Ng(b),a))},JE:function(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")},Df:function(a){if("click"==a.type&&"touchend"==I.Df.Gs&&I.Df.Fs+2E3>Date.now()||I.Df.Gs==a.type&&I.Df.Fs+400>Date.now())return a.preventDefault(),a.stopPropagation(),
!0;I.Df.Gs=a.type;I.Df.Fs=Date.now();return!1}};I.Df.Gs=null;I.Df.Fs=0;I.cD=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","third-party/JS-Interpreter/compressed.js");document.head.appendChild(a)};
I.dD=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=I;I.setCode=I.Zx;I.getCode=I.vr;I.getWorkspace=I.th;var H={Ti:!1,Qv:null,bo:null,Gm:function(a,b,d,e,f,g){function k(){H.Ti&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);H.Ti&&H.tb(!1);n.zd()&&n.lc(!0);H.Ti=!0;H.Qv=b;H.bo=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),p;for(p in f)l.style[p]=f[p];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),H.Tq=n.wc(e,"mousedown",null,H.SB));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&b?(H.Yo(b,!1,.2),H.Yo(l,!0,.8),setTimeout(k,175)):k()},Rv:0,Sv:0,SB:function(a){H.Wq();if(!n.g.Dh(a)){var b=document.getElementById("dialog");H.Rv=b.offsetLeft-a.clientX;H.Sv=b.offsetTop-a.clientY;H.Vq=n.wc(document,"mouseup",null,H.Wq);H.Uq=n.wc(document,"mousemove",null,H.TB);a.stopPropagation()}},TB:function(a){var b=document.getElementById("dialog"),
d=H.Rv+a.clientX;a=H.Sv+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-b.offsetWidth);b.style.left=d+"px";b.style.top=a+"px"},Wq:function(){H.Vq&&(n.gb(H.Vq),H.Vq=null);H.Uq&&(n.gb(H.Uq),H.Uq=null)},tb:function(a){function b(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(H.Ti){H.Wq();H.Tq&&(n.gb(H.Tq),H.Tq=null);H.Ti=!1;H.bo&&H.bo();H.bo=null;var d=!1===a?
null:H.Qv;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(H.Yo(a,!1,.8),H.Yo(d,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Yo:function(a,b,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=
g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=H.nC(a);b?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},nC:function(a){var b=qf(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},qy:function(a,b){var d=document.getElementById("containerStorage");d.textContent="";b=b.split("\n");for(var e=0;e<b.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(b[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");H.Gm(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},H.IE);H.FE()},MA:function(){if(!fk(F))if(H.Ti||D.Fc())setTimeout(H.MA,15E3);else{var a=document.getElementById("dialogAbort"),b=document.getElementById("abortCancel");b.addEventListener("click",H.tb,!0);b.addEventListener("touchend",H.tb,!0);b=document.getElementById("abortOk");b.addEventListener("click",I.wk,!0);b.addEventListener("touchend",I.wk,
!0);H.Gm(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",H.Ou,!0)});document.body.addEventListener("keydown",H.Ou,!0)}},iy:function(){document.getElementById("galleryXml").value=I.vr();var a=document.getElementById("galleryDialog");if(!H.iy.tE){var b=document.getElementById("galleryCancel");b.addEventListener("click",H.tb,!0);b.addEventListener("touchend",H.tb,!0);b=document.getElementById("galleryOk");b.addEventListener("click",H.sr,!0);b.addEventListener("touchend",
H.sr,!0);H.iy.tE=!0}b=document.getElementById("submitButton");H.Gm(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",H.jw,!0)});document.body.addEventListener("keydown",H.jw,!0);setTimeout(function(){document.getElementById("galleryTitle").focus()},250)},ih:function(){var a=document.getElementById("dialogDone");if(D){var b=document.getElementById("dialogLinesText");b.textContent="";var d=Oi();d=I.JE(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,
"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=2<F?G("Games_linesOfCode3").replace("%1",String(e)):1==e?G("Games_linesOfCode1"):G("Games_linesOfCode2").replace("%1",String(e));b.appendChild(document.createTextNode(d))}d="maze"==hk?7>F?G("Games_nextLevel").replace("%1",String(F+1)):G("Games_finalLevel"):
4>F?G("Games_nextLevel").replace("%1",String(F+1)):G("Games_finalLevel");b=document.getElementById("doneCancel");b.addEventListener("click",H.tb,!0);b.addEventListener("touchend",H.tb,!0);b=document.getElementById("doneOk");b.addEventListener("click",I.gp,!0);b.addEventListener("touchend",I.gp,!0);H.Gm(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",H.ov,!0)});document.body.addEventListener("keydown",H.ov,!0);document.getElementById("dialogDoneText").textContent=
d},Pv:function(a){!H.Ti||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(H.tb(!0),a.stopPropagation(),a.preventDefault())},FE:function(){document.body.addEventListener("keydown",H.Pv,!0)},IE:function(){document.body.removeEventListener("keydown",H.Pv,!0)},ov:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)H.tb(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&I.gp()},Ou:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)H.tb(!0),a.stopPropagation(),a.preventDefault(),27!=
a.keyCode&&I.wk()},jw:function(a){27==a.keyCode?H.tb(!0):13==a.keyCode&&H.sr()},sr:function(){var a=document.getElementById("galleryTitle");if(a.value.trim()){a=document.getElementById("galleryForm");for(var b=[],d=0,e;e=a.elements[d];d++)e.name&&(b[d]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));var f=new XMLHttpRequest;f.open("POST",a.action);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onload=function(){if(4==f.readyState){var g=200==f.status?G("Games_submitted"):
G("Games_httpRequestError")+"\nStatus: "+f.status;H.qy(null,g)}};f.send(b.join("&"));H.tb(!0)}else a.value="",a.focus()}};window.BlocklyDialogs=H;H.hideDialog=H.tb;
n.M=new n.Generator("JavaScript");Ui("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
n.M.qF=0;n.M.IF=1.1;n.M.zn=1.2;n.M.yn=2;n.M.FF=3;n.M.zF=3;n.M.tF=4.1;n.M.LF=4.2;n.M.ku=4.3;n.M.gu=4.4;n.M.KF=4.5;n.M.MF=4.6;n.M.AF=4.7;n.M.rF=4.8;n.M.DF=5;n.M.iu=5.1;n.M.BF=5.2;n.M.HF=5.3;n.M.ju=6.1;n.M.xn=6.2;n.M.vF=7;n.M.JF=8;n.M.EF=8;n.M.GF=8;n.M.CF=9;n.M.sF=10;n.M.wF=11;n.M.uF=12;n.M.fu=13;n.M.hu=14;n.M.yF=15;n.M.pF=16;n.M.NF=17;n.M.xF=18;n.M.dA=99;n.M.An=[[n.M.yn,n.M.zn],[n.M.yn,n.M.yn],[n.M.zn,n.M.zn],[n.M.zn,n.M.yn],[n.M.gu,n.M.gu],[n.M.iu,n.M.iu],[n.M.xn,n.M.xn],[n.M.fu,n.M.fu],[n.M.hu,n.M.hu]];
n.M.za=function(a){n.M.Zn=Object.create(null);n.M.lC=Object.create(null);n.M.$m?n.M.$m.reset():n.M.$m=new n.Je(n.M.cq);n.M.$m.La=a.La;for(var b=[],d=n.ba.PA(a),e=0;e<d.length;e++)b.push(Zi(d[e],n.Je.Op));a=n.ba.Qu(a);for(e=0;e<a.length;e++)b.push(Zi(a[e].Ka(),n.ba.Nj));b.length&&(n.M.Zn.variables="var "+b.join(", ")+";")};n.M.finish=function(a){var b=[],d;for(d in n.M.Zn)b.push(n.M.Zn[d]);delete n.M.Zn;delete n.M.lC;n.M.$m.reset();return b.join("\n\n")+"\n\n\n"+a};n.M.Wx=function(a){return a+";\n"};
n.M.qG=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
n.M.Us=function(a,b,d){var e="";if(!a.X||!a.X.sa){var f=a.vo();(f=n.g.Xa.Oy(f,n.M.cz-3))&&(e=a.Ji?e+("/**\n"+Ri(f+"\n"," * ")+" */\n"):e+Ri(f+"\n","// "));for(var g=0;g<a.W.length;g++)if(a.W[g].type==n.Oa){var k=w(a.W[g].connection);if(k){f=[];k=Ca(k,!0);for(var l=0;l<k.length;l++){var m=k[l].vo();m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Ri(f,"// "))}}}a=a.ca&&w(a.ca);d=d?"":Pi(n.M,a);return e+b+d};
n.M.gG=function(a,b,d,e,f){d=d||0;f=f||n.M.dA;a.B.options.Kh&&d--;var g=a.B.options.Kh?"1":"0";a=0<d?Si(a,b,n.M.xn)||g:0>d?Si(a,b,n.M.ju)||g:e?Si(a,b,n.M.ku)||g:Si(a,b,f)||g;if(n.nD(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=n.M.xn}else 0>d&&(a=a+" - "+-d,k=n.M.ju);e&&(a=d?"-("+a+")":"-"+a,k=n.M.ku);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};n.jb.maze_moveForward={za:function(){Ci(this,{message0:G("Maze_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:G("Maze_moveForwardTooltip")})}};n.M.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};n.jb.maze_turn={za:function(){var a=[[G("Maze_turnLeft"),"turnLeft"],[G("Maze_turnRight"),"turnRight"]];a[0][0]+=" \u21ba";a[1][0]+=" \u21bb";this.dc(290);E(Bi(this),new n.Ea(a),"DIR");this.ze(!0);this.Kg(!0);this.dd(G("Maze_turnTooltip"))}};
n.M.maze_turn=function(a){return xb(a,"DIR")+"('block_id_"+a.id+"');\n"};n.jb.maze_if={za:function(){var a=[[G("Maze_pathAhead"),"isPathForward"],[G("Maze_pathLeft"),"isPathLeft"],[G("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.dc(210);E(Bi(this),new n.Ea(a),"DIR");E(Ai(this,"DO"),G("Maze_doCode"));this.dd(G("Maze_ifTooltip"));this.ze(!0);this.Kg(!0)}};n.M.maze_if=function(a){var b=xb(a,"DIR")+"('block_id_"+a.id+"')";a=Ti(a,"DO");return"if ("+b+") {\n"+a+"}\n"};
n.jb.maze_ifElse={za:function(){var a=[[G("Maze_pathAhead"),"isPathForward"],[G("Maze_pathLeft"),"isPathLeft"],[G("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.dc(210);E(Bi(this),new n.Ea(a),"DIR");E(Ai(this,"DO"),G("Maze_doCode"));E(Ai(this,"ELSE"),G("Maze_elseCode"));this.dd(G("Maze_ifelseTooltip"));this.ze(!0);this.Kg(!0)}};n.M.maze_ifElse=function(a){var b=xb(a,"DIR")+"('block_id_"+a.id+"')",d=Ti(a,"DO");a=Ti(a,"ELSE");return"if ("+b+") {\n"+d+"} else {\n"+a+"}\n"};
n.jb.maze_forever={za:function(){this.dc(120);E(E(Bi(this),G("Maze_repeatUntil")),new n.de(jk,12,16));E(Ai(this,"DO"),G("Maze_doCode"));this.ze(!0);this.dd(G("Maze_whileTooltip"))}};n.M.maze_forever=function(a){var b=Ti(a,"DO");n.M.Kj&&(b=n.M.Kj.replace(/%1/g,"'block_id_"+a.id+"'")+b);return"while (notDone()) {\n"+b+"}\n"};
n.jb.maze_forever_books={za:function(){this.dc(182);E(E(E(Bi(this),G("Maze_repeatTaskUntil")),new n.de(kk,20,17)),G("Maze_booksZero"),"booksZero");E(Ai(this,"DO"),G("Maze_doCode"));this.ze(!0);this.dd(G("Maze_whileBooksTooltip"))}};n.M.maze_forever_books=function(a){var b=Ti(a,"DO");n.M.Kj&&(b=n.M.Kj.replace(/%1/g,"'block_id_"+a.id+"'")+b);return"while (notDone()) {\n"+b+"}\n"};
n.jb.maze_forever_booksPar={za:function(){this.dc(90);E(E(E(Bi(this),G("Maze_repeatTaskUntil")),new n.de(kk,20,17)),G("Maze_booksZeroPar"));E(Ai(this,"DO"),G("Maze_doCode"));this.ze(!0);this.dd(G("Maze_whileBooksTooltipPar"))}};n.M.maze_forever_booksPar=function(a){var b=Ti(a,"DO");n.M.Kj&&(b=n.M.Kj.replace(/%1/g,"'block_id_"+a.id+"'")+b);return"while (notDone()) {\n"+b+"}\n"};
n.jb.maze_1student={za:function(){var a=[[G("Maze_student0"),"isStudent0"]];this.dc(45);E(Bi(this),new n.Ea(a),"STD");E(Ai(this,"DO"),G("Maze_doCode"));this.dd(G("Maze_ifStdTooltip"));this.ze(!0);this.Kg(!0)}};n.M.maze_1student=function(a){var b=xb(a,"STD")+"('block_id_"+a.id+"')";a=Ti(a,"DO");return"if ("+b+") {\n"+a+"}\n"};
n.jb.maze_2students={za:function(){var a=[[G("Maze_student0"),"isStudent0"],[G("Maze_student1"),"isStudent1"]];this.dc(45);E(Bi(this),new n.Ea(a),"STD");E(Ai(this,"DO"),G("Maze_doCode"));this.dd(G("Maze_ifStdTooltip"));this.ze(!0);this.Kg(!0)}};n.M.maze_2students=function(a){var b=xb(a,"STD")+"('block_id_"+a.id+"')";a=Ti(a,"DO");return"if ("+b+") {\n"+a+"}\n"};
n.jb.maze_student={za:function(){var a=[[G("Maze_student0"),"isStudent0"],[G("Maze_student1"),"isStudent1"],[G("Maze_student2"),"isStudent2"]];this.dc(45);E(Bi(this),new n.Ea(a),"STD");E(Ai(this,"DO"),G("Maze_doCode"));this.dd(G("Maze_ifStdTooltip"));this.ze(!0);this.Kg(!0)}};n.M.maze_student=function(a){var b=xb(a,"STD")+"('block_id_"+a.id+"')";a=Ti(a,"DO");return"if ("+b+") {\n"+a+"}\n"};var lk={};function mk(){throw Error("Do not instantiate directly");}mk.prototype.Mq=null;mk.prototype.rh=function(){return this.content};mk.prototype.toString=function(){return this.content};mk.prototype.yp=function(){if(this.rv!==lk)throw Error("Sanitized content was not of kind HTML.");return td(this.toString(),this.Mq||null)};function nk(a){if(null!=a)switch(a.Mq){case 1:return 1;case -1:return-1;case 0:return 0}return null}function ok(){mk.call(this)}h(ok,mk);ok.prototype.rv=lk;function pk(a){return null!=a&&a.rv===lk?a:qk(String(String(a)).replace(rk,sk),nk(a))}
var qk=function(a){function b(){}b.prototype=a.prototype;return function(d,e){var f=new b;f.content=String(d);void 0!==e&&(f.Mq=e);return f}}(ok),tk={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function sk(a){return tk[a]}var rk=/[\x00\x22\x26\x27\x3c\x3e]/g;function uk(){for(var a='<div style="display: none"><span id="Games_maze">Maze</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2"> You solved this level with %1 lines of JavaScript:</span><span id="Games_linesOfCode3"> ...and using %1 lines of JavaScript:</span><span id="Games_execTime"> You solved this level in %2 execution time!</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Congratulations for completing this challenge.</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Maze_moveForward">move forward</span><span id="Maze_turnLeft">turn left</span><span id="Maze_turnRight">turn right</span><span id="Maze_doCode">do</span><span id="Maze_elseCode">else</span><span id="Maze_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Maze_pathAhead">if path ahead</span><span id="Maze_pathLeft">if path to the left</span><span id="Maze_pathRight">if path to the right</span><span id="Maze_repeatUntil">repeat until</span><span id="Maze_moveForwardTooltip">Moves the player forward one space.</span><span id="Maze_turnTooltip">Turns the player left or right by 90 degrees.</span><span id="Maze_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Maze_ifelseTooltip">If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Maze_whileTooltip">Repeat the enclosed actions until finish point is reached.</span><span id="Maze_capacity0">You have %0 blocks left.</span><span id="Maze_capacity1">You have %1 block left.</span><span id="Maze_capacity2">You have %2 blocks left.</span><span id="Maze_2activitiesComplete">== 2</span><span id="Maze_4activitiesComplete">== 4</span><span id="Maze_booksZero">== 0</span><span id="Maze_booksZeroPar">== 0 in parallel</span><span id="Maze_student0">student 1</span><span id="Maze_student1">student 2</span><span id="Maze_student2">student 3</span><span id="Maze_repeatTaskUntil">repeat until</span><span id="Maze_time">Time: %2</span><span id="Maze_whileBooksTooltip">Repeat the enclosed actions until return all books to library.</span><span id="Maze_whileBooksTooltipPar">Repeat the enclosed actions in parallel until return all books to library.</span><span id="Maze_whileAct4Tooltip">Repeat the enclosed commands until the student complete all the 4 activities to attend the class</span><span id="Maze_whileAct2Tooltip">Repeat the enclosed commands until the student complete all the 2 activities to attend the class</span><span id="Maze_ifStdTooltip">Do the actions related with the student selected.</span><span id="Maze_help1Student">The student block will set the action of the student.</span><span id="Maze_help2Students">The student block will set the action to a specific student.</span><span id="Maze_helpBooks">This block will execute both students in parallel.</span><span id="Games_dialogStart">Start</span></div><div class="header"><a id="back" href="index.html" class="logo"><img id="banner" src="static/img/index/blocklypar0.png" width="70" alt="Blockly Games"></a>&nbsp<td><a><h1><span id="title">'+
(pk({appName:"Introduction to Parallelism"}.appName)+"</span><center>"),b="&skin="+pk(0),d=" &nbsp; ",e=1;5>e;e++)d+=" "+(e==F?'<a class="level_number level_done" id="level'+pk(e)+'">'+pk(e)+"</a>":4==e?'<a class="level_number" id="level'+pk(e)+'" href="?lang='+pk(Xj)+"&level="+pk(e)+pk(b)+'">'+pk(e)+"</a>":'<a class="level_dot" id="level'+pk(e)+'" href="?lang='+pk(Xj)+"&level="+pk(e)+pk(b)+'"></a>');return a+d+'</center></h1></a></td><div class="nav-spacer"></div></div>&nbsp<div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze" width="400px" height="400px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg></div><table width="400"><tr><div class=\'parent\'><div align=\'left\' class=\'child inline-block-child\' id="counter"></div><div align=\'center\' class=\'child inline-block-child\' id="number"></div><div align=\'center\' class=\'child inline-block-child\' id="timeBubble"> <div id="time"></div> </div><div align=\'right\' class=\'child inline-block-child\' id="capacityBubble"> <div id="capacity"></div> </div></div><td style="width: 220px; text-align: right; vertical-align: top;"><td><button id="runButton" class="primary" title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Put the player back at the start of the maze."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" style="display: none;" xmlns="https://developers.google.com/blockly/xml"><block type="maze_moveForward"></block><block type="maze_turn"><field name="DIR">turnLeft</field></block><block type="maze_turn"><field name="DIR">turnRight</field></block>'+
((1==F?'<block type="maze_forever_books"></block><block type="maze_1student"><field name="STD">isStudent0</field></block>':"")+(1<F?'<block type="maze_forever_booksPar"></block>'+(2==F||3==F?'<block type="maze_2students"><field name="STD">isStudent0</field></block>':4==F?'<block type="maze_student"><field name="STD">isStudent0</field></block>':""):"")+'<block type="maze_if"><field name="DIR">isPathRight</field></block><block type="maze_ifElse"></block></xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>CONGRATULATIONS!</center></h3></div><div id="dialogRunText" style="font-size: large; margin: 1em;"></div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div><div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div></div>')+
(1==F?'<div id="dialog1Intro" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>LEVEL 1</center></h3></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;">The student has to return 4 books to the library.<table><tr><td><img class="img-responsive" src="static/img/games/parallel/level1.png"></td><td><div style="font-size: large; margin: 0.7em;">Empty the list of books by orienting the student to reach the libray.</div><div style="font-size: large; margin: 0.7em;">Remember of using the <b>student block</b>!</div></td></table><button id="playStart" class="secondary">Ok</button></div></div>':
2==F?'<div id="dialog2Intro" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>LEVEL 2</center></h3></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;">Another student came to help!<table><tr><td><div style="font-size: large; margin: 1em;">Use both students to return the books at the same time, in <b>parallel</b>.</div></td><td><img src="static/img/games/parallel/level2.png"></td></tr></table><button id="playStart" class="secondary">Ok</button></div></div><div id="dialogHelp2Students" class="dialogHiddenContent">Now you can switch between the 2 students available for the task.</div><div id="dialogHelpBooks" class="dialogHiddenContent"><table><tr><td><img src="static/img/games/parallel/down.png"></td><td colspan="2">This block allows you to move both students at the same time, in parallel.</td></tr></table></div>':
3==F?'<div id="dialog3Intro" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>LEVEL 3</center></h3></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;">The students have to return 8 books now.<table><tr><td><img src="static/img/games/parallel/level3.png"></td><td><div style="font-size: large; margin: 1em;">Pay attention in the execution time spent in this level using both students.<div></td></tr></table><button id="playStart" class="secondary">Ok</button></div></div>':
4==F?'<div id="dialog4Intro" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;"><center><h3>LEVEL 4</center></h3></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0; text-align: center;">Now we have 3 students to return the 8 books.<div style="font-size: large; margin: 1.5em;">Let\'s see the <b>execution time</b> compared with 2 students used before.<div><button id="playStart" class="secondary">Ok</button></div></div><div id="dialogHelpBooks" class="dialogHiddenContent">Try to use all the students to perform the task to see what happens!</div>':
"")};function vk(a,b,d){var e=J;this.id=a;this.locked=!1;this.time=this.active=0;this.o={x:b,y:d};this.F=e;this.reset(this.F,this.o.x,this.o.y)}vk.prototype.reset=function(a,b,d){this.locked=!1;this.o={x:b,y:d};this.F=a};var wk=[],K=[],L,M=[],O=[],P=[],Q,xk=[],yk,zk,Ak=null;
function Bk(a){function b(p,r){return 0>p||p>=Ck||0>r||r>=Dk?"0":R[r][p]==Ek?"0":"1"}var d=document.createElementNS(n.g.j.aa,"image");d.setAttributeNS(n.g.j.ta,"xlink:href","maze/library.png");d.setAttribute("height",Fk);d.setAttribute("width",Gk);d.setAttribute("x",0);d.setAttribute("y",0);a.appendChild(d);for(var e=0,f=0;f<Dk;f++)for(var g=0;g<Ck;g++){var k=b(g,f)+b(g,f-1)+b(g+1,f)+b(g,f+1)+b(g-1,f);Hk[k]||(k="00000"==k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));var l=Hk[k][0];
k=Hk[k][1];d=document.createElementNS(n.g.j.aa,"clipPath");d.id="tileClipPath"+e;var m=document.createElementNS(n.g.j.aa,"rect");m.setAttribute("width",S);m.setAttribute("height",S);m.setAttribute("x",g*S);m.setAttribute("y",f*S);d.appendChild(m);a.appendChild(d);d=document.createElementNS(n.g.j.aa,"image");d.setAttributeNS(n.g.j.ta,"xlink:href","maze/tiles_ufsm.png");d.setAttribute("height",4*S);d.setAttribute("width",5*S);d.setAttribute("clip-path","url(#tileClipPath"+e+")");d.setAttribute("x",
(g-l)*S);d.setAttribute("y",(f-k)*S);a.appendChild(d);e++}for(f=a=0;f<Dk;f++)for(g=0;g<Ck;g++)R[f][g]==Ik?(K[a]={x:g,y:f},e=new vk(a,g,f),M.push(e),a++):R[f][g]==Jk&&(L={x:g,y:f});f=0;for(g=1.1;5.1>g;g++)wk[f++]={x:.6,y:g};Ak=M[0];document.getElementById("number")}
function Kk(){Q=4;for(var a=document.getElementById("svgMaze"),b=[],d=0;d<Q;d++)b[d]=document.createElementNS(n.g.j.aa,"image"),b[d].id="book".concat(d.toString()),b[d].setAttributeNS(n.g.j.ta,"xlink:href","maze/book.png"),b[d].setAttribute("height",50),b[d].setAttribute("width",45),a.appendChild(b[d]),b[d].setAttribute("x",S*(wk[d].x+.5)-b[d].getAttribute("width")/2),b[d].setAttribute("y",S*(wk[d].y+.6)-b[d].getAttribute("height"));b=[];for(d=0;d<=Q;d++)b[d]=document.createElementNS(n.g.j.aa,"image"),
b[d].id="booksCounter".concat(d.toString()),b[d].setAttributeNS(n.g.j.ta,"xlink:href","maze/books/".concat(d.toString()).concat(".png")),b[d].setAttribute("height",60),b[d].setAttribute("width",80),b[d].setAttribute("x",.1*S-b[d].getAttribute("width")/2+35),b[d].setAttribute("y",8*S-b[d].getAttribute("height")+10),a.appendChild(b[d])}
function Lk(a){for(var b=0;b<O.length;b++)window.clearTimeout(O[b]);O=[];M[0].reset(J,K[M[0].id].x,K[M[0].id].y);zk=yk=M[0].time=0;xk=[];a?(M[0].F++,O.push(setTimeout(function(){U=100;Mk([M[0].o.x,M[0].o.y,4*M[0].F],[M[0].o.x,M[0].o.y,4*M[0].F-4],M[0].id);M[0].F++},4*U))):Nk(0,M[0].o.x,M[0].o.y,4*J);a=document.getElementById("finish");a.setAttribute("x",S*(L.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",S*(L.y+.6)-a.getAttribute("height"))}
function Ok(a){var b=P.shift();if(b){"student0"==b[0]&&(a=1);switch(a){case 1:xk.push(b);break;case 0:P=[];Lk(!0);Pk();return}Ok(a)}else I.Ve(null),Pk()}
function Qk(){var a=xk[yk++];if(a){if(a){var b=M[0];I.Ve(a[1]);switch(a[0]){case "north":Mk([b.o.x,b.o.y,4*b.F],[b.o.x,b.o.y-1,4*b.F],b.id);b.o.y--;b.time++;break;case "east":Mk([b.o.x,b.o.y,4*b.F],[b.o.x+1,b.o.y,4*b.F],b.id);b.o.x++;b.time++;break;case "south":Mk([b.o.x,b.o.y,4*b.F],[b.o.x,b.o.y+1,4*b.F],b.id);b.o.y++;b.time++;break;case "west":Mk([b.o.x,b.o.y,4*b.F],[b.o.x-1,b.o.y,4*b.F],b.id);b.o.x--;b.time++;break;case "look_north":b.time+=.5;break;case "look_east":b.time+=.5;break;case "look_south":b.time+=
.5;break;case "look_west":b.time+=.5;break;case "fail_forward":Rk(!0,b);break;case "fail_backward":Rk(!1,b);break;case "left":Mk([b.o.x,b.o.y,4*b.F],[b.o.x,b.o.y,4*b.F-4],b.id);b.F=V(b.F-1);b.time++;break;case "right":Mk([b.o.x,b.o.y,4*b.F],[b.o.x,b.o.y,4*b.F+4],b.id);b.F=V(b.F+1);b.time++;break;case "finish":I.Qh(),setTimeout(H.ih,1E3)}}Sk(M[0].time);O.push(setTimeout(Qk,4*U))}else I.Ve(null),Pk()}
function Tk(a,b){var d=function(e){Uk(0,e)};a.setProperty(b,"moveForward",a.createNativeFunction(d));d=function(e){Uk(2,e)};a.setProperty(b,"moveBackward",a.createNativeFunction(d));d=function(e){Vk(0,e)};a.setProperty(b,"turnLeft",a.createNativeFunction(d));d=function(e){Vk(1,e)};a.setProperty(b,"turnRight",a.createNativeFunction(d));d=function(e){return Wk(0,e,Ak)};a.setProperty(b,"isPathForward",a.createNativeFunction(d));d=function(e){e&&(Ak=M[0],P.push(["student0",e]));return!0};a.setProperty(b,
"isStudent0",a.createNativeFunction(d));d=function(e){return Wk(1,e,Ak)};a.setProperty(b,"isPathRight",a.createNativeFunction(d));d=function(e){return Wk(2,e,Ak)};a.setProperty(b,"isPathBackward",a.createNativeFunction(d));d=function(e){return Wk(3,e,Ak)};a.setProperty(b,"isPathLeft",a.createNativeFunction(d));a.setProperty(b,"notDone",a.createNativeFunction(function(){return 0!=Q}));a.setProperty(b,"booksZero",a.createNativeFunction(function(){return Ak.o.x==L.x&&L.y==Ak.o.y?!0:!1}))}
function Uk(a,b){var d=Ak;if(Wk(a,null,d)){switch(V(d.F+a)){case Xk:d.o.y--;var e="north";break;case J:d.o.x++;e="east";break;case Yk:d.o.y++;e="south";break;case Zk:d.o.x--,e="west"}P.push([e,b])}else P.push(["fail_"+(a?"backward":"forward"),b])}function Vk(a,b){var d=Ak;a?(d.F++,P.push(["right",b])):(d.F--,P.push(["left",b]));d.F=V(d.F)}
function Wk(a,b,d){switch(V(d.F+a)){case Xk:var e=R[d.o.y-1]&&R[d.o.y-1][d.o.x];var f="look_north";break;case J:e=R[d.o.y][d.o.x+1];f="look_east";break;case Yk:e=R[d.o.y+1]&&R[d.o.y+1][d.o.x];f="look_south";break;case Zk:e=R[d.o.y][d.o.x-1],f="look_west"}b&&P.push([f,b]);return e!==Ek&&void 0!==e}
function Mk(a,b,d){var e=[(b[0]-a[0])/4,(b[1]-a[1])/4,(b[2]-a[2])/4];O.push(setTimeout(function(){Nk(d,a[0]+e[0],a[1]+e[1],W(a[2]+e[2]))},U));O.push(setTimeout(function(){Nk(d,a[0]+2*e[0],a[1]+2*e[1],W(a[2]+2*e[2]))},U));O.push(setTimeout(function(){Nk(d,a[0]+3*e[0],a[1]+3*e[1],W(a[2]+3*e[2]))},2*U));O.push(setTimeout(function(){Nk(d,b[0],b[1],W(b[2]))},3*U))}
function Rk(a,b){var d=0,e=0;switch(b.F){case Xk:e=-1;break;case J:d=1;break;case Yk:e=1;break;case Zk:d=-1}a||(d=-d,e=-e);d/=4;e/=4;var f=W(4*b.F);Nk(b.id,b.o.x+d,b.o.y+e,f);D.wb.play("fail",.5);O.push(setTimeout(function(){Nk(b.id,b.o.x,b.o.y,f)},U));O.push(setTimeout(function(){Nk(b.id,b.o.x+d,b.o.y+e,f);D.wb.play("fail",.5)},2*U));O.push(setTimeout(function(){Nk(b.id,b.o.x,b.o.y,f)},3*U))}
function Nk(a,b,d,e){var f=document.getElementById("estudante0");f.setAttribute("x",b*S-e*X+1);f.setAttribute("y",S*(d+.5)-Y/2-8);f.setAttribute("transform","rotate(0, 0, 0)");e=document.getElementById("clipRect0");e.setAttribute("x",b*S+1);e.setAttribute("y",f.getAttribute("y"));if(b==L.x&&L.y==d){Q--;b=document.getElementById("svgMaze");d=document;f=d.getElementById("book".concat(Q.toString()));b.removeChild(f);d=d.getElementById("booksCounter".concat((Q+1).toString()));b.removeChild(d);for(b=0;b<
O.length;b++)window.clearTimeout(O[b]);O=[];M[a].reset(J,K[a].x,K[a].y);Nk(a,M[a].o.x,M[a].o.y,4*J);yk=0;"Interpreter"in window?(Z=0!=Q?$k:al,Z==al?(I.Qh(),bl(),Sk(0),D.wb.play("win",.5),setTimeout(H.ih,1E3)):O.push(setTimeout(Qk,100))):setTimeout(cl,250)}};wk=[];K=[];M=[];O=[];P=[];xk=[];var dl=[],el,fl=[],gl=null;
function hl(a){function b(p,r){return 0>p||p>=Ck||0>r||r>=Dk?"0":R[r][p]==Ek?"0":"1"}var d=document.createElementNS(n.g.j.aa,"image");d.setAttributeNS(n.g.j.ta,"xlink:href","maze/library.png");d.setAttribute("height",Fk);d.setAttribute("width",Gk);d.setAttribute("x",0);d.setAttribute("y",0);a.appendChild(d);for(var e=0,f=0;f<Dk;f++)for(var g=0;g<Ck;g++){var k=b(g,f)+b(g,f-1)+b(g+1,f)+b(g,f+1)+b(g-1,f);Hk[k]||(k="00000"==k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));var l=Hk[k][0];
k=Hk[k][1];d=document.createElementNS(n.g.j.aa,"clipPath");d.id="tileClipPath"+e;var m=document.createElementNS(n.g.j.aa,"rect");m.setAttribute("width",S);m.setAttribute("height",S);m.setAttribute("x",g*S);m.setAttribute("y",f*S);d.appendChild(m);a.appendChild(d);d=document.createElementNS(n.g.j.aa,"image");d.setAttributeNS(n.g.j.ta,"xlink:href","maze/tiles_ufsm.png");d.setAttribute("height",4*S);d.setAttribute("width",5*S);d.setAttribute("clip-path","url(#tileClipPath"+e+")");d.setAttribute("x",
(g-l)*S);d.setAttribute("y",(f-k)*S);a.appendChild(d);e++}for(f=a=0;f<Dk;f++)for(g=0;g<Ck;g++)R[f][g]==Ik?(K[a]={x:g,y:f},e=new vk(a,g,f),M.push(e),a++):R[f][g]==Jk&&(L={x:g,y:f});f=0;for(g=1.1;5.1>g;g++)wk[f++]={x:.6,y:g};Q=4;gl=M[0];document.getElementById("number")}
function il(){Q=4;for(var a=document.getElementById("svgMaze"),b=[],d=0;d<Q;d++)b[d]=document.createElementNS(n.g.j.aa,"image"),b[d].id="book".concat(d.toString()),b[d].setAttributeNS(n.g.j.ta,"xlink:href","maze/book.png"),b[d].setAttribute("height",50),b[d].setAttribute("width",45),a.appendChild(b[d]),b[d].setAttribute("x",S*(wk[d].x+.5)-b[d].getAttribute("width")/2),b[d].setAttribute("y",S*(wk[d].y+.6)-b[d].getAttribute("height"));b=[];for(d=0;d<=Q;d++)b[d]=document.createElementNS(n.g.j.aa,"image"),
b[d].id="booksCounter".concat(d.toString()),b[d].setAttributeNS(n.g.j.ta,"xlink:href","maze/books/".concat(d.toString()).concat(".png")),b[d].setAttribute("height",60),b[d].setAttribute("width",80),b[d].setAttribute("x",.1*S-b[d].getAttribute("width")/2+35),b[d].setAttribute("y",8*S-b[d].getAttribute("height")+10),a.appendChild(b[d]);M[0].time=0;M[1].time=0}
function jl(a){for(var b=0;b<O.length;b++)window.clearTimeout(O[b]);O=[];M[0].reset(J,K[M[0].id].x,K[M[0].id].y);M[1].reset(J,K[M[1].id].x,K[M[1].id].y);M[0].time=0;zk=el=yk=M[1].time=0;xk=[];dl=[];fl=[];a?(M[0].F++,O.push(setTimeout(function(){kl([M[0].o.x,M[0].o.y,4*M[0].F],[M[0].o.x,M[0].o.y,4*M[0].F-4],M[0].id);M[0].F++},4*U)),M[1].F++,O.push(setTimeout(function(){kl([M[1].o.x,M[1].o.y,4*M[1].F],[M[1].o.x,M[1].o.y,4*M[1].F-4],M[1].id);M[1].F++},4*U))):(ll(0,M[0].o.x,M[0].o.y,4*J),ll(1,M[1].o.x,
M[1].o.y,4*J));a=document.getElementById("finish");a.setAttribute("x",S*(L.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",S*(L.y+.6)-a.getAttribute("height"))}function ml(a){var b=P.shift();if(b){"student0"==b[0]?a=1:"student1"==b[0]&&(a=2);switch(a){case 1:xk.push(b);break;case 2:dl.push(b);break;default:fl.push(b)}ml(a)}else I.Ve(null),Pk()}
function nl(){var a=xk[++yk],b=dl[++el];fl[zk]?zk++:(a&&(gl=M[0],ol(M[0],a)),b&&(gl=M[1],ol(M[1],b)),a&&b?Sk(((M[0].time+M[1].time)/2).toFixed(2)):a?b||Sk(M[0].time):Sk(M[1].time),O.push(setTimeout(nl,4*U)))}
function ol(a,b){I.Ve(b[1]);switch(b[0]){case "north":kl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y-1,4*a.F],a.id);a.o.y--;a.time++;break;case "east":kl([a.o.x,a.o.y,4*a.F],[a.o.x+1,a.o.y,4*a.F],a.id);a.o.x++;a.time++;break;case "south":kl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y+1,4*a.F],a.id);a.o.y++;a.time++;break;case "west":kl([a.o.x,a.o.y,4*a.F],[a.o.x-1,a.o.y,4*a.F],a.id);a.o.x--;a.time++;break;case "look_north":a.time+=.5;break;case "look_east":a.time+=.5;break;case "look_south":a.time+=.5;break;case "look_west":a.time+=
.5;break;case "fail_forward":pl(!0,a);break;case "fail_backward":pl(!1,a);break;case "left":kl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y,4*a.F-4],a.id);a.F=V(a.F-1);a.time++;break;case "right":kl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y,4*a.F+4],a.id);a.F=V(a.F+1);a.time++;break;case "finish":I.Qh(),setTimeout(H.ih,1E3)}}
function ql(a,b){var d=function(e){rl(0,e)};a.setProperty(b,"moveForward",a.createNativeFunction(d));d=function(e){rl(2,e)};a.setProperty(b,"moveBackward",a.createNativeFunction(d));d=function(e){sl(0,e)};a.setProperty(b,"turnLeft",a.createNativeFunction(d));d=function(e){sl(1,e)};a.setProperty(b,"turnRight",a.createNativeFunction(d));d=function(e){return tl(0,e,gl)};a.setProperty(b,"isPathForward",a.createNativeFunction(d));d=function(e){return ul(0,e)};a.setProperty(b,"isStudent0",a.createNativeFunction(d));
d=function(e){return ul(1,e)};a.setProperty(b,"isStudent1",a.createNativeFunction(d));d=function(e){return ul(2,e)};a.setProperty(b,"isStudent2",a.createNativeFunction(d));d=function(e){return tl(1,e,gl)};a.setProperty(b,"isPathRight",a.createNativeFunction(d));d=function(e){return tl(2,e,gl)};a.setProperty(b,"isPathBackward",a.createNativeFunction(d));d=function(e){return tl(3,e,gl)};a.setProperty(b,"isPathLeft",a.createNativeFunction(d));a.setProperty(b,"notDone",a.createNativeFunction(function(){return 0!=
Q}));a.setProperty(b,"booksZero",a.createNativeFunction(function(){return gl.o.x==L.x&&L.y==gl.o.y?!0:!1}))}function rl(a,b){var d=gl;if(tl(a,null,d)){switch(V(d.F+a)){case Xk:d.o.y--;var e="north";break;case J:d.o.x++;e="east";break;case Yk:d.o.y++;e="south";break;case Zk:d.o.x--,e="west"}P.push([e,b])}else P.push(["fail_"+(a?"backward":"forward"),b])}function sl(a,b){var d=gl;a?(d.F++,P.push(["right",b])):(d.F--,P.push(["left",b]));d.F=V(d.F)}
function tl(a,b,d){switch(V(d.F+a)){case Xk:var e=R[d.o.y-1]&&R[d.o.y-1][d.o.x];var f="look_north";break;case J:e=R[d.o.y][d.o.x+1];f="look_east";break;case Yk:e=R[d.o.y+1]&&R[d.o.y+1][d.o.x];f="look_south";break;case Zk:e=R[d.o.y][d.o.x-1],f="look_west"}b&&P.push([f,b]);return e!==Ek&&void 0!==e}function ul(a,b){switch(a){case 0:var d="student0";gl=M[0];break;case 1:d="student1",gl=M[1]}b&&P.push([d,b]);return void 0==d?!1:!0}
function kl(a,b,d){var e=[(b[0]-a[0])/4,(b[1]-a[1])/4,(b[2]-a[2])/4];O.push(setTimeout(function(){ll(d,a[0]+e[0],a[1]+e[1],W(a[2]+e[2]))},U));O.push(setTimeout(function(){ll(d,a[0]+2*e[0],a[1]+2*e[1],W(a[2]+2*e[2]))},U));O.push(setTimeout(function(){ll(d,a[0]+3*e[0],a[1]+3*e[1],W(a[2]+3*e[2]))},2*U));O.push(setTimeout(function(){ll(d,b[0],b[1],W(b[2]))},3*U))}
function pl(a,b){var d=0,e=0;switch(b.F){case Xk:e=-1;break;case J:d=1;break;case Yk:e=1;break;case Zk:d=-1}a||(d=-d,e=-e);d/=4;e/=4;var f=W(4*b.F);ll(b.id,b.o.x+d,b.o.y+e,f);D.wb.play("fail",.5);O.push(setTimeout(function(){ll(b.id,b.o.x,b.o.y,f)},U));O.push(setTimeout(function(){ll(b.id,b.o.x+d,b.o.y+e,f);D.wb.play("fail",.5)},2*U));O.push(setTimeout(function(){ll(b.id,b.o.x,b.o.y,f)},3*U))}
function ll(a,b,d,e){var f=document.getElementById("estudante".concat(a.toString()));f.setAttribute("x",b*S-e*X+1);f.setAttribute("y",S*(d+.5)-Y/2-8);f.setAttribute("transform","rotate(0, 0, 0)");e=document.getElementById("clipRect".concat(a.toString()));e.setAttribute("x",b*S+1);e.setAttribute("y",f.getAttribute("y"));f=document.getElementById("svgMaze");if(b==L.x&&L.y==d){Q--;if(0==a)if(yk=0,M[0].reset(J,K[M[0].id].x,K[M[0].id].y),ll(0,M[0].o.x,M[0].o.y,4*J),0==dl.length){for(a=0;a<O.length;a++)window.clearTimeout(O[a]);
O=[]}else for(a=0;a<O.length-4;a++)window.clearTimeout(O[a]);else if(1==a){el=0;M[1].reset(J,K[M[1].id].x,K[M[1].id].y);ll(1,M[1].o.x,M[1].o.y,4*J);for(a=0;a<O.length;a++)window.clearTimeout(O[a]);O=[]}a=document;b=a.getElementById("book".concat(Q.toString()));f.removeChild(b);a=a.getElementById("booksCounter".concat((Q+1).toString()));f.removeChild(a);if("Interpreter"in window)if(Z=0!=Q?$k:al,Z==al){for(f=0;f<O.length;f++)window.clearTimeout(O[f]);O=[];D.wb.play("win",.5);I.Qh();bl();Sk(0);setTimeout(H.ih,
1E3)}else O.push(setTimeout(nl,150));else setTimeout(cl,250)}};wk=[];K=[];M=[];O=[];P=[];xk=[];dl=[];fl=[];var vl=["estudante0","estudante1"],wl=["clipRect0","clipRect1"],xl=null,jk="maze/marker.png",kk="maze/book.png";
function yl(a){function b(p,r){return 0>p||p>=Ck||0>r||r>=Dk?"0":R[r][p]==Ek?"0":"1"}var d=document.createElementNS(n.g.j.aa,"image");d.setAttributeNS(n.g.j.ta,"xlink:href","maze/library.png");d.setAttribute("height",Fk);d.setAttribute("width",Gk);d.setAttribute("x",0);d.setAttribute("y",0);a.appendChild(d);for(var e=0,f=0;f<Dk;f++)for(var g=0;g<Ck;g++){var k=b(g,f)+b(g,f-1)+b(g+1,f)+b(g,f+1)+b(g-1,f);Hk[k]||(k="00000"==k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));var l=Hk[k][0];
k=Hk[k][1];d=document.createElementNS(n.g.j.aa,"clipPath");d.id="tileClipPath"+e;var m=document.createElementNS(n.g.j.aa,"rect");m.setAttribute("width",S);m.setAttribute("height",S);m.setAttribute("x",g*S);m.setAttribute("y",f*S);d.appendChild(m);a.appendChild(d);d=document.createElementNS(n.g.j.aa,"image");d.setAttributeNS(n.g.j.ta,"xlink:href","maze/tiles_ufsm.png");d.setAttribute("height",4*S);d.setAttribute("width",5*S);d.setAttribute("clip-path","url(#tileClipPath"+e+")");d.setAttribute("x",
(g-l)*S);d.setAttribute("y",(f-k)*S);a.appendChild(d);e++}for(f=a=0;f<Dk;f++)for(g=0;g<Ck;g++)R[f][g]==Ik?(K[a]={x:g,y:f},e=new vk(a,g,f),M.push(e),a++):R[f][g]==Jk&&(L={x:g,y:f});f=0;for(g=.9;10.9>g;g++)wk[f++]={x:.6,y:g/1.3};xl=M[0];document.getElementById("number")}
function zl(){Q=8;for(var a=document.getElementById("svgMaze"),b=[],d=0;d<Q;d++)b[d]=document.createElementNS(n.g.j.aa,"image"),b[d].id="book".concat(d.toString()),b[d].setAttributeNS(n.g.j.ta,"xlink:href",kk),b[d].setAttribute("height",50),b[d].setAttribute("width",45),a.appendChild(b[d]),b[d].setAttribute("x",S*(wk[d].x+.5)-b[d].getAttribute("width")/2),b[d].setAttribute("y",S*(wk[d].y+.6)-b[d].getAttribute("height"));b=[];for(d=0;d<=Q;d++)b[d]=document.createElementNS(n.g.j.aa,"image"),b[d].id=
"booksCounter".concat(d.toString()),b[d].setAttributeNS(n.g.j.ta,"xlink:href","maze/books/".concat(d.toString()).concat(".png")),b[d].setAttribute("height",60),b[d].setAttribute("width",80),b[d].setAttribute("x",.1*S-b[d].getAttribute("width")/2+35),b[d].setAttribute("y",8*S-b[d].getAttribute("height")+10),a.appendChild(b[d]);M[0].time=0;M[1].time=0}
function Al(a){for(var b=0;b<O.length;b++)window.clearTimeout(O[b]);O=[];M[0].reset(J,K[M[0].id].x,K[M[0].id].y);M[1].reset(J,K[M[1].id].x,K[M[1].id].y);zk=el=yk=0;xk=[];dl=[];fl=[];a?(M[0].F++,O.push(setTimeout(function(){Bl([M[0].o.x,M[0].o.y,4*M[0].F],[M[0].o.x,M[0].o.y,4*M[0].F-4],M[0].id);M[0].F++},4*U)),M[1].F++,O.push(setTimeout(function(){Bl([M[1].o.x,M[1].o.y,4*M[1].F],[M[1].o.x,M[1].o.y,4*M[1].F-4],M[1].id);M[1].F++},4*U))):(Cl(0,M[0].o.x,M[0].o.y,4*J),Cl(1,M[1].o.x,M[1].o.y,4*J));a=document.getElementById("finish");
a.setAttribute("x",S*(L.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",S*(L.y+.6)-a.getAttribute("height"))}function Dl(a){var b=P.shift();if(b){"student0"==b[0]?a=1:"student1"==b[0]&&(a=2);switch(a){case 1:xk.push(b);break;case 2:dl.push(b);break;default:fl.push(b)}Dl(a)}else I.Ve(null),Pk()}function El(){var a=xk[++yk],b=dl[++el];a&&Fl(M[0],a);b&&Fl(M[1],b);a&&b?Sk(((M[0].time+M[1].time)/2).toFixed(2)):a?b||Sk(M[0].time):Sk(M[1].time);O.push(setTimeout(El,4*U))}
function Fl(a,b){I.Ve(b[1]);switch(b[0]){case "north":Bl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y-1,4*a.F],a.id);a.o.y--;a.time++;break;case "east":Bl([a.o.x,a.o.y,4*a.F],[a.o.x+1,a.o.y,4*a.F],a.id);a.o.x++;a.time++;break;case "south":Bl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y+1,4*a.F],a.id);a.o.y++;a.time++;break;case "west":Bl([a.o.x,a.o.y,4*a.F],[a.o.x-1,a.o.y,4*a.F],a.id);a.o.x--;a.time++;break;case "look_north":a.time+=.5;break;case "look_east":a.time+=.5;break;case "look_south":a.time+=.5;break;case "look_west":a.time+=
.5;break;case "fail_forward":Gl(!0,a);break;case "fail_backward":Gl(!1,a);break;case "left":Bl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y,4*a.F-4],a.id);a.F=V(a.F-1);a.time++;break;case "right":Bl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y,4*a.F+4],a.id);a.F=V(a.F+1);a.time++;break;case "finish":I.Qh(),setTimeout(H.ih,1E3)}}
function Hl(a,b){var d=function(e){Il(0,e)};a.setProperty(b,"moveForward",a.createNativeFunction(d));d=function(e){Il(2,e)};a.setProperty(b,"moveBackward",a.createNativeFunction(d));d=function(e){Jl(0,e)};a.setProperty(b,"turnLeft",a.createNativeFunction(d));d=function(e){Jl(1,e)};a.setProperty(b,"turnRight",a.createNativeFunction(d));d=function(e){return Kl(0,e,xl)};a.setProperty(b,"isPathForward",a.createNativeFunction(d));d=function(e){return Ll(0,e)};a.setProperty(b,"isStudent0",a.createNativeFunction(d));
d=function(e){return Ll(1,e)};a.setProperty(b,"isStudent1",a.createNativeFunction(d));d=function(e){return Kl(1,e,xl)};a.setProperty(b,"isPathRight",a.createNativeFunction(d));d=function(e){return Kl(2,e,xl)};a.setProperty(b,"isPathBackward",a.createNativeFunction(d));d=function(e){return Kl(3,e,xl)};a.setProperty(b,"isPathLeft",a.createNativeFunction(d));a.setProperty(b,"notDone",a.createNativeFunction(function(){return 0!=Q}));a.setProperty(b,"booksZero",a.createNativeFunction(function(){return xl.o.x==
L.x&&L.y==xl.o.y?!0:!1}))}function Il(a,b){var d=xl;if(Kl(a,null,d)){switch(V(d.F+a)){case Xk:d.o.y--;var e="north";break;case J:d.o.x++;e="east";break;case Yk:d.o.y++;e="south";break;case Zk:d.o.x--,e="west"}P.push([e,b])}else P.push(["fail_"+(a?"backward":"forward"),b])}function Jl(a,b){var d=xl;a?(d.F++,P.push(["right",b])):(d.F--,P.push(["left",b]));d.F=V(d.F)}
function Kl(a,b,d){switch(V(d.F+a)){case Xk:var e=R[d.o.y-1]&&R[d.o.y-1][d.o.x];var f="look_north";break;case J:e=R[d.o.y][d.o.x+1];f="look_east";break;case Yk:e=R[d.o.y+1]&&R[d.o.y+1][d.o.x];f="look_south";break;case Zk:e=R[d.o.y][d.o.x-1],f="look_west"}b&&P.push([f,b]);return e!==Ek&&void 0!==e}function Ll(a,b){switch(a){case 0:var d="student0";xl=M[0];break;case 1:d="student1",xl=M[1]}b&&P.push([d,b]);return void 0==d?!1:!0}
function Bl(a,b,d){var e=[(b[0]-a[0])/4,(b[1]-a[1])/4,(b[2]-a[2])/4];O.push(setTimeout(function(){Cl(d,a[0]+e[0],a[1]+e[1],W(a[2]+e[2]))},U));O.push(setTimeout(function(){Cl(d,a[0]+2*e[0],a[1]+2*e[1],W(a[2]+2*e[2]))},U));O.push(setTimeout(function(){Cl(d,a[0]+3*e[0],a[1]+3*e[1],W(a[2]+3*e[2]))},2*U));O.push(setTimeout(function(){Cl(d,b[0],b[1],W(b[2]))},3*U))}
function Gl(a,b){var d=0,e=0;switch(b.F){case Xk:e=-1;break;case J:d=1;break;case Yk:e=1;break;case Zk:d=-1}a||(d=-d,e=-e);d/=4;e/=4;var f=W(4*b.F);Cl(b.id,b.o.x+d,b.o.y+e,f);D.wb.play("fail",.5);O.push(setTimeout(function(){Cl(b.id,b.o.x,b.o.y,f)},U));O.push(setTimeout(function(){Cl(b.id,b.o.x+d,b.o.y+e,f);D.wb.play("fail",.5)},2*U));O.push(setTimeout(function(){Cl(b.id,b.o.x,b.o.y,f)},3*U))}
function Cl(a,b,d,e){var f=document.getElementById(vl[a]);f.setAttribute("x",b*S-e*X+1);f.setAttribute("y",S*(d+.5)-Y/2-8);f.setAttribute("transform","rotate(0, 0, 0)");e=document.getElementById(wl[a]);e.setAttribute("x",b*S+1);e.setAttribute("y",f.getAttribute("y"));if(b==L.x&&L.y==d){Q--;b=document.getElementById("svgMaze");for(d=0;d<O.length;d++)window.clearTimeout(O[d]);O=[];M[a].reset(J,K[a].x,K[a].y);Cl(a,M[a].o.x,M[a].o.y,4*J);0==a?yk=0:el=0;a=document;d=a.getElementById("book".concat(Q.toString()));
b.removeChild(d);a=a.getElementById("booksCounter".concat((Q+1).toString()));b.removeChild(a);"Interpreter"in window?(Z=0!=Q?$k:al,Z==al?(I.Qh(),D.wb.play("win",.5),bl(),Sk(0),setTimeout(H.ih,1E3)):O.push(setTimeout(El,150))):setTimeout(cl,250)}};wk=[];K=[];M=[];O=[];P=[];xk=[];dl=[];var Ml=[],Nl;fl=[];var Ol=null;
function Pl(a){function b(p,r){return 0>p||p>=Ck||0>r||r>=Dk?"0":R[r][p]==Ek?"0":"1"}var d=document.createElementNS(n.g.j.aa,"image");d.setAttributeNS(n.g.j.ta,"xlink:href","maze/library.png");d.setAttribute("height",Fk);d.setAttribute("width",Gk);d.setAttribute("x",0);d.setAttribute("y",0);a.appendChild(d);for(var e=0,f=0;f<Dk;f++)for(var g=0;g<Ck;g++){var k=b(g,f)+b(g,f-1)+b(g+1,f)+b(g,f+1)+b(g-1,f);Hk[k]||(k="00000"==k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));var l=Hk[k][0];
k=Hk[k][1];d=document.createElementNS(n.g.j.aa,"clipPath");d.id="tileClipPath"+e;var m=document.createElementNS(n.g.j.aa,"rect");m.setAttribute("width",S);m.setAttribute("height",S);m.setAttribute("x",g*S);m.setAttribute("y",f*S);d.appendChild(m);a.appendChild(d);d=document.createElementNS(n.g.j.aa,"image");d.setAttributeNS(n.g.j.ta,"xlink:href","maze/tiles_ufsm.png");d.setAttribute("height",4*S);d.setAttribute("width",5*S);d.setAttribute("clip-path","url(#tileClipPath"+e+")");d.setAttribute("x",
(g-l)*S);d.setAttribute("y",(f-k)*S);a.appendChild(d);e++}for(f=a=0;f<Dk;f++)for(g=0;g<Ck;g++)R[f][g]==Ik?(K[a]={x:g,y:f},e=new vk(a,g,f),M.push(e),a++):R[f][g]==Jk&&(L={x:g,y:f});f=0;for(g=.9;10.9>g;g++)wk[f++]={x:.6,y:g/1.3};Q=8;Ol=M[0];document.getElementById("number")}
function Ql(){Q=8;for(var a=document.getElementById("svgMaze"),b=[],d=0;d<Q;d++)b[d]=document.createElementNS(n.g.j.aa,"image"),b[d].id="book".concat(d.toString()),b[d].setAttributeNS(n.g.j.ta,"xlink:href","maze/book.png"),b[d].setAttribute("height",50),b[d].setAttribute("width",45),a.appendChild(b[d]),b[d].setAttribute("x",S*(wk[d].x+.5)-b[d].getAttribute("width")/2),b[d].setAttribute("y",S*(wk[d].y+.6)-b[d].getAttribute("height"));b=[];for(d=0;d<=Q;d++)b[d]=document.createElementNS(n.g.j.aa,"image"),
b[d].id="booksCounter".concat(d.toString()),b[d].setAttributeNS(n.g.j.ta,"xlink:href","maze/books/".concat(d.toString()).concat(".png")),b[d].setAttribute("height",60),b[d].setAttribute("width",80),b[d].setAttribute("x",.1*S-b[d].getAttribute("width")/2+35),b[d].setAttribute("y",8*S-b[d].getAttribute("height")+10),a.appendChild(b[d]);M[0].active=0;M[1].active=0;M[2].active=0}
function Rl(a){for(var b=0;b<O.length;b++)window.clearTimeout(O[b]);O=[];M[0].reset(J,K[M[0].id].x,K[M[0].id].y);M[1].reset(J,K[M[1].id].x,K[M[1].id].y);M[2].reset(J,K[M[2].id].x,K[M[2].id].y);M[0].time=0;M[1].time=0;zk=Nl=el=yk=M[2].time=0;xk=[];dl=[];Ml=[];fl=[];a?(M[0].F++,O.push(setTimeout(function(){Sl([M[0].o.x,M[0].o.y,4*M[0].F],[M[0].o.x,M[0].o.y,4*M[0].F-4],M[0].id);M[0].F++},4*U)),M[1].F++,O.push(setTimeout(function(){Sl([M[1].o.x,M[1].o.y,4*M[1].F],[M[1].o.x,M[1].o.y,4*M[1].F-4],M[1].id);
M[1].F++},4*U)),M[2].F++,O.push(setTimeout(function(){Sl([M[2].o.x,M[2].o.y,4*M[2].F],[M[2].o.x,M[2].o.y,4*M[2].F-4],M[2].id);M[2].F++},4*U))):(Tl(0,M[0].o.x,M[0].o.y,4*J),Tl(1,M[1].o.x,M[1].o.y,4*J),Tl(2,M[2].o.x,M[2].o.y,4*J));a=document.getElementById("finish");a.setAttribute("x",S*(L.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",S*(L.y+.6)-a.getAttribute("height"))}
function Ul(a){var b=P.shift();if(b){"student0"==b[0]?a=1:"student1"==b[0]?a=2:"student2"==b[0]&&(a=3);switch(a){case 1:xk.push(b);break;case 2:dl.push(b);break;case 3:Ml.push(b);break;default:fl.push(b)}Ul(a)}else I.Ve(null),Pk()}function Vl(){var a=xk[++yk],b=dl[++el],d=Ml[++Nl];fl[zk]?zk++:(a&&(Ol=M[0],Wl(M[0],a)),b&&(Ol=M[1],Wl(M[1],b)),d&&(Ol=M[2],Wl(M[2],d)),Sk(((M[0].time+M[1].time+M[2].time)/(M[0].active+M[1].active+M[2].active)).toFixed(2)),O.push(setTimeout(Vl,4*U)))}
function Wl(a,b){I.Ve(b[1]);switch(b[0]){case "north":Sl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y-1,4*a.F],a.id);a.o.y--;a.time++;break;case "east":Sl([a.o.x,a.o.y,4*a.F],[a.o.x+1,a.o.y,4*a.F],a.id);a.o.x++;a.time++;break;case "south":Sl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y+1,4*a.F],a.id);a.o.y++;a.time++;break;case "west":Sl([a.o.x,a.o.y,4*a.F],[a.o.x-1,a.o.y,4*a.F],a.id);a.o.x--;a.time++;break;case "look_north":a.time+=.5;break;case "look_east":a.time+=.5;break;case "look_south":a.time+=.5;break;case "look_west":a.time+=
.5;break;case "fail_forward":Xl(!0,a);break;case "fail_backward":Xl(!1,a);break;case "left":Sl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y,4*a.F-4],a.id);a.F=V(a.F-1);a.time++;break;case "right":Sl([a.o.x,a.o.y,4*a.F],[a.o.x,a.o.y,4*a.F+4],a.id);a.F=V(a.F+1);a.time++;break;case "finish":I.Qh(),setTimeout(H.ih,1E3)}}
function Yl(a,b){var d=function(e){Zl(0,e)};a.setProperty(b,"moveForward",a.createNativeFunction(d));d=function(e){Zl(2,e)};a.setProperty(b,"moveBackward",a.createNativeFunction(d));d=function(e){$l(0,e)};a.setProperty(b,"turnLeft",a.createNativeFunction(d));d=function(e){$l(1,e)};a.setProperty(b,"turnRight",a.createNativeFunction(d));d=function(e){return am(0,e,Ol)};a.setProperty(b,"isPathForward",a.createNativeFunction(d));d=function(e){return bm(0,e)};a.setProperty(b,"isStudent0",a.createNativeFunction(d));
d=function(e){return bm(1,e)};a.setProperty(b,"isStudent1",a.createNativeFunction(d));d=function(e){return bm(2,e)};a.setProperty(b,"isStudent2",a.createNativeFunction(d));d=function(e){return am(1,e,Ol)};a.setProperty(b,"isPathRight",a.createNativeFunction(d));d=function(e){return am(2,e,Ol)};a.setProperty(b,"isPathBackward",a.createNativeFunction(d));d=function(e){return am(3,e,Ol)};a.setProperty(b,"isPathLeft",a.createNativeFunction(d));a.setProperty(b,"notDone",a.createNativeFunction(function(){return 0!=
Q}));a.setProperty(b,"booksZero",a.createNativeFunction(function(){return Ol.o.x==L.x&&L.y==Ol.o.y?!0:!1}))}function Zl(a,b){var d=Ol;if(am(a,null,d)){switch(V(d.F+a)){case Xk:d.o.y--;var e="north";break;case J:d.o.x++;e="east";break;case Yk:d.o.y++;e="south";break;case Zk:d.o.x--,e="west"}P.push([e,b])}else P.push(["fail_"+(a?"backward":"forward"),b])}function $l(a,b){var d=Ol;a?(d.F++,P.push(["right",b])):(d.F--,P.push(["left",b]));d.F=V(d.F)}
function am(a,b,d){switch(V(d.F+a)){case Xk:var e=R[d.o.y-1]&&R[d.o.y-1][d.o.x];var f="look_north";break;case J:e=R[d.o.y][d.o.x+1];f="look_east";break;case Yk:e=R[d.o.y+1]&&R[d.o.y+1][d.o.x];f="look_south";break;case Zk:e=R[d.o.y][d.o.x-1],f="look_west"}b&&P.push([f,b]);return e!==Ek&&void 0!==e}
function bm(a,b){switch(a){case 0:var d="student0";Ol=M[0];M[0].active=1;break;case 1:d="student1";Ol=M[1];M[1].active=1;break;case 2:d="student2",Ol=M[2],M[2].active=1}b&&P.push([d,b]);return void 0==d?!1:!0}
function Sl(a,b,d){var e=[(b[0]-a[0])/4,(b[1]-a[1])/4,(b[2]-a[2])/4];O.push(setTimeout(function(){Tl(d,a[0]+e[0],a[1]+e[1],W(a[2]+e[2]))},U));O.push(setTimeout(function(){Tl(d,a[0]+2*e[0],a[1]+2*e[1],W(a[2]+2*e[2]))},U));O.push(setTimeout(function(){Tl(d,a[0]+3*e[0],a[1]+3*e[1],W(a[2]+3*e[2]))},2*U));O.push(setTimeout(function(){Tl(d,b[0],b[1],W(b[2]))},3*U))}
function Xl(a,b){var d=0,e=0;switch(b.F){case Xk:e=-1;break;case J:d=1;break;case Yk:e=1;break;case Zk:d=-1}a||(d=-d,e=-e);d/=4;e/=4;var f=W(4*b.F);Tl(b.id,b.o.x+d,b.o.y+e,f);D.wb.play("fail",.5);O.push(setTimeout(function(){Tl(b.id,b.o.x,b.o.y,f)},U));O.push(setTimeout(function(){Tl(b.id,b.o.x+d,b.o.y+e,f);D.wb.play("fail",.5)},2*U));O.push(setTimeout(function(){Tl(b.id,b.o.x,b.o.y,f)},3*U))}
function Tl(a,b,d,e){var f=document.getElementById("estudante".concat(a.toString()));f.setAttribute("x",b*S-e*X+1);f.setAttribute("y",S*(d+.5)-Y/2-8);f.setAttribute("transform","rotate(0, 0, 0)");e=document.getElementById("clipRect".concat(a.toString()));e.setAttribute("x",b*S+1);e.setAttribute("y",f.getAttribute("y"));f=document.getElementById("svgMaze");if(b==L.x&&L.y==d){for(b=0;b<O.length;b++)window.clearTimeout(O[b]);O=[];0==a?(yk=0,M[0].reset(J,K[M[0].id].x,K[M[0].id].y),Tl(0,M[0].o.x,M[0].o.y,
4*J)):1==a?(el=0,M[1].reset(J,K[M[1].id].x,K[M[1].id].y),Tl(1,M[1].o.x,M[1].o.y,4*J)):2==a&&(Nl=0,M[2].reset(J,K[M[2].id].x,K[M[2].id].y),Tl(2,M[2].o.x,M[2].o.y,4*J));Q--;a=document;b=a.getElementById("book".concat(Q.toString()));f.removeChild(b);a=a.getElementById("booksCounter".concat((Q+1).toString()));f.removeChild(a);"Interpreter"in window?(Z=0!=Q?$k:al,Z==al?(I.Qh(),D.wb.play("win",.5),bl(),Sk(0),setTimeout(H.ih,1E3)):O.push(setTimeout(Vl,150))):setTimeout(cl,250)}};var hk="parallel",cm=["parallel/win.mp3","parallel/win.ogg"],dm=["parallel/fail_pegman.mp3","parallel/fail_pegman.ogg"];I.gp=function(){4>F?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+Xj+"&level="+(F+1)+"&skin=0":I.wk()};var em=[void 0,5,11,10,12,Infinity][F],U=80,fm=!0,gm=!0,hm=!0,im=!0;document.getElementById("number");
var jm=0,Ek=0,Ik=2,Jk=3,R=[void 0,[[0,0,0,0,0,0,0,0,0],[0,0,2,1,1,1,1,1,0],[0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,3,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0],[0,0,2,1,1,1,1,1,0],[0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,3,0],[0,0,0,0,0,0,0,1,0],[0,0,2,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0],[0,0,2,1,1,1,1,1,0],[0,0,0,0,0,0,0,1,0],[0,0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0],[0,0,2,1,1,1,1,1,0],
[0,0,0,0,0,0,0,1,0],[0,0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,1,0],[0,0,2,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0]]][F],Dk=R.length,Ck=R[0].length,S=50,Y=52,X=49,Gk=S*Ck,Fk=S*Dk,Xk=0,J=1,Yk=2,Zk=3,al=1,$k=-1,Z=0,Hk={10010:[4,0],10001:[3,3],11E3:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]};
function km(){var a=document.getElementById("svgMaze"),b=Math.max(Dk,Ck)*S;a.setAttribute("viewBox","0 0 "+b+" "+b);b=document.createElementNS(n.g.j.aa,"rect");b.setAttribute("width",Gk);b.setAttribute("height",Fk);b.setAttribute("fill","#F1EEE7");b.setAttribute("stroke-width",1);b.setAttribute("stroke","#CCB");a.appendChild(b);switch(F){case 1:Bk(a);Kk();b=document;var d=b.createElementNS(n.g.j.aa,"image");d.id="finish";d.setAttributeNS(n.g.j.ta,"xlink:href","maze/marker.png");d.setAttribute("height",
34);d.setAttribute("width",20);a.appendChild(d);d=b.createElementNS(n.g.j.aa,"clipPath");d.id="pegmanClipPath";var e=b.createElementNS(n.g.j.aa,"rect");e.id="clipRect0";e.setAttribute("width",X);e.setAttribute("height",Y);d.appendChild(e);a.appendChild(d);b=b.createElementNS(n.g.j.aa,"image");b.id="estudante0";b.setAttributeNS(n.g.j.ta,"xlink:href","maze/pegman.png");b.setAttribute("height",Y);b.setAttribute("width",21*X);b.setAttribute("clip-path","url(#pegmanClipPath)");a.appendChild(b);break;case 2:hl(a);
il();b=document;d=b.createElementNS(n.g.j.aa,"image");d.id="finish";d.setAttributeNS(n.g.j.ta,"xlink:href","maze/marker.png");d.setAttribute("height",34);d.setAttribute("width",20);a.appendChild(d);d=b.createElementNS(n.g.j.aa,"clipPath");d.id="pegmanClipPath";e=b.createElementNS(n.g.j.aa,"rect");e.id="clipRect0";e.setAttribute("width",X);e.setAttribute("height",Y);d.appendChild(e);a.appendChild(d);d=b.createElementNS(n.g.j.aa,"image");d.id="estudante0";d.setAttributeNS(n.g.j.ta,"xlink:href","maze/pegman.png");
d.setAttribute("height",Y);d.setAttribute("width",21*X);d.setAttribute("clip-path","url(#pegmanClipPath)");a.appendChild(d);d=b.createElementNS(n.g.j.aa,"clipPath");d.id="estudanteClip2Path";e=b.createElementNS(n.g.j.aa,"rect");e.id="clipRect1";e.setAttribute("width",X);e.setAttribute("height",Y);d.appendChild(e);a.appendChild(d);b=b.createElementNS(n.g.j.aa,"image");b.id="estudante1";b.setAttributeNS(n.g.j.ta,"xlink:href","maze/pegman.png");b.setAttribute("height",Y);b.setAttribute("width",21*X);
b.setAttribute("clip-path","url(#estudanteClip2Path)");a.appendChild(b);break;case 3:yl(a);zl();b=document;d=b.createElementNS(n.g.j.aa,"image");d.id="finish";d.setAttributeNS(n.g.j.ta,"xlink:href",jk);d.setAttribute("height",34);d.setAttribute("width",20);a.appendChild(d);d=b.createElementNS(n.g.j.aa,"clipPath");d.id="pegmanClipPath";e=b.createElementNS(n.g.j.aa,"rect");e.id="clipRect0";e.setAttribute("width",X);e.setAttribute("height",Y);d.appendChild(e);a.appendChild(d);d=b.createElementNS(n.g.j.aa,
"image");d.id="estudante0";d.setAttributeNS(n.g.j.ta,"xlink:href","maze/pegman.png");d.setAttribute("height",Y);d.setAttribute("width",21*X);d.setAttribute("clip-path","url(#pegmanClipPath)");a.appendChild(d);d=b.createElementNS(n.g.j.aa,"clipPath");d.id="estudanteClip2Path";e=b.createElementNS(n.g.j.aa,"rect");e.id="clipRect1";e.setAttribute("width",X);e.setAttribute("height",Y);d.appendChild(e);a.appendChild(d);b=b.createElementNS(n.g.j.aa,"image");b.id="estudante1";b.setAttributeNS(n.g.j.ta,"xlink:href",
"maze/pegman.png");b.setAttribute("height",Y);b.setAttribute("width",21*X);b.setAttribute("clip-path","url(#estudanteClip2Path)");a.appendChild(b);break;case 4:Pl(a),Ql(),b=document,d=b.createElementNS(n.g.j.aa,"image"),d.id="finish",d.setAttributeNS(n.g.j.ta,"xlink:href","maze/marker.png"),d.setAttribute("height",34),d.setAttribute("width",20),a.appendChild(d),d=b.createElementNS(n.g.j.aa,"clipPath"),d.id="pegmanClipPath",e=b.createElementNS(n.g.j.aa,"rect"),e.id="clipRect0",e.setAttribute("width",
X),e.setAttribute("height",Y),d.appendChild(e),a.appendChild(d),d=b.createElementNS(n.g.j.aa,"image"),d.id="estudante0",d.setAttributeNS(n.g.j.ta,"xlink:href","maze/pegman.png"),d.setAttribute("height",Y),d.setAttribute("width",21*X),d.setAttribute("clip-path","url(#pegmanClipPath)"),a.appendChild(d),d=b.createElementNS(n.g.j.aa,"clipPath"),d.id="estudanteClip2Path",e=b.createElementNS(n.g.j.aa,"rect"),e.id="clipRect1",e.setAttribute("width",X),e.setAttribute("height",Y),d.appendChild(e),a.appendChild(d),
d=b.createElementNS(n.g.j.aa,"image"),d.id="estudante1",d.setAttributeNS(n.g.j.ta,"xlink:href","maze/pegman.png"),d.setAttribute("height",Y),d.setAttribute("width",21*X),d.setAttribute("clip-path","url(#estudanteClip2Path)"),a.appendChild(d),d=b.createElementNS(n.g.j.aa,"clipPath"),d.id="estudanteClip3Path",e=b.createElementNS(n.g.j.aa,"rect"),e.id="clipRect2",e.setAttribute("width",X),e.setAttribute("height",Y),d.appendChild(e),a.appendChild(d),b=b.createElementNS(n.g.j.aa,"image"),b.id="estudante2",
b.setAttributeNS(n.g.j.ta,"xlink:href","maze/pegman.png"),b.setAttribute("height",Y),b.setAttribute("width",21*X),b.setAttribute("clip-path","url(#estudanteClip3Path)"),a.appendChild(b)}}
function Pk(a){if(!(a&&a.type==n.i.ql||D.Fc()||Z==al||fk(F))){a=-1!=Wj.indexOf(Xj);var b=n.S.Uc(n.S.Bp(D)),d=y(D.P.u,!0),e=null,f=null,g=null;1==F?fm&&(e=document.getElementById("dialog1Intro"),g={width:"30%",top:"8em"},g[a?"right":"left"]="40%",f=d[0].$(),b=document.getElementById("playStart"),b.addEventListener("click",H.tb,!0),b.addEventListener("touchend",H.tb,!0),fm=!1):2==F?gm?(e=document.getElementById("dialog2Intro"),g={width:"40%",top:"8em"},g[a?"right":"left"]="40%",f=d[0].$(),b=document.getElementById("playStart"),
b.addEventListener("click",H.tb,!0),b.addEventListener("touchend",H.tb,!0),gm=!1):-1==b.indexOf("maze_2students")&&(e=document.getElementById("dialogHelp2Students"),g={width:"270px",top:"555px"},g[a?"right":"left"]="585px",f=d[5].$()):3==F?hm?(e=document.getElementById("dialog3Intro"),g={width:"30%",top:"8em"},g[a?"right":"left"]="40%",f=d[0].$(),b=document.getElementById("playStart"),b.addEventListener("click",H.tb,!0),b.addEventListener("touchend",H.tb,!0),hm=!1):-1==b.indexOf("maze_foreverbooks")&&
(e=document.getElementById("dialogHelpBooks"),g={width:"270px",top:"85px"},g[a?"right":"left"]="785px",f=d[5].$()):4==F&&(im&&(document.getElementById("dialog4Intro"),g={width:"30%",top:"8em"},g[a?"right":"left"]="40%",b=document.getElementById("playStart"),b.addEventListener("click",H.tb,!0),b.addEventListener("touchend",H.tb,!0),im=!1),e=document.getElementById("dialogHelpBooks"),g={width:"270px",top:"85px"},g[a?"right":"left"]="785px",f=d[5].$());e?e.parentNode!=document.getElementById("dialog")&&
H.Gm(e,f,!0,!1,g,null):H.tb(!1)}}function lm(a){switch(F){case 1:Lk(a);break;case 2:jl(a);break;case 3:Al(a);break;case 4:Rl(a)}}function mm(a){if(!I.Df(a))if(H.tb(!1),1==F&&1<y(D,!1).length&&Z!=al&&!fk(F))Pk();else{a=document.getElementById("runButton");var b=document.getElementById("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";lm(!1);cl()}}
function nm(a){if(!I.Df(a)){Sk(0);switch(F){case 1:Kk();break;case 2:il();break;case 3:zl();break;case 4:Ql()}document.getElementById("runButton").style.display="inline";document.getElementById("resetButton").style.display="none";ni(null);lm(!1);Pk()}}
function cl(){switch(F){case 1:if("Interpreter"in window){P=[];n.selected&&n.selected.Ae();Z=0;var a=Oi();a=new Interpreter(a,Tk);try{for(var b=1E5;a.step();)if(0==b--)throw Infinity;Z=0!=Q?$k:al}catch(d){Infinity===d?Z=2:!1===d?Z=-2:(Z=-2,alert(d))}Z==al&&P.push(["finish",null]);Lk(!1);Ok(0);O.push(setTimeout(Qk,100))}else setTimeout(cl,250);break;case 2:if("Interpreter"in window){P=[];n.selected&&n.selected.Ae();Z=0;a=Oi();a=new Interpreter(a,ql);try{for(b=1E5;a.step();)if(0==b--)throw Infinity;
Z=0!=Q?$k:al}catch(d){Infinity===d?Z=2:!1===d?Z=-2:(Z=-2,alert(d))}Z==al&&P.push(["finish",null]);jl(!1);ml(0);O.push(setTimeout(nl,150))}else setTimeout(cl,250);break;case 3:if("Interpreter"in window){P=[];n.selected&&n.selected.Ae();Z=0;a=Oi();a=new Interpreter(a,Hl);try{for(b=1E5;a.step();)if(0==b--)throw Infinity;Z=0!=Q?$k:al}catch(d){Infinity===d?Z=2:!1===d?Z=-2:(Z=-2,alert(d))}Z==al&&P.push(["finish",null]);Al(!1);Dl(0);O.push(setTimeout(El,150))}else setTimeout(cl,250);break;case 4:if("Interpreter"in
window){P=[];n.selected&&n.selected.Ae();Z=0;a=Oi();a=new Interpreter(a,Yl);try{for(b=1E5;a.step();)if(0==b--)throw Infinity;Z=0!=Q?$k:al}catch(d){Infinity===d?Z=2:!1===d?Z=-2:(Z=-2,alert(d))}Z==al&&P.push(["finish",null]);Rl(!1);Ul(0);O.push(setTimeout(Vl,150))}else setTimeout(cl,250)}}function V(a){a=Math.round(a)%4;0>a&&(a+=4);return a}function W(a){a=Math.round(a)%16;0>a&&(a+=16);return a}
function bl(){document.getElementById("dialogRunText").appendChild(document.createTextNode(G("Games_execTime").replace("%2",jm)))}function Sk(a){var b=a;jm=a;a=document.getElementById("time");a.style.display="inline";a.innerHTML="";b=Number(b);var d=document.createElement("span");d.className="timeNumber";d.appendChild(document.createTextNode(b));b=G("Maze_time").split(/%\d/);for(var e=0;e<b.length;e++)a.appendChild(document.createTextNode(b[e])),e!=b.length-1&&a.appendChild(d.cloneNode(!0))}
window.addEventListener("load",function(){function a(){d.style.top=Math.max(10,e.offsetTop-window.pageYOffset)+"px";d.style.left=b?"10px":"420px";d.style.width=window.innerWidth-440+"px"}document.body.innerHTML=uk();I.za();var b=-1!=Wj.indexOf(Xj),d=document.getElementById("blockly"),e=document.getElementById("visualization");window.addEventListener("scroll",function(){a(null);n.Qk(D)});window.addEventListener("resize",a);a(null);var f=document.getElementById("toolbox");D=n.zh("blockly",{media:"third-party/blockly/media/",
maxBlocks:em,rtl:b,toolbox:f,trashcan:!0,zoom:{startScale:1+(1-F/7)/3}});D.wb.load(cm,"win");D.wb.load(dm,"fail");Ui("moveForward,moveBackward,booksZero,activitiesComplete0,activitiesCompleteturnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");I.sD(1==F?'<xml><block movable="'+(1!=F)+'" type="maze_forever_books" x="70" y="70"></block></xml>':'<xml><block movable="false" type="maze_forever_booksPar" x="70" y="70"></block></xml>',!1);km();lm(!0);D.Pc(function(){var g=Bb(D),k=document.getElementById("capacity");
if(Infinity==g)k.style.display="none";else{k.style.display="inline";k.innerHTML="";g=Number(g);var l=document.createElement("span");l.className="capacityNumber";l.appendChild(document.createTextNode(g));g=(0==g?G("Maze_capacity0"):1==g?G("Maze_capacity1"):G("Maze_capacity2")).split(/%\d/);for(var m=0;m<g.length;m++)k.appendChild(document.createTextNode(g[m])),m!=g.length-1&&k.appendChild(l.cloneNode(!0))}});3<F&&D.Pc(function(){Sk(0)});ik("runButton",mm);ik("resetButton",nm);setTimeout(function(){D.Pc(Pk);
Pk()},1E3);setTimeout(I.cD,1);setTimeout(I.dD,1)});
